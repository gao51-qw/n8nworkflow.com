{
  "id": 6250,
  "slug": "6250",
  "title": "Create a knowledge base chatbot with Google Drive & GPT-4o using vector search",
  "description": "# Template: Create an AI Knowledge Base Chatbot with Google Drive and OpenAI GPT (Venio/Salesbear)\n\n## üìã Template Overview\n\nThis comprehensive n8n workflow template creates an intelligent AI chatbot that automatically transforms your Google Drive documents into a searchable knowledge base. The chatbot uses OpenAI's GPT models to provide accurate, context-aware responses based exclusively on your uploaded documents, making it perfect for customer support, internal documentation, and knowledge management systems.\n\n## üéØ What This Template Does\n\n### Automated Knowledge Processing\n- **Real-time Document Monitoring**: Automatically detects when files are added or updated in your designated Google Drive folder\n- **Intelligent Document Processing**: Converts PDFs, text files, and other documents into searchable vector embeddings\n- **Smart Text Chunking**: Breaks down large documents into optimally-sized chunks for better AI comprehension\n- **Vector Storage**: Creates a searchable knowledge base that the AI can query for relevant information\n\n### AI-Powered Chat Interface\n- **Webhook Integration**: Receives questions via HTTP requests from any external platform (Venio/Salesbear)\n- **Contextual Responses**: Maintains conversation history for natural, flowing interactions\n- **Source-Grounded Answers**: Provides responses based strictly on your document content, preventing hallucinations\n- **Multi-platform Support**: Works with any chat platform that can send HTTP requests\n\n## üîß Pre-conditions and Requirements\n\n### Required API Accounts and Permissions\n\n**1. Google Drive API Access**\n- Google Cloud Platform account\n- Google Drive API enabled\n- OAuth2 credentials configured\n- Read access to your target Google Drive folder\n\n**2. OpenAI API Account**\n- Active OpenAI account with API access\n- Sufficient API credits for embeddings and chat completions\n- API key with appropriate permissions\n\n**3. n8n Instance**\n- n8n cloud account or self-hosted instance\n- Webhook functionality enabled\n- Ability to install community nodes (LangChain nodes)\n\n**4. Target Chat Platform (Optional)**\n- API credentials for your chosen chat platform\n- Webhook capability or API endpoints for message sending\n\n### Required Permissions\n- **Google Drive**: Read access to folder contents and file downloads\n- **OpenAI**: API access for text-embedding-ada-002 and gpt-4o-mini models\n- **External Platform**: API access for sending/receiving messages (if integrating with existing chat systems)\n\n## üöÄ Detailed Workflow Operation\n\n### Phase 1: Knowledge Base Creation\n\n1. **File Monitoring**: Two trigger nodes continuously monitor your Google Drive folder for new files or updates\n2. **Document Discovery**: When changes are detected, the workflow searches for and identifies the modified files\n3. **Content Extraction**: Downloads the actual file content from Google Drive\n4. **Text Processing**: Uses LangChain's document loader to extract text from various file formats\n5. **Intelligent Chunking**: Splits documents into overlapping chunks (configurable size) for optimal AI processing\n6. **Vector Generation**: Creates embeddings using OpenAI's text-embedding-ada-002 model\n7. **Storage**: Stores vectors in an in-memory vector store for instant retrieval\n\n### Phase 2: Chat Interaction\n\n1. **Question Reception**: Webhook receives user questions in JSON format\n2. **Data Extraction**: Parses incoming data to extract chat content and session information\n3. **AI Processing**: AI Agent analyzes the question and determines relevant context\n4. **Knowledge Retrieval**: Searches the vector store for the most relevant document sections\n5. **Response Generation**: OpenAI generates responses based on found content and conversation history\n6. **Authentication**: Validates the request using token-based authentication\n7. **Response Delivery**: Sends the answer back to the originating platform\n\n## üìö Usage Instructions After Setup\n\n### Adding Documents to Your Knowledge Base\n\n1. **Upload Files**: Simply drag and drop documents into your configured Google Drive folder\n2. **Supported Formats**: PDFs, TXT, DOC, DOCX, and other text-based formats\n3. **Automatic Processing**: The workflow will automatically detect and process new files within minutes\n4. **Updates**: Modify existing files, and the knowledge base will automatically update\n\n### Integrating with Your Chat Platform\n\n**Webhook URL**: Use the generated webhook URL to send questions\n```\nPOST https://your-n8n-domain/webhook/your-custom-path\nContent-Type: application/json\n\n{\n\"body\": {\n\"Data\": {\n\"ChatMessage\": {\n\"Content\": \"What are your business hours?\",\n\"RoomId\": \"user-123-session\",\n\"Platform\": \"web\",\n\"User\": {\n\"CompanyId\": \"company-456\"\n}\n}\n}\n}\n}\n```\n\n**Response Format**: The chatbot returns structured responses that your platform can display\n\n### Testing Your Chatbot\n\n1. **Initial Test**: Send a simple question about content you know exists in your documents\n2. **Context Testing**: Ask follow-up questions to test conversation memory\n3. **Edge Cases**: Try questions about topics not in your documents to verify appropriate responses\n4. **Performance**: Monitor response times and accuracy\n\n## üé® Customization Options\n\n### System Message Customization\nModify the AI Agent's system message to match your brand and use case:\n\n```\nYou are a [YOUR_BRAND] customer support specialist. You provide helpful, accurate information based on our documentation. Always maintain a [TONE] tone and [SPECIFIC_GUIDELINES].\n```\n\n### Response Behavior Customization\n- **Tone and Voice**: Adjust from professional to casual, formal to friendly\n- **Response Length**: Configure for brief answers or detailed explanations\n- **Fallback Messages**: Customize what the bot says when it can't find relevant information\n- **Language Support**: Adapt for different languages or technical terminologies\n\n### Technical Configuration Options\n\n**Document Processing**\n- **Chunk Size**: Adjust from 1000 to 4000 characters based on your document complexity\n- **Overlap**: Modify overlap percentage for better context preservation\n- **File Types**: Add support for additional document formats\n\n**AI Model Configuration**\n- **Model Selection**: Switch between gpt-4o-mini (cost-effective) and gpt-4 (higher quality)\n- **Temperature**: Adjust creativity vs. factual accuracy (0.0 to 1.0)\n- **Max Tokens**: Control response length limits\n\n**Memory and Context**\n- **Conversation Window**: Adjust how many previous messages to remember\n- **Session Management**: Configure session timeout and user identification\n- **Context Retrieval**: Tune how many document chunks to consider per query\n\n### Integration Customization\n\n**Authentication Methods**\n- **Token-based**: Default implementation with bearer tokens\n- **API Key**: Simple API key validation\n- **OAuth**: Full OAuth2 implementation for secure access\n- **Custom Headers**: Validate specific headers or signatures\n\n**Response Formatting**\n- **JSON Structure**: Customize response format for your platform\n- **Markdown Support**: Enable rich text formatting in responses\n- **Error Handling**: Define custom error messages and codes\n\n## üéØ Specific Use Case Examples\n\n### Customer Support Chatbot\n**Scenario**: E-commerce company with product documentation, return policies, and FAQ documents\n**Setup**: Upload product manuals, policy documents, and common questions to Google Drive\n**Customization**: Professional tone, concise answers, escalation triggers for complex issues\n**Integration**: Website chat widget, mobile app, or customer portal\n\n### Internal HR Knowledge Base\n**Scenario**: Company HR department with employee handbook, policies, and procedures\n**Setup**: Upload HR policies, benefits information, and procedural documents\n**Customization**: Friendly but professional tone, detailed policy explanations\n**Integration**: Internal Slack bot, employee portal, or HR ticketing system\n\n### Technical Documentation Assistant\n**Scenario**: Software company with API documentation, user guides, and troubleshooting docs\n**Setup**: Upload API docs, user manuals, and technical specifications\n**Customization**: Technical tone, code examples, step-by-step instructions\n**Integration**: Developer portal, support ticket system, or documentation website\n\n### Educational Content Helper\n**Scenario**: Educational institution with course materials, policies, and student resources\n**Setup**: Upload syllabi, course content, academic policies, and student guides\n**Customization**: Helpful and encouraging tone, detailed explanations\n**Integration**: Learning management system, student portal, or mobile app\n\n### Healthcare Information Assistant\n**Scenario**: Medical practice with patient information, procedures, and policy documents\n**Setup**: Upload patient guidelines, procedure explanations, and practice policies\n**Customization**: Compassionate tone, clear medical explanations, disclaimer messaging\n**Integration**: Patient portal, appointment system, or mobile health app\n\n## üîß Advanced Customization Examples\n\n### Multi-Language Support\n```javascript\n// In Edit Fields node, detect language and route accordingly\nconst language = $json.body.Data.ChatMessage.Language || 'en';\nconst systemMessage = {\n'en': 'You are a helpful customer support assistant...',\n'es': 'Eres un asistente de soporte al cliente √∫til...',\n'fr': 'Vous √™tes un assistant de support client utile...'\n};\n```\n\n### Department-Specific Routing\n```javascript\n// Route questions to different knowledge bases based on department\nconst department = $json.body.Data.ChatMessage.Department;\nconst vectorStoreKey = `vector_store_${department}`;\n```\n\n### Advanced Analytics Integration\n```javascript\n// Track conversation metrics\nconst analytics = {\nuserId: $json.body.Data.ChatMessage.User.Id,\ntimestamp: new Date().toISOString(),\nquestion: $json.body.Data.ChatMessage.Content,\nresponse: $json.response,\nresponseTime: $json.processingTime\n};\n```\n\n## üìä Performance Optimization Tips\n\n### Document Management\n- **Optimal File Size**: Keep documents under 10MB for faster processing\n- **Clear Structure**: Use headers and sections for better chunking\n- **Regular Updates**: Remove outdated documents to maintain accuracy\n- **Logical Organization**: Group related documents in subfolders\n\n### Response Quality\n- **System Message Refinement**: Regularly update based on user feedback\n- **Context Tuning**: Adjust chunk size and overlap for your specific content\n- **Testing Framework**: Implement systematic testing for response accuracy\n- **User Feedback Loop**: Collect and analyze user satisfaction data\n\n### Cost Management\n- **Model Selection**: Use gpt-4o-mini for cost-effective responses\n- **Caching Strategy**: Implement response caching for frequently asked questions\n- **Usage Monitoring**: Track API usage and set up alerts\n- **Batch Processing**: Process multiple documents efficiently\n\n## üõ°Ô∏è Security and Compliance\n\n### Data Protection\n- **Document Security**: Ensure sensitive documents are properly secured\n- **Access Control**: Implement proper authentication and authorization\n- **Data Retention**: Configure appropriate data retention policies\n- **Audit Logging**: Track all interactions for compliance\n\n### Privacy Considerations\n- **User Data**: Minimize collection and storage of personal information\n- **Session Management**: Implement secure session handling\n- **Compliance**: Ensure adherence to relevant privacy regulations\n- **Encryption**: Use HTTPS for all communications\n\n## üöÄ Deployment and Scaling\n\n### Production Readiness\n- **Environment Variables**: Use environment variables for sensitive configurations\n- **Error Handling**: Implement comprehensive error handling and logging\n- **Monitoring**: Set up monitoring for workflow health and performance\n- **Backup Strategy**: Ensure document and configuration backups\n\n### Scaling Considerations\n- **Load Testing**: Test with expected user volumes\n- **Rate Limiting**: Implement appropriate rate limiting\n- **Database Scaling**: Consider external vector database for large-scale deployments\n- **Multi-Instance**: Configure for multiple n8n instances if needed\n\n## üìà Success Metrics and KPIs\n\n### Quantitative Metrics\n- **Response Accuracy**: Percentage of correct answers\n- **Response Time**: Average time from question to answer\n- **User Satisfaction**: Rating scores and feedback\n- **Usage Volume**: Questions per day/week/month\n- **Cost Efficiency**: Cost per interaction\n\n### Qualitative Metrics\n- **User Feedback**: Qualitative feedback on response quality\n- **Use Case Coverage**: Percentage of user needs addressed\n- **Knowledge Gaps**: Identification of missing information\n- **Conversation Quality**: Natural flow and context understanding\n\n![image.png](fileId:1818)",
  "featuredImage": "/data/workflows/6250/6250.webp",
  "author": {
    "id": 101,
    "slug": "gofive",
    "name": "Gofive",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 2557,
  "downloads": 255,
  "createdAt": "2025-07-22T02:20:00.507Z",
  "updatedAt": "2026-01-16T08:44:03.587Z",
  "publishedAt": "2025-07-22T02:20:00.507Z",
  "nodes": 26,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6250"
}