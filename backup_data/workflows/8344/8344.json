{
  "workflow": {
    "id": 8344,
    "name": "Analyze bakery sales & inventory with Google Sheets & Azure GPT Chat Assistant",
    "views": 300,
    "recentViews": 0,
    "totalViews": 300,
    "createdAt": "2025-09-07T05:36:07.213Z",
    "description": "## Bakery Data Analytics Workflow Explanation\n\n### Aim\n\nThe aim of the **Bakery Data Analytics Workflow** is to automate the process of analyzing bakery sales and stock data stored in Google Sheets. It allows bakery owners or managers to interact with an AI assistant via chat and receive clear, concise, and actionable insights about their business performance without manually reviewing spreadsheets.\n\n---\n\n### Goal\n\nThe goal is to:\n\n* Enable users to query bakery sales and stock data through a **chat interface**.\n* Use an **AI Agent** to interpret user queries and fetch the required data.\n* Retrieve relevant sales/stock figures from a **Google Sheets dataset**.\n* Generate insights in **plain English**, with short summaries, highlights, or breakdowns.\n* Maintain **conversation context** so users can ask follow-up questions naturally.\n\nThis ensures that bakery owners can make quick, informed decisions about sales trends, inventory shortages, or product performance with minimal manual effort.\n\n---\n\n### Requirements\n\nThe workflow relies on the following **components and configurations**:\n\n#### n8n Platform\n\nThe automation platform hosting the workflow.\n\n#### Node Requirements\n\n1. **When chat message received (Trigger)**\n\n   * Captures user input via chat.\n   * Initiates the workflow execution.\n\n2. **AI Agent**\n\n   * Central reasoning engine.\n   * Interprets queries, decides when to fetch data, and ensures professional responses.\n   * Uses short, structured insights (bullets, tables, or compact summaries).\n\n3. **Simple Memory**\n\n   * Stores short-term conversation history.\n   * Maintains context across multiple user queries.\n\n4. **Retrieve bakery data (Google Sheets)**\n\n   * Connects to a linked Google Sheets file.\n   * Fetches sales/stock data (e.g., daily totals, item performance).\n   * Data source: [Bakery Google Sheet](https://docs.google.com/spreadsheets/d/1dCCQzjoDZak-mQD1iyGd5aHKGFeh15fsBPUIoTgAYGw/edit?usp=drivesdk).\n\n5. **Azure OpenAI Chat Model**\n\n   * Backend language model powering the AI Agent.\n   * Provides natural language understanding and generates concise responses.\n\n#### Credentials\n\n* **Google Sheets OAuth2 account** (for accessing bakery data).\n* **Azure OpenAI API account** (for AI-driven reasoning and conversation).\n\n#### Input Requirements\n\n* User question/query via chat (e.g., *“What was the best-selling pastry last week?”*).\n\n#### Output\n\n* Compact, conversational insights (totals, highlights, trends) delivered via chat.\n\n---\n\n### API Usage\n\nThe workflow integrates two main APIs:\n\n1. **Google Sheets API**\n\n   * Used by the **Retrieve bakery data** node.\n   * Fetches structured data (sales, stock, dates) from the bakery dataset.\n   * Provides the AI Agent with real-time data access.\n\n2. **Azure OpenAI API**\n\n   * Used by the **Azure OpenAI Chat Model** node.\n   * Powers natural conversation, ensures responses are plain English, concise, and business-focused.\n   * Aligns with AI Agent rules to avoid assumptions and provide actionable insights only when asked.\n\n---\n\n### Workflow Summary\n\nThe **Bakery Data Analytics Workflow** automates bakery performance analysis by:\n\n1. Triggering on **chat message input**.\n2. Passing the query to the **AI Agent** for interpretation.\n3. Using **Simple Memory** to track context across the conversation.\n4. Fetching relevant data from **Google Sheets** when needed.\n5. Leveraging **Azure OpenAI** to generate structured, professional responses.\n\nThis creates an **interactive AI-powered assistant** for bakery data, enabling quick insights into sales and inventory trends without manually combing through spreadsheets.\n\n---\n",
    "workflow": {
      "id": "3v8t7FV5f5vkU9LM",
      "meta": {
        "instanceId": "3caab7a077d6a24bf913833250143556c3033c05ff2ea30885e13d0164c0cec2",
        "templateCredsSetupCompleted": true
      },
      "name": "Data analytics Workflow 4 bakery.",
      "tags": [],
      "nodes": [
        {
          "id": "e559ce26-07d1-4bca-aa53-082ff8480e63",
          "name": "When chat message received",
          "type": "@n8n/n8n-nodes-langchain.chatTrigger",
          "position": [
            -384,
            -192
          ],
          "webhookId": "1d429d6b-8816-4023-88da-af4cc93a4f81",
          "parameters": {
            "options": {}
          },
          "typeVersion": 1.3
        },
        {
          "id": "517129d9-18fc-4bf3-8193-8d8ed8fb8b1f",
          "name": "AI Agent",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            -112,
            -192
          ],
          "parameters": {
            "options": {
              "systemMessage": "You are a professional Data Analysis Assistant specialized in Excel datasets. \nYou never assume what the user wants — you only respond based on their exact question. \n\nBehavior & Tone:\n- Clear, concise, and professional.\n- Always answer in plain English, avoiding unnecessary jargon.\n- Use short, structured insights (bullets, small tables, or compact summaries).\n- Keep responses brief but meaningful — no long reports unless explicitly requested.\n- Provide actionable insights when appropriate, but do not invent analysis that was not asked.\n\nInstructions:\n1. Only analyze the Excel data when the user asks a specific question.\n2. Never output full raw data unless explicitly requested.\n3. Present results in a compact format (e.g., weekly breakdown, totals, highlights) if the question relates to time or quantities.\n4. If the data is insufficient, state the limitation clearly.\n5. Keep a balanced tone: informative, decision-oriented, and easy to understand.\n6. Never assume tasks — wait for user instructions before analyzing. \n7. If a recommendation is reasonable (like stocking, trends, or anomalies), keep it short and relevant to the user’s query.\n"
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "ed8f4fe1-272f-4657-ac41-36ffb7456bb1",
          "name": "Simple Memory",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            -16,
            32
          ],
          "parameters": {},
          "typeVersion": 1.3
        },
        {
          "id": "d1a293d6-7e5b-4543-9107-9caf45b4051a",
          "name": "Retrieve bakery data",
          "type": "n8n-nodes-base.googleSheetsTool",
          "position": [
            320,
            -80
          ],
          "parameters": {
            "options": {},
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 764145761,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1dCCQzjoDZak-mQD1iyGd5aHKGFeh15fsBPUIoTgAYGw/edit#gid=764145761",
              "cachedResultName": "Full Month"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1dCCQzjoDZak-mQD1iyGd5aHKGFeh15fsBPUIoTgAYGw",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1dCCQzjoDZak-mQD1iyGd5aHKGFeh15fsBPUIoTgAYGw/edit?usp=drivesdk",
              "cachedResultName": "Bakery data 1 month"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "1106cbea-591d-4dd4-88dd-03ad52052e38",
          "name": "Azure OpenAI Chat Model",
          "type": "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
          "position": [
            -400,
            32
          ],
          "parameters": {
            "model": "gpt-5-mini",
            "options": {}
          },
          "credentials": {
            "azureOpenAiApi": {
              "id": "credential-id",
              "name": "azureOpenAiApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "dc450b50-9326-40a1-a25a-c044c459a1ff",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -464,
            -512
          ],
          "parameters": {
            "width": 256,
            "height": 496,
            "content": "## Workflow: **Data Analytics for Bakery**\n\n### Node 1: **When chat message received**\n\n*Purpose:*\nThis node acts as the **entry point** of the workflow. It triggers the process whenever a user sends a **chat message**.\n\n"
          },
          "typeVersion": 1
        },
        {
          "id": "982b0dd2-ac23-47d6-a91b-5df8d2d42527",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -192,
            -512
          ],
          "parameters": {
            "color": 3,
            "width": 336,
            "height": 496,
            "content": "### Node 2: **AI Agent**\n\n*Purpose:*\nThis is the **central AI reasoning engine**. It processes the user’s request, interprets the context, and decides how to handle it.\n\n*Key roles:*\n\n* Ensures **professional and concise** responses\n* Analyzes bakery Excel data only when asked\n* Provides insights in **plain English** with short, actionable summaries\n"
          },
          "typeVersion": 1
        },
        {
          "id": "4fa77358-11a8-4c21-bdb2-c1f606773d17",
          "name": "Sticky Note2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -128,
            144
          ],
          "parameters": {
            "color": 2,
            "width": 320,
            "height": 272,
            "content": "### Node 3: **Simple Memory**\n\n*Purpose:*\nThis node stores **short-term conversational memory**.\n\n*Key roles:*\n\n* Keeps track of the **previous chat context**\n* Allows the AI to maintain continuity during ongoing discussions\n"
          },
          "typeVersion": 1
        },
        {
          "id": "3e234b21-725b-4aaa-a767-a2a05e744a55",
          "name": "Sticky Note3",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            208,
            -384
          ],
          "parameters": {
            "color": 4,
            "width": 320,
            "height": 432,
            "content": "### Node 4: **Retrieve bakery data**\n\n*Purpose:*\nThis node connects to the **Google Sheets bakery dataset**.\n\n*Key roles:*\n\n* Retrieves sales and stock data from the linked **spreadsheet**\n* Provides structured data for the AI Agent to analyze\n* Dataset: [Bakery Data Sheet](https://docs.google.com/spreadsheets/d/1dCCQzjoDZak-mQD1iyGd5aHKGFeh15fsBPUIoTgAYGw/edit?usp=drivesdk)\n"
          },
          "typeVersion": 1
        },
        {
          "id": "4b5eb0ce-e311-4bed-821b-fcf7e5cf74ba",
          "name": "Sticky Note4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -528,
            176
          ],
          "parameters": {
            "color": 6,
            "width": 352,
            "height": 336,
            "content": "### Node 5: **Azure OpenAI Chat Model**\n\n*Purpose:*\nThis node provides the **language model backend** for the AI Agent.\n\n*Key roles:*\n\n* Uses **GPT-based reasoning** for natural conversation\n* Handles query understanding and response generation\n* Ensures responses follow the defined **tone and style**\n"
          },
          "typeVersion": 1
        }
      ],
      "active": true,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "fe8411cd-b13e-40b3-beca-c579c00be0fc",
      "connections": {
        "Simple Memory": {
          "ai_memory": [
            [
              {
                "node": "AI Agent",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Retrieve bakery data": {
          "ai_tool": [
            [
              {
                "node": "AI Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Azure OpenAI Chat Model": {
          "ai_languageModel": [
            [
              {
                "node": "AI Agent",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "When chat message received": {
          "main": [
            [
              {
                "node": "AI Agent",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 29,
    "workflowInfo": {
      "nodeCount": 10,
      "nodeTypes": {
        "n8n-nodes-base.stickyNote": {
          "count": 5
        },
        "@n8n/n8n-nodes-langchain.agent": {
          "count": 1
        },
        "n8n-nodes-base.googleSheetsTool": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.chatTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Yashraj singh sisodiya",
      "username": "theyashsisodiya",
      "bio": "Verified n8n Creator and DevOps/Cloud enthusiast. I build scalable, API-driven automations with a focus on clean architecture, modular design, and documentation. From AI news pipelines to CI/CD workflows, my projects turn complex processes into simple, reusable solutions that help teams work smarter and faster.",
      "verified": true,
      "links": [
        "https://www.yashraj-delta.vercel.app"
      ],
      "avatar": "https://gravatar.com/avatar/444b228c868bc8bf7c90532fca994c8477888f21efbc74c0a06d252881f7d84d?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1119,
        "icon": "fa:robot",
        "name": "@n8n/n8n-nodes-langchain.agent",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "Chat",
              "Conversational",
              "Plan and Execute",
              "ReAct",
              "Tools"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Agents",
                "Root Nodes"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "AI Agent",
          "color": "#404040"
        },
        "iconData": {
          "icon": "robot",
          "type": "icon"
        },
        "displayName": "AI Agent",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1163,
        "icon": "fa:database",
        "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Memory"
              ],
              "Memory": [
                "For beginners"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Simple Memory"
        },
        "iconData": {
          "icon": "database",
          "type": "icon"
        },
        "displayName": "Simple Memory",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1247,
        "icon": "fa:comments",
        "name": "@n8n/n8n-nodes-langchain.chatTrigger",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Langchain"
            ]
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When chat message received"
        },
        "iconData": {
          "icon": "comments",
          "type": "icon"
        },
        "displayName": "Chat Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1253,
        "icon": "file:azure.svg",
        "name": "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatazureopenai/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Language Models",
                "Root Nodes"
              ],
              "Language Models": [
                "Chat Models (Recommended)"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Azure OpenAI Chat Model"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMjQyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iNTguOTcyJSIgeDI9IjM3LjE5MSUiIHkxPSI3LjQxMSUiIHkyPSIxMDMuNzYyJSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzExNEE4QiIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzA2NjlCQyIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iNTkuNzE5JSIgeDI9IjUyLjY5MSUiIHkxPSI1Mi4zMTMlIiB5Mj0iNTQuODY0JSI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1vcGFjaXR5PSIuMyIvPjxzdG9wIG9mZnNldD0iNy4xJSIgc3RvcC1vcGFjaXR5PSIuMiIvPjxzdG9wIG9mZnNldD0iMzIuMSUiIHN0b3Atb3BhY2l0eT0iLjEiLz48c3RvcCBvZmZzZXQ9IjYyLjMlIiBzdG9wLW9wYWNpdHk9Ii4wNSIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1vcGFjaXR5PSIwIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIzNy4yNzklIiB4Mj0iNjIuNDczJSIgeTE9IjQuNiUiIHkyPSI5OS45NzklIj48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjM0NDQkY0Ii8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjMjg5MkRGIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTg1LjM0My4wMDNoNzUuNzUzTDgyLjQ1NyAyMzNhMTIuMDggMTIuMDggMCAwIDEtMTEuNDQyIDguMjE2SDEyLjA2QTEyLjA2IDEyLjA2IDAgMCAxIC42MzMgMjI1LjMwM0w3My44OTggOC4yMTlBMTIuMDggMTIuMDggMCAwIDEgODUuMzQzIDB6Ii8+PHBhdGggZmlsbD0iIzAwNzhENCIgZD0iTTE5NS40MjMgMTU2LjI4Mkg3NS4yOTdhNS41NiA1LjU2IDAgMCAwLTMuNzk2IDkuNjI3bDc3LjE5IDcyLjA0N2ExMi4xNCAxMi4xNCAwIDAgMCA4LjI4IDMuMjZoNjguMDJ6Ii8+PHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTg1LjM0My4wMDNhMTEuOTggMTEuOTggMCAwIDAtMTEuNDcxIDguMzc2TC43MjMgMjI1LjEwNWExMi4wNDUgMTIuMDQ1IDAgMCAwIDExLjM3IDE2LjExMmg2MC40NzVhMTIuOTMgMTIuOTMgMCAwIDAgOS45MjEtOC40MzdsMTQuNTg4LTQyLjk5MSA1Mi4xMDUgNDguNmExMi4zMyAxMi4zMyAwIDAgMCA3Ljc1NyAyLjgyOGg2Ny43NjZsLTI5LjcyMS04NC45MzUtODYuNjQzLjAyTDE2MS4zNy4wMDN6Ii8+PHBhdGggZmlsbD0idXJsKCNjKSIgZD0iTTE4Mi4wOTggOC4yMDdBMTIuMDYgMTIuMDYgMCAwIDAgMTcwLjY3LjAwM0g4Ni4yNDVjNS4xNzUgMCA5Ljc3MyAzLjMwMSAxMS40MjggOC4yMDRMMTcwLjk0IDIyNS4zYTEyLjA2MiAxMi4wNjIgMCAwIDEtMTEuNDI4IDE1LjkyaDg0LjQyOWExMi4wNjIgMTIuMDYyIDAgMCAwIDExLjQyNS0xNS45MnoiLz48L3N2Zz4="
        },
        "displayName": "Azure OpenAI Chat Model",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 47,
        "name": "AI Chatbot"
      }
    ],
    "image": []
  }
}