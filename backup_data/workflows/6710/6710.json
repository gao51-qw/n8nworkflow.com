{
  "workflow": {
    "id": 6710,
    "name": "Automated web browsing & extraction with Airtop and AI-prompted queries",
    "views": 874,
    "recentViews": 0,
    "totalViews": 874,
    "createdAt": "2025-07-30T18:29:50.096Z",
    "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n# ü§ñ Autonomous Web Interaction with Airtop (via MCP Trigger)\n\nThis workflow uses **Airtop** to perform fully automated web interactions‚Äîtriggered by an AI agent through the **native MCP Server Trigger** in n8n.\n\n&gt; üí° Perfect for browser automation, intelligent data extraction, and agent-based workflows.\n\n---\n\n## ‚ú® Features\n\n* ‚úÖ Triggered via **native MCP Server** (no need for external LangChain services)\n* üöÄ Automates full browser sessions: open window, load page, scroll, click, fill forms\n* üß† Supports **AI-prompt-based extraction** from web content\n* üì∑ Captures screenshots and **waits for downloads** when needed\n* üßº Cleans up with session and window termination\n* üîÑ Fully adaptable to agent-based automation flows\n\n---\n\n## üß∞ Workflow Breakdown\n\n1. **Trigger**: Native MCP Server Trigger receives instructions\n2. **Create Session & Window**: Starts browser automation in Airtop\n3. **Load Web Page**: Loads target URL\n4. **Page Interaction**:\n\n   * Click elements\n   * Scroll inside containers\n   * Fill forms with dynamic data\n5. **Extract Content**:\n\n   * Query using prompts\n   * Paginated extraction\n6. **Wait & Capture**:\n\n   * Waits for downloadable content\n   * Takes a screenshot\n7. **Cleanup**:\n\n   * Closes windows and terminates session\n\n---\n\n## üì¶ Requirements\n\n* ‚úÖ **n8n 1.90+** with [MCP Server Trigger](https://docs.n8n.io/integrations/builtin/mcp/)\n* ‚úÖ Active **Airtop account** with API credentials\n* ‚úÖ Installed `Airtop Tool` node (n8n-nodes-base)\n* üß† External agent (optional) to send prompt/data to MCP endpoint\n\n---\n\n## üîç Use Cases\n\n* ü§ñ Agents that browse and extract data from the web\n* üìù Fill and submit forms from structured data\n* üîé Intelligent page querying using prompt-based automation\n* üß™ Visual testing and screenshot capturing for QA workflows\n\n---\n\n## üîß Nodes Used\n\n* `MCP Server Trigger` (native)\n* `Airtop Tool`(native):\n\n  * Session creation and termination\n  * Window control (open, close, screenshot)\n  * Interaction (click, scroll, fill)\n  * Extraction (query, pagination)\n  * Download waiters\n\n---\n\n## üß† AI-Automation Ready\n\nThis workflow is designed to be controlled by external AI agents or orchestration tools. Combined with prompt-based querying and DOM control, it brings a human-like browsing experience into automated pipelines.\n\n---\n\n## üîó License\n\nOpen-source under MIT. Commercial usage allowed with attribution.\n\n---\n\nLet me know if you'd like to add:\n\n* üß™ A **test mcp client** to validate triggers\n* üåê A **public link to the deployed workflow**\n* üìé A **JSON download** for users to import directly\n\n",
    "workflow": {
      "meta": {
        "instanceId": "33738330930e3881dd5571eca013f36ddf8aab20e4ea5c1f2ebaf4a2b4668ac6",
        "templateCredsSetupCompleted": true
      },
      "nodes": [
        {
          "id": "62854eee-81a6-4fe0-93c0-8512192edbf2",
          "name": "MCP Server Trigger",
          "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
          "position": [
            -224,
            -80
          ],
          "webhookId": "fb491c53-d74d-4999-a117-d938b643dc15",
          "parameters": {
            "path": "airtop"
          },
          "typeVersion": 2
        },
        {
          "id": "a4a3e250-9439-4d03-a716-61d086ae41d7",
          "name": "Create a session in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            -352,
            176
          ],
          "parameters": {
            "profileName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Profile_Name', `nome do perfil de navegacao no airtop`, 'string') }}",
            "timeoutMinutes": "=10",
            "additionalFields": {},
            "saveProfileOnTermination": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Save_Profile', ``, 'boolean') }}"
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "ecf44f10-acac-4eab-84b2-08cae6857348",
          "name": "Terminate a session in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            -176,
            192
          ],
          "parameters": {
            "operation": "terminate",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', `id da sesao criada `, 'string') }}"
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "c2d54596-b120-4126-9dd3-01f28506b6aa",
          "name": "Wait for a download in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            0,
            192
          ],
          "parameters": {
            "operation": "waitForDownload",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "additionalFields": {}
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "500f0089-97bf-49e6-8309-a93e73e4d9bb",
          "name": "Click an element in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            176,
            192
          ],
          "parameters": {
            "resource": "interaction",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "additionalFields": {},
            "elementDescription": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', ``, 'string') }}"
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "e8cb67ab-4b27-442a-87c1-d1c95da567cd",
          "name": "Scroll on page in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            336,
            192
          ],
          "parameters": {
            "resource": "interaction",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "operation": "scroll",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "scrollWithin": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Scrollable_Area', ``, 'string') }}",
            "scrollToElement": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', ``, 'string') }}",
            "additionalFields": {}
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "48450240-2764-4654-8aa7-1529d72ecf0a",
          "name": "Fill form in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            496,
            192
          ],
          "parameters": {
            "formData": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Form_Data', ``, 'string') }}",
            "resource": "interaction",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "operation": "fill",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}"
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "8a58b8ad-dd20-4cee-a86e-382de52165cc",
          "name": "Query page in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            672,
            192
          ],
          "parameters": {
            "prompt": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt', ``, 'string') }}",
            "resource": "extraction",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "operation": "query",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "additionalFields": {}
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "c7202080-a50f-4497-941a-c55dfe908dd0",
          "name": "Query page with pagination in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            848,
            176
          ],
          "parameters": {
            "prompt": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt', ``, 'string') }}",
            "resource": "extraction",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "additionalFields": {}
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "976a008d-b5f3-4d01-940d-d3881002e8dc",
          "name": "Take screenshot in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            -544,
            192
          ],
          "parameters": {
            "resource": "window",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "operation": "takeScreenshot",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "outputImageAsBinary": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Output_Binary_Image', ``, 'boolean') }}"
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "f99ab906-ab7e-41d6-bbcf-05a1b21f7bfe",
          "name": "Load a page in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            -720,
            192
          ],
          "parameters": {
            "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
            "resource": "window",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "operation": "load",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "additionalFields": {}
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "576d693b-f347-4b43-81a2-9833e426ecf4",
          "name": "Create a window in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            -880,
            192
          ],
          "parameters": {
            "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
            "resource": "window",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}",
            "getLiveView": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Get_Live_View', ``, 'boolean') }}",
            "additionalFields": {}
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "6bd67a5f-73d7-48de-a017-d25dec94ba89",
          "name": "Close a window in Airtop",
          "type": "n8n-nodes-base.airtopTool",
          "position": [
            48,
            320
          ],
          "parameters": {
            "resource": "window",
            "windowId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}",
            "operation": "close",
            "sessionId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}"
          },
          "credentials": {
            "airtopApi": {
              "id": "credential-id",
              "name": "airtopApi Credential"
            }
          },
          "typeVersion": 1
        }
      ],
      "pinData": {},
      "connections": {
        "Fill form in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Query page in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Load a page in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Close a window in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Scroll on page in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Create a window in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Take screenshot in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Click an element in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Create a session in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Terminate a session in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Wait for a download in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Query page with pagination in Airtop": {
          "ai_tool": [
            [
              {
                "node": "MCP Server Trigger",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 62,
    "workflowInfo": {
      "nodeCount": 13,
      "nodeTypes": {
        "n8n-nodes-base.airtopTool": {
          "count": 12
        },
        "@n8n/n8n-nodes-langchain.mcpTrigger": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Luciano Gutierrez",
      "username": "koresoluciones",
      "bio": "üáßüá∑ Argentino de 30‚ÄØanos e fundador da KORE‚ÄØSolu√ß√µes em Belo‚ÄØHorizonte‚ÄØ(MG). H√° 1 ano, fornecemos automa√ß√µes, cursos, configura√ß√µes e manuten√ß√£o de workflows, ajudando empresas a aumentar efici√™ncia e escalar processos com tecnologia.\n\nüá∫üá∏ I‚Äôm a 30‚Äëyear‚Äëold Argentine founder of KORE‚ÄØSolu√ß√µes in Belo‚ÄØHorizonte‚ÄØ(MG). For 1 year, we‚Äôve delivered automations, courses, configuration, and workflow maintenance, helping businesses boost efficiency and scale processes with technology.",
      "verified": true,
      "links": [
        "https://www.koresolucoes.com.br"
      ],
      "avatar": "https://gravatar.com/avatar/7caef85e3231ac83b8634980bd314fc40ba26df805b86e5f839bf75a1582a1a7?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 1293,
        "icon": "file:../mcp.svg",
        "name": "@n8n/n8n-nodes-langchain.mcpTrigger",
        "codex": {
          "data": {
            "alias": [
              "Model Context Protocol",
              "MCP Server"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.mcptrigger/"
                }
              ]
            },
            "categories": [
              "AI",
              "Core Nodes",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Root Nodes",
                "Model Context Protocol"
              ],
              "Core Nodes": [
                "Other Trigger Nodes"
              ]
            }
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "MCP Server Trigger"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE5NSAxOTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8ZyBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMTIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CgkJPHBhdGggZD0iTTI1IDk3Ljg1MjhMOTIuODgyMyAyOS45NzA2QzEwMi4yNTUgMjAuNTk4IDExNy40NTEgMjAuNTk4IDEyNi44MjMgMjkuOTcwNlYyOS45NzA2QzEzNi4xOTYgMzkuMzQzMSAxMzYuMTk2IDU0LjUzOTEgMTI2LjgyMyA2My45MTE3TDc1LjU1ODEgMTE1LjE3NyIvPgoJCTxwYXRoIGQ9Ik03Ni4yNjUzIDExNC40N0wxMjYuODIzIDYzLjkxMTdDMTM2LjE5NiA1NC41MzkxIDE1MS4zOTIgNTQuNTM5MSAxNjAuNzY1IDYzLjkxMTdMMTYxLjExOCA2NC4yNjUyQzE3MC40OTEgNzMuNjM3OCAxNzAuNDkxIDg4LjgzMzggMTYxLjExOCA5OC4yMDYzTDk5LjcyNDggMTU5LjZDOTYuNjAwNiAxNjIuNzI0IDk2LjYwMDYgMTY3Ljc4OSA5OS43MjQ4IDE3MC45MTNMMTEyLjMzMSAxODMuNTIiLz4KCQk8cGF0aCBkPSJNMTA5Ljg1MyA0Ni45NDExTDU5LjY0ODIgOTcuMTQ1N0M1MC4yNzU3IDEwNi41MTggNTAuMjc1NyAxMjEuNzE0IDU5LjY0ODIgMTMxLjA4N1YxMzEuMDg3QzY5LjAyMDggMTQwLjQ1OSA4NC4yMTY4IDE0MC40NTkgOTMuNTg5NCAxMzEuMDg3TDE0My43OTQgODAuODgyMiIvPgoJPC9nPgo8L3N2Zz4K"
        },
        "displayName": "MCP Server Trigger",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          },
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 5,
        "name": "Engineering"
      },
      {
        "id": 47,
        "name": "AI Chatbot"
      }
    ],
    "image": []
  }
}