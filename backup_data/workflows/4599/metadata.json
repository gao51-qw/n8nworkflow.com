{
  "id": 4599,
  "slug": "4599",
  "title": "Lookup IP geolocation details with IP-API.com via webhook",
  "description": "This n8n template enables you to instantly retrieve detailed geolocation information for any given IP address by simply sending a webhook request. Leverage the power of IP-API.com to gain insights into user locations, personalize experiences, or enhance security protocols within your automated workflows.\n\n---\n\n# üîß How it works\n- Receive IP Webhook: This node acts as the entry point, listening for incoming POST requests. It expects a JSON body containing an ip property with the IP address you wish to look up.\n- Get IP Geolocation: This node makes an HTTP GET request to the IP-API.com service, passing the IP address from your webhook. The API responds with a comprehensive JSON object detailing the IP's location (country, city, region), ISP, organization, and more.\n- Respond with Geolocation Data: This node sends the full geolocation data received from IP-API.com back to the service that initiated the webhook.\n\n---\n\n# üë§ Who is it for?\n### This workflow is ideal for:\n\n- Marketing & Sales Teams: Personalize website content, offers, or ads based on a visitor's geographic location. Tailor email campaigns by region.\n- Customer Support: Quickly identify a customer's location to provide more localized or relevant assistance.\n- Security & Fraud Detection: Analyze incoming connection IPs to identify suspicious activity, block known malicious regions, or flag potential fraud.\n- Analytics & Reporting: Augment your analytics data with geographical insights about your users or traffic.\n- Developers & Integrators: Easily add IP lookup functionality to custom applications, internal tools, or monitoring systems.\n- Content Delivery Networks (CDNs): Route users to the closest servers for faster content delivery (though advanced CDNs usually handle this automatically).\n\n---\n\n# üìë Data Structure\nWhen you trigger the webhook, send a POST request with a JSON body structured as follows:\n\n```\n{\n  \"ip\": \"8.8.8.8\" // Replace with the IP address you want to look up\n}\n```\n\nThe workflow will return a JSON response similar to this (data will vary based on IP):\n\n```\n{\n  \"status\": \"success\",\n  \"country\": \"United States\",\n  \"countryCode\": \"US\",\n  \"region\": \"VA\",\n  \"regionName\": \"Virginia\",\n  \"city\": \"Ashburn\",\n  \"zip\": \"20149\",\n  \"lat\": 39.0437,\n  \"lon\": -77.4875,\n  \"timezone\": \"America/New_York\",\n  \"isp\": \"Google LLC\",\n  \"org\": \"Google Public DNS\",\n  \"as\": \"AS15169 Google LLC\",\n  \"query\": \"8.8.8.8\"\n}\n```\n\n---\n\n# ‚öôÔ∏è Setup Instructions\n- Import Workflow: In your n8n editor, click \"Import from JSON\" and paste the provided workflow JSON.\n- Configure Webhook Path:\n  - Double-click the Receive IP Webhook node.\n  - In the 'Path' field, set a unique and descriptive path (e.g., /ip-lookup).\n- Activate Workflow: Save and activate the workflow.\n\n---\n\n# üìù Tips\nThis workflow, while simple, is a powerful building block. Here's how you can make it even more useful:\n\n- Conditional Logic: Add IF nodes after \"Get IP Geolocation\" to create conditional branches. For example:\n  - If countryCode is 'CN' or 'RU', send an alert to your security team.\n  - If city is 'New York', route the request to a specific sales representative.\n- Data Enrichment: Integrate this workflow into larger automation. For instance:\n  - When a new sign-up occurs, pass their IP address to this workflow, then save the returned geolocation data (country, city, ISP) alongside their user profile in your CRM or database.\n  - For e-commerce, use the location data to pre-fill shipping fields or suggest local currency/language.\n- Logging & Analytics: Store the lookup results in a spreadsheet (Google Sheets), database (PostgreSQL, Airtable), or logging service. This can help you track where your users are coming from over time.\n- Rate Limiting: IP-API.com has rate limits for its free tier. If you anticipate high usage, consider adding a Delay node or implementing a caching mechanism with a Cache node to avoid hitting limits. For heavy use, you might need to upgrade to a paid plan.\n- Dynamic Response: Instead of returning the full JSON, you could use a Function node to extract only specific pieces of information (e.g., just the country and city) and return a more concise response.\n- Input Validation: For robust production use, add a Function node after the webhook to validate that the incoming ip value is indeed a valid IP address. If it's not, you can return an error message to the caller.",
  "featuredImage": "/data/workflows/4599/4599.webp",
  "author": {
    "id": 101,
    "slug": "ist00dent",
    "name": "ist00dent",
    "avatar": ""
  },
  "categories": [
    "Engineering"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 1235,
  "downloads": 123,
  "createdAt": "2025-06-02T14:59:14.608Z",
  "updatedAt": "2026-01-16T08:35:14.347Z",
  "publishedAt": "2025-06-02T14:59:14.608Z",
  "nodes": 6,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4599"
}