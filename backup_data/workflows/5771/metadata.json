{
  "id": 5771,
  "slug": "5771",
  "title": "Track Jura coffee machine data with webhook API and Google Sheets",
  "description": "# Jura Coffee Counter: Webhook API & Google Sheets Logger ‚òïÔ∏è\n\nTrack how many coffees your Jura E8 espresso machine makes ‚Äî fully automated via webhook and Google Sheets.\n\nThis workflow exposes a **custom API endpoint** that can be called by smart devices, such as an ESP8266 or ESP32 reading data from a Jura E8 coffee machine via Bluetooth Low Energy (BLE). The incoming data (including total coffee count) is timestamped and appended to a **Google Sheet**, making it easy to visualize or analyze your machine usage.\n\n‚òï Originally built for a Jura E8, based on [AlexxIT/Jura](https://github.com/AlexxIT/Jura) reverse-engineering project.\n\n&gt; üìù This workflow uses **Google Sheets** as a logging backend. You can easily switch it to Airtable, Notion, or a database of your choice.\n\nLive example available at: [https://halfbitstudio.com/o-nas/](https://halfbitstudio.com/o-nas/)\n\n&gt; üñ•Ô∏è In our setup, this workflow is used to provide **real-time coffee consumption stats** displayed directly on our website.\n\n&gt; üîå Some Jura machines require an accessory Bluetooth transmitter to enable connectivity. Communication is based on the **Bluetooth Low Energy (BLE)** protocol.\n\n---\n\n## Use Case\n\n* Tracking usage of a Jura coffee machine\n* Logging IoT sensor data into Google Sheets\n* Creating dashboards for daily consumption\n* Smart office setups with coffee stats!\n\n---\n\n## Features\n\n* ‚òÅÔ∏è Two Webhook endpoints:\n\n  * `POST /{{WEBHOOK_POST_PATH}}` ‚Äî receives JSON from ESP (coffee machine reader)\n  * `GET /{{WEBHOOK_GET_PATH}}` ‚Äî returns latest records as JSON\n* üìÖ Timestamping via `Date & Time` node\n* üîπ Coffee counter extraction from incoming JSON\n* üßæ Appends structured rows to **Google Sheets**\n* üì§ Webhook response for external status or dashboards\n\n---\n\n## Setup Instructions\n\n### Jura Coffee Machine Integration (Hardware)\n\n1. Use an ESP device (e.g. ESP8266 or ESP32) to connect to the Jura E8 via Bluetooth Low Energy (BLE).\n2. Send POST requests with JSON payload:\n\n   ```json\n   {\n     \"total_coffees\": 123\n   }\n   ```\n3. Reverse-engineered protocol reference: [AlexxIT/Jura](https://github.com/AlexxIT/Jura)\n\n### Google Sheets Configuration\n\n1. Create a new **Google Sheet** with column headers like:\n\n   ```\n   date | time | coffee counter\n   ```\n2. Connect your **Google account** in n8n and authorize access to this sheet.\n3. Replace the `documentId` and `sheetName` fields in the Google Sheets nodes:\n\n   * Use full URL to your spreadsheet\n   * Use the actual sheet name (e.g. `Sheet1`)\n\n---\n\n## Environment Variables & Placeholders\n\n| Placeholder              | Description                                     |\n| ------------------------ | ----------------------------------------------- |\n| `{{WEBHOOK_POST_PATH}}`  | Endpoint to receive coffee counter data         |\n| `{{WEBHOOK_GET_PATH}}`   | Endpoint to return latest data (for dashboards) |\n| `{{SHEET_ID}}`           | Google Spreadsheet ID                           |\n| `{{GOOGLE_CREDENTIALS}}` | OAuth2 credentials for Google Sheets            |\n| `{{DATA_COLUMNS}}`       | Column names in the target sheet                |\n\n---\n\n## Testing the Workflow\n\n1. **Send test request**:\n\n   * Use Postman or ESP to send a POST request to `/{{WEBHOOK_POST_PATH}}`\n   * Body should include `total_coffees` value\n2. **Check Google Sheet**:\n\n   * Open your sheet and verify that a new row was appended\n3. **Test GET endpoint**:\n\n   * Access the second webhook URL (e.g. `/{{WEBHOOK_GET_PATH}}`) in browser or fetch via API\n4. **Optional**:\n\n   * Use `Respond to Webhook` output in a dashboard or frontend\n\n---\n\n## Customization Tips\n\n* **Sheet format**: Add more columns if you want to track additional data (e.g. machine temperature, errors)\n* **Output format**: Replace Google Sheets with any other storage (e.g. MySQL, Notion)\n* **Auth layer**: Add basic auth or token verification if needed for public exposure\n* **Notifications**: Send alerts to Discord/Slack when reaching thresholds (e.g. 200 coffees brewed)\n\n---\nTags:\n\n`google-sheets`, `iot`, `webhook`, `jura`, `coffee`, `api`, `automation`\n",
  "featuredImage": "/data/workflows/5771/5771.webp",
  "author": {
    "id": 101,
    "slug": "halfbit",
    "name": "Halfbit üöÄ",
    "avatar": ""
  },
  "categories": [
    "Engineering"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 288,
  "downloads": 28,
  "createdAt": "2025-07-08T11:07:20.535Z",
  "updatedAt": "2026-01-16T08:41:19.244Z",
  "publishedAt": "2025-07-08T11:07:20.535Z",
  "nodes": 12,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5771"
}