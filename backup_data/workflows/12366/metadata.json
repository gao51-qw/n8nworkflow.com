{
  "id": 12366,
  "slug": "12366",
  "title": "Validate, deduplicate, and store customers via API with Supabase, Slack, Telegram, and email",
  "description": "# (Retail) Customer Cleanup API → Supabase and send Notification\n\nThis workflow provides an API-first solution to validate, clean, deduplicate and store customer data in Supabase. It ensures consistent customer records, prevents duplicates and keeps both internal teams and customers informed through automated notifications.\n\nThis workflow acts as a backend customer intake API. It validates and normalizes incoming customer data, checks for existing users in Supabase, stores new customers safely and returns clear API responses. Internal teams receive Slack and Telegram updates, while customers get an email confirmation on successful creation.\n\nYou receive:\n\n* **Centralized customer data validation**\n* **Automatic duplicate prevention**\n* **Supabase-backed customer storage**\n* **Real-time API responses**\n* **Team notifications + user confirmation email**\n\nIdeal for retail, e-commerce and SaaS teams that want clean customer data without manual intervention.\n\n\n### Quick Start – Implementation Steps\n\n1. Import the provided **n8n workflow JSON**.\n2. Configure **Supabase credentials** with read/write access.\n3. Connect **Slack**, **Telegram** and **Gmail/SMTP** credentials.\n4. Copy the **Webhook URL** and use it as your customer intake API.\n5. Activate the workflow — your customer API is live.\n\n\n## What It Does\n\nThis workflow automates customer data intake and processing:\n\n1. Receives customer data via a POST API call.\n2. Cleans and normalizes names, email and phone numbers.\n3. Validates required fields and formats using JavaScript.\n4. Aggregates clear, field-specific validation errors.\n5. Checks Supabase to prevent duplicate users.\n6. Stores valid, new customers in Supabase.\n7. Returns structured API responses (success, validation error or duplicate).\n8. Sends notifications to Slack and Telegram.\n9. Emails the customer after successful account creation.\n\nThis ensures reliable, consistent customer records across systems.\n\n\n## Who’s It For\n\nThis workflow is ideal for:\n\n* Retail and e-commerce platforms\n* CRM and customer data teams\n* SaaS product teams\n* Backend automation teams\n* Marketing teams needing clean contact lists\n* Developers building API-driven systems\n\n\n## Requirements to Use This Workflow\n\nTo run this workflow, you need:\n\n* **n8n instance** (cloud or self-hosted)\n* **Supabase project** with a `customers` table\n* Supabase **service role key**\n* **Slack workspace** with API access\n* **Telegram bot** + chat ID\n* **Gmail or SMTP account** for user notifications\n\n\n## How It Works\n\n1. **API Request** – Client sends customer data to the webhook endpoint.\n2. **Validation & Cleanup** – JavaScript validates and formats data.\n3. **Validation Fail** – Returns 400 response with clear error messages.\n4. **Duplicate Check** – Supabase is queried using the email address.\n5. **Duplicate Found** – Returns 409 response without creating a record.\n6. **Create Customer** – New customer is saved in Supabase.\n7. **Success Response** – API confirms successful creation.\n8. **Notifications** – Slack, Telegram and customer email are triggered.\n\n\n## Setup Steps\n\n1. Create a Supabase table with fields for customer data, validation status and errors.\n2. Add Supabase credentials to n8n.\n3. Import the workflow JSON into n8n.\n4. Configure the Webhook node and copy the API URL.\n5. Review the validation logic if custom rules are required.\n6. Configure Slack, Telegram and email credentials.\n7. Test using Postman for invalid, duplicate and valid requests.\n8. Activate the workflow.\n\n\n## How To Customize Nodes\n\n### Customize Validation Rules\n\nUpdate the JavaScript validation node to add country-specific phone rules or additional fields.\n\n### Customize Duplicate Logic\n\nExtend duplicate checks to include phone numbers or other identifiers.\n\n### Customize Notifications\n\nModify Slack and Telegram messages, add emojis, mentions or execution metadata.\n\n\n## Add-Ons (Optional Enhancements)\n\nYou can extend this workflow to:\n\n* Add API key authentication\n* Enable rate limiting\n* Log failed attempts separately\n* Support multi-country phone validation\n* Add CRM or email marketing sync\n* Implement soft deletes or upserts\n\n\n## Use Case Examples\n\n### 1. Customer Registration API\n\nCentralize customer creation for web and mobile apps.\n\n### 2. Data Hygiene Automation\n\nPrevent invalid or duplicate contacts in your database.\n\n### 3. Retail & CRM Integration\n\nKeep customer records consistent across systems.\n\n### 4. Marketing Readiness\n\nEnsure only clean, valid contacts enter campaigns.\n\n\n## Troubleshooting Guide\n\n| Issue                   | Possible Cause                | Solution                            |\n| ----------------------- | ----------------------------- | ----------------------------------- |\n| Validation always fails | Incorrect payload structure   | Ensure data is sent in request body |\n| Duplicate user created  | Duplicate check misconfigured | Verify Supabase filter conditions   |\n| No Slack alert          | Invalid credentials           | Reconnect Slack API                 |\n| No email sent           | Gmail/SMTP not configured     | Verify sender account               |\n| API not responding      | Webhook not active            | Activate the workflow               |\n\n\n## Need Help?\n\nIf you need help customizing or extending this workflow, adding authentication, scaling for high traffic, integrating CRMs or enhancing validation, the n8n automation team at **WeblineIndia** can assist you with production-ready automation and integration support. Contact us today.",
  "featuredImage": "/data/workflows/12366/12366.webp",
  "author": {
    "id": 101,
    "slug": "weblineindia",
    "name": "WeblineIndia",
    "avatar": ""
  },
  "categories": [
    "CRM",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 6,
  "downloads": 0,
  "createdAt": "2026-01-01T07:29:23.072Z",
  "updatedAt": "2026-01-16T09:12:16.214Z",
  "publishedAt": "2026-01-01T07:29:23.072Z",
  "nodes": 16,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/12366"
}