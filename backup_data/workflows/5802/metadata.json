{
  "id": 5802,
  "slug": "5802",
  "title": "Automated workflow backups from self-hosted n8n to Google Drive with version history",
  "description": "## âœ… What problem does this workflow solve?\n\nIf you're using a **self-hosted n8n** instance, there's no built-in version history or undo for your workflows. If a workflow is accidentally modified or deleted, there's no way to roll back. This backup workflow solves that problem by automatically syncing your workflows to **Google Drive**, giving you version control and peace of mind.\n\n---\n\n## âš™ï¸ What does this workflow do?\n\n- â± Runs on a set schedule (e.g., daily or every 12 hours).\n- ğŸ” Fetches all workflows from your self-hosted n8n instance.\n- ğŸ§  Detects changes to avoid duplicate backups.\n- ğŸ“ Creates a dedicated folder for each workflow in Google Drive.\n- ğŸ’¾ Uploads new or updated workflow files in JSON format.\n- ğŸ—ƒï¸ Keeps backup history organized by date.\n- ğŸ”„ Allows for easy restore by importing backed-up JSON into n8n.\n\n---\n\n## ğŸ”§ Setup Instructions\n\n### 1. Google Drive Setup\n- Connect your Google Drive account using the **Google Drive node** in n8n.\n- Choose or create a root folder (e.g., `n8n-workflow-backups`) where backups will be stored.\n\n### 2. n8n API Credentials\n- Generate a **Personal Access Token** from your self-hosted n8n instance:\n  - Go to **Settings â†’ API** in your n8n dashboard.\n  - Copy the token and use it in the HTTP Request node headers as:\n    ```\n    Authorization: Bearer &lt;your_token&gt;\n    ```\n\n### 3. Schedule the Workflow\n- Use the **Cron node** to schedule this workflow to run at your desired frequency (e.g., once a day or every 12 hours).\n\n---\n\n## ğŸ§  How it Works\n\n### Step-by-Step Flow:\n\n1. **Scheduled Trigger**\n   - The workflow begins on a timed schedule using the Cron node.\n\n2. **Fetch All Workflows**\n   - Uses the n8n API (`/workflows`) to retrieve a list of all existing workflows.\n\n3. **Loop Through Workflows**\n   - For each workflow:\n     - A **folder is created** in Google Drive using the workflow name.\n     - The workflowâ€™s last updated timestamp is checked against Google Drive backups.\n\n4. **Smart Change Detection**\n   - If the workflow has changed since the last backup:\n     - A new `.json` file is uploaded to the corresponding folder.\n     - The file is named with the last updated date of the workflow (`YYYY-MM-DD-HH-mm-ss.json`) to maintain a versioned history.\n   - If no change is detected, the workflow is skipped.\n\n---\n\n## ğŸ—‚ Google Drive Folder Organization\n\nBackups are neatly organized by workflow and version:\n\n```\n/n8n-workflow-backups/\nâ”œâ”€â”€ google-drive-backup-KqhdMBHIyAaE7p7v/\nâ”‚ â”œâ”€â”€ 2025-07-15-13-03-32.json\nâ”‚ â”œâ”€â”€ 2025-07-14-03-08-12.json\nâ”œâ”€â”€ resume-video-avatar-KqhdMBHIyAaE8p8vr/\nâ”‚ â”œâ”€â”€ 2025-07-15-23-05-52.json\n```\n\nEach folder is named after the workflow's name+id and contains timestamped versions.\n\n---\n\n## ğŸ”§ Customization Options\n\n- ğŸ“… **Change Backup Frequency**  \n  Adjust the Cron node to run backups daily, weekly, or even hourly based on your needs.\n\n- ğŸ“¤ **Use a Different Storage Provider**  \n  You can swap out Google Drive for Dropbox, S3, or another cloud provider with minimal changes.\n\n- ğŸ§ª **Add Workflow Filtering**  \n  Only back up workflows that are **active** or match specific tags by filtering results from the n8n API.\n\n---\n\n## â™»ï¸ How to Restore a Workflow from Backup\n\n1. Go to the Google Drive backup folder for the workflow you want to restore.\n2. Download the desired `.json` file (based on the date).\n3. Open your self-hosted n8n instance.\n4. Click **Import Workflow** from the sidebar menu.\n5. Upload the JSON file to restore the workflow.\n\n&gt; You can choose to overwrite an existing workflow or import it as a new one.\n\n---\n\n## ğŸ‘¤ Who can use this?\n\nThis template is ideal for:\n- ğŸ§‘â€ğŸ’» Developers running **self-hosted n8n**\n- ğŸ¢ Teams managing large workflow libraries\n- ğŸ” Anyone needing workflow versioning, rollback, or disaster recovery\n- ğŸ’¾ Productivity enthusiasts looking for **automated backups**\n\n---\n\n## ğŸ“£ Tip\n\nConsider enabling version history in Google Drive so you get **even more fine-grained backup recovery options** on top of what this workflow provides!\n\n---\n\n## ğŸš€ Ready to use?\n\nJust plug in your **n8n token**, connect **Google Drive**, and schedule your backups. Your workflows are now protected!\n\n",
  "featuredImage": "/data/workflows/5802/5802.webp",
  "author": {
    "id": 101,
    "slug": "infyom",
    "name": "InfyOm Technologies",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 749,
  "downloads": 74,
  "createdAt": "2025-07-09T03:26:24.469Z",
  "updatedAt": "2026-01-16T08:41:29.655Z",
  "publishedAt": "2025-07-09T03:26:24.469Z",
  "nodes": 16,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5802"
}