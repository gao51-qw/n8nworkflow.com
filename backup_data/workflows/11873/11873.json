{
  "workflow": {
    "id": 11873,
    "name": "Create autonomous payment agents using AgentGatePay and multi-chain tokens",
    "views": 52,
    "recentViews": 1,
    "totalViews": 52,
    "createdAt": "2025-12-16T20:04:14.833Z",
    "description": "# AgentGatePay N8N Quick Start Guide\n\n**Get your AI agents paying for resources autonomously in under 10 minutes.**\n\n&gt; **âš ï¸ BETA VERSION**: These templates are currently in beta. We're actively adding features and improvements based on user feedback. Expect updates for enhanced functionality, additional blockchain networks, and new payment options.\n\n---\n\n## What You'll Build\n\n- **Buyer Agent**: Automatically pays for API resources using **USDC, USDT, or DAI** on **Ethereum, Base, Polygon, or Arbitrum** blockchains\n- **Seller API**: Accepts multi-token payments and delivers resources\n- **Monitoring**: Track spending and revenue in real-time across all chains and tokens\n\n**Supported Tokens:**\n- USDC (6 decimals) - Recommended\n- USDT (6 decimals)\n- DAI (18 decimals)\n\n**Supported Blockchains:**\n- Ethereum (mainnet)\n- Base (recommended for low gas fees ~$0.001)\n- Polygon\n- Arbitrum\n\n---\n\n## Prerequisites (5 minutes)\n\n### 1. Create AgentGatePay Accounts\n\n**Buyer Account** (agent that pays):\n```bash\ncurl -X POST https://api.agentgatepay.com/v1/users/signup \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"buyer@example.com\",\n    \"password\": \"SecurePass123!\",\n    \"user_type\": \"agent\"\n  }'\n```\n\n**Seller Account** (receives payments):\n```bash\ncurl -X POST https://api.agentgatepay.com/v1/users/signup \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"seller@example.com\",\n    \"password\": \"SecurePass123!\",\n    \"user_type\": \"merchant\"\n  }'\n```\n\n**Save both API keys** - shown only once!\n\n### 2. Deploy Transaction Signing Service (2 minutes)\n\n**One-Click Render Deploy:**\n1. Click: [![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/AgentGatePay/TX)\n2. Enter:\n   - `AGENTGATEPAY_API_KEY`: Your buyer API key\n   - `WALLET_PRIVATE_KEY`: Your wallet private key (0x...)\n3. Deploy â†’ Copy service URL: `https://your-app.onrender.com`\n\n### 3. Fund Wallet\n- Send **USDC, USDT, or DAI** to your buyer wallet\n- Default: **Base network** (lowest gas fees)\n- Need ~$1 in tokens for testing + ~$0.01 ETH for gas (on Ethereum) or ~$0.001 on Base\n\n---\n\n## Installation (3 minutes)\n\n### Step 1: Import Templates\n\n**In N8N:**\n1. Go to **Workflows** â†’ **Add Workflow**\n2. Click **â‹®** (three dots) â†’ **Import from File**\n3. Import all 4 workflows:\n   - `ğŸ¤– Create a Cryptocurrency-Powered API for Selling Digital Resources with AgentGatePay`\n   - `ğŸ’²Create a Cryptocurrency-Powered API for Selling Digital Resources with AgentGatePay`\n   - `ğŸ“Š Buyer Agent [Monitoring] - AgentGatePay Autonomous Payment Workflow`\n   - `ğŸ’² Seller Agent [Monitoring] - AgentGatePay Autonomous Payment Workflow`\n\n### Step 2: Create Data Table\n\n**In N8N Settings:**\n1. Go to **Settings** â†’ **Data** â†’ **Data Tables**\n2. Create table: `AgentPay_Mandates`\n3. Add column: `mandate_token` (type: String)\n4. Save\n\n---\n\n## Configuration (2 minutes)\n\n### Configure Seller API First\n\n**Open:** `ğŸ’²Seller Resource API - CLIENT TEMPLATE`\n\n**Edit Node 1** (Parse Request):\n```javascript\nconst SELLER_CONFIG = {\n  merchant: {\n    wallet_address: \"0xYourSellerWallet...\",  // â† Your seller wallet\n    api_key: \"pk_live_xyz789...\"              // â† Your seller API key\n  },\n  catalog: {\n    \"demo-resource\": {\n      id: \"demo-resource\",\n      price_usd: 0.01,                        // $0.01 per resource\n      description: \"Demo API Resource\"\n    }\n  }\n};\n```\n\n**Activate workflow** â†’ Copy webhook URL\n\n### Configure Buyer Agent\n\n**Open:** `ğŸ¤– Buyer Agent - CLIENT TEMPLATE`\n\n**Edit Node 1** (Load Config):\n```javascript\nconst CONFIG = {\n  buyer: {\n    email: \"buyer@example.com\",              // â† Your buyer email\n    api_key: \"pk_live_abc123...\",            // â† Your buyer API key\n    budget_usd: 100,                         // $100 mandate budget\n    mandate_ttl_days: 7                      // 7-day validity\n  },\n  seller: {\n    api_url: \"https://YOUR-N8N.app.n8n.cloud/webhook/YOUR-WEBHOOK-ID\"  // â† Seller webhook base URL ONLY (see README.md for extraction instructions)\n  },\n  render: {\n    service_url: \"https://your-app.onrender.com\"  // â† Your Render URL\n  }\n};\n```\n\n---\n\n## Run Your First Payment (1 minute)\n\n### Execute Buyer Agent\n\n1. Open **Buyer Agent** workflow\n2. Click **Execute Workflow**\n3. Watch the magic happen:\n   - Mandate created ($100 budget)\n   - Resource requested (402 Payment Required)\n   - Payment signed (2 transactions: merchant + commission)\n   - Payment verified on blockchain\n   - Resource delivered\n\n**Total time:** ~5-8 seconds\n\n### Verify on Blockchain\n\nCheck transactions on BaseScan:\n```\nhttps://basescan.org/address/YOUR_BUYER_WALLET\n```\n\nYou'll see:\n- **TX 1:** Commission to AgentGatePay (0.5% = $0.00005)\n- **TX 2:** Payment to seller (99.5% = $0.00995)\n\n---\n\n## Monitor Activity\n\n### Buyer Monitoring\n\n**Open:** `ğŸ“Š Buyer Monitoring - AUDIT LOGS`\n\n**Edit Node 1:** Set your buyer wallet address and API key\n\n**Execute** â†’ See:\n- Mandate budget remaining\n- Payment history\n- Total spent\n- Average transaction size\n\n### Seller Monitoring\n\n**Open:** `ğŸ’² Seller Monitoring - AUDIT LOGS`\n\n**Edit Node 1:** Set your seller wallet address and API key\n\n**Execute** â†’ See:\n- Total revenue\n- Commission breakdown\n- Top payers\n- Payment count\n\n---\n\n## How It Works\n\n### Payment Flow\n\n```\n1. Buyer Agent requests resource\n   â†“\n2. Seller returns 402 Payment Required\n   (includes: wallet address, price, token, chain)\n   â†“\n3. Buyer signs TWO blockchain transactions via Render:\n   - Merchant payment (99.5%)\n   - Gateway commission (0.5%)\n   â†“\n4. Buyer resubmits request with transaction hashes\n   â†“\n5. Seller verifies payment with AgentGatePay API\n   â†“\n6. Seller delivers resource\n```\n\n### Key Concepts\n\n**AP2 Mandate:**\n- Pre-authorized spending authority\n- Budget limit ($100 in example)\n- Time limit (7 days in example)\n- Stored in N8N Data Table for reuse\n\n**x402 Protocol:**\n- HTTP 402 \"Payment Required\" status code\n- Seller specifies payment details\n- Buyer pays and retries with proof\n\n**Two-Transaction Model:**\n- Transaction 1: Merchant receives 99.5%\n- Transaction 2: Gateway receives 0.5%\n- Both verified on blockchain\n\n---\n\n## Customization\n\n### Change Resource Price\n\nEdit seller Node 1:\n```javascript\ncatalog: {\n  \"expensive-api\": {\n    id: \"expensive-api\",\n    price_usd: 1.00,  // â† Change price\n    description: \"Premium API access\"\n  }\n}\n```\n\n### Add More Resources\n\n```javascript\ncatalog: {\n  \"basic\": { id: \"basic\", price_usd: 0.01, description: \"Basic API\" },\n  \"pro\": { id: \"pro\", price_usd: 0.10, description: \"Pro API\" },\n  \"enterprise\": { id: \"enterprise\", price_usd: 1.00, description: \"Enterprise API\" }\n}\n```\n\nBuyer requests by ID: `?resource_id=pro`\n\n### Change Blockchain and Token\n\nBy default, templates use **Base + USDC**. To change:\n\n**Edit buyer Node 1** (Load Config):\n```javascript\nconst CONFIG = {\n  buyer: { /* ... */ },\n  seller: { /* ... */ },\n  render: { /* ... */ },\n  payment: {\n    chain: \"polygon\",  // Options: ethereum, base, polygon, arbitrum\n    token: \"DAI\"       // Options: USDC, USDT, DAI\n  }\n};\n```\n\n**Important:**\n1. Ensure your wallet has the selected token on the selected chain\n2. Update Render service to support the chain (add RPC URL)\n3. Gas fees vary by chain.\n\n\n**Token Decimals:**\n- USDC/USDT: 6 decimals (automatic conversion)\n- DAI: 18 decimals (automatic conversion)\n\n### Schedule Monitoring\n\nReplace \"Execute Workflow\" trigger with **Schedule Trigger**:\n- Buyer monitoring: Every 1 hour\n- Seller monitoring: Every 6 hours\n\nAdd **Slack/Email** node to send alerts.\n\n---\n\n## Troubleshooting\n\n### \"Mandate expired\"\n**Fix:** Delete mandate from Data Table â†’ Re-execute workflow\n\n### \"Transaction not found\"\n**Fix:** Wait 10-15 seconds for blockchain confirmation â†’ Retry\n\n### \"Render service unavailable\"\n**Fix:** Render free tier spins down after 15 min â†’ First request takes ~5 sec (cold start)\n\n### \"Insufficient funds\"\n**Fix:** Send more tokens (USDC/USDT/DAI) to buyer wallet\n- Check balance on blockchain explorer (BaseScan for Base, Etherscan for Ethereum, etc.)\n\n### \"Webhook not responding\"\n**Fix:** Ensure seller workflow is **Active** (toggle in top-right)\n\n---\n\n## Production Checklist\n\nBefore going live:\n\n- [ ] Use separate wallet for agent (not your main wallet)\n- [ ] Set conservative mandate budgets ($10-100)\n- [ ] Monitor spending daily (use monitoring workflows)\n- [ ] Upgrade Render to paid tier ($7/mo) for no cold starts\n- [ ] Set up Slack/email alerts for low balance\n- [ ] Test with small amounts first ($0.01-0.10)\n- [ ] Keep API keys secure (use N8N credentials manager)\n- [ ] Review transactions on blockchain explorer weekly\n\n---\n\n## Summary\n\nYou just built:\n- Autonomous payment agent (buys resources automatically)\n- Monetized API (sells resources for **USDC, USDT, or DAI**)\n- **Multi-chain support** (Ethereum, Base, Polygon, Arbitrum)\n- Real blockchain transactions (verified on-chain)\n- Budget management (AP2 mandates)\n- Monitoring dashboard (track spending/revenue)\n\n**Total setup time:** ~10 minutes\n**Total cost:** $0 (Render free tier + AgentGatePay free)\n\n---\n\n**Ready to scale?** Connect multiple agents, add more resources, integrate with your existing systems!\n\n**Questions?** Check `README.md` or contact support@agentgatepay.com\n\nWebsite:\nhttps://www.agentgatepay.com",
    "workflow": {
      "id": "tgUy8qbiSc3uSHuX",
      "meta": {
        "instanceId": "89b251c2077923dfcf09df1af042f7170f6404c508d45b4769b8a7966f5bd226"
      },
      "name": "ğŸ¤– AgentGatePay - Buyer Agent MCP [TEMPLATE]",
      "tags": [],
      "nodes": [
        {
          "id": "92e66d1d-f0f5-4d1e-96cd-aec1f1916e7d",
          "name": "â–¶ï¸ START",
          "type": "n8n-nodes-base.manualTrigger",
          "position": [
            608,
            336
          ],
          "parameters": {},
          "typeVersion": 1
        },
        {
          "id": "5d3971b4-3854-40d0-b967-51c245a8dec1",
          "name": "1ï¸âƒ£ Load Config",
          "type": "n8n-nodes-base.code",
          "position": [
            816,
            336
          ],
          "parameters": {
            "jsCode": "const CONFIG = {\n  buyer: {\n    name: \"Research Assistant AI\",\n    company: \"Your Company\",\n    email: \"user@example.com\",  // âš ï¸ REPLACE: Your buyer agent email\n    task: \"Analyze top 5 competitors in SaaS market\",\n    api_key: \"YOUR_AGENTGATEPAY_API_KEY\",  // âš ï¸ REPLACE: From AgentGatePay signup\n    budget_usd: 100,\n    mandate_ttl_days: 7,\n    mandate_scope: \"resource.read payment.execute\"\n  },\n  seller: {\n    name: \"DataBot Pro\",\n    company: \"MarketInsights AI Ltd.\",\n    email: \"user@example.com\",\n    service: \"Premium Market Research Reports\",\n    api_url: \"https://YOUR_N8N.app.n8n.cloud/webhook/seller-resource-api-test\",  // âš ï¸ REPLACE: Seller webhook URL\n    selected_resource_id: \"saas-competitors-2025\"\n  },\n  render: {\n    service_url: \"https://YOUR_RENDER_APP.onrender.com\"\n  },\n  blockchain: {\n    chain: \"base\",\n    token: \"USDC\",\n    rpc_url: \"https://mainnet.base.org\"\n  },\n  agentgatepay: {\n    api_url: \"https://api.agentgatepay.com\",\n    mcp_endpoint: \"https://mcp.agentgatepay.com\"\n  }\n};\n\nreturn [{json: {config: CONFIG, session: {id: `session_${Date.now()}`, started_at: new Date().toISOString(), agent: CONFIG.buyer.email}}}];"
          },
          "typeVersion": 2
        },
        {
          "id": "f9512e04-334e-4d81-9e99-90c3d89c9a3f",
          "name": "2ï¸âƒ£ ğŸ“Š Get Mandate Token",
          "type": "n8n-nodes-base.dataTable",
          "notes": "ğŸ” CHECK: Does mandate exist?\n\nâš ï¸ CONFIGURE: You MUST select 'AgentPay_Mandates' from dropdown!\n\nClick this node â†’ Data table dropdown â†’ Select AgentPay_Mandates â†’ Save",
          "position": [
            1024,
            336
          ],
          "parameters": {
            "operation": "get",
            "returnAll": true,
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "0RVPG9hWFRYnyUw7",
              "cachedResultUrl": "/projects/GLZPTknscCLLXTgj/datatables/0RVPG9hWFRYnyUw7",
              "cachedResultName": "AgentPay_Mandates"
            }
          },
          "typeVersion": 1,
          "continueOnFail": true,
          "alwaysOutputData": true
        },
        {
          "id": "64fe4d58-91f7-41fd-a5a0-87ec24b44e6d",
          "name": "2Bï¸âƒ£ Normalize Result",
          "type": "n8n-nodes-base.code",
          "notes": "ğŸ”„ NORMALIZE: Handle empty table\n\nIf table empty â†’ Pass { mandate_token: null }\nIf table has row â†’ Pass the row data\n\nThis ensures Node 3 always receives data!",
          "position": [
            1232,
            336
          ],
          "parameters": {
            "jsCode": "// Normalize Data Table output\n// When table is empty, create empty object\n// When table has row, pass it through\n\nconst config = $('1ï¸âƒ£ Load Config').first().json.config;\n\nif ($input.all().length === 0) {\n  // Table is empty - return EMPTY STRING (not null)\n  console.log('ğŸ“Š Data Table is empty - returning empty string');\n  return [{ json: { mandate_token: '', config: config } }];\n}\n\n// Table has data - pass it through with config\nconst allRows = $input.all();\nconsole.log(`ğŸ“Š Data Table returned ${allRows.length} row(s)`);\n\nif (allRows.length > 1) {\n  console.warn('âš ï¸ WARNING: Multiple rows found! Using first row only.');\n}\n\nconst tableData = $input.first().json;\nconsole.log(`   mandate_token: ${tableData.mandate_token ? tableData.mandate_token.substring(0, 30) + '...' : 'EMPTY/NULL'}`);\n\nreturn [{ json: { ...tableData, config: config } }];"
          },
          "typeVersion": 2
        },
        {
          "id": "2b833bcc-d396-4680-b313-0a1d4941cb74",
          "name": "3ï¸âƒ£ Has Token?",
          "type": "n8n-nodes-base.if",
          "notes": "ğŸ”€ ROUTER:\n\nTRUE â†’ Token exists â†’ Verify it\nFALSE â†’ No token â†’ Create new mandate",
          "position": [
            1440,
            336
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 1,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "has-token",
                  "operator": {
                    "type": "string",
                    "operation": "notEmpty"
                  },
                  "leftValue": "={{ $json.mandate_token }}",
                  "rightValue": ""
                }
              ]
            }
          },
          "typeVersion": 2
        },
        {
          "id": "09934b2c-4f43-4d94-9952-93f22fd20353",
          "name": "4ï¸âƒ£ âœ… Verify Existing Token",
          "type": "n8n-nodes-base.httpRequest",
          "notes": "ğŸ”’ ASK GATEWAY: Is this token still valid?\n\nGateway checks:\nâœ… Signature valid?\nâœ… Not expired?\nâœ… Budget remaining?\nâœ… Scope correct?\n\nGateway = Source of Truth!",
          "position": [
            1696,
            192
          ],
          "parameters": {
            "url": "={{ $('1ï¸âƒ£ Load Config').first().json.config.agentgatepay.mcp_endpoint }}",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"jsonrpc\": \"2.0\",\n  \"id\": 3,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"agentpay_verify_mandate\",\n    \"arguments\": {\n      \"mandate_token\": \"{{ $json.mandate_token }}\"\n    }\n  }\n}",
            "sendBody": true,
            "sendHeaders": true,
            "specifyBody": "json",
            "headerParameters": {
              "parameters": [
                {
                  "name": "Content-Type",
                  "value": "application/json"
                },
                {
                  "name": "x-api-key",
                  "value": "={{ $('1ï¸âƒ£ Load Config').first().json.config.buyer.api_key }}"
                }
              ]
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "9e9e0ede-81f8-472b-9364-5069045cfbf3",
          "name": "4Bï¸âƒ£ Check Verification",
          "type": "n8n-nodes-base.code",
          "notes": "ğŸ” PARSE GATEWAY RESPONSE:\n\nâœ… Valid â†’ Continue with existing mandate\nâŒ Invalid â†’ ERROR with clear renewal instructions\n\nNEVER auto-renews! Security by design!",
          "position": [
            1904,
            192
          ],
          "parameters": {
            "jsCode": "const verify_response = $input.first().json;\nconst config = $('1ï¸âƒ£ Load Config').first().json.config;\nconst stored_token = $('2ï¸âƒ£ ğŸ“Š Get Mandate Token').first().json.mandate_token;\n\n// Parse MCP response\nif (!verify_response.result || !verify_response.result.content) {\n  throw new Error('âŒ Gateway verification failed - invalid response');\n}\n\nconst text = verify_response.result.content[0].text;\nconst verification = JSON.parse(text);\n\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n// ğŸš¨ MANDATE EXPIRED OR INVALID - SHOW CLEAR INSTRUCTIONS\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nif (!verification.valid) {\n  const errorMsg = `\nğŸš¨ MANDATE EXPIRED OR INVALID!\n\n${verification.error || 'Mandate is no longer valid'}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“‹ TO CREATE NEW MANDATE (2 STEPS):\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n1ï¸âƒ£ Delete the token from storage:\n   â€¢ Go to: Data â†’ AgentPay_Mandates\n   â€¢ Click the row\n   â€¢ Click Delete (trash icon)\n   â€¢ Click Confirm\n\n2ï¸âƒ£ Run this workflow again:\n   â€¢ Will automatically create fresh mandate\n   â€¢ New $${config.buyer.budget_usd} budget allocated\n   â€¢ 7-day validity period\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nğŸ’¡ WHY THIS HAPPENS:\nMandates have limited budget/time by design.\nThis is a SECURITY FEATURE to prevent unlimited spending.\n\nWhen budget depleted or time expired, you must\nmanually approve a new mandate.\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n  `;\n  \n  throw new Error(errorMsg);\n}\n\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n// âœ… MANDATE VALID - CONTINUE WITH EXISTING TOKEN\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nconsole.log('â™»ï¸ REUSING EXISTING MANDATE!');\nconsole.log(`   Budget Remaining: $${verification.budget_remaining}`);\nconsole.log(`   TTL Remaining: ${verification.ttl_remaining_hours} hours`);\nconsole.log(`   Status: ${verification.status}`);\n\nconst mandate = {\n  token: stored_token,\n  id: verification.mandate_id || 'unknown',\n  budget_remaining: verification.budget_remaining,\n  ttl_hours: verification.ttl_remaining_hours,\n  status: verification.status\n};\n\nreturn [{\n  json: {\n    config,\n    mandate,\n    verification,\n    was_reused: true,\n    source: 'existing_token',\n    message: `â™»ï¸ REUSING MANDATE!\\n\\nBudget: $${verification.budget_remaining}\\nTTL: ${verification.ttl_remaining_hours} hours\\nStatus: ${verification.status}`\n  }\n}];"
          },
          "typeVersion": 2
        },
        {
          "id": "075f1847-da02-4a80-907a-0c978ea1d619",
          "name": "5ï¸âƒ£ ğŸ†• Create New Mandate",
          "type": "n8n-nodes-base.httpRequest",
          "notes": "ğŸ†• CREATE: New mandate via Gateway API\n\nOnly runs when:\n- First time (no token in table)\n- OR user deleted token (manual renewal)\n\nNEVER auto-creates on expiry!",
          "position": [
            1696,
            480
          ],
          "parameters": {
            "url": "={{ $('1ï¸âƒ£ Load Config').first().json.config.agentgatepay.mcp_endpoint }}",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"agentpay_issue_mandate\",\n    \"arguments\": {\n      \"subject\": \"{{ $('1ï¸âƒ£ Load Config').first().json.config.buyer.email }}\",\n      \"budget_usd\": {{ $('1ï¸âƒ£ Load Config').first().json.config.buyer.budget_usd }},\n      \"scope\": \"{{ $('1ï¸âƒ£ Load Config').first().json.config.buyer.mandate_scope }}\",\n      \"ttl_minutes\": {{ $('1ï¸âƒ£ Load Config').first().json.config.buyer.mandate_ttl_days * 1440 }}\n    }\n  }\n}",
            "sendBody": true,
            "sendHeaders": true,
            "specifyBody": "json",
            "headerParameters": {
              "parameters": [
                {
                  "name": "Content-Type",
                  "value": "application/json"
                },
                {
                  "name": "x-api-key",
                  "value": "={{ $('1ï¸âƒ£ Load Config').first().json.config.buyer.api_key }}"
                }
              ]
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "8ae0aef5-0581-45f9-8aed-ee291f01fe6c",
          "name": "5Bï¸âƒ£ Parse New Mandate",
          "type": "n8n-nodes-base.code",
          "notes": "ğŸ“¦ EXTRACT: Token from API response\n\nNext: VERIFY this new token works before saving!",
          "position": [
            1904,
            480
          ],
          "parameters": {
            "jsCode": "const api_response = $input.first().json;\nconst config = $('1ï¸âƒ£ Load Config').first().json.config;\n\nif (!api_response.result || !api_response.result.content) {\n  throw new Error('âŒ Failed to create mandate - invalid API response');\n}\n\nconst text = api_response.result.content[0].text;\nconst result = JSON.parse(text);\n\nif (!result.mandate_token) {\n  throw new Error('âŒ API did not return mandate_token');\n}\n\nconsole.log('ğŸ†• NEW MANDATE CREATED!');\nconsole.log(`   Mandate ID: ${result.mandate_id}`);\nconsole.log(`   Token: ${result.mandate_token.substring(0, 20)}...`);\nconsole.log(`   Budget: $${result.budget_remaining || config.buyer.budget_usd}`);\nconsole.log(`   Expires: ${result.expires_at}`);\nconsole.log('   âœ… Will be saved to table');\n\nconst mandate = {\n  token: result.mandate_token,\n  id: result.mandate_id,\n  budget_remaining: parseFloat(result.budget_remaining || config.buyer.budget_usd),\n  expires_at: result.expires_at\n};\n\nreturn [{\n  json: {\n    config,\n    mandate,\n    verification: {\n      valid: true,\n      budget_remaining: mandate.budget_remaining,\n      status: 'active'\n    },\n    was_reused: false,\n    source: 'new_mandate',\n    message: `ğŸ†• NEW MANDATE!\\n\\nID: ${mandate.id}\\nBudget: $${mandate.budget_remaining}\\nExpires: ${mandate.expires_at}`\n  }\n}];"
          },
          "typeVersion": 2
        },
        {
          "id": "c698bfa3-31df-4d15-b853-fbae8b6dc95f",
          "name": "6ï¸âƒ£ âœ… Verify New Mandate",
          "type": "n8n-nodes-base.httpRequest",
          "notes": "ğŸ”’ VERIFY: New mandate works!\n\nDon't save broken tokens to table.\nGateway confirms it's valid before we store it.",
          "position": [
            2112,
            480
          ],
          "parameters": {
            "url": "={{ $('1ï¸âƒ£ Load Config').first().json.config.agentgatepay.mcp_endpoint }}",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"jsonrpc\": \"2.0\",\n  \"id\": 4,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"agentpay_verify_mandate\",\n    \"arguments\": {\n      \"mandate_token\": \"{{ $json.mandate.token }}\"\n    }\n  }\n}",
            "sendBody": true,
            "sendHeaders": true,
            "specifyBody": "json",
            "headerParameters": {
              "parameters": [
                {
                  "name": "Content-Type",
                  "value": "application/json"
                },
                {
                  "name": "x-api-key",
                  "value": "={{ $('1ï¸âƒ£ Load Config').first().json.config.buyer.api_key }}"
                }
              ]
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "e6648b7b-da08-4471-a8c9-d3022cb6dae5",
          "name": "6Bï¸âƒ£ Check New Mandate",
          "type": "n8n-nodes-base.code",
          "notes": "âœ… CHECK: New mandate is valid\n\nIf invalid â†’ ERROR (don't save)\nIf valid â†’ Prepare token for saving",
          "position": [
            2320,
            480
          ],
          "parameters": {
            "jsCode": "const verify_response = $input.first().json;\nconst parsed_data = $('5Bï¸âƒ£ Parse New Mandate').first().json;\nconst config = $('1ï¸âƒ£ Load Config').first().json.config;\n\n// Parse MCP response\nif (!verify_response.result || !verify_response.result.content) {\n  throw new Error('âŒ Gateway verification failed - invalid response');\n}\n\nconst text = verify_response.result.content[0].text;\nconst verification = JSON.parse(text);\n\nif (!verification.valid) {\n  throw new Error(`âŒ New mandate is INVALID: ${verification.error || 'Unknown error'}`);\n}\n\nconst token = parsed_data.mandate.token;\n\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n// ğŸ›¡ï¸ STRICT VALIDATION - PREVENT NULL/INVALID TOKENS\n// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n// Check 1: Exists and is a string\nif (!token || typeof token !== 'string') {\n  throw new Error('âŒ BLOCKED: Token is missing or not a string!');\n}\n\n// Check 2: Not literal 'null' or 'undefined' strings\nif (token === 'null' || token === 'undefined' || token === '') {\n  throw new Error('âŒ BLOCKED: Token is null, undefined, or empty string!');\n}\n\n// Check 3: Minimum length (JWT tokens are 100+ chars)\nif (token.length < 50) {\n  throw new Error(`âŒ BLOCKED: Token too short (${token.length} chars) - likely invalid!`);\n}\n\n// Check 4: Must contain periods (JWT format: header.payload.signature)\nif (!token.includes('.')) {\n  throw new Error('âŒ BLOCKED: Token is not in JWT format (missing periods)!');\n}\n\nconsole.log('âœ… New mandate verified successfully!');\nconsole.log(`   Token: ${token.substring(0, 30)}...`);\nconsole.log(`   Token length: ${token.length} chars`);\nconsole.log(`   Budget: $${verification.budget_remaining}`);\nconsole.log(`   Status: ${verification.status}`);\nconsole.log('   ğŸ›¡ï¸ Validation: ALL CHECKS PASSED');\n\n// Prepare for saving to table\nreturn [{\n  json: {\n    mandate_token: token,\n    _original_data: parsed_data  // Keep for Node 7B\n  }\n}];"
          },
          "typeVersion": 2
        },
        {
          "id": "18397ef6-45a5-49ba-9f8a-af2af960f664",
          "name": "7ï¸âƒ£ ğŸ’¾ Insert Token",
          "type": "n8n-nodes-base.dataTable",
          "notes": "ğŸ’¾ INSERT: Verified token to table\n\nReceives: { mandate_token: \"...\" }\nAuto-maps to table column\n\nOnly saves tokens that passed verification!\n\nâš ï¸ IMPORTANT: RE-SELECT 'AgentPay_Mandates' from dropdown!",
          "position": [
            2528,
            480
          ],
          "parameters": {
            "columns": {
              "value": {
                "mandate_token": "={{ $json.mandate_token }}"
              },
              "schema": [
                {
                  "id": "mandate_token",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "mandate_token",
                  "defaultMatch": false
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "0RVPG9hWFRYnyUw7",
              "cachedResultUrl": "/projects/GLZPTknscCLLXTgj/datatables/0RVPG9hWFRYnyUw7",
              "cachedResultName": "AgentPay_Mandates"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "ce95fef9-8a7c-44d4-a56f-80d2b8a2054c",
          "name": "7Bï¸âƒ£ Restore Data",
          "type": "n8n-nodes-base.code",
          "notes": "ğŸ”„ RESTORE: Original data structure\n\nNode 7 returns table response\nNode 8 needs original mandate data\n\nThis bridges the gap.",
          "position": [
            2720,
            480
          ],
          "parameters": {
            "jsCode": "// Restore original data for merge node\nconst table_response = $input.first().json;\nconst original_data = $('6Bï¸âƒ£ Check New Mandate').first().json._original_data;\n\nconsole.log('âœ… Token saved to table successfully!');\n\n// Return original mandate data for Node 8\nreturn [{ json: original_data }];"
          },
          "typeVersion": 2
        },
        {
          "id": "98ce0832-7986-4700-9731-eebdf91742bd",
          "name": "8ï¸âƒ£ ğŸ”€ Merge Paths",
          "type": "n8n-nodes-base.code",
          "notes": "ğŸ”€ MERGE: Both paths converge here\n\nPath 1: Verified existing token â™»ï¸\nPath 2: Created new token ğŸ†•\n\nBoth continue with same flow",
          "position": [
            2112,
            192
          ],
          "parameters": {
            "jsCode": "// Both paths merge here (existing token or new token)\nconst data = $input.first().json;\n\nconst config = data.config;\nconst session = $('1ï¸âƒ£ Load Config').first().json.session;\nconst mandate = data.mandate;\nconst verification = data.verification;\n\nconst merchant = config.seller;\n\nconst selected_resource = {\n  id: merchant.selected_resource_id,\n  title: \"SaaS Competitor Analysis 2025\",\n  description: \"Top 5 competitors analysis\"\n};\n\nconst resource_request = {\n  from: config.buyer.email,\n  to: merchant.email,\n  resource_id: selected_resource.id,\n  resource_title: selected_resource.title,\n  mandate_token: mandate.token,\n  timestamp: new Date().toISOString()\n};\n\nreturn [{\n  json: {\n    config,\n    session,\n    mandate,\n    verification,\n    was_reused: data.was_reused,\n    merchant: merchant,\n    selected_resource: selected_resource,\n    resource_request: resource_request,\n    message: `âœ… Mandate Ready!\\n\\nSource: ${data.was_reused ? 'Reused existing â™»ï¸' : 'Created new ğŸ†•'}\\nBudget: $${verification.budget_remaining}\\n\\nMerchant: ${merchant.name}\\nResource: ${selected_resource.title}`\n  }\n}];"
          },
          "typeVersion": 2
        },
        {
          "id": "8d0a44b0-efe9-48ed-9e92-3c08f8741e35",
          "name": "9ï¸âƒ£ Request Resource (x402)",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            2320,
            192
          ],
          "parameters": {
            "url": "={{ $json.config.seller.api_url }}/resource/{{ $json.config.seller.selected_resource_id }}",
            "options": {
              "response": {
                "response": {
                  "neverError": true,
                  "fullResponse": true
                }
              }
            },
            "sendHeaders": true,
            "headerParameters": {
              "parameters": [
                {
                  "name": "x-agent-id",
                  "value": "={{ $json.config.buyer.email }}"
                },
                {
                  "name": "x-mandate",
                  "value": "={{ $json.mandate.token }}"
                }
              ]
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "187810bc-9ee3-4fdb-8577-338dd8e45d01",
          "name": "9Bï¸âƒ£ Parse 402 Response",
          "type": "n8n-nodes-base.code",
          "position": [
            2528,
            192
          ],
          "parameters": {
            "jsCode": "const response = $input.first().json;\nconst body = response.body || response;\n\nif (response.statusCode !== 402 && body.statusCode !== 402) {\n  throw new Error(`Expected 402 Payment Required, got ${response.statusCode || body.statusCode}`);\n}\n\nconst payment_required = body;\nconst data = $('8ï¸âƒ£ ğŸ”€ Merge Paths').first().json;\n\nreturn [{\n  json: {\n    ...data,\n    payment_required: payment_required,\n    message: `ğŸ’° 402 Received!\\n\\nWallet: ${payment_required.payTo}\\nAmount: $${payment_required.priceUsd}\\nToken: ${payment_required.token}\\nChain: ${payment_required.chain}`\n  }\n}];"
          },
          "typeVersion": 2
        },
        {
          "id": "d75a575f-995e-4dca-82b3-c48e7b095257",
          "name": "ğŸ”Ÿ ğŸ”’ Sign Payment (Render)",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            2720,
            192
          ],
          "parameters": {
            "url": "={{ $('8ï¸âƒ£ ğŸ”€ Merge Paths').item.json.config.render.service_url }}/sign-payment",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"merchant_address\": \"{{ $json.payment_required.payTo }}\",\n  \"total_amount\": \"{{ $json.payment_required.amount }}\",\n  \"token\": \"{{ $json.payment_required.token }}\",\n  \"chain\": \"{{ $json.payment_required.chain }}\"\n}",
            "sendBody": true,
            "sendHeaders": true,
            "specifyBody": "json",
            "headerParameters": {
              "parameters": [
                {
                  "name": "Content-Type",
                  "value": "application/json"
                },
                {
                  "name": "x-api-key",
                  "value": "={{ $('8ï¸âƒ£ ğŸ”€ Merge Paths').item.json.config.buyer.api_key }}"
                }
              ]
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "2eab8b07-a05e-4391-9ec1-2b5c3a1c9697",
          "name": "1ï¸âƒ£1ï¸âƒ£ Extract TX Hashes",
          "type": "n8n-nodes-base.code",
          "position": [
            2928,
            192
          ],
          "parameters": {
            "jsCode": "const render_response = $input.first().json;\nconst data = $('9Bï¸âƒ£ Parse 402 Response').first().json;\n\nif (!render_response.success) {\n  throw new Error(`Render signing failed: ${render_response.error || 'Unknown error'}`);\n}\n\nif (!render_response.tx_hash || !render_response.tx_hash_commission) {\n  throw new Error('Missing transaction hashes from Render');\n}\n\nreturn [{\n  json: {\n    ...data,\n    payment_proof: {\n      tx_hash: render_response.tx_hash,\n      tx_hash_commission: render_response.tx_hash_commission,\n      status: 'confirmed',\n      from: render_response.from,\n      merchant: data.payment_required.payTo,\n      commission_address: render_response.commission_address,\n      total_usd: render_response.total_usd,\n      merchant_usd: render_response.merchant_usd,\n      commission_usd: render_response.commission_usd,\n      token: data.payment_required.token,\n      chain: data.payment_required.chain,\n      merchant_url: `https://basescan.org/tx/${render_response.tx_hash}`,\n      commission_url: `https://basescan.org/tx/${render_response.tx_hash_commission}`\n    }\n  }\n}];"
          },
          "typeVersion": 2
        },
        {
          "id": "1aad75be-ca5b-447a-8b5f-6907b369ecde",
          "name": "1ï¸âƒ£2ï¸âƒ£ Submit Payment (MCP)",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            3136,
            192
          ],
          "parameters": {
            "url": "={{ $json.config.agentgatepay.mcp_endpoint }}",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"agentpay_submit_payment\",\n    \"arguments\": {\n      \"mandate_token\": \"{{ $json.mandate.token }}\",\n      \"tx_hash\": \"{{ $json.payment_proof.tx_hash }}\",\n      \"tx_hash_commission\": \"{{ $json.payment_proof.tx_hash_commission }}\",\n      \"chain\": \"{{ $json.payment_required.chain }}\",\n      \"token\": \"{{ $json.payment_required.token }}\",\n      \"price_usd\": \"{{ $json.payment_required.priceUsd }}\"\n    }\n  }\n}",
            "sendBody": true,
            "sendHeaders": true,
            "specifyBody": "json",
            "headerParameters": {
              "parameters": [
                {
                  "name": "Content-Type",
                  "value": "application/json"
                },
                {
                  "name": "x-api-key",
                  "value": "={{ $('8ï¸âƒ£ ğŸ”€ Merge Paths').first().json.config.buyer.api_key }}"
                }
              ]
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "7a2ff1f9-bf4a-425a-ba93-125ec6c95ed3",
          "name": "1ï¸âƒ£3ï¸âƒ£ Receive Resource",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            3344,
            192
          ],
          "parameters": {
            "url": "={{ $('9Bï¸âƒ£ Parse 402 Response').first().json.config.seller.api_url }}/resource/{{ $('9Bï¸âƒ£ Parse 402 Response').first().json.config.seller.selected_resource_id }}",
            "options": {
              "response": {
                "response": {
                  "fullResponse": true,
                  "responseFormat": "json"
                }
              }
            },
            "sendHeaders": true,
            "headerParameters": {
              "parameters": [
                {
                  "name": "x-payment",
                  "value": "={{ $('1ï¸âƒ£1ï¸âƒ£ Extract TX Hashes').first().json.payment_proof.tx_hash }}"
                }
              ]
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "cec5d7b2-90e4-4d84-81cc-cf4d6f33a308",
          "name": "1ï¸âƒ£4ï¸âƒ£ Complete Task",
          "type": "n8n-nodes-base.code",
          "position": [
            3552,
            192
          ],
          "parameters": {
            "jsCode": "const resource_http_response = $input.first().json;\nconst payment_data = $('1ï¸âƒ£1ï¸âƒ£ Extract TX Hashes').first().json;\nconst merge_data = $('8ï¸âƒ£ ğŸ”€ Merge Paths').first().json;\n\nconst resource_body = resource_http_response.body || resource_http_response;\nlet resource_data = typeof resource_body === 'object' ? resource_body : { raw: resource_body };\n\nconst spent = parseFloat(payment_data.payment_required.priceUsd);\nconst budget_before = merge_data.verification.budget_remaining;\nconst budget_after = budget_before - spent;\n\nreturn [{\n  json: {\n    config: merge_data.config,\n    session: merge_data.session,\n    resource_data: resource_data,\n    resource_http_status: resource_http_response.statusCode,\n    payment_proof: payment_data.payment_proof,\n    summary: {\n      task: merge_data.config.buyer.task,\n      status: \"COMPLETED\",\n      mandate_source: merge_data.was_reused ? \"Reused (â™»ï¸)\" : \"Created New (ğŸ†•)\",\n      mandate_storage: \"Data Tables (1 column!)\",\n      budget_before_payment: budget_before,\n      budget_spent: spent,\n      budget_remaining: budget_after,\n      merchant_tx: payment_data.payment_proof.tx_hash,\n      commission_tx: payment_data.payment_proof.tx_hash_commission,\n      completed_at: new Date().toISOString()\n    },\n    message: `ğŸ‰ TASK COMPLETED !\\n\\nâœ… Task: \"${merge_data.config.buyer.task}\"\\nâœ… Resource Received (HTTP ${resource_http_response.statusCode})\\n\\nğŸ”’ Mandate: ${merge_data.was_reused ? 'REUSED â™»ï¸' : 'CREATED NEW ğŸ†•'}\\nğŸ“Š Storage: Data Tables (just 1 column!)\\n\\nğŸ’° Budget:\\n   - Before: $${budget_before}\\n   - Spent: $${spent}\\n   - After: $${budget_after}\\n\\nğŸ”— TX: ${payment_data.payment_proof.tx_hash}\\n\\nâœ… v3.7 = ULTRA SIMPLE!\\n   - 1 column table (not 9!)\\n   - Gateway is source of truth\\n   - Clear error messages\\n   - No auto-renewal (security!)\\n   - Easy manual renewal (delete row)`\n  }\n}];"
          },
          "typeVersion": 2
        },
        {
          "id": "77711363-6bea-4837-8ee9-aa49bbe04633",
          "name": "START HERE",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            0,
            0
          ],
          "parameters": {
            "color": 4,
            "width": 520,
            "height": 600,
            "content": "# Buyer Agent Workflow\n\n**What it does:** AI agent that buys resources from sellers using AgentGatePay. Automatically reuses mandate tokens to track spending.\n\n**Quick setup (2 min):**\n1. Create Data Table called `AgentPay_Mandates` with one column: `mandate_token` (type: String).\n2. Choose blockchain: coin and network\n3. Click Node 2 and Node 7, re-select the table from dropdowns\n4. Edit Node 1 with your email, AgentGatePay API Key,seller URL, budget ($100 default) and Render URL or other external TX service for signing transactions.\n\n**How it works:**\n- First run creates a mandate token and saves it to the table\n- Next runs reuse the same token\n- Budget decreases with each payment\n- When budget's gone, delete the table row and run again for a fresh mandate\n\n**Cost:** $0.01 per resource Â· Budget tracked automatically Â· No surprises\n\nFor more info:\nhttps://github.com/AgentGatePay/agentgatepay-examples/tree/main/n8n"
          },
          "typeVersion": 1
        },
        {
          "id": "49fe3a6c-4c97-4c7a-b5a4-764da49d2866",
          "name": "Sticky Note 1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            560,
            224
          ],
          "parameters": {
            "color": 7,
            "width": 880,
            "height": 280,
            "content": "## Mandate Management\n\nLoads your config, checks if you have an existing mandate token in the Data Table. If found, verify it. If not, create a new one."
          },
          "typeVersion": 1
        },
        {
          "id": "3c1b7cc0-e7ab-466e-abf8-71b752011527",
          "name": "Sticky Note 2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            1632,
            64
          ],
          "parameters": {
            "color": 7,
            "width": 418,
            "height": 280,
            "content": "## Token Verification\n\nAsks AgentGatePay if your existing token is still valid. Checks signature, expiry, and remaining budget. If expired, you'll get clear instructions to renew."
          },
          "typeVersion": 1
        },
        {
          "id": "f42cea23-beb7-4fd2-8a63-b90ed0e7adb6",
          "name": "Sticky Note 3",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            1632,
            384
          ],
          "parameters": {
            "color": 7,
            "width": 1228,
            "height": 280,
            "content": "## New Mandate Creation\n\nCreates fresh mandate via Gateway API, verifies it works, validates the token format, then saves to Data Table. Only runs when you don't have a valid token."
          },
          "typeVersion": 1
        },
        {
          "id": "368ec38d-61d3-4a32-aab6-f1fe07d7aa2e",
          "name": "Sticky Note 4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            2080,
            64
          ],
          "parameters": {
            "color": 7,
            "width": 952,
            "height": 280,
            "content": "## Payment Flow\n\nMerges both paths (reused or new token), requests the resource, receives 402 payment details, signs the payment via Render service, extracts transaction hashes."
          },
          "typeVersion": 1
        },
        {
          "id": "d0ca8152-ff18-4414-b214-72c47dad9d19",
          "name": "Sticky Note 5",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            3072,
            64
          ],
          "parameters": {
            "color": 7,
            "width": 648,
            "height": 280,
            "content": "## Resource Delivery\n\nSubmits payment proof to Gateway, receives the paid resource from seller, calculates updated budget, and completes the task with full summary."
          },
          "typeVersion": 1
        }
      ],
      "active": false,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "62f2c498-0f5e-4d72-a9b5-1ec08961a0d5",
      "connections": {
        "â–¶ï¸ START": {
          "main": [
            [
              {
                "node": "1ï¸âƒ£ Load Config",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "3ï¸âƒ£ Has Token?": {
          "main": [
            [
              {
                "node": "4ï¸âƒ£ âœ… Verify Existing Token",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "5ï¸âƒ£ ğŸ†• Create New Mandate",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "1ï¸âƒ£ Load Config": {
          "main": [
            [
              {
                "node": "2ï¸âƒ£ ğŸ“Š Get Mandate Token",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "7Bï¸âƒ£ Restore Data": {
          "main": [
            [
              {
                "node": "8ï¸âƒ£ ğŸ”€ Merge Paths",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "8ï¸âƒ£ ğŸ”€ Merge Paths": {
          "main": [
            [
              {
                "node": "9ï¸âƒ£ Request Resource (x402)",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "2Bï¸âƒ£ Normalize Result": {
          "main": [
            [
              {
                "node": "3ï¸âƒ£ Has Token?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "7ï¸âƒ£ ğŸ’¾ Insert Token": {
          "main": [
            [
              {
                "node": "7Bï¸âƒ£ Restore Data",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "5Bï¸âƒ£ Parse New Mandate": {
          "main": [
            [
              {
                "node": "6ï¸âƒ£ âœ… Verify New Mandate",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "6Bï¸âƒ£ Check New Mandate": {
          "main": [
            [
              {
                "node": "7ï¸âƒ£ ğŸ’¾ Insert Token",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "4Bï¸âƒ£ Check Verification": {
          "main": [
            [
              {
                "node": "8ï¸âƒ£ ğŸ”€ Merge Paths",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "9Bï¸âƒ£ Parse 402 Response": {
          "main": [
            [
              {
                "node": "ğŸ”Ÿ ğŸ”’ Sign Payment (Render)",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "2ï¸âƒ£ ğŸ“Š Get Mandate Token": {
          "main": [
            [
              {
                "node": "2Bï¸âƒ£ Normalize Result",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "6ï¸âƒ£ âœ… Verify New Mandate": {
          "main": [
            [
              {
                "node": "6Bï¸âƒ£ Check New Mandate",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "1ï¸âƒ£3ï¸âƒ£ Receive Resource": {
          "main": [
            [
              {
                "node": "1ï¸âƒ£4ï¸âƒ£ Complete Task",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "5ï¸âƒ£ ğŸ†• Create New Mandate": {
          "main": [
            [
              {
                "node": "5Bï¸âƒ£ Parse New Mandate",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "9ï¸âƒ£ Request Resource (x402)": {
          "main": [
            [
              {
                "node": "9Bï¸âƒ£ Parse 402 Response",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "ğŸ”Ÿ ğŸ”’ Sign Payment (Render)": {
          "main": [
            [
              {
                "node": "1ï¸âƒ£1ï¸âƒ£ Extract TX Hashes",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "1ï¸âƒ£1ï¸âƒ£ Extract TX Hashes": {
          "main": [
            [
              {
                "node": "1ï¸âƒ£2ï¸âƒ£ Submit Payment (MCP)",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "4ï¸âƒ£ âœ… Verify Existing Token": {
          "main": [
            [
              {
                "node": "4Bï¸âƒ£ Check Verification",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "1ï¸âƒ£2ï¸âƒ£ Submit Payment (MCP)": {
          "main": [
            [
              {
                "node": "1ï¸âƒ£3ï¸âƒ£ Receive Resource",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 29,
    "workflowInfo": {
      "nodeCount": 27,
      "nodeTypes": {
        "n8n-nodes-base.if": {
          "count": 1
        },
        "n8n-nodes-base.code": {
          "count": 10
        },
        "n8n-nodes-base.dataTable": {
          "count": 2
        },
        "n8n-nodes-base.stickyNote": {
          "count": 6
        },
        "n8n-nodes-base.httpRequest": {
          "count": 7
        },
        "n8n-nodes-base.manualTrigger": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "AgentGatePay",
      "username": "agentgatepay",
      "bio": "Payment infrastructure for autonomous AI agents. From cryptographic budget controls to instant settlement to agent-specific security - enabling agents to transact independently across multiple payment methods.",
      "verified": true,
      "links": [
        "https://www.agentgatepay.com"
      ],
      "avatar": "https://gravatar.com/avatar/c46596fce48fd536a6e3746c3ebfc3605bccb2d5090503c542d89c47028114ba?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 19,
        "icon": "file:httprequest.svg",
        "name": "n8n-nodes-base.httpRequest",
        "codex": {
          "data": {
            "alias": [
              "API",
              "Request",
              "URL",
              "Build",
              "cURL"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "â˜€ï¸",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "ğŸ§¬",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "ğŸ“ˆ",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                  "icon": "âœï¸",
                  "label": "Learn how to automatically cross-post your content with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "ğŸ§¾",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                  "icon": "ğŸ›³",
                  "label": "Running n8n on ships: An interview with Maranics"
                },
                {
                  "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                  "icon": " ğŸª¢",
                  "label": "What are APIs and how to use them with no code"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "âš¡ï¸",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                  "icon": "ğŸ“œ",
                  "label": "Celebrating World Poetry Day with a daily poem in Telegram"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "ğŸ’¡",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                  "icon": "ğŸ¨",
                  "label": "Automate Designs with Bannerbear and n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ğŸ•¸ï¸",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "ğŸ“±",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ğŸ¤–",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                  "icon": "ğŸ§°",
                  "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                  "icon": "ğŸ¦„",
                  "label": "Learn how to use webhooks with Mattermost slash commands"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "ğŸ“ˆ",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "ğŸ“ˆ",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "ğŸ¡",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/automations-for-activists/",
                  "icon": "âœ¨",
                  "label": "How Common Knowledge use workflow automation for activism"
                },
                {
                  "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                  "icon": "ğŸ¤Ÿ",
                  "label": "Creating scheduled text affirmations with n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "ğŸ›µ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "HTTP Request",
          "color": "#0004F5"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
        },
        "displayName": "HTTP Request",
        "typeVersion": 4,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 20,
        "icon": "fa:map-signs",
        "name": "n8n-nodes-base.if",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "ğŸ­",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "â˜€ï¸",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "ğŸ§¬",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                  "icon": "ğŸ¤¬",
                  "label": "Create a toxic language detector for Telegram in 4 step"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "ğŸ”—",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "âš™ï¸",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "ğŸ‘¥",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "âš¡ï¸",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "ğŸ’¡",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                  "icon": "ğŸ·ï¸",
                  "label": "How to automatically manage contributions to open-source projects"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ğŸ•¸ï¸",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ğŸ¤–",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "ğŸ§ ",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "ğŸ™Œ",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "ğŸ¡",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "ğŸ–",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "If",
          "color": "#408000"
        },
        "iconData": {
          "icon": "map-signs",
          "type": "icon"
        },
        "displayName": "If",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 834,
        "icon": "file:code.svg",
        "name": "n8n-nodes-base.code",
        "codex": {
          "data": {
            "alias": [
              "cpde",
              "Javascript",
              "JS",
              "Python",
              "Script",
              "Custom Code",
              "Function"
            ],
            "details": "The Code node allows you to execute JavaScript in your workflow.",
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Code"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
        },
        "displayName": "Code",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 838,
        "icon": "fa:mouse-pointer",
        "name": "n8n-nodes-base.manualTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When clicking â€˜Execute workflowâ€™",
          "color": "#909298"
        },
        "iconData": {
          "icon": "mouse-pointer",
          "type": "icon"
        },
        "displayName": "Manual Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1315,
        "icon": "fa:table",
        "name": "n8n-nodes-base.dataTable",
        "codex": {
          "data": {
            "alias": [
              "data",
              "table",
              "knowledge",
              "data table",
              "table",
              "sheet",
              "database",
              "data base",
              "mysql",
              "postgres",
              "postgresql",
              "airtable",
              "supabase",
              "noco",
              "notion"
            ],
            "details": "Data table",
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.datatable/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Development"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\",\"transform\"]",
        "defaults": {
          "name": "Data table"
        },
        "iconData": {
          "icon": "table",
          "type": "icon"
        },
        "displayName": "Data table",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 44,
        "name": "Crypto Trading"
      },
      {
        "id": 48,
        "name": "AI RAG"
      }
    ],
    "image": []
  }
}