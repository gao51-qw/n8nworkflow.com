{
  "workflow": {
    "id": 6634,
    "name": "Scrape Google Maps leads to Google Sheets via Apify",
    "views": 1238,
    "recentViews": 0,
    "totalViews": 1238,
    "createdAt": "2025-07-29T12:06:54.748Z",
    "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n## ## Scrape Google Maps leads to Google Sheets via Apify\n\n## Who's it for\nThis workflow is ideal for marketers, sales professionals, and solo entrepreneurs who want to collect local leads based on Google Maps search terms. For example, restaurants in North Holland.\n\n## What it does\nThis workflow uses an Apify actor to scrape business details from Google Maps and automatically appends them to a Google Sheet with the following fields:\n\n- Business name\n- Street\n- Postal code\n- City\n- Website\n- Phone number\n\n## How it works\n1. The workflow starts with a manual trigger (you can replace it with any other trigger).\n2. The Google Maps Scraper Apify actor is launched.\n3. A short wait ensures the actor completes the task (you can increase the wait time for more extensive outputs).\n4. The resulting dataset is retrieved from Apify.\n5. Data is mapped and added into a connected Google Sheet.\n\n## How to set up\nStep 1: Configure the ‚ÄúRun Apify scraper‚Äù node\nGo to the Google Maps Scraper actor on Apify.\nCreate a new Task with your search term.\nFind your actor from list.\n\nStep 2: Edit the ‚ÄúFind your last run‚Äù node\nSelect the correct actor (Google Maps Scraper) from the dropdown in this node.\n\nStep 3: Fetch the dataset\nIn the ‚ÄúGet the data from Apify‚Äù node, use {{$json.defaultDatasetId}} to dynamically pull the correct dataset.\n\nStep 4: Connect your Google Sheet\nLink your Google account and select the desired spreadsheet and tab (for example, Leads).\nMake sure the column headers match the data fields.\n\nCurrent column headers:\nTitle\tStreet\tPostcode\tCity\tWebsite\tPhone\n\nIf you have any questions, feel free to reach out to info@ai-amigos.com",
    "workflow": {
      "id": "ug9yvyLsKpTuerra",
      "meta": {
        "instanceId": "913f42eb7530951b03f43c1739ba62db9c2aa1e476c271e31d3921ca760195b2",
        "templateCredsSetupCompleted": true
      },
      "name": "Template Google Maps Scraper via Apify in Google Sheets",
      "tags": [],
      "nodes": [
        {
          "id": "144c8ee1-7ea5-4adc-ab30-374f975e911c",
          "name": "Append row in sheet",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            464,
            544
          ],
          "parameters": {
            "columns": {
              "value": {
                "City": "={{ $json.city }}",
                "Phone": "={{(() => {\n  const raw = $json.phone; // vervang \"phone\" door het juiste veldnaam\n  const digits = raw.replace(/\\s+/g, ''); // verwijdert spaties\n  if (digits.startsWith('+31')) {\n    return '0' + digits.slice(3); // vervang +31 door 0\n  }\n  return digits;\n})()}}\n",
                "Title": "={{ $json.title }}",
                "Street": "={{ $json.street }}",
                "Website": "={{ $json.website }}",
                "Postcode": "={{ $json.postalCode }}"
              },
              "schema": [
                {
                  "id": "Title",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "Title",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Street",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "Street",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Postcode",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "Postcode",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "City",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "City",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Website",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "Website",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Phone",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "Phone",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "append",
            "sheetName": {
              "__rl": true,
              "mode": "id",
              "value": "={{YOUR_TAB_NAME}}"
            },
            "documentId": {
              "__rl": true,
              "mode": "id",
              "value": "={{YOUR_SPREADSHEET_ID}}"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "00556def-df1a-4e1b-9e0d-0a7862ca4234",
          "name": "Run task",
          "type": "@apify/n8n-nodes-apify.apify",
          "position": [
            -432,
            544
          ],
          "parameters": {
            "resource": "Actor tasks",
            "operation": "Run task",
            "actorTaskId": {
              "__rl": true,
              "mode": "id",
              "value": "={{YOUR_APIFY_TASK_ID}}"
            },
            "waitForFinish": 10
          },
          "credentials": {
            "apifyApi": {
              "id": "credential-id",
              "name": "apifyApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "e37c1706-912c-4759-a679-7561f0de84eb",
          "name": "Get dataset items",
          "type": "@apify/n8n-nodes-apify.apify",
          "position": [
            240,
            544
          ],
          "parameters": {
            "resource": "Datasets",
            "datasetId": "={{ $json.defaultDatasetId }}",
            "operation": "Get items"
          },
          "credentials": {
            "apifyApi": {
              "id": "credential-id",
              "name": "apifyApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "f12daca5-492c-456a-8730-675c7bde0ac2",
          "name": "Get last run",
          "type": "@apify/n8n-nodes-apify.apify",
          "position": [
            16,
            544
          ],
          "parameters": {
            "actorId": {
              "__rl": true,
              "mode": "id",
              "value": "{{YOUR_ACTOR_ID}}"
            },
            "operation": "Get last run"
          },
          "credentials": {
            "apifyApi": {
              "id": "credential-id",
              "name": "apifyApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "54151400-6732-4a68-b804-cd6390ec2d78",
          "name": "Wait",
          "type": "n8n-nodes-base.wait",
          "position": [
            -208,
            544
          ],
          "webhookId": "14da1530-72d1-45b2-9057-7c532c05829b",
          "parameters": {
            "amount": 60
          },
          "typeVersion": 1.1
        },
        {
          "id": "20f7ac73-ea65-448b-a566-7bc9349cc9e2",
          "name": "Start workflow",
          "type": "n8n-nodes-base.manualTrigger",
          "position": [
            -656,
            544
          ],
          "parameters": {},
          "typeVersion": 1
        },
        {
          "id": "7a74069c-1724-429b-8db6-e91ed60c1a78",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -720,
            -432
          ],
          "parameters": {
            "width": 1344,
            "height": 928,
            "content": "## Get leads from Google Maps with Apify updated in your Google Sheets\n## Who's it for\nThis workflow is ideal for marketers, sales professionals, and solo entrepreneurs who want to collect local leads based on Google Maps search terms ‚Äî for example, restaurants in North Holland.\n\n## What it does\nThis workflow uses an Apify actor to scrape business details from Google Maps and automatically appends them to a Google Sheet with the following fields:\n\n- Business name\n- Street\n- Postal code\n- City\n- Website\n- Phone number\n\n## How it works\n1. The workflow starts with a manual trigger (you can replace it with any other trigger).\n2. The Google Maps Scraper Apify actor is launched.\n3. A short wait ensures the actor completes the task (you can increase the wait time for more extensive outputs).\n4. The resulting dataset is retrieved from Apify.\n5. Data is mapped and added into a connected Google Sheet.\n\n## How to set up\nStep 1: Configure the ‚ÄúRun Apify scraper‚Äù node\nGo to the Google Maps Scraper actor on Apify.\nCreate a new Task with your search term.\nFind your actor from list.\n\nStep 2: Edit the ‚ÄúFind your last run‚Äù node\nSelect the correct actor (Google Maps Scraper) from the dropdown in this node.\n\nStep 3: Fetch the dataset\nIn the ‚ÄúGet the data from Apify‚Äù node, use {{$json.defaultDatasetId}} to dynamically pull the correct dataset.\n\nStep 4: Connect your Google Sheet\nLink your Google account and select the desired spreadsheet and tab (for example, Leads).\nMake sure the column headers match the data fields.\n\nCurrent column headers:\nTitle\tStreet\tPostcode\tCity\tWebsite\tPhone"
          },
          "typeVersion": 1
        }
      ],
      "active": false,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "69b9df9b-8646-4ba7-b5fc-cd9b27d3543a",
      "connections": {
        "Wait": {
          "main": [
            [
              {
                "node": "Get last run",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Run task": {
          "main": [
            [
              {
                "node": "Wait",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get last run": {
          "main": [
            [
              {
                "node": "Get dataset items",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Start workflow": {
          "main": [
            [
              {
                "node": "Run task",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get dataset items": {
          "main": [
            [
              {
                "node": "Append row in sheet",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Append row in sheet": {
          "main": [
            []
          ]
        }
      }
    },
    "lastUpdatedBy": 62,
    "workflowInfo": {
      "nodeCount": 7,
      "nodeTypes": {
        "n8n-nodes-base.wait": {
          "count": 1
        },
        "n8n-nodes-base.stickyNote": {
          "count": 1
        },
        "n8n-nodes-base.googleSheets": {
          "count": 1
        },
        "@apify/n8n-nodes-apify.apify": {
          "count": 3
        },
        "n8n-nodes-base.manualTrigger": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Bedrijfautomatiseren.nl",
      "username": "webshopautomatiseren",
      "bio": "Vind hier al onze templates om tijd te besparen dankzij onze slimme automatiseringen. ",
      "verified": false,
      "links": [
        "https://www.bedrijfautomatiseren.nl/"
      ],
      "avatar": "https://gravatar.com/avatar/4b62822f926f67138d9acd4f10c60e001cf650fce5530ada50aa9788aab70a9b?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 18,
        "icon": "file:googleSheets.svg",
        "name": "n8n-nodes-base.googleSheets",
        "codex": {
          "data": {
            "alias": [
              "CSV",
              "Sheet",
              "Spreadsheet",
              "GS"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/love-at-first-sight-ricardos-n8n-journey/",
                  "icon": "‚ù§Ô∏è",
                  "label": "Love at first sight: Ricardo‚Äôs n8n journey"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "üß¨",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "üßæ",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                  "icon": "üé´",
                  "label": "Supercharging your conference registration process with n8n"
                },
                {
                  "url": "https://n8n.io/blog/creating-triggers-for-n8n-workflows-using-polling/",
                  "icon": "‚è≤",
                  "label": "Creating triggers for n8n workflows using polling"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/migrating-community-metrics-to-orbit-using-n8n/",
                  "icon": "üìà",
                  "label": "Migrating Community Metrics to Orbit using n8n"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                  "icon": " üñ•Ô∏è",
                  "label": "Hey founders! Your business doesn't need you to operate"
                },
                {
                  "url": "https://n8n.io/blog/how-honest-burgers-use-automation-to-save-100k-per-year/",
                  "icon": "üçî",
                  "label": "How Honest Burgers Use Automation to Save $100k per year"
                },
                {
                  "url": "https://n8n.io/blog/how-a-digital-strategist-uses-n8n-for-online-marketing/",
                  "icon": "üíª",
                  "label": "How a digital strategist uses n8n for online marketing"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "üôå",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "üìà",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
                }
              ]
            },
            "categories": [
              "Data & Storage",
              "Productivity"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"input\",\"output\"]",
        "defaults": {
          "name": "Google Sheets"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNS42OSAxIDUyIDE3LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0OC4yOTMgNjBIMTIuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDkgNTYuMzEyVjQuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTIuNzA3IDF6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM1LjY5IDEgNTIgMTcuMjI1SDM5LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzkuMjExIDE3LjIyNSA1MiAyMi40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTIwLjEyIDMxLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMS42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzEuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNC42OSAwIDUxIDE2LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0Ny4yOTMgNTlIMTEuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDggNTUuMzEyVjMuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTEuNzA3IDB6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM0LjY5IDAgNTEgMTYuMjI1SDM4LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzguMjExIDE2LjIyNSA1MSAyMS40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTE5LjEyIDMwLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMC42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzAuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjwvZz48L3N2Zz4="
        },
        "displayName": "Google Sheets",
        "typeVersion": 5,
        "nodeCategories": [
          {
            "id": 3,
            "name": "Data & Storage"
          },
          {
            "id": 4,
            "name": "Productivity"
          }
        ]
      },
      {
        "id": 514,
        "icon": "fa:pause-circle",
        "name": "n8n-nodes-base.wait",
        "codex": {
          "data": {
            "alias": [
              "pause",
              "sleep",
              "delay",
              "timeout"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "üë•",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.wait/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers",
                "Flow"
              ]
            }
          }
        },
        "group": "[\"organization\"]",
        "defaults": {
          "name": "Wait",
          "color": "#804050"
        },
        "iconData": {
          "icon": "pause-circle",
          "type": "icon"
        },
        "displayName": "Wait",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 838,
        "icon": "fa:mouse-pointer",
        "name": "n8n-nodes-base.manualTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When clicking ‚ÄòExecute workflow‚Äô",
          "color": "#909298"
        },
        "iconData": {
          "icon": "mouse-pointer",
          "type": "icon"
        },
        "displayName": "Manual Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 37,
        "name": "Lead Generation"
      }
    ],
    "image": []
  }
}