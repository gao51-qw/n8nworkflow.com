{
  "id": 4115,
  "slug": "4115",
  "title": "Analyze crypto market with CoinGecko: volatility metrics & investment signals",
  "description": "This n8n template lets you automatically pull market data for the cryptocurrencies from CoinGecko every hour, calculate custom volatility and market-health metrics, classify each coin‚Äôs price action into buy/sell/hold/neutral signals with risk ratings, and expose both individual analyses and a portfolio summary via a webhook. It‚Äôs perfect for crypto analysts, DeFi builders, or portfolio managers who want on-demand insights without writing a single line of backend code.\n\n---\n\n# üîß How it works\n- Schedule Trigger fires every hour (or interval you choose).\n- HTTP Request (CoinGecko) fetches the top 10 coins by market cap, including 24 h, 7 d, and 30 d price change percentages.\n- Split In Batches ensures each coin is processed sequentially.\n- Function (Calculate Market Metrics) computes:\n  - A weighted volatility score\n  - Market-cap-to-volume ratio\n  - Price-to-ATH ratio\n  - Composite market score\n\n- IF & Switch nodes categorize each coin‚Äôs 24 h price action (up &gt;5%, down &gt;5%, high volatility, or stable) and append:\n  - signal (BUY/SELL/HOLD/NEUTRAL)\n  - riskRating (High/Medium/Low/Unknown)\n  - recommendation & investmentStrategy guidance\n\n- NoOp & Merge nodes consolidate each branch back into a single data stream.\n\n- Function (Generate Portfolio Summary) aggregates all analyses into:\n  - A Markdown portfolioSummary\n  - Counts of buy/sell/hold/neutral signals\n  - Risk distribution\n\n- Webhook Response returns the full JSON payload with individual analyses and the summary for downstream consumers.\n\n---\n\n# üë§ Who is it for?\n### This workflow is ideal for:\n\n- Crypto researchers and analysts who need scheduled market insights\n\n- DeFi and trading bot developers looking to automate signal generation\n\n- Portfolio managers seeking a no-code overview of top assets\n\n- Automation engineers exploring API integration and data enrichment\n\n\n---\n\n# üìë Data Structure\n### When you trigger the webhook, you‚Äôll receive a JSON object containing:\n\n- individualAnalyses: Array of { coin, symbol, currentPrice, priceChanges, marketMetrics, signal, riskRating, recommendation }\n\n- portfolioSummary: Markdown report summarizing signals, risk distribution, and top opportunity\n\n- marketSignals: Counts of each signal type\n\n- riskDistribution: Counts of each risk rating\n\n- timestamp: ISO string of analysis time\n\n---\n\n# ‚öôÔ∏è Setup Instructions\n- Import: In n8n Editor ‚Üí click ‚ÄúImport from JSON‚Äù ‚Üí paste this workflow JSON.\n\n- Configure Schedule: Double-click the Schedule Trigger ‚Üí set your desired interval (default: every hour).\n\n- Webhook Path: Open the Webhook node ‚Üí choose a unique path (e.g., /crypto‚Äêanalysis) and ‚ÄúPOST‚Äù.\n\n- Activate: Save and activate the workflow.\n\n- Test:\n  - Open the webhook url to other tab or use cURL\n```bash\ncurl -X POST https://&lt;your-n8n-host&gt;/webhook/&lt;path&gt;\n```\n\nYou‚Äôll get back a JSON payload with both portfolioSummary and individualAnalyses.\n\n---\n\n# üìù Tips\n- Rate-Limit Handling: If CoinGecko returns 429, insert a Delay node (e.g., 500 ms) after the HTTP Request.\n- Batch Size: Default is 1 coin at a time; you can bump it to parallelize.\n- Customization: Tweak volatility weightings or add new metrics directly in the ‚ÄúCalculate Market Metrics‚Äù Function node.\n- Extension: Swap CoinGecko for another API by updating the HTTP Request URL and field mappings.\n",
  "featuredImage": "/data/workflows/4115/4115.webp",
  "author": {
    "id": 101,
    "slug": "ist00dent",
    "name": "ist00dent",
    "avatar": ""
  },
  "categories": [
    "Crypto Trading"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 8848,
  "downloads": 884,
  "createdAt": "2025-05-16T17:00:04.497Z",
  "updatedAt": "2026-01-16T08:33:08.720Z",
  "publishedAt": "2025-05-16T17:00:04.497Z",
  "nodes": 26,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4115"
}