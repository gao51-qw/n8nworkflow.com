
# ğŸš€ Supercharge Your Website Indexing with This Powerful n8n Workflow! ğŸŒ

Google page indexing too slow? Tired of manually clicking through each page in the Google Search Console? ğŸ˜´ Say goodbye to that tedious process and hello to automation with this n8n workflow! ğŸ‰

**NB: this workflow was tested with sitemap.xml generated by Ghost CMS and WordPress.
Reach out to [Eduard](https://www.linkedin.com/in/parsadanyan/) if you need help adapting this workflow to your specific use-case!**

## âš™ï¸ How this automation works

1. ğŸ“… The workflow runs on a schedule or when you click "Test workflow".
2. ğŸŒ It fetches the website's primary sitemap.xml and extracts all the content-specific sitemaps (this is a typical structure of the sitemap).
3. ğŸ“‘ Each content-specific sitemap is then parsed to retrieve the individual page data.
4. ğŸ”„ The extracted page data is converted to JSON format for easy manipulation.
5. ğŸ—ƒï¸ The `lastmod` (last modified date) and `loc` (page URL) fields are assigned to each page entry to ensure compliance with the [Sitemap protocol](https://www.sitemaps.org/protocol.html).
6. ğŸ”€ The page entries are sorted by the `lastmod` field in descending order (newest to oldest).
7. ğŸ” The workflow then loops over each page entry and performs the following steps:
   - ğŸ” Checks the URL metadata in the Google Indexing API.
   - âœ… If the page is new or has been updated since the last indexing request, it sends a request to the Google Indexing API to update the URL.
   - â³ Wait a sec and move on with the next page.

## ğŸŒŸ Benefits

- â° Save time by automating the indexing process.
- ğŸ¯ Ensure all your website pages are consistently indexed by Google.
- ğŸš€ Improve your website's visibility and search engine rankings.
- ğŸ› ï¸ Customize the workflow to fit your specific CMS and requirements.

## ğŸ”§ Getting started

To start using this powerful n8n workflow, follow these steps:

1. â˜‘ï¸ Make sure to verify the website ownership in the [Google Search Console](https://search.google.com/search-console).
2. ğŸ‘¨â€ğŸ’» Import the workflow JSON into your n8n instance.
3. **Edit the `Get sitemap.xml` node and update the URL with your website's valid sitemap.xml**
4. ğŸ”‘ Set up the necessary credentials for the Google Indexing API.
5. ğŸšï¸ Adjust the schedule trigger to run the workflow at your desired frequency.
7. ğŸ‰ Sit back and let the workflow handle the indexing process for you!

Ready to take your website indexing to the next level? ğŸš€ Try this workflow now and see the difference it makes! ğŸ˜Š

### âš ï¸ IMPORTANT NOTE 1
Need help with connecting Google Cloud Platform to n8n? Check out our [article on connecting Google Sheets to n8n](https://blog.n8n.io/google-sheets-as-database/#step-1-obtain-google-service-account-credentials). The process is mainly the same. When activating Google APIs, make sure to add `Web Search Indexing API`. Also, in the credential page of n8n, add the `https://www.googleapis.com/auth/indexing` scope:

![image.png](fileId:781)

Check out [Yulia's page](https://n8n.io/creators/yulia/) for more n8n workflows!

### âš ï¸ IMPORTANT NOTE 2
Free Google Cloud Platform account allows (re)indexing only 200 pages per day. If your website has more, then the workflow will automatically fail on quota limit â›”. Next day it will skip the previously added items and continue with remaining pages. 

***Example:*** Assuming you have a free Google account, 500 pages on your website and they don't change for 3 days:
* On the first day 200 pages will be added for indexing and the workflow will fail due to quota limits.
* On the second day, the workflow will check 200 pages again and skip them (because the date of re-indexing is later then the page last modified date). The next 200 pages will be added to indexing. Workflow will fail again due to quota limits.
* On the third day 400 pages will be checked and skipped, the last 100 pages will be added for indexing and the workflow finishes successfully.