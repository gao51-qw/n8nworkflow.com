{
  "id": 4841,
  "slug": "4841",
  "title": "Generate sales emails based on business events with Explorium MCP & Claude",
  "description": "**Explorium Event-Triggered Outreach**\n\nThis n8n and agent-based workflow automates outbound prospecting by monitoring Explorium event data (e.g. product launches, new office opening, new investment and [more](https://developers.explorium.ai/reference/ipo-announcement)), researching companies, identifying key contacts, and generating tailored sales emails leveraging the Explorium MCP server.\n\n\n## Template\n\n![](https://files.readme.io/c8b805c24352d0eb65805c9cf4cd692b8dc28dac9d32c1c3b43eca55964ac481-image.png)\n\n\n# Workflow Overview\n\n## Node 1: Webhook Trigger\n\n**Purpose:** Listens for real-time product launch events pushed from Explorium's webhook system.\n\n**How it works:**\n\n* Explorium sends HTTP POST requests containing event data\n* The webhook payload includes company name, business ID, domain, product name, and event type\n* Pay attention: Product launch is just one example. You can easily enroll to many more meaningful events.\nto learn about events and how to enroll to events, visit the events [documentation](https://developers.explorium.ai/reference/webhooks).\n\n## Node 2: Company Research Agent\n\n**Agent Type:** Tools Agent\n\n**Purpose:** Enrich company data after an event occurs.\n\n**How it works:**\n\n* Uses Explorium MCP via the MCP Client tool to gather additional company data\n* Uses Anthropic Claude (Chat Model) to process and interpret company information for downstream personalization\n\n## Node 3: Employee Data Retrieval\n\n**Purpose:** Retrieve prospect-level data for targeting.\n\n**How it works:**\n\n* Uses HTTP Request node to call Explorium's `fetch_prospects` endpoint\n* Filters prospects by:\n  * Company `business_id`\n  * Departments: Product, R&D, etc...\n  * Seniority levels: owner, cxo, vp, director, senior, manager, partner, etc...\n  * Pay Attention: Follow our fetch prospect [documentation](documentation) for the full list of filter and best practice.\n* Limits results to top 5 relevant employees\n* Code nodes handle:\n  * Filtering logic\n  * Cleaning API response\n  * Formatting data for downstream agents\n\n## Node 4: Conditional Branch - Prospect Data Check\n\n**If Node:** Checks whether prospect data was successfully retrieved\n\n**Logic:**\n\n* If prospects found → personalized emails per person\n* If no prospects → fallback to company-level general email\n\n## Node 5A: Email Writer #1 (No Prospect Data)\n\n**Agent Type:** Tools Agent\n\n**Purpose:** Write generic outbound email using only company-level research and event info.\n\n**Powered by:** Anthropic Chat Model\n\n## Node 5B: Loop Over Prospects → Email Writer #2 (Personalized)\n\n**Agent Type:** Tools Agent\n\n**Purpose:** Write highly personalized email for each identified employee.\n\n**How it works:**\n\n* Loops through each individual prospect\n* Passes company research + employee data to LLM agent\n* Generates customized emails referencing:\n  * Prospect's title & department\n  * Product launch\n  * Role-relevant Explorium value proposition\n\n## Node 6: Slack Notifications\n\n**Purpose:** Posts completed emails to internal Slack channel for review or testing before final deployment.\n\n**Future State:** Can be swapped with an email sequencing platform in production.\n\n# Setup Requirements\n\n## Explorium API Access\n\n* MCP Client credentials for company enrichment and prospect fetching\n* Registered webhook for event listening\n\n[Get explorium api key](https://developers.explorium.ai/reference/getting_your_api_key)\n\n## n8n Configuration\n\n* Secure environment variables for API keys & webhook secret\n* Code nodes configured for JSON transformation, filtering & signature validation\n\n# Customization Options\n\n## Personalization Logic\n\n* Update LLM prompt instructions to reflect ICP priorities\n* Modify email templates based on role, department, or tenure logic\n* Adjust fallback behavior when prospect data is unavailable\n\n## API Request Tuning\n\n* Adjust `page_size` for number of prospects retrieved\n* Fine-tune seniority and department filters to match evolving targeting\n\n## Future Expansion\n\n* Swap Slack notifications for outbound email automation\n* Integrate call task assignment directly into CRM\n* Introduce engagement scoring feedback loop (opens, clicks, replies)\n\n# Troubleshooting Tips\n\n* Validate webhook signature matching to prevent unauthorized requests\n* Ensure correct `business_id` is passed to prospect fetching endpoint\n* Confirm business enrichment returns sufficient data for company researcher agents\n* Review agent LLM responses for correct output structure and parsing consistency",
  "featuredImage": "/data/workflows/4841/4841.webp",
  "author": {
    "id": 101,
    "slug": "explorium",
    "name": "explorium",
    "avatar": ""
  },
  "categories": [
    "Lead Nurturing",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1375,
  "downloads": 137,
  "createdAt": "2025-06-10T06:56:57.172Z",
  "updatedAt": "2026-01-16T08:36:29.517Z",
  "publishedAt": "2025-06-10T06:56:57.172Z",
  "nodes": 22,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4841"
}