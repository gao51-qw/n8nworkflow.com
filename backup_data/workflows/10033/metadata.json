{
  "id": 10033,
  "slug": "10033",
  "title": "WhatsApp virtual receptionist with Gemini AI - handles text & voice with knowledge base",
  "description": "### Overview  \nThis project is an **AI-powered WhatsApp virtual receptionist** built using **n8n**, designed to handle both **text** and **voice-based customer messages** automatically.  \nThe workflow integrates **Google Gemini**, **Pinecone**, and the **WhatsApp Business API** to provide intelligent, context-aware responses that feel natural and professional.  \n\n---\n\n## How It Works  \n\n### Message Detection  \nThe workflow begins when a message arrives on WhatsApp. It identifies whether the message is **text** or **voice** and routes it accordingly.  \n\n### Voice Message Handling  \n1. Audio messages are securely **downloaded from WhatsApp**.  \n2. The files are **converted to Base64** format and sent to the **Gemini API** for transcription.  \n3. The **transcribed text** is then passed to the AI Agent for further processing.  \n\n### AI Agent Processing  \nThe **LangChain AI Agent** acts as the brain of the system. It uses:  \n- **Google Gemini Chat Model** for natural language understanding and response generation.  \n- **Pinecone Vector Store** to retrieve company-specific information and product data.  \n- **Memory Buffer** to remember the last 20 user messages, ensuring context-aware responses.  \n\nThe agent also follows a set of **custom communication rules** ‚Äî replying only in approved languages, skipping greetings, and focusing on direct, helpful, and professional responses (e.g., product recommendations, support, or guidance).  \n\n### Knowledge Retrieval  \nThe **AI Agent** connects to a **Pinecone database** containing detailed company data, such as product catalogs or service FAQs. Using **Gemini-generated embeddings**, it retrieves the most relevant information for each user query.  \n\n### Response Delivery  \nOnce the AI Agent prepares the response, it is **instantly sent back to the user** via WhatsApp, completing the conversational loop.  \n\n---\n\n## Who It‚Äôs For  \nThis system is ideal for businesses seeking to **automate their customer communication** through WhatsApp. It‚Äôs especially valuable for:  \n- **Product-based companies** with frequent customer inquiries.  \n- **Service providers** offering 24/7 customer assistance or quote requests.  \n- **SMBs** looking to scale their communication without hiring additional staff.  \n\n---\n\n## Tech Stack & Requirements  \n\n- **n8n** ‚Äì Workflow automation and orchestration.  \n- **WhatsApp Cloud API** ‚Äì For sending and receiving messages.  \n- **Google Gemini (PaLM)** ‚Äì For LLM-based transcription and response generation.  \n- **Pinecone** ‚Äì Vector database for product and service knowledge retrieval.  \n- **LangChain Integration** ‚Äì For connecting memory, vector store, and reasoning tools.  \n- **Custom Business Rules** ‚Äì Configurable within the AI Agent node to manage tone, style, and workflow behavior.  \n\n---\n\n## Key Features  \n\n- Handles **both text and voice** messages seamlessly.  \n- Responds in **multiple languages**, including English.  \n- Maintains **conversation memory** per user session.  \n- Retrieves **accurate company-specific information** using vector search.  \n- Fully **automated**, with customizable behavior for different industries or use cases.  \n\n---\n\n## Setup Instructions  \n\n### 1. Prerequisites  \nBefore importing the workflow, ensure you have:  \n- An active **n8n instance** (self-hosted or n8n Cloud).  \n- **WhatsApp Cloud API credentials** from Meta.  \n- **Google Gemini API key** with model access (for chat and transcription).  \n- **Pinecone API key** with a preconfigured vector index containing your company data.  \n\n### 2. Environment Setup  \n- Install all required credentials under **Settings ‚Üí Credentials** in n8n.  \n- Add environment variables (if applicable) for keys like:  \n  ```bash\n  GOOGLE_API_KEY=your_google_gemini_key  \n  PINECONE_API_KEY=your_pinecone_key  \n  WHATSAPP_ACCESS_TOKEN=your_whatsapp_token  \n  ```  \n\n### 3. Pinecone Configuration  \n- Create a Pinecone index named, for example, `products-index`.  \n- Upload company documents or product details as **vector embeddings** using Gemini or LangChain utilities.  \n- Adjust the **retrieval limit** in the Pinecone node settings for broader or narrower search responses.  \n\n### 4. WhatsApp API Configuration  \n- Set up a **WhatsApp Business Account** via Meta Developer Dashboard.  \n- Create a webhook endpoint URL (n8n‚Äôs public URL) to receive WhatsApp messages.  \n- Use the **WhatsApp Trigger Node** to capture messages in real time.  \n\n### 5. AI Agent Customization  \nYou can personalize how the AI behaves by editing the **system prompt** inside the AI Agent node:  \n- Modify tone, response length, or product focus.  \n- Add new ‚Äúrules‚Äù for language preferences or conversation flow.  \n- Include links or custom text output (e.g., quotation formats, product catalog messages).  \n\n### 6. Handling Voice Messages  \n- Ensure your WhatsApp Business Account has **media message permissions** enabled.  \n- Verify the **HTTP Request node** that connects to the Gemini API for transcription is correctly authenticated.  \n- You can adjust the transcription model or prompt if you prefer shorter, keyword-based outputs.  \n\n### 7. Testing  \n- Send both **text and voice messages** from a test WhatsApp number.  \n- Check response time and message formatting.  \n- Use n8n‚Äôs **execution logs** to debug errors (especially for media downloads or API credentials).  \n\n---\n\n## Customization Options  \n\n### üß© AI Behavior  \n- Modify the **AI Agent‚Äôs system message** to adapt tone and personality (e.g., sales-oriented, support-driven).  \n- Update memory length (default: last 20 messages) for longer or shorter conversations.  \n\n### üåç Multi-language Support  \n- Add or remove allowed languages in the rules section of the AI Agent node.  \n- For multilingual businesses, duplicate the AI Agent path and route messages by language detection.  \n\n### üì¶ Industry Adaptation  \n- Swap the Pinecone dataset to suit different industries ‚Äî retail, hospitality, logistics, etc.  \n- Replace product data with FAQs, customer records, or support documentation.  ",
  "featuredImage": "/data/workflows/10033/10033.webp",
  "author": {
    "id": 101,
    "slug": "akshay6",
    "name": "Akshay",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1393,
  "downloads": 139,
  "createdAt": "2025-10-22T08:59:42.638Z",
  "updatedAt": "2026-01-16T09:03:04.081Z",
  "publishedAt": "2025-10-22T08:59:42.638Z",
  "nodes": 18,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10033"
}