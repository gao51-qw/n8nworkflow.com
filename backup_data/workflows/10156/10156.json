{
  "workflow": {
    "id": 10156,
    "name": "Automate lead intelligence & outreach with GPT-4o, LinkedIn, HubSpot & Outlook",
    "views": 206,
    "recentViews": 2,
    "totalViews": 206,
    "createdAt": "2025-10-25T10:07:17.772Z",
    "description": "# AI Lead Intelligence & Outreach: Verified Emails, HubSpot Sync & Outlook Drafts\n![leadoutreach](https://i.ibb.co/KpWWKSWq/Chat-GPT-Image-Oct-25-2025-02-57-54-PM.png)\n\n\n\n## Who is this for?\n\nThis workflow is designed for **sales/RevOps teams, B2B founders, SDR/AE teams, and agencies** who live in HubSpot and need consistent, compliant first-touch outreach at scale. If you regularly build reusable, multi-client n8n automations, this template will save you hours of manual work.\n\n---\n\n## What problem is this workflow solving? / Use case\n\nManual lead handling is **slow and inconsistent**:\n\n- Leads arrive messy across forms, lists, and imports; ownership and priority are unclear.\n- Finding the right decision-maker and a deliverable email takes too long.\n- Outreach copy drifts from brand guidelines, and CRM updates get missed.\n\nThis workflow solves the problem by **creating a reliable pipeline** from capture â†’ enrichment â†’ verification â†’ CRM sync â†’ Outlook draft, cutting handoffs and preserving auditability.\n\n---\n\n## What this workflow does\n\n1. **Capture and batching** - Triggers on new/updated leads in HubSpot or pulls \"ready\" rows from Google Sheets; processes items sequentially to stay rate-safe.\n\n2. **Normalize and score (ICP)** - Cleans names, company, and domains; applies configurable ICP rules and writes score plus reasoning back to HubSpot/Sheets.\n\n3. **Enrich contacts** - Confirms official company details and identifies likely decision-makers via focused people searches; dedupes and role-normalizes.\n\n4. **Verify emails** - Finds work emails, checks deliverability, and logs confidence and timestamps to a tracking sheet immediately after each result.\n\n5. **Compose outreach** - Calls the approved template in `Email content`; personalizes only the first name; validates structure via `Structured Output Parser`.\n\n6. **Draft in Outlook** - Uses Microsoft Graph to create an HTML draft; embeds an inline signature image fetched from Google Drive.\n\n7. **CRM sync and tasks** - Creates/updates HubSpot contacts and associations, stores the composed email in properties, and opens a next-day follow-up task for the owner.\n\n8. **Safety and observability** - Deterministic prompts, strict parsing, idempotent writes, and clear flags prevent duplicates; optional Slack/Teams alerts for failures.\n\n---\n\n## Setup\n\n1. **Connect your accounts**:\n   - HubSpot (app token)\n   - Microsoft Graph (OAuth2)\n   - Google Sheets\n   - Google Drive\n   - Your LLM provider (for `Level 2 Orchestrator` and `Email content`)\n\n2. **Set your credentials** in the respective nodes.\n\n3. **Adjust the Google Sheet IDs** to match your own sheet structure.\n\n4. **Map HubSpot properties** (owner, contact/company IDs, custom fields for score, reasoning, and email content).\n\n5. **Paste your approved HTML** in `Email content` and upload your signature image to Drive.\n\n6. **Configure schedule**, batch size, and any Slack/Teams webhooks for notifications.\n\n---\n\n## How to customize this workflow to your needs\n\n- **ICP logic**: Edit scoring weights and required qualifiers (industry, region, size, tech stack).\n- **Personas**: Change role detection and caps (e.g., Ops, Finance, Procurement).\n- **Copy control**: Swap the template in `Email content` or add A/B variants while keeping structure validation.\n- **Triggers**: Use webhook capture from forms, list-based pulls, or time-based recrawls.\n- **Delivery**: Switch the mail node to Gmail API if preferred; keep the same compose/verify/track sequence.\n- **Governance**: Add holdouts, opt-out checks, and rate limits per domain or owner; expand logs for export to a data warehouse.\n\n---\n\nâœ¨ With this workflow, you go from **messy inbound leads â†’ verified contacts â†’ synchronized HubSpot records â†’ ready-to-send Outlook drafts** in just minutes, with almost no manual work.\n\n\n\n---\n\n## Need help customizing?\n\nContact me for consulting and support:  \n[click here](https://kumarshivam.link/)",
    "workflow": {
      "meta": {
        "instanceId": "ddcefceabb5b27e9f116410743cb0817ea0345b77c0b3a4a2483f5d9def7bad4"
      },
      "nodes": [
        {
          "id": "9b91a157-a96d-4a79-941d-ad052f59152d",
          "name": "Google Drive Trigger",
          "type": "n8n-nodes-base.googleDriveTrigger",
          "position": [
            208,
            -496
          ],
          "parameters": {
            "event": "fileCreated",
            "options": {},
            "pollTimes": {
              "item": [
                {
                  "mode": "everyMinute"
                }
              ]
            },
            "triggerOn": "specificFolder",
            "folderToWatch": {
              "__rl": true,
              "mode": "list",
              "value": "1wm0ny5VmKHrasjrRUduePqS3Qu-q4073",
              "cachedResultUrl": "https://drive.google.com/drive/folders/1wm0ny5VmKHrasjrRUduePqS3Qu-q4073",
              "cachedResultName": "open_water_sales"
            }
          },
          "credentials": {
            "googleDriveOAuth2Api": {
              "id": "credential-id",
              "name": "googleDriveOAuth2Api Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "925f29a2-84a6-4473-94d9-691c0416f71c",
          "name": "Get many companies",
          "type": "n8n-nodes-base.hubspot",
          "position": [
            -208,
            656
          ],
          "parameters": {
            "options": {
              "propertiesCollection": {
                "propertiesValues": {
                  "properties": [
                    "change_status",
                    "brand_name",
                    "rooms",
                    "rooms_100_",
                    "propertyemail",
                    "city",
                    "unique_address",
                    "gm_email",
                    "gm_name",
                    "country",
                    "name"
                  ],
                  "propertyMode": "valueOnly"
                }
              }
            },
            "resource": "company",
            "operation": "getAll",
            "returnAll": true,
            "authentication": "appToken"
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "e8c54324-0dd5-466f-88de-d9b9b2a86a17",
          "name": "Loop Over Items",
          "type": "n8n-nodes-base.splitInBatches",
          "position": [
            1200,
            -496
          ],
          "parameters": {
            "options": {}
          },
          "typeVersion": 3
        },
        {
          "id": "c0e911f9-6ab9-440d-9467-13ac1d4686a7",
          "name": "Filter",
          "type": "n8n-nodes-base.filter",
          "position": [
            416,
            656
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "62fa711f-b0fa-40fa-a248-8334553cae74",
                  "operator": {
                    "name": "filter.operator.equals",
                    "type": "string",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json[\"change status\"] }}",
                  "rightValue": "new"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "914cce73-0dd0-4414-8dcd-3119049b8a49",
          "name": "Schedule Trigger",
          "type": "n8n-nodes-base.scheduleTrigger",
          "position": [
            -384,
            656
          ],
          "parameters": {
            "rule": {
              "interval": [
                {}
              ]
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "04849076-d9f9-432e-9da8-92cae2da0c68",
          "name": "Edit Fields1",
          "type": "n8n-nodes-base.set",
          "position": [
            -48,
            656
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "9bffd51c-b823-4680-884d-f833a59ff81e",
                  "name": "country",
                  "type": "string",
                  "value": "={{ $json.properties.country.value }}"
                },
                {
                  "id": "101727c4-1020-47c0-8e38-c7a530c7147e",
                  "name": "hotelid",
                  "type": "number",
                  "value": "={{ $json.companyId }}"
                },
                {
                  "id": "284c5642-2b68-4882-855f-0696227793d7",
                  "name": "no_of_rooms",
                  "type": "string",
                  "value": "={{ $json.properties.rooms.value }}"
                },
                {
                  "id": "59988c08-9840-45bb-bee0-c3f5ba34e2ac",
                  "name": "gm_name",
                  "type": "string",
                  "value": "={{ $json.properties.gm_name.value }}"
                },
                {
                  "id": "4f0e280f-f913-4bb8-ae91-56be21185484",
                  "name": "city",
                  "type": "string",
                  "value": "={{ $json.properties.city.value }}"
                },
                {
                  "id": "23b6a4c6-cd16-4088-932f-5106ae2f5f70",
                  "name": "unique_address",
                  "type": "string",
                  "value": "={{ $json.properties.unique_address.value }}"
                },
                {
                  "id": "864d9df7-9430-4c71-9c5a-f284d49f36f2",
                  "name": "rooms_100_plus",
                  "type": "string",
                  "value": "={{ $json.properties.rooms_100_.value }}"
                },
                {
                  "id": "d5636de0-f8af-462b-af64-aca712478022",
                  "name": "brand_name",
                  "type": "string",
                  "value": "={{ $json.properties.brand_name.value }}"
                },
                {
                  "id": "c68beb19-199f-4533-9335-f504191fce00",
                  "name": "gm_email",
                  "type": "string",
                  "value": "={{ $json.properties.gm_email.value }}"
                },
                {
                  "id": "fc654029-23f3-409a-8a71-b1876b8d744a",
                  "name": "change status",
                  "type": "string",
                  "value": "={{ $json.properties.change_status.value }}"
                },
                {
                  "id": "9a717688-c20b-40e5-8627-42c0feed7937",
                  "name": "hotel name",
                  "type": "string",
                  "value": "={{ $json.properties.name.value }}"
                }
              ]
            }
          },
          "typeVersion": 3.4
        },
        {
          "id": "c0523b8d-e063-436d-aaac-6fe7a0d69f5a",
          "name": "Simple Memory",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            368,
            1088
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 20
          },
          "typeVersion": 1.3
        },
        {
          "id": "22e413c3-4e1d-41cf-b0ef-ef923386e961",
          "name": "Calculator",
          "type": "@n8n/n8n-nodes-langchain.toolCalculator",
          "position": [
            688,
            1120
          ],
          "parameters": {},
          "typeVersion": 1
        },
        {
          "id": "97f4156e-de39-439d-8ec5-62a0b9345b08",
          "name": "Structured Output Parser",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            1344,
            1024
          ],
          "parameters": {
            "autoFix": true,
            "jsonSchemaExample": "{\n \"company_id\": \"HTL-123789\",\n \"gm_name\": \"Michael Chen\", \n \"gm_email\": \"user@example.com\",\n \"city\": \"Austin\",\n \"unique_address\": \"500 East 4th Street, Austin, TX 78701\", \n \"hotel_name\": \"Downtown Austin Business Hotel\",\n \"no_of_rooms\": 75,\n \"adr\": 185.50,\n \"icp_score\": 25,\n \"reasoning\": \"As of August 07, 2025, Downtown Austin Business Hotel receives an ICP score of 25/85 points. The hotel has 75 rooms, earning 15 points for meeting the 50-99 room threshold. The ADR of $185.50 falls below the $200 minimum threshold, earning 0 points. Austin is confirmed as a major metropolitan area, earning 10 points. The city does not have an exact match in the PlasticBanCities table and lacks government verification for plastic bans, earning 0 points. Calculation verified: 15 + 0 + 10 + 0 = 25 points.\",\n \"scoring_notes\": \"Rooms: 15 pts (75 rooms from input, meets 50-99 threshold). ADR: 0 pts (monthly average ADR: $185.50 falls below $200 minimum threshold). Coastal/Metro: 10 pts (Austin confirmed as major metro via US Census MSA data). Plastic-Ban City: 0 pts (no match found in PlasticBanCities table, no government verification).\",\n \"verification_status\": \"COMPLETE\",\n \"verification_approach\": {\n   \"adr\": \"MONTHLY_AVERAGE_REQUIRED\",\n   \"coastal_metro\": \"SIMPLE_SEARCH\", \n   \"plastic_ban\": \"STRICT_VERIFICATION\"\n },\n \"monthly_adr_details\": {\n   \"monthly_average_found\": 185.50,\n   \"peak_month_identified\": \"July 2024\",\n   \"calculation_method\": \"Total room revenue divided by total rooms sold for entire month\",\n   \"source_type\": \"Hotel management system monthly report\"\n },\n \"source_urls\": {\n   \"monthly_adr_sources\": [\"https://downtownhotel.com/internal-reports/july-2024-performance\"],\n   \"coastal_metro_source\": \"https://www.census.gov/programs-surveys/metro-micro/about.html\", \n   \"plastic_ban_verification\": \"\",\n   \"plastic_ban_table_match\": false\n },\n \"search_documentation\": {\n   \"total_sources_searched\": 12,\n   \"monthly_adr_verification_complete\": true,\n   \"coastal_metro_search_method\": \"GOOGLE_SEARCH\",\n   \"plastic_ban_verification_complete\": true\n },\n \"calculation_verification\": {\n   \"rooms_points\": 15,\n   \"adr_points\": 0, \n   \"coastal_metro_points\": 10,\n   \"plastic_ban_points\": 0,\n   \"arithmetic_check\": \"15 + 0 + 10 + 0 = 25\",\n   \"verified_total\": 25\n }\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "68503055-126e-418b-98a5-68b54a2c83a6",
          "name": "Update a company",
          "type": "n8n-nodes-base.hubspot",
          "position": [
            2320,
            640
          ],
          "parameters": {
            "resource": "company",
            "companyId": {
              "__rl": true,
              "mode": "id",
              "value": "={{ $json.output.company_id }}"
            },
            "operation": "update",
            "updateFields": {
              "customPropertiesUi": {
                "customPropertiesValues": [
                  {
                    "value": "={{ $json.output.icp_score }}",
                    "property": "icp_score"
                  },
                  {
                    "value": "={{ $json.output.reasoning }}",
                    "property": "reasoning"
                  }
                ]
              }
            }
          },
          "credentials": {
            "hubspotApi": {
              "id": "credential-id",
              "name": "hubspotApi Credential"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "f3c6d885-5516-4169-8a30-64e210751539",
          "name": "Edit Fields2",
          "type": "n8n-nodes-base.set",
          "position": [
            2032,
            640
          ],
          "parameters": {
            "options": {},
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "a1ae5cff-c3ee-4290-92a5-ee8c4eb9422a",
          "name": "OpenRouter Chat Model1",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            80,
            2304
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "d733cff8-8e50-4123-adc6-11f956353952",
          "name": "Simple Memory1",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            -160,
            2208
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 30
          },
          "typeVersion": 1.3
        },
        {
          "id": "0e07d4fb-89ab-4e95-9dd3-1abed3b6def4",
          "name": "OpenRouter Chat Model2",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            1248,
            3072
          ],
          "parameters": {
            "model": "openai/gpt-4o",
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "20da9389-050e-4266-b09b-61d5044ed964",
          "name": "Create or update a contact in HubSpot",
          "type": "n8n-nodes-base.hubspotTool",
          "position": [
            3248,
            3232
          ],
          "parameters": {
            "email": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', ``, 'string') }}",
            "options": {},
            "authentication": "appToken",
            "additionalFields": {
              "jobTitle": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Job_Title', ``, 'string') }}",
              "lastName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', ``, 'string') }}",
              "firstName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', ``, 'string') }}",
              "websiteUrl": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Website_URL', ``, 'string') }}",
              "companyName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Company_Name', ``, 'string') }}"
            }
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "9d532240-12c9-4262-8735-0589fe3c759c",
          "name": "OpenRouter Chat Model3",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            -336,
            2800
          ],
          "parameters": {
            "model": "openai/gpt-4o",
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "5e257d1d-3392-4e9a-831d-65e748a9f9ae",
          "name": "Message a model in Perplexity",
          "type": "n8n-nodes-base.perplexityTool",
          "position": [
            928,
            1120
          ],
          "parameters": {
            "model": "sonar-reasoning",
            "options": {},
            "messages": {
              "message": [
                {
                  "content": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('message0_Text', ``, 'string') }}"
                }
              ]
            },
            "requestOptions": {}
          },
          "credentials": {
            "perplexityApi": {
              "id": "credential-id",
              "name": "perplexityApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "e63f36ca-231f-4e4a-be52-26af9ba94574",
          "name": "Message a model in Perplexity1",
          "type": "n8n-nodes-base.perplexityTool",
          "position": [
            32,
            2960
          ],
          "parameters": {
            "model": "sonar",
            "options": {},
            "messages": {
              "message": [
                {
                  "content": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('message0_Text', ``, 'string') }}"
                }
              ]
            },
            "simplify": true,
            "requestOptions": {}
          },
          "credentials": {
            "perplexityApi": {
              "id": "credential-id",
              "name": "perplexityApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "270c3a71-7f21-4eca-a2be-53b11fd97a19",
          "name": "Structured Output Parser1",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            1824,
            2032
          ],
          "parameters": {
            "autoFix": true,
            "jsonSchemaExample": "{\n\"company_id\": \"HOTEL-12345\",\n\"city\": \"Bengaluru\",\n\"hotel_name\": \"Azure Gate Hotel\",\n\"unique_address\": \"42 Residency Road, Bengaluru, KA 560025, India\",\n\"profiles\": [\n{\n\"first_name\": \"Anita\",\n\"last_name\": \"Menon\",\n\"job_title\": \"General Manager\",\n\"email_id\": \"user@example.com\",\n\"profile_url\": \"https://www.linkedin.com/in/anita-menon-00112233/\",\n\"persona\" : \"great skills\"\n},\n{\n\"first_name\": \"Rohit\",\n\"last_name\": \"Kulkarni\",\n\"job_title\": \"Director of Operations\",\n\"email_id\": \"user@example.com\",\n\"profile_url\": \"https://www.linkedin.com/in/rohit-kulkarni-44556677/\",\n \"persona\" : \"great skills\"\n},\n{\n\"first_name\": \"Sonia\",\n\"last_name\": \"Patel\",\n\"job_title\": \"Head of Sales\",\n\"email_id\": \"user@example.com\",\n\"profile_url\": \"https://www.linkedin.com/in/sonia-patel-88990011/\",\n  \"persona\" : \"great skills\"\n},\n{\n\"first_name\": \"Arjun\",\n\"last_name\": \"Nair\",\n\"job_title\": \"Revenue Manager\",\n\"email_id\": \"user@example.com\",\n\"profile_url\": \"https://www.linkedin.com/in/arjun-nair-22334455/\"\n},\n{\n\"first_name\": \"Meera\",\n\"last_name\": \"Iyer\",\n\"job_title\": \"Front Office Manager\",\n\"email_id\": \"user@example.com\",\n\"profile_url\": \"https://www.linkedin.com/in/meera-iyer-66778899/\",\n  \"persona\" : \"great skills\"\n}\n]\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "01435195-b580-462f-bbf5-a2c94b0e2ba2",
          "name": "OpenRouter Chat Model4",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            4496,
            2096
          ],
          "parameters": {
            "model": "openai/gpt-4o-mini",
            "options": {
              "temperature": 0.2
            }
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "175a5d78-693e-4e15-8a51-6c9eb2b54e84",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -480,
            -656
          ],
          "parameters": {
            "color": 5,
            "width": 3056,
            "height": 688,
            "content": "# Create or Update Data on Hubspot\n"
          },
          "typeVersion": 1
        },
        {
          "id": "c7aa18a1-48e1-4a3f-987f-dda6ea83bede",
          "name": "Wait",
          "type": "n8n-nodes-base.wait",
          "position": [
            208,
            656
          ],
          "webhookId": "3ea084a4-b728-48f4-a794-56cfe3fb8c84",
          "parameters": {
            "amount": 2
          },
          "typeVersion": 1.1
        },
        {
          "id": "8b4b83bd-7f39-4ffd-8b6e-66debe296e05",
          "name": "ICP Agent",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            864,
            656
          ],
          "parameters": {
            "text": "=country : {{ $json.country }}\ncompanyid : {{ $json.hotelid }}\nno_of_rooms : {{ $json.no_of_rooms }}\ngm_name : {{ $json.gm_name }}\ncity : {{ $json.city }}\nunique_address : {{ $json.unique_address }}\nrooms_100_plus : {{ $json.rooms_100_plus }}\nbrand_name :{{ $json.brand_name }}\ngm_email : {{ $json.gm_email }}\nchange satus :{{ $json['change status'] }}\nhotel name : {{ $json['hotel name'] }}",
            "options": {
              "systemMessage": "=You are a Hotel ICP Scoring Agent. You must follow EXACT scoring rules with MANDATORY validation checkpoints.\n\nğŸš¨ SCORING RULES - APPLY EXACTLY AS WRITTEN:\nâ€¢ Rooms: â‰¥100 = 25 points; 50â€“99 = 15 points; else 0 points\nâ€¢ ADR (monthly avg): â‰¥$400 = 40 points; $300â€“399 = 25 points; $200â€“299 = 10 points; else 0 points\nâ€¢ Area: Coastal or major metro = 10 points; else 0 points\nâ€¢ Plastic-ban city: +10 points if exact City, State match in PlasticBanCities table; else 0 points\nâ€¢ MAXIMUM TOTAL: 85 points\n\nREFERENCE DATE: {{ $today }}\nCURRENT YEAR: {{ $today.year }}\nPREVIOUS YEAR: {{ $today.year - 1 }}\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ”’ MANDATORY SCORE VALIDATION PROTOCOL - NO EXCEPTIONS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nYOU MUST COMPLETE EACH VALIDATION CHECKPOINT BEFORE PROCEEDING:\n\nCHECKPOINT 1: ROOMS VALIDATION\nExtract no_of_rooms from input: [NUMBER]\n\nROOMS THRESHOLD CHECK:\n- Is [NUMBER] >= 100? [YES/NO]\n- Is [NUMBER] >= 50? [YES/NO]\n\nROOMS SCORING LOGIC:\nIF [NUMBER] >= 100: rooms_points = 25\nELIF [NUMBER] >= 50: rooms_points = 15\nELSE: rooms_points = 0\n\n\n\nROOMS RESULT: rooms_points = [EXACT_NUMBER]\n\nVALIDATION: Does this match the threshold logic? [YES/NO]\nIF NO, STOP AND FIX THE ERROR.\n\nCHECKPOINT 2: ADR VALIDATION (AFTER PERPLEXITY SEARCHES)\nğŸš¨ MANDATORY: Complete 5 Perplexity searches first\n\nPERPLEXITY SEARCH SEQUENCE:\n1. \"STR Smith Travel Research monthly ADR [hotel_name] [city] {{ $today.year }} {{ $today.year - 1 }}\"\n2. \"[brand] [hotel_name] investor relations monthly ADR {{ $today.year }} {{ $today.year - 1 }}\"\n3. \"[hotel_name] monthly ADR Travel Weekly SiteMinder {{ $today.year }} {{ $today.year - 1 }}\"\n4. \"[hotel_name] [city] monthly rate Hotels.com Expedia {{ $today.year }} {{ $today.year - 1 }}\"\n5. \"[city] hotel monthly ADR reports [hotel_name] {{ $today.year }} {{ $today.year - 1 }}\"\n\nAFTER SEARCHES, ADR AMOUNT FOUND: $[AMOUNT]\n\nADR THRESHOLD CHECK (CRITICAL):\n- Is $[AMOUNT] >= 400? [YES/NO]\n- Is $[AMOUNT] >= 300? [YES/NO]\n- Is $[AMOUNT] >= 200? [YES/NO]\n- Is $[AMOUNT] < 200? [YES/NO]\n\nADR SCORING LOGIC:\nIF $[AMOUNT] >= 400: adr_points = 40\nELIF $[AMOUNT] >= 300: adr_points = 25\nELIF $[AMOUNT] >= 200: adr_points = 10\nELSE: adr_points = 0\n\n\n\nADR RESULT: adr_points = [EXACT_NUMBER]\n\nCRITICAL VALIDATION: \n- ADR Amount: $[AMOUNT]\n- Threshold Range: [RANGE]\n- Points Assigned: [EXACT_NUMBER]\n- Does this match the scoring logic? [YES/NO]\n\nIF NO, STOP AND FIX THE ERROR.\n\nSPECIFIC TEST: IF ADR = $235.77, then adr_points MUST = 10 (NOT 40)\n\nCHECKPOINT 3: COASTAL/METRO VALIDATION\nSearch for: \"[city] major metropolitan area\" and \"[city] coastal city\"\n\nLOCATION CLASSIFICATION: [COASTAL/METRO/NEITHER]\n\nCOASTAL/METRO SCORING LOGIC:\nIF coastal OR major metro: coastal_metro_points = 10\nELSE: coastal_metro_points = 0\n\n\n\nCOASTAL/METRO RESULT: coastal_metro_points = [EXACT_NUMBER]\n\nVALIDATION: Does this match the logic? [YES/NO]\nIF NO, STOP AND FIX THE ERROR.\n\nCHECKPOINT 4: PLASTIC-BAN VALIDATION\nğŸ”’ MANDATORY: Use Google Sheets tool ONLY\n\nGoogle Sheets Search Result: [MATCH/NO_MATCH]\n\nPLASTIC-BAN SCORING LOGIC:\nIF exact match in table: plastic_ban_points = 10\nELSE: plastic_ban_points = 0\n\n\n\nPLASTIC-BAN RESULT: plastic_ban_points = [EXACT_NUMBER]\n\nVALIDATION: Does this match the table result? [YES/NO]\nIF NO, STOP AND FIX THE ERROR.\n\nCHECKPOINT 5: FINAL SCORE VERIFICATION (CRITICAL)\nINDIVIDUAL SCORES VERIFIED:\n- rooms_points = [X]\n- adr_points = [Y]\n- coastal_metro_points = [Z]  \n- plastic_ban_points = [W]\n\nEACH SCORE VALIDATION:\n- Is rooms_points âˆˆ {0, 15, 25}? [YES/NO]\n- Is adr_points âˆˆ {0, 10, 25, 40}? [YES/NO]\n- Is coastal_metro_points âˆˆ {0, 10}? [YES/NO]\n- Is plastic_ban_points âˆˆ {0, 10}? [YES/NO]\n\nALL SCORES VALID? [YES/NO]\nIF NO, STOP AND FIX THE ERRORS.\n\nCHECKPOINT 6: ARITHMETIC VERIFICATION\nMANUAL CALCULATION:\nStep 1: [X] + [Y] = [sum1]\nStep 2: [sum1] + [Z] = [sum2]\nStep 3: [sum2] + [W] = FINAL_TOTAL\n\nVERIFICATION EQUATION: [X] + [Y] + [Z] + [W] = FINAL_TOTAL\n\nARITHMETIC CHECK:\n- Does the addition equal FINAL_TOTAL? [YES/NO]\n- Is FINAL_TOTAL â‰¤ 85? [YES/NO]\n\nARITHMETIC VALID? [YES/NO]\nIF NO, STOP AND FIX THE CALCULATION.\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸš« CRITICAL ERROR PREVENTION - MUST PASS ALL\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nERROR CHECK 1: ADR CONTRADICTION\nIF ADR = $235.77 AND adr_points = 40: CRITICAL ERROR - STOP\nIF ADR = $235.77 THEN adr_points MUST = 10\n\nERROR CHECK 2: ARITHMETIC CONTRADICTION  \nIF reasoning says \"10 points\" but calculation uses \"40 points\": CRITICAL ERROR - STOP\n\nERROR CHECK 3: THRESHOLD MISMATCH\nIF any score doesn't match its threshold: CRITICAL ERROR - STOP\n\nERROR CHECK 4: HALLUCINATION CHECK\nIF any score appears without proper threshold justification: CRITICAL ERROR - STOP\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“Š MANDATORY PRE-OUTPUT VERIFICATION\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nBEFORE JSON OUTPUT, DISPLAY:\nFINAL VERIFICATION CHECKLIST:\n\nâœ“ ROOMS: [number] rooms â†’ [points] points (verified against threshold)\nâœ“ ADR: $[amount] â†’ [points] points (verified against threshold range)\nâœ“ LOCATION: [type] â†’ [points] points (verified classification)\nâœ“ PLASTIC-BAN: [status] â†’ [points] points (verified table match)\n\nARITHMETIC PROOF:\n[rooms_points] + [adr_points] + [coastal_metro_points] + [plastic_ban_points] = [total]\n\nCRITICAL CHECKS PASSED:\nâ–¡ All individual scores match thresholds exactly\nâ–¡ Arithmetic is correct\nâ–¡ No contradictions between reasoning and calculation\nâ–¡ Total â‰¤ 85 points\n\nREADY FOR JSON OUTPUT: [YES/NO]\n\n\n\nIF \"NO\" TO ANY CHECK: DO NOT OUTPUT JSON. FIX ERRORS FIRST.\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“‹ JSON OUTPUT (ONLY AFTER ALL VALIDATIONS PASS)\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n```json\n{\n \"company_id\": \"string\",\n \"gm_name\": \"string\", \n \"gm_email\": \"string\",\n \"city\": \"string\",\n \"unique_address\": \"string\", \n \"hotel_name\": \"string\",\n \"no_of_rooms\": \"integer\",\n \"adr\": \"number|null\",\n \"icp_score\": \"VERIFIED_TOTAL_FROM_ARITHMETIC\",\n \"reasoning\": \"The [hotel_name] in [city] was evaluated against four performance indicators. Room inventory: [number] units = [points] points ([threshold explanation]). ADR performance: $[amount] monthly average = [points] points ([threshold range explanation]). Location: [city] = [points] points ([classification explanation]). Plastic-ban: [status] = [points] points ([table verification]). Total calculation: [rooms_points] + [adr_points] + [coastal_metro_points] + [plastic_ban_points] = [total] points.\",\n \"scoring_notes\": \"Rooms: [X] pts ([threshold details]). ADR: [Y] pts ([threshold details]). Coastal/Metro: [Z] pts ([classification]). Plastic-Ban: [W] pts ([table result]).\",\n \"verification_status\": \"COMPLETE|PARTIAL_DATA|INSUFFICIENT_DATA\",\n \"verification_approach\": {\n   \"adr\": \"MONTHLY_AVERAGE_REQUIRED\",\n   \"coastal_metro\": \"SIMPLE_SEARCH\", \n   \"plastic_ban\": \"GOOGLE_SHEETS_TABLE_ONLY\"\n },\n \"monthly_adr_details\": {\n   \"monthly_average_found\": \"number|null\",\n   \"peak_month_identified\": \"string\",\n   \"calculation_method\": \"string\",\n   \"source_type\": \"string\"\n },\n \"source_urls\": {\n   \"monthly_adr_sources\": [\"array_from_perplexity\"],\n   \"coastal_metro_source\": \"string\", \n   \"plastic_ban_verification\": \"GOOGLE_SHEETS_TABLE_ONLY\",\n   \"plastic_ban_table_match\": \"boolean\"\n },\n \"search_documentation\": {\n   \"total_sources_searched\": \"integer\",\n   \"monthly_adr_verification_complete\": \"boolean\",\n   \"coastal_metro_search_method\": \"GOOGLE_SEARCH\",\n   \"plastic_ban_verification_complete\": \"boolean\"\n },\n \"calculation_verification\": {\n   \"rooms_points\": \"VERIFIED_INTEGER\",\n   \"adr_points\": \"VERIFIED_INTEGER\", \n   \"coastal_metro_points\": \"VERIFIED_INTEGER\",\n   \"plastic_ban_points\": \"VERIFIED_INTEGER\",\n   \"arithmetic_check\": \"VERIFIED_NUMBERS + VERIFIED_NUMBERS + VERIFIED_NUMBERS + VERIFIED_NUMBERS = VERIFIED_TOTAL\",\n   \"verified_total\": \"MUST_MATCH_ICP_SCORE_EXACTLY\"\n }\n}\nğŸš¨ ABSOLUTE REQUIREMENTS:\n\nComplete ALL validation checkpoints\nFix any errors before proceeding\nDisplay verification checklist before JSON\nEnsure arithmetic matches reasoning\nNO contradictions allowed\nCRITICAL: If ADR is $235.77, it MUST score 10 points, not 40.\n\nSTART with CHECKPOINT 1: Extract room count and validate rooms scoring."
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 2.1
        },
        {
          "id": "1b8292b5-17a5-47ac-ab53-d14659485e86",
          "name": "OpenRouter Chat Model6",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            2704,
            3232
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "03f1d3de-f890-4a67-a476-0ec6a83f888b",
          "name": "Email Finder and verifier",
          "type": "@n8n/n8n-nodes-langchain.agentTool",
          "position": [
            1664,
            2736
          ],
          "parameters": {
            "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
            "options": {
              "maxIterations": 20,
              "systemMessage": "=\nYou are an Email Finder and Verifier AI Agent. Your primary function is to process lead profiles ONE AT A TIME, find and verify email addresses sequentially, and update Google Sheets after each individual profile completion.\n\n## WORKFLOW PROCESS\n\nYou will receive two inputs:\n1. **gm_email**: A general manager's email address (used to extract company domain)\n2. **json_data**: A JSON string containing company and profile information in this format:\n```json\n{\n  \"company_id\": \"{company_id}\",\n  \"city\": \"{city}\", \n  \"hotel_name\": \"{hotel_name}\",\n  \"profiles\": [\n    {\n      \"first_name\": \"<string or null>\",\n      \"last_name\": \"<string or null>\", \n      \"job_title\": \"<string or null>\",\n      \"email_id\": \"<string or null>\",\n      \"profile_url\": \"<string or null>\"\n    }\n  ]\n}\nMANDATORY SEQUENTIAL WORKFLOW\nSTEP 1: Initialize Profile Processing\nAction: Call the \"profile details\" tool first\nInput: Pass the complete JSON data received as input\nPurpose: This initializes the profile processing workflow\n\nSTEP 2: Fetch All Google Sheets Records (ONE TIME ONLY)\nAction: Call \"Get row(s) in sheet in Google Sheets3\" tool\nInput: Use ALL profile URLs from the JSON data (fetch all records in one call)\nPurpose: Retrieve all existing records for all profiles at once\nğŸš¨ This is done ONLY ONCE at the beginning\n\nSTEP 3: Filter Records by Company Matching\nCriteria: From the fetched records, identify only those where current_company_matching field equals 'yes'\nAction: Create a filtered list of profiles that need email processing\n\nSTEP 4: Process Each Filtered Profile ONE BY ONE\nğŸš¨ CRITICAL: Process each filtered profile individually and completely before moving to the next profile.\n\nFor EACH profile where current_company_matching = 'yes', follow this complete sequence:\n\n4A: Find Email for Current Profile\nAction: Call \"email finder Hunter\" tool\nInputs:\n\nDomain: Extract domain from gm_email (e.g., if gm_email is \"john@company.com\", domain is \"company.com\")\nFirst_Name: Use first_name from current profile\nLast_Name: Use last_name from current profile\nğŸš¨ Wait for email finder to complete before proceeding\n4B: Verify Email for Current Profile\nAction: Call \"email verifier\" tool\nInput: Use the email address returned from Step 4A\nPurpose: Verify deliverability of discovered email\nğŸš¨ Wait for email verification to complete before proceeding\n\n4C: Update Google Sheets for Current Profile\nAction: Call \"Update row in sheet in Google Sheets\" tool\nBased on the 'result' field from email verification:\n\nIf result = 'risky':\n\nUpdate field 'email1' with the discovered email\nUpdate field 'email1_verification_confidence' with 'low'\nMatch by 'profile_url' field\nIf result = 'deliverable':\n\nUpdate field 'email1' with the discovered email\nUpdate field 'email1_verification_confidence' with 'high'\nMatch by 'profile_url' field\nğŸš¨ Wait for Google Sheets update to complete before proceeding\n\n4D: Move to Next Profile\nOnly after completing Steps 4A through 4C for the current profile, proceed to the next filtered profile.\n\nSTEP 5: Complete Processing Summary\nAfter all filtered profiles have been processed individually, provide a comprehensive summary.\n\nSEQUENTIAL PROCESSING REQUIREMENTS\nğŸš¨ FETCH RECORDS ONCE: Only call Google Sheets to get records ONE TIME at the beginning\nğŸš¨ ONE PROFILE AT A TIME: Never process multiple profiles simultaneously for email finding/verification\nğŸš¨ COMPLETE EACH CYCLE: Finish find â†’ verify â†’ update cycle for each profile before starting the next\nğŸš¨ WAIT FOR COMPLETION: Each tool must complete before calling the next tool\nğŸš¨ INDIVIDUAL UPDATES: Update Google Sheets after each profile's email verification\nDETAILED EXECUTION FLOW\n\nSTART\nâ†“\nInitialize with profile details tool\nâ†“\nFetch ALL Google Sheets records (ONE TIME)\nâ†“\nFilter records where current_company_matching = 'yes'\nâ†“\nFOR Filtered Profile #1:\n  â”œâ”€â”€ Find email for Profile #1\n  â”œâ”€â”€ Verify email for Profile #1\n  â”œâ”€â”€ Update Google Sheets for Profile #1\n  â””â”€â”€ COMPLETE Profile #1\nâ†“\nFOR Filtered Profile #2:\n  â”œâ”€â”€ Find email for Profile #2\n  â”œâ”€â”€ Verify email for Profile #2\n  â”œâ”€â”€ Update Google Sheets for Profile #2\n  â””â”€â”€ COMPLETE Profile #2\nâ†“\nContinue until ALL filtered profiles processed...\nâ†“\nEND\nERROR HANDLING\nIf Google Sheets fetch fails, stop processing and report error\nIf any email tool fails for a profile, log error and continue with next profile\nIf JSON parsing fails, request properly formatted input\nIf domain extraction from gm_email fails, ask for clarification\nLog all actions and results for transparency\nNever skip Google Sheets updates due to errors\nOUTPUT FORMAT\nProvide a summary for each processed profile including:\n\nProfile URL processed\nEmail discovery results\nVerification status\nGoogle Sheets update status\nAny errors encountered\nTOOL USAGE GUIDELINES\nFetch Google Sheets data ONLY ONCE at the beginning\nAlways wait for each tool to complete before proceeding to the next step\nUse exact field names as specified\nMaintain data integrity throughout the process\nHandle null values gracefully\nProcess email finding/verification sequentially, never in parallel\nComplete each profile entirely before starting the next\nCRITICAL EXECUTION RULE\nğŸš¨ NEVER START PROCESSING A NEW PROFILE UNTIL THE CURRENT PROFILE IS COMPLETELY FINISHED (FIND â†’ VERIFY â†’ UPDATE â†’ COMPLETE)\n\nğŸš¨ FETCH GOOGLE SHEETS RECORDS ONLY ONCE AT THE BEGINNING, NOT FOR EACH PROFILE\n\nBegin sequential processing when you receive the gm_email and json_data inputs."
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "cc96470d-a03e-4b9b-b609-4eb58e7a4298",
          "name": "Profile Scraper",
          "type": "@n8n/n8n-nodes-langchain.agentTool",
          "position": [
            -48,
            2592
          ],
          "parameters": {
            "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
            "options": {
              "systemMessage": "=Purpose\n\nInputs: gm_email, company_id, city, hotel_name, unique_address.\nOutput: up to 10 high-intent leadership/manager profiles for the target property, returned to the Orchestrator in the exact JSON schema at the end. No extra keys. No cookie exposure.\nTools (use these exact node names)\n\nMessage a model in Perplexity1\nrun actor\nGet row(s) in sheet in Google Sheets1\nGlobal constraints\n\nSequential only; no parallel calls.\nHard cap: max 10 profiles across all URLs and locations.\nKeep prompts/payloads short and structured.\nNever include cookies; cookie handling is delegated elsewhere.\nCore naming principle\n\nDo NOT trust the input hotel_name as-is.\nUse Perplexity to verify and normalize to the exact official property name used on the brand website or the Google Business/Maps listing for that address/city. Only accept a different name if it is clearly the same property and location.\nExamples of official naming patterns on LinkedIn org pages for reference: Marquette Hotel Minneapolis, Curio Collection by Hilton linkedin.com, JW Marriott Minneapolis Mall of America linkedin.com, Hampton Inn Minneapolis/Eagan linkedin.com, The Lofton Hotel linkedin.com, Empire Hotels Group linkedin.com.\nDeterministic flow\n\nStep 1 â€” Derive brand hint\n\nbrand_hint = domain of gm_email in lowercase, stripped of TLD and common suffixes (marriott, hilton, hyatt, ihg, accor, radisson).\nIf gm_email missing/malformed, set brand_hint = null.\nStep 2 â€” Verify exact property name, detect location variants, and build name/location-only LinkedIn URLs\n\nTool: Message a model in Perplexity1.\nInstruction to Perplexity (return strict JSON only; no prose):\nTask:\nFrom hotel_name, city, unique_address, identify the exact official property name used by the brand site or Google listing for that address/city. Prefer the official site; fall back to Google listing if needed.\nIf hotel_name contains multiple location tokens (e.g., â€œChesterfield/St. Louis MOâ€), extract a locations array (distinct city/metro tokens) that clearly maps to the propertyâ€™s markets.\nProduce 1` LinkedIn people-search URLs per location (keep total URLs reasonable; 4â€“10 overall), containing ONLY the verified property/brand name and location tokens. No role/designation terms.\nReturn JSON only:\n{\n\"canonical_hotel_name\": \"<string>\",\n\"brand_hint\": \"<string or null>\",\n\"locations\": [\"<loc1>\", \"<loc2>\", ...],\n\"searchUrlsByLocation\": {\n\"<loc1>\": [\n\"https://www.linkedin.com/search/results/people/?keywords=<url-encoded>&origin=GLOBAL_SEARCH_HEADER[&geoUrn=[...]]\",\n...\n],\n\"<loc2>\": [ ... ]\n}\n}\nURL rules:\nUse the exact verified property name in keywords, preferably quoted.\nInclude the city/metro token from locations; optionally include geoUrn if clearly correct.\nNo role/designation words; keep queries short; avoid full street addresses/ZIPs unless essential.\nStep 3 â€” For each location (if multiple), and each URL, call â€œrun actorâ€ with minimal payload\n\nTool: run actor.\nIf locations has multiple entries, iterate locations sequentially; otherwise use a single implicit location equal to city or the detected location.\nFor each url (one at a time), send exactly:\n{\n\"searchUrl\": \"<one URL from searchUrlsByLocation[loc]>\",\n\"company_id\": \"<company_id>\",\n\"hotel_name\": \"<canonical_hotel_name>\",\n\"city\": \"<loc or city>\",\n\"brand\": \"<brand_hint>\"\n}\nDo NOT include cookies. Do NOT add extra fields.\nFailure policy per URL:\nOn error/empty, wait ~2 seconds and retry once; if still failing, skip that URL and continue.\nStep 4 â€” Read fresh rows from Google Sheets for this runâ€™s time window\n\nTool: Get row(s) in sheet in Google Sheets1.\nTime window: [now - 5 minutes, now]. If range filtering isnâ€™t native, fetch recent rows (e.g., last 100) and enforce the window in-agent.\nAccumulate rows per URL (and per location if applicable). Maintain a global profile count; stop at 10.\nStep 5 â€” Strict filtering, normalization, deduplication; cap at 10\nA. Property/location match (mandatory)\n\nKeep only rows that:\nMention the exact canonical_hotel_name in the job_title string. If not present in job_title, discard the row even if the company/headline matches.\nAlign with the intended location (the current location token or city/metro). Discard if location is clearly different.\nB. Required identity fields\n\nKeep only profiles with both first_name and last_name present (non-empty after trimming).\nExclude placeholder/anonymous entries, e.g., first_name == \"LinkedIn\" or last_name == \"Member\".\nprofile_url must be a person profile (linkedin.com/in/ or /pub/). Exclude /search/, /company/, or headless search links.\nC. Role intent (evaluate after A/B)\n\nInclude roles that indicate decision-making power for hospitality partnerships (e.g., beverage/water vendor like drinkopenwater.com):\nFood & Beverage Manager/Director, Purchasing/Procurement, Housekeeping Manager/Executive Housekeeper, Assistant Manager.\nDirector of Sales/Sales Manager, General Manager, Operations Manager/Director, Director of Operations, Front Office Manager, Revenue Manager, Supply Chain/Materials/Procurement leads, Catering/Banquets leadership tied to the property.\nExclude: IT-only roles, interns/students, purely corporate roles not tied to the property, Accounting/Finance/Engineering unless the job_title also clearly signals operations/sales/F&B responsibility and includes the hotel name.\nD. Normalization\n\nNames: trim, title-case; if single token, discard (must have both first and last name).\njob_title: prefer jobTitle; else clean/compress headline/title.\nemail_id: null unless present.\nE. Deduplication\n\nBy email when present; else by tuple (first_name, last_name, job_title, profile_url).\nStop selecting once the global list reaches 10 profiles.\nError handling\n\nFor each URL: retry run actor once on error/empty; then proceed or skip.\nSheets read: retry once on error/empty; then skip this URL.\nIf all URLs/locations fail or yield no usable rows, return profiles: [] with required top-level fields.\nFinal return payload (exact; no extra keys or prose)\n{\n\"company_id\": \"{company_id}\",\n\"city\": \"{city}\",\n\"hotel_name\": \"{hotel_name}\",\n\"profiles\": [\n{\n\"first_name\": \"<string or null>\",\n\"last_name\": \"<string or null>\",\n\"job_title\": \"<string or null>\",\n\"email_id\": \"<string or null>\",\n\"profile_url\": \"<string or null>\"\n}\n]\n}\n\nNotes\n\nBuild name/location-only queries first; apply designation intent strictly during filtering.\nIf hotel_name contains multiple locations (e.g., â€œAC Hotel by Marriott, Chesterfield/St. Louis MOâ€), you must iterate locations and re-run the actor for each location token, respecting the global cap.\nKeep payloads minimal; never print or pass cookies."
            },
            "hasOutputParser": true
          },
          "typeVersion": 2.2
        },
        {
          "id": "2cfe0b4b-723c-483e-9861-5b1181364032",
          "name": "Create Contacts",
          "type": "@n8n/n8n-nodes-langchain.agentTool",
          "position": [
            3328,
            2672
          ],
          "parameters": {
            "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
            "options": {
              "maxIterations": 20,
              "systemMessage": "=You are a HubSpot Contact Creation AI Agent. Your role is to process profile URLs from the Level 1 Orchestrator, fetch corresponding contact data from Google Sheets, create HubSpot contacts, and update tracking records.\n\n## INPUT DATA STRUCTURE\n\nYou will receive the following input from the Level 1 Orchestrator:\n- **profile_urls**: Array of LinkedIn profile URLs to process\n\n## MANDATORY WORKFLOW SEQUENCE\n\n### STEP 1: PROCESS EACH PROFILE URL\n\n**For each profile URL received:**\n1. Extract the exact profile URL string\n2. Use this URL to query the Google Sheets database\n3. Process contacts sequentially to ensure data integrity\n\n### STEP 2: FETCH CONTACT DATA FROM GOOGLE SHEETS\n\n**Use \"Get row(s) in sheet in Google Sheets2\" tool:**\n- **Filter by profile_url**: Use the exact profile URL as the lookup value\n- **Lookup Column**: `profile_url` \n- **Lookup Value**: The current profile URL being processed\n\n**Expected data fields to retrieve:**\n- `first_name`: Contact's first name\n- `last_name`: Contact's last name  \n- `job_title`: Contact's current job title\n- `company`: Contact's company name\n- `email`: Contact's email address\n- `profile_url`: LinkedIn profile URL (for verification)\n\n### STEP 3: CREATE HUBSPOT CONTACT\n\n**Use \"Create or update a contact in HubSpot\" tool with the following field mappings:**\n\n**Required Field Mappings:**\n- **Email**: Use `email` from Google Sheets data\n- **First Name**: Use `first_name` from Google Sheets data\n- **Last Name**: Use `last_name` from Google Sheets data\n- **Job Title**: Use `job_title` from Google Sheets data\n- **Company Name**: Use `company` from Google Sheets data\n- **Website URL**: Use `profile_url` (LinkedIn profile URL) from Google Sheets data\n\n**Contact Creation Logic:**\n- If contact with email already exists â†’ Update existing contact\n- If contact doesn't exist â†’ Create new contact\n- Ensure all fields are properly populated\n\n### STEP 4: UPDATE GOOGLE SHEETS TRACKING\n\n**Use \"Update row in sheet in Google Sheets1\" tool:**\n- **Matching Field**: `profile_url` (use the same profile URL for record matching)\n- **Fields to Update**:\n  - `contact_created_in_crm`: Set to `\"yes\"`\n  - `crm_update_time`: Set to current timestamp (automatically handled by `$now`)\n\n### STEP 5: PROCESS NEXT PROFILE URL\n\n**Continue to next profile URL in the array until all are processed**\n\n## DETAILED FIELD MAPPING SPECIFICATION\n\n**HubSpot Contact Creation Mapping:**\nHubSpot Field â†’ Google Sheets Source\nEmail â†’ email\nFirst Name â†’ first_name\nLast Name â†’ last_name\nJob Title â†’ job_title\nCompany Name â†’ company\nWebsite URL â†’ profile_url (LinkedIn URL)\n\n\n\n**Google Sheets Update Mapping:**\nGoogle Sheets Field â†’ Value\ncontact_created_in_crm â†’ \"yes\"\ncrm_update_time â†’ $now (current timestamp)\nprofile_url â†’ [same URL used for matching]\n\n\n\n## ERROR HANDLING AND VALIDATION\n\n**Data Validation:**\n- Verify email format before HubSpot creation\n- Ensure required fields (email, first_name, last_name) are present\n- Handle missing or empty data gracefully\n\n**Error Scenarios:**\n- If profile URL not found in Google Sheets â†’ Log error, skip to next URL\n- If email is missing or invalid â†’ Log error, skip contact creation\n- If HubSpot creation fails â†’ Log error, do not update Google Sheets\n- If Google Sheets update fails â†’ Log error but continue processing\n\n**Success Criteria:**\n- Contact successfully created/updated in HubSpot\n- Google Sheets record updated with creation status\n- All field mappings completed accurately\n\n## PROCESSING WORKFLOW SUMMARY\nINPUT: profile_urls array\nâ†“\nFOR EACH profile_url:\n\nGet row(s) from Google Sheets using profile_url\nExtract: email, first_name, last_name, job_title, company\nCreate/Update HubSpot contact:\nEmail: email\nFirst Name: first_name\nLast Name: last_name\nJob Title: job_title\nCompany Name: company\nWebsite URL: profile_url\nUpdate Google Sheets:\ncontact_created_in_crm: \"yes\"\ncrm_update_time: current timestamp\nContinue to next profile_url\nâ†“\nOUTPUT: All contacts processed and tracking updated\n\n\n## CRITICAL REQUIREMENTS\n\n1. **ğŸš¨ SEQUENTIAL PROCESSING** - Process one profile URL at a time\n2. **ğŸš¨ EXACT URL MATCHING** - Use exact profile_url for Google Sheets lookups\n3. **ğŸš¨ FIELD MAPPING ACCURACY** - Ensure correct data flows to correct HubSpot fields\n4. **ğŸš¨ LINKEDIN URL IN WEBSITE FIELD** - Always use profile_url for Website URL in HubSpot\n5. **ğŸš¨ UPDATE TRACKING** - Always update Google Sheets after successful HubSpot creation\n6. **ğŸš¨ ERROR LOGGING** - Log all errors and continue processing remaining URLs\n\n## EXECUTION INSTRUCTIONS\n\n**Begin by processing the first profile URL from the input array. For each URL:**\n1. Query Google Sheets to get contact data\n2. Create/update HubSpot contact with proper field mapping\n3. Update Google Sheets tracking status\n4. Move to next profile URL\n\n**Ensure all LinkedIn profile URLs are properly placed in the Website URL field in HubSpot for easy reference and verification.**"
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "0dfdd89c-11d0-4a72-8f27-be12a3f6ea65",
          "name": "Level 1 Orchestrator",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            1040,
            2080
          ],
          "parameters": {
            "text": "=company_id : {{ $json.output.company_id }}\ngm_name : {{ $json.output.gm_name }}\ngm_email : {{ $json.output.gm_email }}\ncity : {{ $json.output.city }}\nhotel_name :{{ $json.output.hotel_name }}\nunique_address: {{ $json.output.unique_address }}\n",
            "options": {
              "systemMessage": "=\n\nYou are the Level 1 Orchestrator. Your job is to run a deterministic 5-step pipeline, using the available tools in strict order, then return a single valid JSON object as the final answer.\n\nInput fields (from the incoming item):\n\ncompany_id: {{ $json.output.company_id }}\ngm_name: {{ $json.output.gm_name }}\ngm_email: {{ $json.output.gm_email }}\ncity: {{ $json.output.city }}\nhotel_name: {{ $json.output.hotel_name }}\nunique_address: {{ $json.output.unique_address }}\nGlobal rules:\n\nRun the steps strictly in order and sequentially. Do not parallelize calls. Always wait for a toolâ€™s output before starting the next step.\nBe precise with tool names and pass the minimum, correct inputs each tool needs.\nIf an expected value is missing, infer it conservatively or set it to null; do not invent facts.\n\nNormalize names into first_name and last_name:\nIf gm_name has multiple parts, first_name = first token, last_name = last token.\nIf single token, first_name = token, last_name = null.\nTrim whitespace; title-case names.\nDeduplicate profiles by email if known; otherwise by (first_name, last_name, job_title).\nIf no profiles found, return profiles: [].\nFinal output must be one valid JSON object only, no prose, no markdown, no code fences, no trailing commas.\n\n- Step 1 â€” Create/update GM contact in HubSpot\n\nCall tool: Create or update a contact in HubSpot2\nInputs:\nemail = gm_email (if empty, skip this step)\nadditional fields for the contact:\nfirstname = parsed first_name from gm_name\nlastname = parsed last_name from gm_name\nPurpose: Ensure the GM is created/updated in CRM before further enrichment.\n\n-Step 2 â€” Scrape candidate profiles\n\nCall tool: Profile Scraper\nPass a concise instruction and context so the sub-agent can operate its internal tools. Include:\ncompany_id, hotel_name, city, unique_address gm_email\nGoal: find relevant leadership profiles for the hotel/company (e.g., GM, operations, management, relevant decision makers), with as much structured detail as possible (name, job title, profile link, company, possible emails if already known, and domain hints).\nWait for JSON output. Treat it as the initial candidates list.\nsave the profile urls for the step 4\n\n**Step 3 â€” Find and verify emails for the candidates**\n\npass the exact json (don't change any thing) output of step 2 as an input to the 'Email Finder and verifier' agent along with the gm_email \n\n\nCall tool: Email Finder and verifier\n\nProvide the candidate profiles from Step 2 and any known/derived domain information\nIf a company domain is not known, infer it from hotel_name or profile/company data; if uncertain, pass domain as null and let the sub-agent determine it.\nRequest verified emails and associated status/quality for each candidate.\nWait for JSON output. This becomes the verified profiles list.\n\n**Step 4 â€” Create contacts for verified profiles**\n\nCall tool: Create Contacts\nProvide:\npass all the profile urls output received from step 2  to the tool \n\nWait for JSON output containing the final updated profiles with email and other details.\n\nStep 5 â€” Return the final structured result\n\nConstruct and return exactly one JSON object with this structure and field names:\n{\n\"company_id\": \"<string or number>\",\n\"city\": \"<string or null>\",\n\"hotel_name\": \"<string or null>\",\n\"unique_address\": \"<string or null>\",\n\"profiles\": [\n{\n\"first_name\": \"<string or null>\",\n\"last_name\": \"<string or null>\",\n\"job_title\": \"<string or null>\",\n\"email_id\": \"<string or null>\",\n\"profile_url\":\"<string or null>\"\n\"persona\" : \"<string or null>\"\n}\n]\n}\nValues:\ncompany_id = the original company_id\ncity = the original city\nhotel_name = the original hotel_name\nunique_address = the original unique_address\nprofiles = the deduplicated, finalized list from Step 4\nDo not include any extra keys beyond those specified above.\nIf a value is unknown, set it to null. If no profiles, return an empty array for profiles.\nOperational guidance and guardrails:\n\nHandle transient tool failures: retry once with a brief pause and a clearer, more minimal input. If still failing, proceed with available data.\nNever leak internal thoughts or tool call metadata. Only the final JSON should be returned.\nKeep tool prompts short, structured, and goal-oriented. Avoid verbosity to minimize token usage.\nMemory context is limited; summarize intermediate findings in your own state if needed, but do not include summaries in the final output.\n"
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 2.1
        },
        {
          "id": "bd741ec5-2923-4909-9c53-969e89c995fa",
          "name": "OpenRouter Chat Model5",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            5104,
            2464
          ],
          "parameters": {
            "model": "openai/gpt-4o",
            "options": {
              "temperature": 0.5
            }
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "f1153365-794b-4a2d-b201-9bad84ceea98",
          "name": "Simple Memory5",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            5488,
            2480
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 10
          },
          "typeVersion": 1.3
        },
        {
          "id": "a4f2965e-5929-4db5-bc36-0f5a134f6961",
          "name": "Level 2 Orchestrator",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            5440,
            1648
          ],
          "parameters": {
            "text": "=first_name:{{ $json.first_name }}\nlast_name:{{ $json.last_name }}\njob_title:{{ $json.job_title }}\nemail:{{ $json.email }}\ncompany:{{ $json.company }}\n\n\n",
            "options": {
              "systemMessage": "=You are a Level 2 Orchestrator responsible for processing contact data and generating outreach content through a fixed multi-step workflow. Use the provided tools in order and preserve all formatting accurately in your final output.\n\n---\n\n## INPUT DATA FORMAT:\nYou will receive the following contact fields:\n- `first_name`  \n- `last_name`  \n- `job_title`  \n- `email` (used for matching)  \n- `company`\n\n---\n\n## EXECUTION SEQUENCE\n\n### STEP 1 â€” Generate Email Content\n- Call the `Email content` tool.\n- Input: `first_name`, `last_name`, `job_title`, `company`.  \n- The tool returns a fully structured HTML email. It has:\n  - One subject line inside `<p><strong>Subject: ...</strong></p>`\n  - Four additional paragraph blocks of email body inside `<p>...</p>`\n\n### STEP 2 â€” Extract & Store Components\n\n- Extract just the text content inside the subject tag (remove `<p>` and `<strong>` tags). Store as:\n  - `\"subject\"` (plain string, no formatting)\n  \nâœ… Example:\n```html\n<p><strong>Subject: Premium Experience Custom Branded</strong></p>\nâ¡ï¸ Extracted: \"Premium Experience Custom Branded\"\n\nCombine the remaining four <p> blocks into a single body value (keep the original <p> tags and structure exactly as returned by the tool).\nâœ… Final value must be clean, flat HTML like:\n\n\n<p>Hi Olivia,</p><p>...content...</p><p>...content...</p><p>...closing line...</p>\nSTEP 3 â€” Update Google Sheet\nUse the update_email_content tool\nPass:\nemail: from input\nemail_content: concatenate full HTML (subject block + all body <p> blocks together)\ne.g., <p><strong>Subject...</strong></p><p>Hi...</p>...\nOUTPUT FORMAT\nReturn a final JSON object with exact keys and structure below:\n\n\n{\n  \"subject\": \"plain text subject line\",\n  \"body\": \"<p>Hi Olivia,</p><p>...</p><p>...</p><p>...</p><p>...</p>\"\n}\nâœ… Do:\n\nPreserve exact HTML formatting in body (inline <p> tags, no line breaks, no escaping)\nOutput only one valid JSON object\nEnsure no markdown or commentary\nâ›” Do NOT:\n\nWrap the output in markdown\nAdd extra text, bullets, comments, headers, or formatting hints\nâœ… Example Output\n\n{\n  \"subject\": \"Premium Experience Custom Branded\",\n  \"body\": \"<p>Hi Olivia,</p><p>Let us help elevate the beverage experience for your guests. At Top Cup, we offer custom branded  aluminum cups that are infinitely recyclable.</p><p>We are an Avendra approved vendor and trusted by Ritz Carlton, Hilton and Marriott.</p><p>I would be happy to send samples if interested. Looking forward to connecting and exploring sustainable opportunities together.</p>\"\n}"
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 2.1
        },
        {
          "id": "b82fddf9-05d0-4883-852c-0f53194bf6db",
          "name": "Email content",
          "type": "@n8n/n8n-nodes-langchain.agentTool",
          "position": [
            5296,
            2240
          ],
          "parameters": {
            "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
            "options": {
              "systemMessage": "=You are the **HTML Email Composer for Top Cup**, a sustainable aluminum cup company.\n\nYour task is to generate **ONLY HTML email content**, exactly following Top Cupâ€™s approved outreach message.  \nNothing in the content or formatting should be changed â€” **only insert the contact's first name** dynamically in the greeting.\n\n---\n\n## DO:\nâœ… Replace <first_name>` in the message below with the input value.  \nâœ… Return only clean HTML â€” no headers, explanations, or extra content.  \nâœ… Preserve the structure, spelling, tone, and line count exactly.\n\n---\n\n## DO NOT:\nâŒ Do not change the subject line or copy.  \nâŒ Do not rewrite or rephrase any paragraph.  \nâŒ Do not add commentary, interpretation, or metadata.  \nâŒ No markdown. No extra tags beyond `<p>` and `<strong>`.\n\n---\n\n## FINAL HTML TO OUTPUT (one substitution only):\n```html\n<p><strong>Subject: Premium Experience & Custom Branded</strong></p>\n<p>Hi <first_name>,</p>\n<p>Let us help elevate the beverage experience for your guests. At Top Cup, we offer custom branded aluminum cups that are infinitely recyclable.</p>\n<p>We are an Avendra approved vendor and trusted by Ritz Carlton, Hilton and Marriott.</p>\n<p>I would be happy to send samples if interested. Looking forward to connecting and exploring sustainable opportunities together.</p>"
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "e1156f26-669a-4c1c-9fa5-e6f75f4ffd7b",
          "name": "Limit",
          "type": "n8n-nodes-base.limit",
          "position": [
            672,
            656
          ],
          "parameters": {
            "maxItems": 3
          },
          "typeVersion": 1
        },
        {
          "id": "f06ab2d9-26fd-474d-8cfb-237ad4481f71",
          "name": "OpenRouter Chat Model",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            144,
            1040
          ],
          "parameters": {
            "options": {
              "temperature": 0.2
            }
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "168d653d-891f-4290-8255-715b963ca18a",
          "name": "OpenRouter Chat Model9",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            1600,
            1152
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "db91840f-9a43-46b7-a5f0-e010a3f109fe",
          "name": "Get row(s) in sheet in Google Sheets",
          "type": "n8n-nodes-base.googleSheetsTool",
          "position": [
            1120,
            1104
          ],
          "parameters": {
            "options": {},
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 557158098,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1JfbGLrExJ8PvNyPyjW3a76vYQOO4PQAX_Pf8CYd20_8/edit#gid=557158098",
              "cachedResultName": "PlasticBanCities"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1JfbGLrExJ8PvNyPyjW3a76vYQOO4PQAX_Pf8CYd20_8",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1JfbGLrExJ8PvNyPyjW3a76vYQOO4PQAX_Pf8CYd20_8/edit?usp=drivesdk",
              "cachedResultName": "GPO_Hotel_Prioritization_Rev2"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "d051ab0e-dc04-4552-84c8-ff94357f44c1",
          "name": "OpenRouter Chat Model10",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            1600,
            912
          ],
          "parameters": {
            "options": {
              "temperature": 0.2
            }
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "263c2c33-ce22-4ffb-9dc5-1d7ec98e8ed1",
          "name": "Simple Memory9",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            1760,
            944
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 20
          },
          "typeVersion": 1.3
        },
        {
          "id": "56355701-1234-4029-b19f-4df14e7e9e62",
          "name": "Message a model in Perplexity5",
          "type": "n8n-nodes-base.perplexityTool",
          "position": [
            1904,
            960
          ],
          "parameters": {
            "model": "sonar",
            "options": {},
            "messages": {
              "message": [
                {
                  "content": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('message0_Text', ``, 'string') }}"
                }
              ]
            },
            "requestOptions": {}
          },
          "credentials": {
            "perplexityApi": {
              "id": "credential-id",
              "name": "perplexityApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "63fe4d1f-c34b-47df-8ba3-01d99b08d149",
          "name": "Structured Output Parser2",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            2000,
            880
          ],
          "parameters": {
            "autoFix": true,
            "jsonSchemaExample": "{\n \"company_id\": \"HTL-123789\",\n \"gm_name\": \"Michael Chen\", \n \"gm_email\": \"user@example.com\",\n \"city\": \"Austin\",\n \"unique_address\": \"500 East 4th Street, Austin, TX 78701\", \n \"hotel_name\": \"Downtown Austin Business Hotel\",\n \"no_of_rooms\": 75,\n \"adr\": 185.50,\n \"icp_score\": 25,\n \"reasoning\": \"As of August 07, 2025, Downtown Austin Business Hotel receives an ICP score of 25/85 points. The hotel has 75 rooms, earning 15 points for meeting the 50-99 room threshold. The ADR of $185.50 falls below the $200 minimum threshold, earning 0 points. Austin is confirmed as a major metropolitan area, earning 10 points. The city does not have an exact match in the PlasticBanCities table and lacks government verification for plastic bans, earning 0 points. Calculation verified: 15 + 0 + 10 + 0 = 25 points.\",\n \"scoring_notes\": \"Rooms: 15 pts (75 rooms from input, meets 50-99 threshold). ADR: 0 pts (monthly average ADR: $185.50 falls below $200 minimum threshold). Coastal/Metro: 10 pts (Austin confirmed as major metro via US Census MSA data). Plastic-Ban City: 0 pts (no match found in PlasticBanCities table, no government verification).\",\n \"verification_status\": \"COMPLETE\",\n \"verification_approach\": {\n   \"adr\": \"MONTHLY_AVERAGE_REQUIRED\",\n   \"coastal_metro\": \"SIMPLE_SEARCH\", \n   \"plastic_ban\": \"STRICT_VERIFICATION\"\n },\n \"monthly_adr_details\": {\n   \"monthly_average_found\": 185.50,\n   \"peak_month_identified\": \"July 2024\",\n   \"calculation_method\": \"Total room revenue divided by total rooms sold for entire month\",\n   \"source_type\": \"Hotel management system monthly report\"\n },\n \"source_urls\": {\n   \"monthly_adr_sources\": [\"https://downtownhotel.com/internal-reports/july-2024-performance\"],\n   \"coastal_metro_source\": \"https://www.census.gov/programs-surveys/metro-micro/about.html\", \n   \"plastic_ban_verification\": \"\",\n   \"plastic_ban_table_match\": false\n },\n \"search_documentation\": {\n   \"total_sources_searched\": 12,\n   \"monthly_adr_verification_complete\": true,\n   \"coastal_metro_search_method\": \"GOOGLE_SEARCH\",\n   \"plastic_ban_verification_complete\": true\n },\n \"calculation_verification\": {\n   \"rooms_points\": 15,\n   \"adr_points\": 0, \n   \"coastal_metro_points\": 10,\n   \"plastic_ban_points\": 0,\n   \"arithmetic_check\": \"15 + 0 + 10 + 0 = 25\",\n   \"verified_total\": 25\n }\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "9935c66e-c2e1-4d68-b80f-b50b68fa14e8",
          "name": "OpenRouter Chat Model11",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            2112,
            1040
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "3564bd2e-2c80-47d1-b26d-04c69fa8b97d",
          "name": "If2",
          "type": "n8n-nodes-base.if",
          "position": [
            1344,
            656
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "de12608d-9a04-4d39-8bdf-eb9e64c76410",
                  "operator": {
                    "type": "number",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.output.adr }}",
                  "rightValue": 0
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "88c78c54-eecd-4cc0-bed2-7fdd939113e9",
          "name": "Adr finder",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            1664,
            640
          ],
          "parameters": {
            "text": "=company_id: {{ $json.output.company_id }}\ngm_name: {{ $json.output.gm_name }}\ngm_email: {{ $json.output.gm_email }}\ncity: {{ $json.output.city }}\nunique_address: {{ $json.output.unique_address }}\nhotel_name: {{ $json.output.hotel_name }}\nno_of_rooms: {{ $json.output.no_of_rooms }}\nadr: {{ $json.output.adr }}\nicp_score: {{ $json.output.icp_score }}\nreasoning: {{ $json.output.reasoning }}\nscoring_notes: {{ $json.output.scoring_notes }}\nverification_status: {{ $json.output.verification_status }} \n\nadr_approach: {{ $json.output.verification_approach.adr }}\ncoastal_metro_approach: {{ $json.output.verification_approach.coastal_metro }}\nplastic_ban_approach: {{ $json.output.verification_approach.plastic_ban }}\n\n\nmonthly_average_found: {{ $json.output.monthly_adr_details.monthly_average_found }}\npeak_month_identified: {{ $json.output.monthly_adr_details.peak_month_identified }}\ncalculation_method: {{ $json.output.monthly_adr_details.calculation_method }}\nsource_type: {{ $json.output.monthly_adr_details.source_type }}\n\n\nmonthly_adr_sources: {{ $json.output.source_urls.monthly_adr_sources }}\ncoastal_metro_source: {{ $json.output.source_urls.coastal_metro_source }}\nplastic_ban_verification: {{ $json.output.source_urls.plastic_ban_verification }}\nplastic_ban_table_match: {{ $json.output.source_urls.plastic_ban_table_match }}\n\n\ntotal_sources_searched: {{ $json.output.search_documentation.total_sources_searched }}\nmonthly_adr_verification_complete: {{ $json.output.search_documentation.monthly_adr_verification_complete }}\ncoastal_metro_search_method: {{ $json.output.search_documentation.coastal_metro_search_method }}\nplastic_ban_verification_complete: {{ $json.output.search_documentation.plastic_ban_verification_complete }}\n\n\n\nrooms_points: {{ $json.output.calculation_verification.rooms_points }}\nadr_points: {{ $json.output.calculation_verification.adr_points }}\ncoastal_metro_points: {{ $json.output.calculation_verification.coastal_metro_points }}\nplastic_ban_points: {{ $json.output.calculation_verification.plastic_ban_points }}\narithmetic_check: {{ $json.output.calculation_verification.arithmetic_check }}\nverified_total: {{ $json.output.calculation_verification.verified_total }}\n\n\nall_adr_sources_joined: {{ $json.output.source_urls.monthly_adr_sources.join(', ') }}",
            "options": {
              "systemMessage": "=You are an ADR Search Agent. You have ONE JOB: Use the Perplexity tool to find real monthly average ADR data and update ONLY the ADR scoring.\n\nğŸš¨ ABSOLUTE REQUIREMENTS:\n- Your FIRST action must be calling the Perplexity tool\n- You CANNOT generate any JSON until you complete Perplexity searches\n- You MUST use the Perplexity tool multiple times\n- You CANNOT proceed without tool usage\n- You MUST preserve all existing scores except ADR\n- You MUST validate ALL calculations with ZERO tolerance for errors\n\nREFERENCE DATE: {{ $today }}\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ”’ EXACT ADR SCORING THRESHOLDS - MEMORIZE AND VERIFY TWICE\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nADR SCORING LOGIC (CHECK TWICE BEFORE APPLYING):\nIF monthly_adr >= 400: adr_points = 40\nIF monthly_adr >= 300: adr_points = 25\nIF monthly_adr >= 200: adr_points = 10\nIF monthly_adr < 200: adr_points = 0\n\n\n\nTHRESHOLD EXAMPLES (VERIFY YOUR LOGIC MATCHES):\n- $450 â†’ 40 points (â‰¥400)\n- $399 â†’ 25 points (â‰¥300, <400)\n- $350 â†’ 25 points (â‰¥300, <400)\n- $300 â†’ 25 points (â‰¥300, <400)\n- $299 â†’ 10 points (â‰¥200, <300)\n- $250 â†’ 10 points (â‰¥200, <300)\n- $200 â†’ 10 points (â‰¥200, <300)\n- $199 â†’ 0 points (<200)\n- $150 â†’ 0 points (<200)\n- $145 â†’ 0 points (<200) â† CRITICAL TEST CASE\n- $100 â†’ 0 points (<200)\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nLOCKED VALUES FROM INPUT (NEVER CHANGE)\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nPRESERVE EXACTLY:\n- rooms_points: {{ $json.output.calculation_verification.rooms_points }}\n- coastal_metro_points: {{ $json.output.calculation_verification.coastal_metro_points }}\n- plastic_ban_points: {{ $json.output.calculation_verification.plastic_ban_points }}\n- hotel_name: {{ $json.output.hotel_name }}\n- city: {{ $json.output.city }}\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nMANDATORY WORKFLOW - EXECUTE IN ORDER\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nSTEP 1: PERPLEXITY SEARCH #1\nCall Perplexity: \"STR Smith Travel Research monthly ADR {{ $json.output.hotel_name }} {{ $json.output.city }} {{ $today.year }} {{ $today.year - 1 }} monthly average daily rate\"\n\nSTEP 2: PERPLEXITY SEARCH #2\nCall Perplexity: \"{{ $json.output.hotel_name }} {{ $json.output.city }} monthly average daily rate {{ $today.year }} hotel performance {{ $today.year - 1 }}\"\n\nSTEP 3: PERPLEXITY SEARCH #3\nCall Perplexity: \"{{ $json.output.hotel_name }} {{ $json.output.city }} monthly rate {{ $today.year }} {{ $today.year - 1 }} booking hotels agoda\"\n\nSTEP 4: PERPLEXITY SEARCH #4\nCall Perplexity: \"Hilton {{ $json.output.hotel_name }} monthly ADR earnings report {{ $today.year }} {{ $today.year - 1 }}\"\n\nSTEP 5: PERPLEXITY SEARCH #5  \nCall Perplexity: \"{{ $json.output.city }} hotel monthly ADR {{ $today.year }} {{ $json.output.hotel_name }} market performance\"\n\nSTEP 6: ADR THRESHOLD VALIDATION (CRITICAL STEP)\nAfter finding monthly ADR amount, you MUST double-check threshold:\n\nFOUND ADR: $[amount]\n\nTHRESHOLD CHECK 1:\n- Is $[amount] >= 400? If YES â†’ 40 points, STOP\n- Is $[amount] >= 300? If YES â†’ 25 points, STOP  \n- Is $[amount] >= 200? If YES â†’ 10 points, STOP\n- If none above â†’ 0 points\n\nTHRESHOLD CHECK 2 (VERIFY FIRST CHECK):\n- Confirm: $[amount] falls in which range?\n  * $400+ â†’ 40 points\n  * $300-399 â†’ 25 points\n  * $200-299 â†’ 10 points  \n  * Under $200 â†’ 0 points\n\nADR POINTS RESULT: [points]\n\nSTEP 7: CALCULATION VERIFICATION (MANDATORY)\nLOCKED SCORES (DO NOT CHANGE):\n- rooms_points = {{ $json.output.calculation_verification.rooms_points }}\n- coastal_metro_points = {{ $json.output.calculation_verification.coastal_metro_points }}\n- plastic_ban_points = {{ $json.output.calculation_verification.plastic_ban_points }}\n\nNEW ADR SCORE:\n- adr_points = [points from threshold check]\n\nTOTAL CALCULATION:\nnew_icp_score = {{ $json.output.calculation_verification.rooms_points }} + [adr_points] + {{ $json.output.calculation_verification.coastal_metro_points }} + {{ $json.output.calculation_verification.plastic_ban_points }}\n\nVERIFY: new_icp_score = [calculated_total]\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸš« VALIDATION CHECKPOINTS - ALL MUST PASS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nCHECKPOINT 1: PERPLEXITY COMPLETION\nâœ… Completed exactly 5 Perplexity searches\nâœ… Found monthly ADR data or confirmed not available\n\nCHECKPOINT 2: ADR THRESHOLD ACCURACY  \nâœ… Applied correct threshold to found ADR amount\nâœ… Double-checked threshold calculation\nâœ… ADR points âˆˆ {0, 10, 25, 40} only\n\nCHECKPOINT 3: SCORE PRESERVATION\nâœ… rooms_points = {{ $json.output.calculation_verification.rooms_points }} (unchanged)\nâœ… coastal_metro_points = {{ $json.output.calculation_verification.coastal_metro_points }} (unchanged)\nâœ… plastic_ban_points = {{ $json.output.calculation_verification.plastic_ban_points }} (unchanged)\n\nCHECKPOINT 4: ARITHMETIC VERIFICATION\nâœ… icp_score = verified_total (must be identical)\nâœ… arithmetic_check shows correct numbers\nâœ… Total â‰¤ 85 points\n\nCHECKPOINT 5: CRITICAL TEST CASES\nIf ADR found is $145: adr_points MUST be 0 (not 10)\nIf ADR found is $199: adr_points MUST be 0 (not 10)  \nIf ADR found is $200: adr_points MUST be 10 (not 0)\nIf ADR found is $299: adr_points MUST be 10 (not 25)\nIf ADR found is $300: adr_points MUST be 25 (not 10)\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“Š CALCULATION PROOF TEMPLATE (SHOW BEFORE JSON)\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nYou MUST display this exact format before outputting JSON:\nCALCULATION PROOF:\nFound Monthly ADR: $[amount]\nADR Threshold Check: $[amount] â†’ [points] points\n\nScore Breakdown:\n\nRooms: {{ $json.output.calculation_verification.rooms_points }} (preserved)\nADR: [points] (from $[amount])\nCoastal/Metro: {{ $json.output.calculation_verification.coastal_metro_points }} (preserved)\nPlastic-ban: {{ $json.output.calculation_verification.plastic_ban_points }} (preserved)\nArithmetic: {{ $json.output.calculation_verification.rooms_points }} + [points] + {{ $json.output.calculation_verification.coastal_metro_points }} + {{ $json.output.calculation_verification.plastic_ban_points }} = [total]\n\nVERIFICATION:\nâœ“ ADR threshold applied correctly\nâœ“ All preserved scores unchanged\nâœ“ Arithmetic verified\nâœ“ Total = [total] points\n\n\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nğŸ“‹ JSON OUTPUT (ONLY AFTER ALL VALIDATIONS PASS)\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n```json\n{\n \"company_id\": \"{{ $json.output.company_id }}\",\n \"gm_name\": \"{{ $json.output.gm_name }}\", \n \"gm_email\": \"{{ $json.output.gm_email }}\",\n \"city\": \"{{ $json.output.city }}\",\n \"unique_address\": \"{{ $json.output.unique_address }}\", \n \"hotel_name\": \"{{ $json.output.hotel_name }}\",\n \"no_of_rooms\": {{ $json.output.no_of_rooms }},\n \"adr\": [ACTUAL_ADR_FROM_PERPLEXITY_OR_NULL],\n \"icp_score\": [VERIFIED_TOTAL],\n \"reasoning\": \"[UPDATE WITH PERPLEXITY FINDINGS AND DATE {{ $today }}]\",\n \"scoring_notes\": \"[UPDATE ADR SECTION ONLY, PRESERVE OTHERS]\",\n \"verification_status\": \"[COMPLETE_IF_ADR_FOUND_OTHERWISE_PARTIAL_DATA]\",\n \"verification_approach\": {\n   \"adr\": \"MONTHLY_AVERAGE_REQUIRED\",\n   \"coastal_metro\": \"{{ $json.output.verification_approach.coastal_metro }}\", \n   \"plastic_ban\": \"{{ $json.output.verification_approach.plastic_ban }}\"\n },\n \"monthly_adr_details\": {\n   \"monthly_average_found\": [ACTUAL_VALUE_OR_NULL],\n   \"peak_month_identified\": \"[FROM_SEARCH]\",\n   \"calculation_method\": \"[FROM_SEARCH]\",\n   \"source_type\": \"[FROM_SEARCH]\"\n },\n \"source_urls\": {\n   \"monthly_adr_sources\": [ACTUAL_URLS_FROM_PERPLEXITY],\n   \"coastal_metro_source\": \"{{ $json.output.source_urls.coastal_metro_source }}\", \n   \"plastic_ban_verification\": \"{{ $json.output.source_urls.plastic_ban_verification }}\",\n   \"plastic_ban_table_match\": {{ $json.output.source_urls.plastic_ban_table_match }}\n },\n \"search_documentation\": {\n   \"total_sources_searched\": [PERPLEXITY_SEARCH_COUNT],\n   \"monthly_adr_verification_complete\": [TRUE_IF_FOUND],\n   \"coastal_metro_search_method\": \"{{ $json.output.search_documentation.coastal_metro_search_method }}\",\n   \"plastic_ban_verification_complete\": {{ $json.output.search_documentation.plastic_ban_verification_complete }}\n },\n \"calculation_verification\": {\n   \"rooms_points\": {{ $json.output.calculation_verification.rooms_points }},\n   \"adr_points\": [CORRECT_ADR_POINTS_ONLY], \n   \"coastal_metro_points\": {{ $json.output.calculation_verification.coastal_metro_points }},\n   \"plastic_ban_points\": {{ $json.output.calculation_verification.plastic_ban_points }},\n   \"arithmetic_check\": \"{{ $json.output.calculation_verification.rooms_points }} + [CORRECT_ADR_POINTS] + {{ $json.output.calculation_verification.coastal_metro_points }} + {{ $json.output.calculation_verification.plastic_ban_points }} = [CORRECT_TOTAL]\",\n   \"verified_total\": [MUST_MATCH_ICP_SCORE]\n }\n}\nâš ï¸ FINAL CHECKPOINT - DO NOT OUTPUT IF ANY FAILS:\nâ–¡ Completed 5 Perplexity searches\nâ–¡ ADR threshold applied correctly (test: $145 â†’ 0 points)\nâ–¡ icp_score = verified_total exactly\nâ–¡ arithmetic_check shows real numbers that add up\nâ–¡ All preserved scores unchanged\nâ–¡ Calculation proof displayed before JSON\n\nIF ANY CHECKBOX FAILS: STOP, FIX THE ERROR, THEN RETRY.\n\nSTART NOW with Perplexity search #1."
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 2.2
        },
        {
          "id": "832d887f-240a-4101-82e9-33ddf92bc976",
          "name": "Update a company1",
          "type": "n8n-nodes-base.hubspot",
          "position": [
            1360,
            816
          ],
          "parameters": {
            "resource": "company",
            "companyId": {
              "__rl": true,
              "mode": "id",
              "value": "={{ $json.output.company_id }}"
            },
            "operation": "update",
            "updateFields": {
              "customPropertiesUi": {
                "customPropertiesValues": [
                  {
                    "value": "={{ $json.output.icp_score }}",
                    "property": "icp_score"
                  },
                  {
                    "value": "={{ $json.output.reasoning }}",
                    "property": "reasoning"
                  }
                ]
              }
            },
            "authentication": "appToken"
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "0605c56a-757e-40da-b369-a12950a4d085",
          "name": "Update row in sheet in Google Sheets1",
          "type": "n8n-nodes-base.googleSheetsTool",
          "position": [
            4016,
            3168
          ],
          "parameters": {
            "columns": {
              "value": {
                "profile_url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('profile_url__using_to_match_', ``, 'string') }}",
                "email_created": "no",
                "crm_update_time": "={{ $now }}",
                "contact_created_in_crm": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('contact_created_in_crm', ``, 'string') }}"
              },
              "schema": [
                {
                  "id": "first_name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "first_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "last_name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "last_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "job_title",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "job_title",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email1",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email1",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email2",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email2",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "company",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "company",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "profile_url",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "profile_url",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_update_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email_update_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "contact_created_in_crm",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "contact_created_in_crm",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "crm_update_time",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "crm_update_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email 1 verification confidence",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email 1 verification confidence",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email 2 verification confidence ",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email 2 verification confidence ",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "persona",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "persona",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_company_matching",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_company_matching",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_content",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email_content",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_created",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "email_created",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "row_number",
                  "type": "number",
                  "display": true,
                  "removed": true,
                  "readOnly": true,
                  "required": false,
                  "displayName": "row_number",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "profile_url"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "update",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=0",
              "cachedResultName": "Sheet1"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "89792cc4-fc8e-4ea3-9942-4e75e4019163",
          "name": "Simple Memory4",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            4736,
            2352
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 10
          },
          "typeVersion": 1.3
        },
        {
          "id": "4c83b37a-b6aa-460b-88cd-09f1900d95c8",
          "name": "Simple Memory2",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            -160,
            2880
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 20
          },
          "typeVersion": 1.3
        },
        {
          "id": "4ab2a197-a1c2-436b-8301-aa6ee073c410",
          "name": "Simple Memory3",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            1504,
            3088
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 30
          },
          "typeVersion": 1.3
        },
        {
          "id": "c2fb8aff-b9dd-4f3b-8c61-59e753ce156a",
          "name": "Simple Memory6",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            3024,
            3200
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 20
          },
          "typeVersion": 1.3
        },
        {
          "id": "9ba145d7-4884-41ed-acc8-e0b360450277",
          "name": "create_update_contact",
          "type": "n8n-nodes-base.hubspotTool",
          "position": [
            2080,
            2192
          ],
          "parameters": {
            "email": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', ``, 'string') }}",
            "options": {},
            "authentication": "appToken",
            "additionalFields": {
              "jobTitle": "=General Manager",
              "lastName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', ``, 'string') }}",
              "firstName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', ``, 'string') }}",
              "companyName": "={{ $('Edit Fields4').item.json.output.hotel_name }}",
              "associatedCompanyId": "={{ $('Edit Fields4').item.json.output.company_id }}"
            }
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "36b13d98-e708-4176-bd9f-794447ec28dd",
          "name": "Run an Actor1",
          "type": "@apify/n8n-nodes-apify.apify",
          "position": [
            3584,
            1792
          ],
          "parameters": {
            "actorId": {
              "__rl": true,
              "mode": "list",
              "value": "pdcNMezBkIlhX0LwO",
              "cachedResultUrl": "https://console.apify.com/actors/pdcNMezBkIlhX0LwO/input",
              "cachedResultName": "Linkedin people search scraper (curious_coder/linkedin-people-search-scraper)"
            },
            "customBody": "={{ JSON.stringify({\ncookie: (typeof $json.cookies === 'string' ? JSON.parse($json.cookies || '[]') : $json.cookies),\nsearchUrl: $('apify_scraper').item.json.output?.searchUrl ?? null,\nstartPage: 1,\nendPage: 2,\nminDelay: 2,\nmaxDelay: 5,\nmaxResults: 15\n}) }}\n\n",
            "actorSource": "store"
          },
          "credentials": {
            "apifyApi": {
              "id": "credential-id",
              "name": "apifyApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "dfb82269-c4dc-4ee8-b986-c92beb569d2b",
          "name": "Get dataset items",
          "type": "@apify/n8n-nodes-apify.apify",
          "position": [
            3776,
            1792
          ],
          "parameters": {
            "limit": null,
            "resource": "Datasets",
            "datasetId": "={{ $json.defaultDatasetId }}"
          },
          "credentials": {
            "apifyApi": {
              "id": "credential-id",
              "name": "apifyApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "780c80aa-6332-4e5d-9e61-05303dbc0a27",
          "name": "Structured Output Parser3",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            768,
            2832
          ],
          "parameters": {
            "autoFix": true,
            "jsonSchemaExample": "{\n\"company_id\": \"HOTEL-12345\",\n\"city\": \"Arlington\",\n\"hotel_name\": \"Aloft Arlington Entertainment District\",\n\"profiles\": [\n{\n\"first_name\": \"Priya\",\n\"last_name\": \"Sharma\",\n\"job_title\": \"Food & Beverage Manager\",\n\"email_id\": null,\n\"profile_url\": \"https://www.linkedin.com/in/priya-sharma-fb\"\n},\n{\n\"first_name\": \"Daniel\",\n\"last_name\": \"Nguyen\",\n\"job_title\": \"Purchasing Manager\",\n\"email_id\": \"user@example.com\",\n\"profile_url\": \"https://www.linkedin.com/in/daniel-nguyen-procurement\"\n},\n{\n\"first_name\": \"Emily\",\n\"last_name\": \"Rodriguez\",\n\"job_title\": \"Housekeeping Manager\",\n\"email_id\": null,\n\"profile_url\": \"https://www.linkedin.com/in/emily-rodriguez-hk\"\n}\n]\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "c93357e1-6dfe-4304-a129-0205839558a8",
          "name": "OpenRouter Chat Model12",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            912,
            2992
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "a12127a9-a36a-4776-bf85-9f1ab75f8f5a",
          "name": "OpenRouter Chat Model13",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            2224,
            2128
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "b33243ef-ee9c-4928-95ab-39261fa3644f",
          "name": "OpenRouter Chat Model14",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            2672,
            2016
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "af63e196-499c-4eeb-a17f-67f8d1223ffd",
          "name": "Simple Memory10",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            2864,
            2048
          ],
          "parameters": {
            "sessionKey": "={{ $now.minute }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 10
          },
          "typeVersion": 1.3
        },
        {
          "id": "eef46a8b-c4ae-4bcb-91e4-fa20255521d8",
          "name": "When Executed by Another Workflow",
          "type": "n8n-nodes-base.executeWorkflowTrigger",
          "position": [
            2592,
            1792
          ],
          "parameters": {
            "inputSource": "passthrough"
          },
          "typeVersion": 1.1
        },
        {
          "id": "dd2864b5-8eea-4d19-9d0e-8fd6bc5b6aee",
          "name": "Structured Output Parser4",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            3072,
            2016
          ],
          "parameters": {
            "autoFix": true,
            "jsonSchemaExample": "{\n\"searchUrl\": \"https://www.linkedin.com/search/results/people/?keywords=Hotel%20X%20City%20manager&origin=GLOBAL_SEARCH_HEADER\",\n\"company_id\": \"H-123\",\n\"hotel_name\": \"Hotel X City Center\",\n\"city\": \"Austin\",\n\"brand\": \"hilton\"\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "92a18a74-920c-4fc6-ae5e-3629ad980c1d",
          "name": "OpenRouter Chat Model15",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            3184,
            2208
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "1db6fbba-c022-435e-bcf2-c4c8e924889f",
          "name": "Append row in sheet",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            3952,
            1792
          ],
          "parameters": {
            "columns": {
              "value": {
                "company": "={{ $('apify_scraper').item.json.output.hotel_name }}",
                "job_title": "={{ $json.headline }}",
                "last_name": "={{ $json.lastName }}",
                "first_name": "={{ $json.firstName }}",
                "profile_url": "={{ $json.profileUrl }}",
                "current_time": "={{ $now}}"
              },
              "schema": [
                {
                  "id": "first_name",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "first_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "last_name",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "last_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "job_title",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "job_title",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email1",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email1",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email2",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email2",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "company",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "company",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "profile_url",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "profile_url",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_time",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "current_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_update_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email_update_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "contact_created_in_crm",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "contact_created_in_crm",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "crm_update_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "crm_update_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email 1 verification confidence",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email 1 verification confidence",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email 2 verification confidence ",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email 2 verification confidence ",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "persona",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "persona",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_company_matching",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_company_matching",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "append",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=0",
              "cachedResultName": "Sheet1"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "f55dce45-984e-4afa-a3f5-ff6047a6b140",
          "name": "apify_scraper",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            2816,
            1792
          ],
          "parameters": {
            "text": "={{ $json.query }}",
            "options": {
              "systemMessage": "=You are the â€œApify Payload Normalizerâ€ sub-agent.\n\nTask\n\nRead the incoming message text (it will be a JSON object provided via {{$json.query}}).\nParse it and return a strict JSON object with exactly these keys:\nsearchUrl\ncompany_id\nhotel_name\ncity\nbrand\nRules\n\nOutput strict JSON only. No prose, no markdown, no explanations.\nDo not rename keys, add keys, or reorder fields beyond what is specified.\nPass values through as-is (trim leading/trailing whitespace only). Do not transform, URL-encode, canonicalize, or infer.\nIf the input contains multiple candidates (e.g., arrays), take the first non-empty value for the required key.\nIf a required key is missing or empty, set its value to null.\nIf the input text isnâ€™t valid JSON, attempt basic extraction (find the first {...} block). If still not parsable, return all required keys with null values.\nNever include cookies or any sensitive data; ignore extraneous fields.\nExpected output schema (exact)\n{\n\"searchUrl\": \"<string or null>\",\n\"company_id\": \"<string or null>\",\n\"hotel_name\": \"<string or null>\",\n\"city\": \"<string or null>\",\n\"brand\": \"<string or null>\"\n}\n\nExample\nInput text:\n{\"searchUrl\":\"https://www.linkedin.com/search/results/people/?keywords=Hotel%20X%20City%20manager&origin=GLOBAL_SEARCH_HEADER\",\"company_id\":\"H-123\",\"hotel_name\":\"Hotel X City Center\",\"city\":\"Austin\",\"brand\":\"hilton\"}\n\nOutput:\n{\n\"searchUrl\": \"https://www.linkedin.com/search/results/people/?keywords=Hotel%20X%20City%20manager&origin=GLOBAL_SEARCH_HEADER\",\n\"company_id\": \"H-123\",\n\"hotel_name\": \"Hotel X City Center\",\n\"city\": \"Austin\",\n\"brand\": \"hilton\"\n}"
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 2.2
        },
        {
          "id": "7d550057-6c1e-4ec6-9951-15deb9d08d19",
          "name": "run actor",
          "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
          "position": [
            272,
            2960
          ],
          "parameters": {
            "workflowId": {
              "__rl": true,
              "mode": "list",
              "value": "BszIwRuTPrK4ZqBA",
              "cachedResultName": "Sales_hubspot_automation"
            },
            "workflowInputs": {
              "value": {},
              "schema": [],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "2eee9876-939b-462c-a8ef-c74bad00051a",
          "name": "Get row(s) in sheet1",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            3200,
            1792
          ],
          "parameters": {
            "options": {},
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1n65f7JvaVJkpa9QDTeHImVdffLMtwZL1TlraUUt9OyY/edit#gid=0",
              "cachedResultName": "Sheet1"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1n65f7JvaVJkpa9QDTeHImVdffLMtwZL1TlraUUt9OyY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1n65f7JvaVJkpa9QDTeHImVdffLMtwZL1TlraUUt9OyY/edit?usp=drivesdk",
              "cachedResultName": "credentials"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "771c3e5e-4c2b-4bfd-a5d4-dc7228e0d9ec",
          "name": "Get row(s) in sheet in Google Sheets1",
          "type": "n8n-nodes-base.googleSheetsTool",
          "position": [
            608,
            2992
          ],
          "parameters": {
            "options": {},
            "filtersUI": {
              "values": [
                {
                  "lookupValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('values0_Value', ``, 'string') }}",
                  "lookupColumn": "current_time"
                }
              ]
            },
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=0",
              "cachedResultName": "Sheet1"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "a9301ce9-cfb5-445f-8413-fe0dd71cef1f",
          "name": "Edit Fields5",
          "type": "n8n-nodes-base.set",
          "position": [
            3408,
            1792
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "84e8e840-596e-4950-9c24-70646c3f78b5",
                  "name": "cookies",
                  "type": "array",
                  "value": "={{ $json.cookies }}"
                }
              ]
            }
          },
          "typeVersion": 3.4
        },
        {
          "id": "85c50e50-4842-43c6-8dd2-386625cb6b53",
          "name": "Get row(s) in sheet in Google Sheets2",
          "type": "n8n-nodes-base.googleSheetsTool",
          "position": [
            3696,
            3232
          ],
          "parameters": {
            "options": {},
            "filtersUI": {
              "values": [
                {
                  "lookupValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('values0_Value', ``, 'string') }}",
                  "lookupColumn": "profile_url"
                },
                {
                  "lookupValue": "yes",
                  "lookupColumn": "current_company_matching"
                }
              ]
            },
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=0",
              "cachedResultName": "Sheet1"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "5f487414-fb44-473f-bb82-352122a605a5",
          "name": "email verifier",
          "type": "n8n-nodes-base.hunterTool",
          "position": [
            1968,
            3200
          ],
          "parameters": {
            "email": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', ``, 'string') }}",
            "operation": "emailVerifier"
          },
          "credentials": {
            "hunterApi": {
              "id": "credential-id",
              "name": "hunterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "135f3084-7cb7-4876-b2e2-028adfdadc9f",
          "name": "email finder Hunter",
          "type": "n8n-nodes-base.hunterTool",
          "position": [
            1680,
            3200
          ],
          "parameters": {
            "domain": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Domain', ``, 'string') }}",
            "lastname": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Last_Name', ``, 'string') }}",
            "firstname": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('First_Name', ``, 'string') }}",
            "operation": "emailFinder"
          },
          "credentials": {
            "hunterApi": {
              "id": "credential-id",
              "name": "hunterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "d0333b22-d6ed-4cb8-a9c2-ef0a0c5256f2",
          "name": "profile details",
          "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
          "position": [
            2352,
            3024
          ],
          "parameters": {
            "workflowId": {
              "__rl": true,
              "mode": "list",
              "value": "ut9L9BlEmYtzj4LN",
              "cachedResultName": "Deep scrape profile data"
            },
            "workflowInputs": {
              "value": {},
              "schema": [],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "b041f1a6-2526-4a83-884e-ccaf0162ef18",
          "name": "Get row(s) in sheet in Google Sheets3",
          "type": "n8n-nodes-base.googleSheetsTool",
          "position": [
            2224,
            3152
          ],
          "parameters": {
            "options": {},
            "filtersUI": {
              "values": [
                {
                  "lookupValue": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('values0_Value', ``, 'string') }}",
                  "lookupColumn": "profile_url"
                }
              ]
            },
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=0",
              "cachedResultName": "Sheet1"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "e769006f-6d32-41d1-bc95-b60f6e96cdbe",
          "name": "Update row in sheet in Google Sheets",
          "type": "n8n-nodes-base.googleSheetsTool",
          "position": [
            2464,
            2912
          ],
          "parameters": {
            "columns": {
              "value": {
                "email1": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('email1', ``, 'string') }}",
                "profile_url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('profile_url__using_to_match_', ``, 'string') }}",
                "email_update_time": "={{ $now }}",
                "email 1 verification confidence": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('email_1_verification_confidence', ``, 'string') }}"
              },
              "schema": [
                {
                  "id": "first_name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "first_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "last_name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "last_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "job_title",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "job_title",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email1",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "email1",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email2",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email2",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "company",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "company",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "profile_url",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "profile_url",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_update_time",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "email_update_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "contact_created_in_crm",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "contact_created_in_crm",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "crm_update_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "crm_update_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email 1 verification confidence",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "email 1 verification confidence",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email 2 verification confidence ",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email 2 verification confidence ",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "persona",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "persona",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_company_matching",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_company_matching",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "row_number",
                  "type": "number",
                  "display": true,
                  "removed": true,
                  "readOnly": true,
                  "required": false,
                  "displayName": "row_number",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "profile_url"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "update",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=0",
              "cachedResultName": "Sheet1"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.6
        },
        {
          "id": "e29afb19-bcb2-484e-8b19-b3601624f09e",
          "name": "Schedule Trigger1",
          "type": "n8n-nodes-base.scheduleTrigger",
          "position": [
            4560,
            1632
          ],
          "parameters": {
            "rule": {
              "interval": [
                {}
              ]
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "2e2840bf-e4d6-4dd3-b712-78a81873524a",
          "name": "Get row(s) in sheet2",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            4752,
            1632
          ],
          "parameters": {
            "options": {},
            "filtersUI": {
              "values": [
                {
                  "lookupValue": "no",
                  "lookupColumn": "email_created"
                }
              ]
            },
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 710405486,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=710405486",
              "cachedResultName": "topcup_outreach_hubspot"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "dae67adf-af3c-4401-b2a2-1bbe64e8d241",
          "name": "Loop Over Items1",
          "type": "n8n-nodes-base.splitInBatches",
          "position": [
            5120,
            1632
          ],
          "parameters": {
            "options": {}
          },
          "typeVersion": 3
        },
        {
          "id": "bdc2599a-3f48-4255-a146-a5fbcea15e6f",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -560,
            1296
          ],
          "parameters": {
            "width": 5024,
            "height": 2368,
            "content": "## Scraper"
          },
          "typeVersion": 1
        },
        {
          "id": "36031809-cd16-4388-a716-9e05894f3a55",
          "name": "Limit1",
          "type": "n8n-nodes-base.limit",
          "position": [
            912,
            -496
          ],
          "parameters": {
            "maxItems": 5
          },
          "typeVersion": 1
        },
        {
          "id": "7871d2dc-35b1-4609-88df-035889b88695",
          "name": "Sticky Note4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -560,
            48
          ],
          "parameters": {
            "color": 2,
            "width": 3088,
            "height": 1248,
            "content": "## ICP Agent\n"
          },
          "typeVersion": 1
        },
        {
          "id": "7220ec1d-0f4b-45c1-8017-aa64b738ff4f",
          "name": "Create or update a contact",
          "type": "n8n-nodes-base.hubspot",
          "onError": "continueErrorOutput",
          "position": [
            1728,
            -480
          ],
          "parameters": {
            "email": "={{ $('Loop Over Items').item.json['Gm email'] }}",
            "options": {},
            "authentication": "appToken",
            "additionalFields": {
              "jobTitle": "General Manager",
              "lastName": "={{ $('Loop Over Items').item.json['Gm Name'].split(' ')[1] }}",
              "firstName": "={{ $('Loop Over Items').item.json['Gm Name'].split(' ')[0] }}",
              "contactOwner": "=158998296",
              "associatedCompanyId": "={{ $json.companyId }}"
            }
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "0fb1624b-7bc3-43d9-88a5-3cfed3877da3",
          "name": "Get row(s) in sheet",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            416,
            -496
          ],
          "parameters": {
            "options": {},
            "filtersUI": {
              "values": [
                {
                  "lookupValue": "no",
                  "lookupColumn": "created_record"
                }
              ]
            },
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 827310445,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo/edit#gid=827310445",
              "cachedResultName": "topcup"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo/edit?usp=drivesdk",
              "cachedResultName": "Target_hotels"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "9f005459-823f-48ba-991b-34fd37ca16b6",
          "name": "Filter1",
          "type": "n8n-nodes-base.filter",
          "position": [
            624,
            -496
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "07d23f2e-f5e5-4b11-bf2b-c345c097a3a5",
                  "operator": {
                    "type": "string",
                    "operation": "notEmpty",
                    "singleValue": true
                  },
                  "leftValue": "={{ $json[\"Gm email\"] }}",
                  "rightValue": ""
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "40d71374-20c5-4c9e-b672-8a9a57a9de96",
          "name": "Create a company",
          "type": "n8n-nodes-base.hubspot",
          "position": [
            1472,
            -480
          ],
          "parameters": {
            "name": "={{ $json[\"Full Hotel Name\"] }}",
            "resource": "company",
            "authentication": "appToken",
            "additionalFields": {
              "city": "={{ $json.City2 }}",
              "postalCode": "={{ $json.ZipCode }}",
              "phoneNumber": "={{ $json.PhoneNumber }}",
              "companyOwner": "=158998296",
              "countryRegion": "={{ $json[\"Country/Region\"] }}",
              "streetAddress": "={{ $json.Addressline1 }}",
              "customPropertiesUi": {
                "customPropertiesValues": [
                  {
                    "value": "={{ $json.State }}",
                    "property": "state_region"
                  }
                ]
              }
            }
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "a04e83a8-54f4-448e-9aff-407359c60ae0",
          "name": "Append row in sheet1",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            1744,
            -288
          ],
          "parameters": {
            "columns": {
              "value": {
                "email": "={{ $json.properties.email.value }}",
                "company": "={{ $('Loop Over Items').item.json['Full Hotel Name'] }}",
                "owner_id": "158998296",
                "job_title": "={{ $json.properties.jobtitle.value }}",
                "last_name": "={{ $json.properties.lastname.value }}",
                "company_id": "={{ $('Create a company').item.json.companyId }}",
                "contact_id": "={{ $json.vid }}",
                "first_name": "={{ $json.properties.firstname.value }}",
                "task_created": "no",
                "draft_created": "no",
                "email_created": "no",
                "current_company_matching": "yes",
                "email verification confidence": "high"
              },
              "schema": [
                {
                  "id": "first_name",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "first_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "last_name",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "last_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "job_title",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "job_title",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "email",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "company",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "company",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "profile_url",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "profile_url",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "contact_created_in_crm",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "contact_created_in_crm",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email verification confidence",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "email verification confidence",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "persona",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "persona",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_company_matching",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "current_company_matching",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_content",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email_content",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_created",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "email_created",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "owner_id",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "owner_id",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "contact_id",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "contact_id",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "company_id",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "company_id",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "icp_score",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "icp_score",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "region",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "region",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "task_created",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "task_created",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "draft_created",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "draft_created",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "append",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 710405486,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=710405486",
              "cachedResultName": "topcup_outreach_hubspot"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "1d0e5e60-b9a7-4c2f-a5b0-9abde4208cc2",
          "name": "Update row in sheet1",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            1952,
            -288
          ],
          "parameters": {
            "columns": {
              "value": {
                "created_record": "yes",
                "Full Hotel Name": "={{ $json.company }}"
              },
              "schema": [
                {
                  "id": "Subbrand",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Subbrand",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Brandname",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Brandname",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Full Hotel Name_prev",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Full Hotel Name_prev",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Full Hotel Name",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "Full Hotel Name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Managementcategory",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Managementcategory",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Addressline1",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Addressline1",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Addressline2",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Addressline2",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "City2",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "City2",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "State",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "State",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "ZipCode",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "ZipCode",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Province2",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Province2",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Country/Region",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Country/Region",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "PhoneNumber",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "PhoneNumber",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "FaxNumber",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "FaxNumber",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Rooms",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Rooms",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Gm Name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Gm Name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Propertyemail",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Propertyemail",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Ownercompany Name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Ownercompany Name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Mgmtcompany Name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Mgmtcompany Name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Rponame",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Rponame",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "AccountOwner",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "AccountOwner",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "Gm email",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "Gm email",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "created_record",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "created_record",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "row_number",
                  "type": "number",
                  "display": true,
                  "removed": true,
                  "readOnly": true,
                  "required": false,
                  "displayName": "row_number",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "Full Hotel Name"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "update",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 827310445,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo/edit#gid=827310445",
              "cachedResultName": "topcup"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo/edit?usp=drivesdk",
              "cachedResultName": "Target_hotels"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "62ee094e-db34-44f2-b623-3d9c53f6c2d8",
          "name": "Structured Output Parser5",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            5776,
            2096
          ],
          "parameters": {
            "autoFix": true,
            "jsonSchemaExample": "{\n\t\"subject\": \"new\",\n\t\"body\": \"task gen\"\n    \n    \n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "3c01fae8-64d2-4a6f-afee-9f108908878c",
          "name": "Create an engagement",
          "type": "n8n-nodes-base.hubspot",
          "position": [
            6048,
            1520
          ],
          "parameters": {
            "type": "task",
            "dueDate": "={{ new Date(Date.now() + (24 * 60 * 60 * 1000)).toISOString().split('T')[0] }}\n",
            "metadata": {
              "status": "NOT_STARTED",
              "subject": "=Avendra Outreach  {{ $('Loop Over Items1').item.json.company }}",
              "forObjectType": "CONTACT"
            },
            "resource": "engagement",
            "authentication": "appToken",
            "additionalFields": {
              "associations": {
                "ownerId": "={{ $('Loop Over Items1').item.json.owner_id }}",
                "contactIds": "={{ $('Loop Over Items1').item.json.contact_id }}"
              }
            }
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "6df60177-0527-475a-bd0a-72d41b20b816",
          "name": "OpenRouter Chat Model7",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
          "position": [
            5952,
            2320
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openRouterApi": {
              "id": "credential-id",
              "name": "openRouterApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "ad9c5117-3a25-4742-b997-61a63c1f5f06",
          "name": "Update row in sheet2",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            6048,
            1648
          ],
          "parameters": {
            "columns": {
              "value": {
                "email": "={{ $('Loop Over Items1').item.json.email }}",
                "task_created": "yes",
                "draft_created": "yes",
                "email_content": "=subject : {{ $json.output.subject }}\n\nbody :{{ $json.output.body }}",
                "email_created": "yes"
              },
              "schema": [
                {
                  "id": "first_name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "first_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "last_name",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "last_name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "job_title",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "job_title",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "email",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "company",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "company",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "profile_url",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "profile_url",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_time",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "contact_created_in_crm",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "contact_created_in_crm",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email verification confidence",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "email verification confidence",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "persona",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "persona",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "current_company_matching",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "current_company_matching",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_content",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "email_content",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "email_created",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "email_created",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "owner_id",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "owner_id",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "contact_id",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "contact_id",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "company_id",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "company_id",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "icp_score",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "icp_score",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "region",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "required": false,
                  "displayName": "region",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "task_created",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "task_created",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "draft_created",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "draft_created",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "row_number",
                  "type": "number",
                  "display": true,
                  "removed": true,
                  "readOnly": true,
                  "required": false,
                  "displayName": "row_number",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "email"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "update",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 710405486,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit#gid=710405486",
              "cachedResultName": "topcup_outreach_hubspot"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/15lRy3U136nAPbm0Xx5BQ3Gj-PZLL96hnhRZxJHOmubY/edit?usp=drivesdk",
              "cachedResultName": "profiles_info"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "googleSheetsOAuth2Api Credential"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "c4ef1036-754f-42ef-a8ea-03a1ef95a705",
          "name": "HTTP Request3",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            6048,
            1840
          ],
          "parameters": {
            "url": "https://graph.microsoft.com/v1.0/me/messages",
            "method": "POST",
            "options": {
              "redirect": {
                "redirect": {}
              }
            },
            "jsonBody": "={\n  \"subject\": \"{{ $json.output.subject }}\",\n  \"importance\": \"Normal\",\n  \"body\": {\n    \"contentType\": \"HTML\",\n    \"content\": \"{{ $json.output.body }}<br>Cheers,<br>Christiane<br><br><br><table style='border:none;'><tr><td style='paddingleft:0px;'><strong>Christiane V. Fletcher</strong><br><strong>Manager, Commercial Sales - East</strong><br>Top Cup - Aluminum Cups<br><a href='https://www.topcups.com'>www.topcups.com</a><br>734.221.8122</td></tr></table>\"\n  },\n  \"toRecipients\": [\n    {\n      \"emailAddress\": {\n        \"address\": \"{{ $('Loop Over Items1').item.json.email }}\",\n        \"name\": \"Recipient Name\"\n      }\n    }\n  ],\n  \"ccRecipients\": [],\n  \"bccRecipients\": []\n}\n",
            "sendBody": true,
            "specifyBody": "json",
            "authentication": "predefinedCredentialType",
            "nodeCredentialType": "microsoftOAuth2Api"
          },
          "credentials": {
            "microsoftOAuth2Api": {
              "id": "credential-id",
              "name": "microsoftOAuth2Api Credential"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "2293bcc3-c55d-419f-a4ef-6e0c7c5c8fd3",
          "name": "Extract from File",
          "type": "n8n-nodes-base.extractFromFile",
          "position": [
            6400,
            1840
          ],
          "parameters": {
            "options": {},
            "operation": "binaryToPropery",
            "destinationKey": "base64"
          },
          "typeVersion": 1
        },
        {
          "id": "1c844d4c-4d8d-4ef1-8ff8-a522cf081bda",
          "name": "Download file",
          "type": "n8n-nodes-base.googleDrive",
          "position": [
            6256,
            1840
          ],
          "parameters": {
            "fileId": {
              "__rl": true,
              "mode": "list",
              "value": "1rVATjOaWKVC5DJJOK4m6qmbD60fIJBco",
              "cachedResultUrl": "https://drive.google.com/YOUR_AWS_SECRET_KEY_HERE/view?usp=drivesdk",
              "cachedResultName": "image001.jpg"
            },
            "options": {},
            "operation": "download"
          },
          "credentials": {
            "googleDriveOAuth2Api": {
              "id": "credential-id",
              "name": "googleDriveOAuth2Api Credential"
            }
          },
          "typeVersion": 3
        },
        {
          "id": "a9902ed7-725a-437e-9462-f650b5e53c62",
          "name": "HTTP Request6",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            6544,
            1840
          ],
          "parameters": {
            "url": "=https://graph.microsoft.com/v1.0/me/messages/{{ $('HTTP Request3').item.json.id }}/attachments",
            "method": "POST",
            "options": {
              "redirect": {
                "redirect": {}
              }
            },
            "jsonBody": "={\n    \"@odata.type\": \"#microsoft.graph.fileAttachment\",\n    \"name\": \"signature.png\",\n    \"contentType\": \"image/png\",\n    \"isInline\": true,\n    \"contentId\": \"signature_logo\",\n    \"contentBytes\": \"{{ $json.base64 }}\"\n  }",
            "sendBody": true,
            "specifyBody": "json",
            "authentication": "predefinedCredentialType",
            "nodeCredentialType": "microsoftOAuth2Api"
          },
          "credentials": {
            "microsoftOAuth2Api": {
              "id": "credential-id",
              "name": "microsoftOAuth2Api Credential"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "6689647d-f49b-44dc-85bf-4784b190820a",
          "name": "HTTP Request7",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            1424,
            -224
          ],
          "parameters": {
            "url": "https://api.hubapi.com/crm/v3/associations/companies/companies/batch/create",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"inputs\": [\n    {\n      \"from\": {\n        \"id\": \"{{ $('Loop Over Items').item.json.subbrand_id }}\"\n      },\n      \"to\": {\n        \"id\": \"{{ $json.companyId }}\"\n      },\n      \"type\": \"parent_to_child_company\"\n    }\n  ]\n} ",
            "sendBody": true,
            "specifyBody": "json",
            "authentication": "predefinedCredentialType",
            "nodeCredentialType": "hubspotAppToken"
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "f4f2554e-59bd-4ebd-98b2-4024094aa1b6",
          "name": "Schedule Trigger4",
          "type": "n8n-nodes-base.scheduleTrigger",
          "position": [
            736,
            1872
          ],
          "parameters": {
            "rule": {
              "interval": [
                {}
              ]
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "552c4c4c-9088-4f36-926e-2636025a486c",
          "name": "Get many companies1",
          "type": "n8n-nodes-base.hubspot",
          "position": [
            912,
            1872
          ],
          "parameters": {
            "options": {},
            "resource": "company",
            "operation": "getAll",
            "returnAll": true,
            "authentication": "appToken"
          },
          "credentials": {
            "hubspotAppToken": {
              "id": "credential-id",
              "name": "hubspotAppToken Credential"
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "21799499-e135-467e-9ffa-bf06271d0b21",
          "name": "Loop Over Items4",
          "type": "n8n-nodes-base.splitInBatches",
          "position": [
            1072,
            1872
          ],
          "parameters": {
            "options": {}
          },
          "typeVersion": 3
        },
        {
          "id": "e7d18d37-7246-41a2-b60b-32dc069310b6",
          "name": "Sticky Note3",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -1936,
            64
          ],
          "parameters": {
            "color": 3,
            "width": 1376,
            "height": 2240,
            "content": "\n\n\n![kumar Shivam](https://i.ibb.co/KpWWKSWq/Chat-GPT-Image-Oct-25-2025-02-57-54-PM.png)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# ğŸ¤– AI-Powered  Lead Intelligence & Outreach Agent Using Gpt 4o and Hubspot\nOverview\nThis agent turns raw property records into verified decisionâ€‘maker contacts and readyâ€‘toâ€‘send outreachâ€”automatically. It scores each hotelâ€™s fit, finds the right people, verifies emails, syncs everything with the CRM, and generates an approved HTML email draft with a followâ€‘up task. The result is a clean, auditable flow from discovery to first touch.\n\n## ğŸ¯ Ideal For\nSales Ops / RevOps teams selling into hospitality\nVendors targeting hotel GMs, Operations, F&B, Housekeeping, Purchasing\nTeams needing compliant, repeatable, and scalable prospecting\n## ğŸ§­ User Guide â€” In 6 Quick Steps\nCapture\nPull a small batch of target properties from CRM/Sheets marked â€œready.â€\nQualify (ICP)\nScore each hotel on rooms, ADR, coastal/metro, and plasticâ€‘ban city criteria with strict validation and arithmetic checks; write the score and reasoning back to CRM.\nEnrich\nConfirm the official property name/location and run focused people searches to identify onâ€‘property decision makers; normalize roles, dedupe, and cap to a sensible list.\nVerify\nProcess each profile oneâ€‘byâ€‘one: infer domain, find email, verify deliverability, and log confidence and timestamps to a tracking sheet immediately after each result.\nSync\nCreate/update contacts in CRM, associate to the correct company, and update status flags so items arenâ€™t processed twice.\nOutreach\nGenerate the approved HTML email (subject + body) with only the first name personalized, create a nextâ€‘day CRM task, and draft an email via the mail API with an inline signature image.\n## ğŸš€ Key Benefits\nPrecision: Deterministic prompts, structured parsers, and guardrails prevent contradictions and ensure correct scoring.\nSpeed with Safety: Sequential, rateâ€‘aware executionâ€”each record fully completes before the next begins.\nSingle Source of Truth: Sheets track discovery, verification, and outreach states; CRM stores the score, reasoning, and contacts.\nCompliance & Quality: No parallel scraping blasts; verified emails only; approved copy preserved exactly.\nScale: Modular agents (scoring, enrichment, verification, content) let you increase throughput without losing control.\nâš¡ Result: An endâ€‘toâ€‘end, auditable pipeline that consistently converts hotel targets into verified contacts and ready outreach, with every step logged and synced.\n\n#  Author\n## https://kumarshivam.link/"
          },
          "typeVersion": 1
        },
        {
          "id": "d874bf51-55e1-45e8-a550-499fce07dbba",
          "name": "Sticky Note5",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            2576,
            -672
          ],
          "parameters": {
            "color": 7,
            "width": 912,
            "height": 560,
            "content": "# 1. Overview\nThis N8N workflow automates hotel prospect onboarding by monitoring a Google Drive folder for new files, then processing unprocessed hotel rows from Google Sheets to create HubSpot companies and contacts for hotel general managers, while maintaining audit trails and marking records as processed.\n\nKey Components:\n\nTrigger: Google Drive file watcher (polls every minute)\n\nData Source: Google Sheets filtering for created_record = \"no\" with valid GM emails\n\nHubSpot Operations: Creates companies, establishes parent-child relationships with subbrands, and creates/updates GM contacts\n\nAudit Trail: Logs results to profiles_info sheet and marks source rows as processed\n\nThe workflow runs in batches to handle rate limits and includes error handling for contact creation failures."
          },
          "typeVersion": 1
        },
        {
          "id": "c0e7922f-2f1c-4984-ac86-9a47b326fa1a",
          "name": "Sticky Note6",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            2528,
            784
          ],
          "parameters": {
            "color": 4,
            "width": 1536,
            "height": 496,
            "content": "# 2. Overview\n\nThis N8N workflow runs on a schedule to automatically score HubSpot hotel companies using an ICP (Ideal Customer Profile) algorithm that evaluates hotels on rooms, ADR, location, and plastic-ban policies, then updates their HubSpot records with scores and reasoning.\n\nKey Components:\n\nTrigger: Scheduled execution with throttling controls\n\nData Processing: Fetches HubSpot companies with change_status = \"new\", limited to 3 per run\n\nAI Scoring: LangChain agent with OpenRouter LLM calculates 0-85 ICP scores using strict business rules\n\nADR Handling: Routes to specialized ADR finder agent when average daily rate data is missing\n\nHubSpot Updates: Writes back icp_score and reasoning properties to company records\n\nThe workflow includes rate limiting, deterministic scoring (low LLM temperature), and processes only new/updated companies to avoid redundant scoring."
          },
          "typeVersion": 1
        },
        {
          "id": "dd1e9ea1-3a98-47ef-91d7-427850af0e6e",
          "name": "Sticky Note7",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            2528,
            1296
          ],
          "parameters": {
            "color": 3,
            "width": 1936,
            "height": 320,
            "content": "# 3. overview \n- Runs on a schedule, pulls a small batch of hotel companies from the CRM.\n- For each company, parses the GMâ€™s name and creates/updates the GM contact (if email is available).\n- Confirms the propertyâ€™s official name/location and builds focused LinkedIn people searches.\n- Scrapes likely decisionâ€‘makers (ops, sales, F&B, housekeeping, purchasing) and logs them to a tracking sheet.\n- Processes candidates one by one: finds a work email, verifies deliverability, then updates the sheet immediately.\n- Creates/updates CRM contacts for verified profiles and marks each profile as completed in the sheet.\n- Everything is sequential and rateâ€‘safe: fetch â†’ enrich â†’ verify â†’ write back, then move to the next profile."
          },
          "typeVersion": 1
        },
        {
          "id": "138933bf-099e-4997-81ae-2e902c17ca37",
          "name": "Sticky Note11",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            6160,
            2176
          ],
          "parameters": {
            "color": 2,
            "width": 1152,
            "height": 416,
            "content": "# 4 Content Creator + Outreach â€” What this workflow does\nThis N8N workflow automates email outreach by processing CRM leads from Google Sheets, generating personalized emails using AI, and creating follow-up tasks while maintaining complete audit trails.\n\nKey Components:\n\nScheduled Processing: Pulls batched leads where email_created = \"no\" from tracking sheet\n\nAI Email Generation: Level 2 orchestrator creates standardized HTML emails with personalized greetings using approved templates\n\nMulti-System Updates: Logs email content to Google Sheets, creates CRM follow-up tasks, and generates email drafts via API\n\nProfessional Presentation: Embeds brand signature images as base64 inline attachments\n\nQuality Controls: Uses structured output parsing and deterministic LLM settings for consistent results\n\nThe workflow processes items sequentially to avoid rate limits and marks each record as completed to prevent duplicate processing."
          },
          "typeVersion": 1
        },
        {
          "id": "204e2887-0c45-4ed5-8a4e-ada86c0ed21c",
          "name": "Sticky Note8",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            6496,
            1728
          ],
          "parameters": {
            "color": 7,
            "width": 262,
            "height": 192,
            "content": "# Email Signature"
          },
          "typeVersion": 1
        },
        {
          "id": "44217986-fd83-4068-bfa8-dbc919ea73db",
          "name": "Sticky Note9",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            5824,
            1312
          ],
          "parameters": {
            "color": 7,
            "width": 592,
            "height": 256,
            "content": "# Assign Task\n\n. It will assign task to remind the hubspot owner account that the mail drafted inside the outlook."
          },
          "typeVersion": 1
        },
        {
          "id": "1e0ea303-8712-4fa3-89d3-6d57565c6f7a",
          "name": "Sticky Note10",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            3520,
            1616
          ],
          "parameters": {
            "color": 4,
            "width": 432,
            "height": 560,
            "content": "# Apify Linkedin People Scraper\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Apify is used here to scrape Linkedin profiles\n"
          },
          "typeVersion": 1
        },
        {
          "id": "2d41126a-af7a-4c23-ad54-0361d304f6da",
          "name": "Sticky Note12",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -544,
            2496
          ],
          "parameters": {
            "color": 4,
            "width": 736,
            "height": 256,
            "content": "# Step a> Profile Scraping (New Leads)\n\n1. Generates Linkedin Link based on location and hotel name\n2. Calls sub workflow to extract the profiles passes search url to it."
          },
          "typeVersion": 1
        },
        {
          "id": "14291394-d837-4239-a22d-11e61f2d03d8",
          "name": "Sticky Note13",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            1152,
            2624
          ],
          "parameters": {
            "color": 4,
            "width": 736,
            "height": 256,
            "content": "# Step b> Email Finder and Verifier\n\n1. Find emails and verify the emails of the profiles found in the last step"
          },
          "typeVersion": 1
        },
        {
          "id": "4925788d-909a-4620-ab4d-dbed9ff6c07a",
          "name": "Sticky Note14",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            2768,
            2592
          ],
          "parameters": {
            "color": 4,
            "width": 736,
            "height": 256,
            "content": "# Step c> Create Contact on Hubspot\n\n1. Create contact on Hubspot based on the emails found in last step."
          },
          "typeVersion": 1
        },
        {
          "id": "0feab721-a7a0-4b0b-bb30-7b59685fea43",
          "name": "Sticky Note15",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            2112,
            1680
          ],
          "parameters": {
            "color": 2,
            "width": 736,
            "height": 256,
            "content": "#  Apify Profile scraper sub workflow of Profile Scraper\n"
          },
          "typeVersion": 1
        },
        {
          "id": "eec44a2d-d245-4a3a-b21d-aebf4966a889",
          "name": "Sticky Note16",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            1360,
            -592
          ],
          "parameters": {
            "width": 896,
            "height": 256,
            "content": "# Create primary contact and Company on Hubspot\n\n. Creates company on the Hubspot and Contact (primary) based on the initial outreach data in csv/excel. \n"
          },
          "typeVersion": 1
        },
        {
          "id": "ed9b7f79-6160-4fb2-ae10-ac4d888d5c8a",
          "name": "Sticky Note17",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            880,
            -336
          ],
          "parameters": {
            "width": 480,
            "height": 256,
            "content": "# Parent to Child association\n\n. Api of hubspot helps to create Parent to child relationship from Brand Sub brand to unique company created every time. \n"
          },
          "typeVersion": 1
        },
        {
          "id": "01919076-8217-4dee-a956-8eafef5ff83d",
          "name": "Sticky Note18",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            672,
            432
          ],
          "parameters": {
            "color": 3,
            "width": 560,
            "height": 400,
            "content": "## ICP Creation\n\n1. ICP for outreaching correct prospect (here hotels)\nis identified based on the location,rooms, avg daily revenue.\n2.Score is provided to such leads and updated on Hubspot with related company.\n3.If Adr is somehow not extracts or empty. It will be forwarded to Adr finder agent.\n"
          },
          "typeVersion": 1
        },
        {
          "id": "2619458a-d59d-4e4b-a8ec-32a060c6f5ea",
          "name": "Sticky Note19",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            592,
            1664
          ],
          "parameters": {
            "color": 6,
            "width": 1024,
            "height": 720,
            "content": "# Prospect Enricher Orchestrator\n\n. Divides the process of scraping of suitable profiles according to the company (here hotel) into three major steps\na. Profile Scraping\nb. Email Finding and verification\nc. Updating contacts on Hubspot with unique email id."
          },
          "typeVersion": 1
        },
        {
          "id": "50cd1596-6e24-4883-9478-0d06844c26cf",
          "name": "Sticky Note20",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            5056,
            2128
          ],
          "parameters": {
            "color": 7,
            "width": 528,
            "height": 448,
            "content": "# Email Html Drafter\n\n. Creates the Html content required for mail  Called by the Level 2 orchestrator."
          },
          "typeVersion": 1
        },
        {
          "id": "9e9db9bd-5a4e-4a56-a2bb-b6ce3bd51d00",
          "name": "Sticky Note21",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            5664,
            1792
          ],
          "parameters": {
            "color": 7,
            "width": 358,
            "height": 192,
            "content": "# Draft Email through graph Api\n. Draft is created inside tenant's outlook\n"
          },
          "typeVersion": 1
        }
      ],
      "pinData": {
        "Google Drive Trigger": [
          {
            "id": "1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo",
            "kind": "drive#file",
            "name": "Target_hotels",
            "size": "178739",
            "owners": [
              {
                "me": true,
                "kind": "drive#user",
                "photoLink": "https://lh3.googleusercontent.com/a/ACg8ocIX4oNdCY3BA0pzNMwj2iknlNxN3tj75NKe_NgeeuVeNzsZyfM=s64",
                "displayName": "n8n Off",
                "emailAddress": "n8n.official2025@gmail.com",
                "permissionId": "01033609286514205286"
              }
            ],
            "shared": false,
            "spaces": [
              "drive"
            ],
            "parents": [
              "1wm0ny5VmKHrasjrRUduePqS3Qu-q4073"
            ],
            "starred": false,
            "trashed": false,
            "version": "19",
            "iconLink": "https://drive-thirdparty.googleusercontent.com/16/type/application/vnd.google-apps.spreadsheet",
            "mimeType": "application/vnd.google-apps.spreadsheet",
            "ownedByMe": true,
            "viewedByMe": true,
            "createdTime": "2025-08-05T10:53:19.056Z",
            "exportLinks": {
              "text/csv": "https://docs.google.com/spreadsheets/export?id=1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo&exportFormat=csv",
              "application/pdf": "https://docs.google.com/spreadsheets/export?id=1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo&exportFormat=pdf",
              "application/zip": "https://docs.google.com/spreadsheets/export?id=1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo&exportFormat=zip",
              "text/tab-separated-values": "https://docs.google.com/spreadsheets/export?id=1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo&exportFormat=tsv",
              "application/vnd.oasis.opendocument.spreadsheet": "https://docs.google.com/spreadsheets/export?id=1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo&exportFormat=ods",
              "application/x-vnd.oasis.opendocument.spreadsheet": "https://docs.google.com/spreadsheets/export?id=1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo&exportFormat=ods",
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": "https://docs.google.com/spreadsheets/export?id=1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo&exportFormat=xlsx"
            },
            "permissions": [
              {
                "id": "01033609286514205286",
                "kind": "drive#permission",
                "role": "owner",
                "type": "user",
                "deleted": false,
                "photoLink": "https://lh3.googleusercontent.com/a/ACg8ocIX4oNdCY3BA0pzNMwj2iknlNxN3tj75NKe_NgeeuVeNzsZyfM=s64",
                "displayName": "n8n Off",
                "emailAddress": "n8n.official2025@gmail.com",
                "pendingOwner": false
              }
            ],
            "webViewLink": "https://docs.google.com/spreadsheets/d/1wWaIu0-pR7XXRly0nnlnxh72w9VRX1_uYe59V8CMCMo/edit?usp=drivesdk",
            "capabilities": {
              "canCopy": true,
              "canEdit": true,
              "canShare": true,
              "canTrash": true,
              "canDelete": true,
              "canRename": true,
              "canComment": true,
              "canUntrash": true,
              "canDownload": true,
              "canReadLabels": false,
              "canAddChildren": false,
              "canListChildren": false,
              "canModifyLabels": false,
              "canModifyContent": true,
              "canReadRevisions": true,
              "canRemoveChildren": false,
              "canAcceptOwnership": false,
              "canAddMyDriveParent": false,
              "canMoveItemOutOfDrive": true,
              "canMoveItemWithinDrive": true,
              "canRemoveMyDriveParent": true,
              "canMoveItemIntoTeamDrive": true,
              "canMoveChildrenWithinDrive": false,
              "canModifyContentRestriction": true,
              "canRemoveContentRestriction": false,
              "canEnableInheritedPermissions": true,
              "canChangeSecurityUpdateEnabled": false,
              "canChangeViewersCanCopyContent": true,
              "canDisableInheritedPermissions": false,
              "canChangeItemDownloadRestriction": true,
              "canModifyOwnerContentRestriction": true,
              "canModifyEditorContentRestriction": true,
              "canChangeCopyRequiresWriterPermission": true
            },
            "hasThumbnail": true,
            "modifiedByMe": true,
            "modifiedTime": "2025-08-05T14:20:54.315Z",
            "permissionIds": [
              "01033609286514205286"
            ],
            "thumbnailLink": "https://lh3.googleusercontent.com/drive-storage/AJQWtBNgI6MGjfxOmQO0Cc7y2qUv-bQDsVBF6BQOtj_R8IyCtwgFW8xI8viHuC1GhigJ9V5ULEGJItxf9TRbOCCtI1q4W31_momc9uk2kcFU2M4FiAYTXCm8Ux_Ny-HX=s220",
            "quotaBytesUsed": "178739",
            "viewedByMeTime": "2025-08-05T14:20:54.315Z",
            "isAppAuthorized": false,
            "writersCanShare": true,
            "modifiedByMeTime": "2025-08-05T14:20:54.315Z",
            "thumbnailVersion": "6",
            "explicitlyTrashed": false,
            "lastModifyingUser": {
              "me": true,
              "kind": "drive#user",
              "photoLink": "https://lh3.googleusercontent.com/a/ACg8ocIX4oNdCY3BA0pzNMwj2iknlNxN3tj75NKe_NgeeuVeNzsZyfM=s64",
              "displayName": "n8n Off",
              "emailAddress": "n8n.official2025@gmail.com",
              "permissionId": "01033609286514205286"
            },
            "linkShareMetadata": {
              "securityUpdateEnabled": true,
              "securityUpdateEligible": false
            },
            "downloadRestrictions": {
              "itemDownloadRestriction": {
                "restrictedForReaders": false,
                "restrictedForWriters": false
              },
              "effectiveDownloadRestrictionWithContext": {
                "restrictedForReaders": false,
                "restrictedForWriters": false
              }
            },
            "viewersCanCopyContent": true,
            "copyRequiresWriterPermission": false,
            "inheritedPermissionsDisabled": false
          }
        ]
      },
      "connections": {
        "If2": {
          "main": [
            [
              {
                "node": "Adr finder",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Update a company1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Wait": {
          "main": [
            [
              {
                "node": "Filter",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Limit": {
          "main": [
            [
              {
                "node": "ICP Agent",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Filter": {
          "main": [
            [
              {
                "node": "Limit",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Limit1": {
          "main": [
            [
              {
                "node": "Loop Over Items",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Filter1": {
          "main": [
            [
              {
                "node": "Limit1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "ICP Agent": {
          "main": [
            [
              {
                "node": "If2",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "run actor": {
          "ai_tool": [
            [
              {
                "node": "Profile Scraper",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Adr finder": {
          "main": [
            [
              {
                "node": "Edit Fields2",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Calculator": {
          "ai_tool": [
            [
              {
                "node": "ICP Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Edit Fields1": {
          "main": [
            [
              {
                "node": "Wait",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Edit Fields2": {
          "main": [
            [
              {
                "node": "Update a company",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Edit Fields5": {
          "main": [
            [
              {
                "node": "Run an Actor1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Download file": {
          "main": [
            [
              {
                "node": "Extract from File",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Email content": {
          "ai_tool": [
            [
              {
                "node": "Level 2 Orchestrator",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "HTTP Request3": {
          "main": [
            [
              {
                "node": "Download file",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "HTTP Request6": {
          "main": [
            [
              {
                "node": "Loop Over Items1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "HTTP Request7": {
          "main": [
            [
              {
                "node": "Loop Over Items",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Run an Actor1": {
          "main": [
            [
              {
                "node": "Get dataset items",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory": {
          "ai_memory": [
            [
              {
                "node": "ICP Agent",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "apify_scraper": {
          "main": [
            [
              {
                "node": "Get row(s) in sheet1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory1": {
          "ai_memory": [
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory2": {
          "ai_memory": [
            [
              {
                "node": "Profile Scraper",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory3": {
          "ai_memory": [
            [
              {
                "node": "Email Finder and verifier",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory4": {
          "ai_memory": [
            [
              {
                "node": "Level 2 Orchestrator",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory5": {
          "ai_memory": [
            [
              {
                "node": "Email content",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory6": {
          "ai_memory": [
            [
              {
                "node": "Create Contacts",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory9": {
          "ai_memory": [
            [
              {
                "node": "Adr finder",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "email verifier": {
          "ai_tool": [
            [
              {
                "node": "Email Finder and verifier",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Create Contacts": {
          "ai_tool": [
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Loop Over Items": {
          "main": [
            [],
            [
              {
                "node": "Create a company",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Profile Scraper": {
          "ai_tool": [
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory10": {
          "ai_memory": [
            [
              {
                "node": "apify_scraper",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "profile details": {
          "ai_tool": [
            [
              {
                "node": "Email Finder and verifier",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Create a company": {
          "main": [
            [
              {
                "node": "Create or update a contact",
                "type": "main",
                "index": 0
              },
              {
                "node": "HTTP Request7",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Loop Over Items1": {
          "main": [
            [],
            [
              {
                "node": "Level 2 Orchestrator",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Loop Over Items4": {
          "main": [
            [],
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Schedule Trigger": {
          "main": [
            [
              {
                "node": "Get many companies",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Extract from File": {
          "main": [
            [
              {
                "node": "HTTP Request6",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get dataset items": {
          "main": [
            [
              {
                "node": "Append row in sheet",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Schedule Trigger1": {
          "main": [
            [
              {
                "node": "Get row(s) in sheet2",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Schedule Trigger4": {
          "main": [
            [
              {
                "node": "Get many companies1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get many companies": {
          "main": [
            [
              {
                "node": "Edit Fields1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get many companies1": {
          "main": [
            [
              {
                "node": "Loop Over Items4",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get row(s) in sheet": {
          "main": [
            [
              {
                "node": "Filter1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "email finder Hunter": {
          "ai_tool": [
            [
              {
                "node": "Email Finder and verifier",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Append row in sheet1": {
          "main": [
            [
              {
                "node": "Update row in sheet1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Create an engagement": {
          "main": [
            []
          ]
        },
        "Get row(s) in sheet1": {
          "main": [
            [
              {
                "node": "Edit Fields5",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get row(s) in sheet2": {
          "main": [
            [
              {
                "node": "Loop Over Items1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Google Drive Trigger": {
          "main": [
            [
              {
                "node": "Get row(s) in sheet",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Level 1 Orchestrator": {
          "main": [
            [
              {
                "node": "Loop Over Items4",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Level 2 Orchestrator": {
          "main": [
            [
              {
                "node": "HTTP Request3",
                "type": "main",
                "index": 0
              },
              {
                "node": "Update row in sheet2",
                "type": "main",
                "index": 0
              },
              {
                "node": "Create an engagement",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Update row in sheet1": {
          "main": [
            []
          ]
        },
        "Update row in sheet2": {
          "main": [
            []
          ]
        },
        "OpenRouter Chat Model": {
          "ai_languageModel": [
            [
              {
                "node": "ICP Agent",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "create_update_contact": {
          "ai_tool": [
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model1": {
          "ai_languageModel": [
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model2": {
          "ai_languageModel": [
            [
              {
                "node": "Email Finder and verifier",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model3": {
          "ai_languageModel": [
            [
              {
                "node": "Profile Scraper",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model4": {
          "ai_languageModel": [
            [
              {
                "node": "Level 2 Orchestrator",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model5": {
          "ai_languageModel": [
            [
              {
                "node": "Email content",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model6": {
          "ai_languageModel": [
            [
              {
                "node": "Create Contacts",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model7": {
          "ai_languageModel": [
            [
              {
                "node": "Structured Output Parser5",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model9": {
          "ai_languageModel": [
            [
              {
                "node": "Structured Output Parser",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model10": {
          "ai_languageModel": [
            [
              {
                "node": "Adr finder",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model11": {
          "ai_languageModel": [
            [
              {
                "node": "Structured Output Parser2",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model12": {
          "ai_languageModel": [
            [
              {
                "node": "Structured Output Parser3",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model13": {
          "ai_languageModel": [
            [
              {
                "node": "Structured Output Parser1",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model14": {
          "ai_languageModel": [
            [
              {
                "node": "apify_scraper",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenRouter Chat Model15": {
          "ai_languageModel": [
            [
              {
                "node": "Structured Output Parser4",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output Parser": {
          "ai_outputParser": [
            [
              {
                "node": "ICP Agent",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "Email Finder and verifier": {
          "ai_tool": [
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output Parser1": {
          "ai_outputParser": [
            [
              {
                "node": "Level 1 Orchestrator",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output Parser2": {
          "ai_outputParser": [
            [
              {
                "node": "Adr finder",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output Parser3": {
          "ai_outputParser": [
            [
              {
                "node": "Profile Scraper",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output Parser4": {
          "ai_outputParser": [
            [
              {
                "node": "apify_scraper",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output Parser5": {
          "ai_outputParser": [
            [
              {
                "node": "Level 2 Orchestrator",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "Create or update a contact": {
          "main": [
            [
              {
                "node": "Append row in sheet1",
                "type": "main",
                "index": 0
              }
            ],
            []
          ]
        },
        "Message a model in Perplexity": {
          "ai_tool": [
            [
              {
                "node": "ICP Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Message a model in Perplexity1": {
          "ai_tool": [
            [
              {
                "node": "Profile Scraper",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Message a model in Perplexity5": {
          "ai_tool": [
            [
              {
                "node": "Adr finder",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "When Executed by Another Workflow": {
          "main": [
            [
              {
                "node": "apify_scraper",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get row(s) in sheet in Google Sheets": {
          "ai_tool": [
            [
              {
                "node": "ICP Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Update row in sheet in Google Sheets": {
          "ai_tool": [
            [
              {
                "node": "Email Finder and verifier",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Create or update a contact in HubSpot": {
          "ai_tool": [
            [
              {
                "node": "Create Contacts",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Get row(s) in sheet in Google Sheets1": {
          "ai_tool": [
            [
              {
                "node": "Profile Scraper",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Get row(s) in sheet in Google Sheets2": {
          "ai_tool": [
            [
              {
                "node": "Create Contacts",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Get row(s) in sheet in Google Sheets3": {
          "ai_tool": [
            [
              {
                "node": "Email Finder and verifier",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Update row in sheet in Google Sheets1": {
          "ai_tool": [
            [
              {
                "node": "Create Contacts",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 1,
    "workflowInfo": {
      "nodeCount": 114,
      "nodeTypes": {
        "n8n-nodes-base.if": {
          "count": 1
        },
        "n8n-nodes-base.set": {
          "count": 3
        },
        "n8n-nodes-base.wait": {
          "count": 1
        },
        "n8n-nodes-base.limit": {
          "count": 2
        },
        "n8n-nodes-base.filter": {
          "count": 2
        },
        "n8n-nodes-base.hubspot": {
          "count": 7
        },
        "n8n-nodes-base.hunterTool": {
          "count": 2
        },
        "n8n-nodes-base.stickyNote": {
          "count": 21
        },
        "n8n-nodes-base.googleDrive": {
          "count": 1
        },
        "n8n-nodes-base.httpRequest": {
          "count": 3
        },
        "n8n-nodes-base.hubspotTool": {
          "count": 2
        },
        "n8n-nodes-base.googleSheets": {
          "count": 7
        },
        "@apify/n8n-nodes-apify.apify": {
          "count": 2
        },
        "n8n-nodes-base.perplexityTool": {
          "count": 3
        },
        "n8n-nodes-base.splitInBatches": {
          "count": 3
        },
        "@n8n/n8n-nodes-langchain.agent": {
          "count": 5
        },
        "n8n-nodes-base.extractFromFile": {
          "count": 1
        },
        "n8n-nodes-base.scheduleTrigger": {
          "count": 3
        },
        "n8n-nodes-base.googleSheetsTool": {
          "count": 6
        },
        "n8n-nodes-base.googleDriveTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.agentTool": {
          "count": 4
        },
        "@n8n/n8n-nodes-langchain.toolWorkflow": {
          "count": 2
        },
        "n8n-nodes-base.executeWorkflowTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.toolCalculator": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.lmChatOpenRouter": {
          "count": 15
        },
        "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
          "count": 9
        },
        "@n8n/n8n-nodes-langchain.outputParserStructured": {
          "count": 6
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Kumar Shivam",
      "username": "shivam840708",
      "bio": "I'm an automation specialist who helps startups, agencies, and growth teams save time and scale faster using n8n.\n\nI design smart, reliable workflows that connect tools like HubSpot, Slack, OpenAI, Claude, Pipedrive, Google Ads, and vector databases (Qdrant, Pinecone). Whether it's auto-assigning leads, generating AI-powered reports, triggering Slack alerts, or syncing APIs â€” I build automations that just work.\nLetâ€™s turn your manual processes into automated systems that scale.",
      "verified": true,
      "links": [
        "https://kumarshivam.link"
      ],
      "avatar": "https://gravatar.com/avatar/07c157aa86f2e7e0365e27ffa8226628901a3e430401486626667fc774e6c954?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 18,
        "icon": "file:googleSheets.svg",
        "name": "n8n-nodes-base.googleSheets",
        "codex": {
          "data": {
            "alias": [
              "CSV",
              "Sheet",
              "Spreadsheet",
              "GS"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/love-at-first-sight-ricardos-n8n-journey/",
                  "icon": "â¤ï¸",
                  "label": "Love at first sight: Ricardoâ€™s n8n journey"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "ğŸ§¬",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "ğŸ§¾",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                  "icon": "ğŸ«",
                  "label": "Supercharging your conference registration process with n8n"
                },
                {
                  "url": "https://n8n.io/blog/creating-triggers-for-n8n-workflows-using-polling/",
                  "icon": "â²",
                  "label": "Creating triggers for n8n workflows using polling"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/migrating-community-metrics-to-orbit-using-n8n/",
                  "icon": "ğŸ“ˆ",
                  "label": "Migrating Community Metrics to Orbit using n8n"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "ğŸ’¡",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                  "icon": " ğŸ–¥ï¸",
                  "label": "Hey founders! Your business doesn't need you to operate"
                },
                {
                  "url": "https://n8n.io/blog/how-honest-burgers-use-automation-to-save-100k-per-year/",
                  "icon": "ğŸ”",
                  "label": "How Honest Burgers Use Automation to Save $100k per year"
                },
                {
                  "url": "https://n8n.io/blog/how-a-digital-strategist-uses-n8n-for-online-marketing/",
                  "icon": "ğŸ’»",
                  "label": "How a digital strategist uses n8n for online marketing"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "ğŸ§ ",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "ğŸ™Œ",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "ğŸ“ˆ",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
                }
              ]
            },
            "categories": [
              "Data & Storage",
              "Productivity"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"input\",\"output\"]",
        "defaults": {
          "name": "Google Sheets"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNS42OSAxIDUyIDE3LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0OC4yOTMgNjBIMTIuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDkgNTYuMzEyVjQuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTIuNzA3IDF6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM1LjY5IDEgNTIgMTcuMjI1SDM5LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzkuMjExIDE3LjIyNSA1MiAyMi40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTIwLjEyIDMxLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMS42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzEuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNC42OSAwIDUxIDE2LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0Ny4yOTMgNTlIMTEuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDggNTUuMzEyVjMuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTEuNzA3IDB6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM0LjY5IDAgNTEgMTYuMjI1SDM4LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzguMjExIDE2LjIyNSA1MSAyMS40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTE5LjEyIDMwLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMC42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzAuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjwvZz48L3N2Zz4="
        },
        "displayName": "Google Sheets",
        "typeVersion": 5,
        "nodeCategories": [
          {
            "id": 3,
            "name": "Data & Storage"
          },
          {
            "id": 4,
            "name": "Productivity"
          }
        ]
      },
      {
        "id": 19,
        "icon": "file:httprequest.svg",
        "name": "n8n-nodes-base.httpRequest",
        "codex": {
          "data": {
            "alias": [
              "API",
              "Request",
              "URL",
              "Build",
              "cURL"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "â˜€ï¸",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "ğŸ§¬",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "ğŸ“ˆ",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                  "icon": "âœï¸",
                  "label": "Learn how to automatically cross-post your content with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "ğŸ§¾",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                  "icon": "ğŸ›³",
                  "label": "Running n8n on ships: An interview with Maranics"
                },
                {
                  "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                  "icon": " ğŸª¢",
                  "label": "What are APIs and how to use them with no code"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "âš¡ï¸",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                  "icon": "ğŸ“œ",
                  "label": "Celebrating World Poetry Day with a daily poem in Telegram"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "ğŸ’¡",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                  "icon": "ğŸ¨",
                  "label": "Automate Designs with Bannerbear and n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ğŸ•¸ï¸",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "ğŸ“±",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ğŸ¤–",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                  "icon": "ğŸ§°",
                  "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                  "icon": "ğŸ¦„",
                  "label": "Learn how to use webhooks with Mattermost slash commands"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "ğŸ“ˆ",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "ğŸ“ˆ",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "ğŸ¡",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/automations-for-activists/",
                  "icon": "âœ¨",
                  "label": "How Common Knowledge use workflow automation for activism"
                },
                {
                  "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                  "icon": "ğŸ¤Ÿ",
                  "label": "Creating scheduled text affirmations with n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "ğŸ›µ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "HTTP Request",
          "color": "#0004F5"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
        },
        "displayName": "HTTP Request",
        "typeVersion": 4,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 20,
        "icon": "fa:map-signs",
        "name": "n8n-nodes-base.if",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "ğŸ­",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "â˜€ï¸",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "ğŸ§¬",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                  "icon": "ğŸ¤¬",
                  "label": "Create a toxic language detector for Telegram in 4 step"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "ğŸ”—",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "âš™ï¸",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "ğŸ‘¥",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "âš¡ï¸",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "ğŸ’¡",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                  "icon": "ğŸ·ï¸",
                  "label": "How to automatically manage contributions to open-source projects"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ğŸ•¸ï¸",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ğŸ¤–",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "ğŸ§ ",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "ğŸ™Œ",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "ğŸ¡",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "ğŸ–",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "If",
          "color": "#408000"
        },
        "iconData": {
          "icon": "map-signs",
          "type": "icon"
        },
        "displayName": "If",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 38,
        "icon": "fa:pen",
        "name": "n8n-nodes-base.set",
        "codex": {
          "data": {
            "alias": [
              "Set",
              "JS",
              "JSON",
              "Filter",
              "Transform",
              "Map"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "ğŸ­",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "â˜€ï¸",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "ğŸ“ˆ",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                  "icon": "ğŸ“¡",
                  "label": "Database Monitoring and Alerting with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "ğŸ§¾",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "ğŸ”—",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "âš™ï¸",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "ğŸ‘¥",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "âš¡ï¸",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "ğŸ’¡",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ğŸ•¸ï¸",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "ğŸ“±",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                  "icon": "ğŸ“¹",
                  "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ğŸ¤–",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                  "icon": "ğŸ§°",
                  "label": "Learn to Build Powerful API Endpoints Using Webhooks"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "ğŸ“ˆ",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "ğŸ“ˆ",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "ğŸ¡",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "ğŸ–",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "ğŸ›µ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Edit Fields"
        },
        "iconData": {
          "icon": "pen",
          "type": "icon"
        },
        "displayName": "Edit Fields (Set)",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 39,
        "icon": "fa:sync",
        "name": "n8n-nodes-base.splitInBatches",
        "codex": {
          "data": {
            "alias": [
              "Loop",
              "Concatenate",
              "Batch",
              "Split",
              "Split In Batches"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ğŸ•¸ï¸",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "ğŸ–",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.splitinbatches/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"organization\"]",
        "defaults": {
          "name": "Loop Over Items",
          "color": "#007755"
        },
        "iconData": {
          "icon": "sync",
          "type": "icon"
        },
        "displayName": "Loop Over Items (Split in Batches)",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 58,
        "icon": "file:googleDrive.svg",
        "name": "n8n-nodes-base.googleDrive",
        "codex": {
          "data": {
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                  "icon": " ğŸ–¥ï¸",
                  "label": "Hey founders! Your business doesn't need you to operate"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "ğŸ§ ",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googledrive/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
                }
              ]
            },
            "categories": [
              "Data & Storage"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Google Drive"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgODEgNzMiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzAwNjZkYSIgZD0ibTYuMDQ4IDYxLjI2IDMuNTI4IDYuMDk0Yy43MzMgMS4yODMgMS43ODcgMi4yOTEgMy4wMjQgMy4wMjRsMTIuNi0yMS44MUgwYTguMyA4LjMgMCAwIDAgMS4xIDQuMTI0eiIvPjxwYXRoIGZpbGw9IiMwMGFjNDciIGQ9Ik00MCAyMi45MSAyNy40IDEuMWMtMS4yMzcuNzMzLTIuMjkxIDEuNzQxLTMuMDI0IDMuMDI0TDEuMSA0NC40NDVBOC4zIDguMyAwIDAgMCAwIDQ4LjU2OGgyNS4yeiIvPjxwYXRoIGZpbGw9IiNlYTQzMzUiIGQ9Ik02Ny40IDcwLjM3OGMxLjIzNy0uNzMzIDIuMjkxLTEuNzQxIDMuMDI0LTMuMDI0bDEuNDY2LTIuNTIgNy4wMS0xMi4xNDJhOC4zIDguMyAwIDAgMCAxLjEtNC4xMjRINTQuNzk4bDUuMzYzIDEwLjUzOHoiLz48cGF0aCBmaWxsPSIjMDA4MzJkIiBkPSJNNDAgMjIuOTEgNTIuNiAxLjFDNTEuMzYzLjM2NyA0OS45NDMgMCA0OC40NzcgMEgzMS41MjRjLTEuNDY2IDAtMi44ODcuNDEyLTQuMTI0IDEuMXoiLz48cGF0aCBmaWxsPSIjMjY4NGZjIiBkPSJNNTQuNzk5IDQ4LjU2OEgyNS4ybC0xMi42IDIxLjgxYzEuMjM3LjczMyAyLjY1NyAxLjEgNC4xMjQgMS4xaDQ2LjU1MmMxLjQ2NiAwIDIuODg3LS40MTIgNC4xMjQtMS4xeiIvPjxwYXRoIGZpbGw9IiNmZmJhMDAiIGQ9Ik02Ny4yNjIgMjQuMjg0IDU1LjYyNCA0LjEyNEM1NC44OTEgMi44NDEgNTMuODM3IDEuODMzIDUyLjYgMS4xTDQwIDIyLjkxbDE0LjggMjUuNjU5aDI1LjE1NWE4LjMgOC4zIDAgMCAwLTEuMS00LjEyNHoiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
        },
        "displayName": "Google Drive",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 3,
            "name": "Data & Storage"
          }
        ]
      },
      {
        "id": 76,
        "icon": "file:hubspot.svg",
        "name": "n8n-nodes-base.hubspot",
        "codex": {
          "data": {
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/how-to-sync-data-between-two-systems/",
                  "icon": "ğŸ¬",
                  "label": "How to synchronize data between two systems (one-way vs. two-way sync"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "ğŸ‘¥",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                  "icon": " ğŸ–¥ï¸",
                  "label": "Hey founders! Your business doesn't need you to operate"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "ğŸ–",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "ğŸ›µ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.hubspot/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/hubspot/"
                }
              ]
            },
            "categories": [
              "Sales"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "HubSpot"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjIuODgzIDY5Ljg4MyI+PHVzZSB4bGluazpocmVmPSIjYSIgeD0iMi40NDIiIHk9IjIuNDQyIi8+PHN5bWJvbCBpZD0iYSIgb3ZlcmZsb3c9InZpc2libGUiPjxwYXRoIGZpbGw9IiNmODc2MWYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSJub25lIiBkPSJNNTUuNTA0IDMwLjQwMWExNi4yNiAxNi4yNiAwIDAgMC01LjkwNC01Ljg2NGMtMS44NjUtMS4wODQtMy43OTQtMS43NzMtNS45NzItMi4wN3YtNy43OThhNS43MSA1LjcxIDAgMCAwIDMuNTI1LTUuMzU3IDUuODYgNS44NiAwIDAgMC01Ljg1OS01Ljg4OSA1LjkxIDUuOTEgMCAwIDAtNS45MDggNS44ODljMCAyLjM5MyAxLjI3IDQuNDM0IDMuNDUyIDUuMzU3djcuNzU0YTE3IDE3IDAgMCAwLTUuMTk1IDEuNjMxTDEyLjc2OSA4LjI0N2MuMTQ2LS41NTIuMjczLTEuMTIzLjI3My0xLjcyNEE2LjUyIDYuNTIgMCAwIDAgNi41MTkgMCA2LjUyIDYuNTIgMCAwIDAgMCA2LjUyNGE2LjUyMyA2LjUyMyAwIDAgMCA2LjUyNCA2LjUyNCA2LjQ3IDYuNDcgMCAwIDAgMy4zNS0uOTUybDEuMzY3IDEuMDM1IDE4LjcyNiAxMy41MDFjLS45OTEuOTA4LTEuOTE0IDEuOTQzLTIuNjUxIDMuMTA1LTEuNDk0IDIuMzY4LTIuNDA3IDQuOTcxLTIuNDA3IDcuODEzdi41ODZhMTYuNCAxNi40IDAgMCAwIDEuMDI1IDUuNjQ1QzI2LjUgNDUuMzI0IDI3LjMzIDQ2LjczIDI4LjM2MSA0OGwtNi4yMjEgNi4yMzVhNS4wMSA1LjAxIDAgMCAwLTUuMjk4IDEuMTYyYy0uOTQ3Ljk0Mi0xLjQ4IDIuMjI3LTEuNDc1IDMuNTY1cy41MjcgMi42MTIgMS40NzkgMy41NjQgMi4yMjcgMS40OCAzLjU2NSAxLjQ4YTUgNSAwIDAgMCAzLjU2NS0xLjQ4IDUuMDUgNS4wNSAwIDAgMCAxLjQ3NS0zLjU2NCA1IDUgMCAwIDAtLjIzNC0xLjUxNGw2LjQyNi02LjQyNmExNiAxNiAwIDAgMCAyLjg1NiAxLjU2MyAxNi43IDE2LjcgMCAwIDAgNi42ODUgMS40MDZoLjQzOWExNS43NiAxNS43NiAwIDAgMCA3LjYyNy0xLjkyOSAxNS43NyAxNS43NyAwIDAgMCA1Ljk3Ny01LjYzYzEuNDk5LTIuMzkzIDIuMzE5LTUuMDQ0IDIuMzE5LTcuOTU5di0uMTQ2YzAtMi44NjYtLjY2NC01LjUwOC0yLjA1MS03Ljkzem0tNy44NDcgMTMuNDg3Yy0xLjc0MyAxLjkzOC0zLjc1IDMuMTM1LTYuMDE2IDMuMTM1aC0uNDNjLTEuMjk0IDAtMi41NjQtLjM1Ni0zLjc5OS0xLjAxMWE4LjggOC44IDAgMCAxLTMuMzMtMy4wMzJjLS44OTgtMS4yNy0xLjM4Ny0yLjY1Ni0xLjM4Ny00LjEyNnYtLjQzOWMwLTEuNDQ1LjI3OC0yLjgxNy45NzctNC4xMTEuNzQ3LTEuNDY1IDEuNzU4LTIuNTE1IDMuMTAxLTMuMzg5YTcuNiA3LjYgMCAwIDEgNC4yOTctMS4yOTRoLjE0N2MxLjQxNiAwIDIuNzY5LjI3OCA0LjAzOC45MjhhOC41NiA4LjU2IDAgMCAxIDMuMTc0IDIuODg2IDkuMiA5LjIgMCAwIDEgMS40MjEgNC4wNTNsLjAzNC45MTNjMCAxLjk4Ny0uNzYyIDMuODI4LTIuMjggNS40OTh6Ii8+PC9zeW1ib2w+PC9zdmc+"
        },
        "displayName": "HubSpot",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 2,
            "name": "Sales"
          }
        ]
      },
      {
        "id": 514,
        "icon": "fa:pause-circle",
        "name": "n8n-nodes-base.wait",
        "codex": {
          "data": {
            "alias": [
              "pause",
              "sleep",
              "delay",
              "timeout"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "ğŸ‘¥",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.wait/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers",
                "Flow"
              ]
            }
          }
        },
        "group": "[\"organization\"]",
        "defaults": {
          "name": "Wait",
          "color": "#804050"
        },
        "iconData": {
          "icon": "pause-circle",
          "type": "icon"
        },
        "displayName": "Wait",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 531,
        "icon": "file:googleDrive.svg",
        "name": "n8n-nodes-base.googleDriveTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/trigger-nodes/n8n-nodes-base.googledrivetrigger/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
                }
              ]
            },
            "categories": [
              "Data & Storage"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "Google Drive Trigger"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgODEgNzMiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzAwNjZkYSIgZD0ibTYuMDQ4IDYxLjI2IDMuNTI4IDYuMDk0Yy43MzMgMS4yODMgMS43ODcgMi4yOTEgMy4wMjQgMy4wMjRsMTIuNi0yMS44MUgwYTguMyA4LjMgMCAwIDAgMS4xIDQuMTI0eiIvPjxwYXRoIGZpbGw9IiMwMGFjNDciIGQ9Ik00MCAyMi45MSAyNy40IDEuMWMtMS4yMzcuNzMzLTIuMjkxIDEuNzQxLTMuMDI0IDMuMDI0TDEuMSA0NC40NDVBOC4zIDguMyAwIDAgMCAwIDQ4LjU2OGgyNS4yeiIvPjxwYXRoIGZpbGw9IiNlYTQzMzUiIGQ9Ik02Ny40IDcwLjM3OGMxLjIzNy0uNzMzIDIuMjkxLTEuNzQxIDMuMDI0LTMuMDI0bDEuNDY2LTIuNTIgNy4wMS0xMi4xNDJhOC4zIDguMyAwIDAgMCAxLjEtNC4xMjRINTQuNzk4bDUuMzYzIDEwLjUzOHoiLz48cGF0aCBmaWxsPSIjMDA4MzJkIiBkPSJNNDAgMjIuOTEgNTIuNiAxLjFDNTEuMzYzLjM2NyA0OS45NDMgMCA0OC40NzcgMEgzMS41MjRjLTEuNDY2IDAtMi44ODcuNDEyLTQuMTI0IDEuMXoiLz48cGF0aCBmaWxsPSIjMjY4NGZjIiBkPSJNNTQuNzk5IDQ4LjU2OEgyNS4ybC0xMi42IDIxLjgxYzEuMjM3LjczMyAyLjY1NyAxLjEgNC4xMjQgMS4xaDQ2LjU1MmMxLjQ2NiAwIDIuODg3LS40MTIgNC4xMjQtMS4xeiIvPjxwYXRoIGZpbGw9IiNmZmJhMDAiIGQ9Ik02Ny4yNjIgMjQuMjg0IDU1LjYyNCA0LjEyNEM1NC44OTEgMi44NDEgNTMuODM3IDEuODMzIDUyLjYgMS4xTDQwIDIyLjkxbDE0LjggMjUuNjU5aDI1LjE1NWE4LjMgOC4zIDAgMCAwLTEuMS00LjEyNHoiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
        },
        "displayName": "Google Drive Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 3,
            "name": "Data & Storage"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 837,
        "icon": "fa:sign-out-alt",
        "name": "n8n-nodes-base.executeWorkflowTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executeworkflowtrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When Executed by Another Workflow",
          "color": "#ff6d5a"
        },
        "iconData": {
          "icon": "sign-out-alt",
          "type": "icon"
        },
        "displayName": "Execute Workflow Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 839,
        "icon": "fa:clock",
        "name": "n8n-nodes-base.scheduleTrigger",
        "codex": {
          "data": {
            "alias": [
              "Time",
              "Scheduler",
              "Polling",
              "Cron",
              "Interval"
            ],
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\",\"schedule\"]",
        "defaults": {
          "name": "Schedule Trigger",
          "color": "#31C49F"
        },
        "iconData": {
          "icon": "clock",
          "type": "icon"
        },
        "displayName": "Schedule Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 844,
        "icon": "fa:filter",
        "name": "n8n-nodes-base.filter",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The Filter node can be used to filter items based on a condition. If the condition is met, the item will be passed on to the next node. If the condition is not met, the item will be omitted. Conditions can be combined together by AND(meet all conditions), or OR(meet at least one condition).",
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.filter/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Filter",
          "color": "#229eff"
        },
        "iconData": {
          "icon": "filter",
          "type": "icon"
        },
        "displayName": "Filter",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1119,
        "icon": "fa:robot",
        "name": "@n8n/n8n-nodes-langchain.agent",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "Chat",
              "Conversational",
              "Plan and Execute",
              "ReAct",
              "Tools"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Agents",
                "Root Nodes"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "AI Agent",
          "color": "#404040"
        },
        "iconData": {
          "icon": "robot",
          "type": "icon"
        },
        "displayName": "AI Agent",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1163,
        "icon": "fa:database",
        "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Memory"
              ],
              "Memory": [
                "For beginners"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Simple Memory"
        },
        "iconData": {
          "icon": "database",
          "type": "icon"
        },
        "displayName": "Simple Memory",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1179,
        "icon": "fa:code",
        "name": "@n8n/n8n-nodes-langchain.outputParserStructured",
        "codex": {
          "data": {
            "alias": [
              "json",
              "zod"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.outputparserstructured/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Output Parsers"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Structured Output Parser"
        },
        "iconData": {
          "icon": "code",
          "type": "icon"
        },
        "displayName": "Structured Output Parser",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1195,
        "icon": "fa:calculator",
        "name": "@n8n/n8n-nodes-langchain.toolCalculator",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.toolcalculator/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Tools"
              ],
              "Tools": [
                "Other Tools"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Calculator"
        },
        "iconData": {
          "icon": "calculator",
          "type": "icon"
        },
        "displayName": "Calculator",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1205,
        "icon": "fa:network-wired",
        "name": "@n8n/n8n-nodes-langchain.toolWorkflow",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.toolworkflow/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Tools"
              ],
              "Tools": [
                "Recommended Tools"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Call n8n Workflow Tool"
        },
        "iconData": {
          "icon": "network-wired",
          "type": "icon"
        },
        "displayName": "Call n8n Workflow Tool",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1235,
        "icon": "file:extractFromFile.svg",
        "name": "n8n-nodes-base.extractFromFile",
        "codex": {
          "data": {
            "alias": [
              "CSV",
              "Spreadsheet",
              "Excel",
              "xls",
              "xlsx",
              "ods",
              "tabular",
              "decode",
              "decoding",
              "Move Binary Data",
              "Binary",
              "File",
              "PDF",
              "JSON",
              "HTML",
              "ICS",
              "iCal",
              "txt",
              "Text",
              "RTF",
              "XML",
              "64",
              "Base64",
              "Convert"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.extractfromfile/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Files",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Extract from File"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAuOTM3NSAyQzAuNDE5NzMzIDIgMCAyLjQxOTczIDAgMi45Mzc1VjM3LjMyMjFDMCAzNy44Mzk5IDAuNDE5NzMzIDM4LjI1OTYgMC45Mzc1IDM4LjI1OTZIMjYuMjE1NEMyNi43MzMyIDM4LjI1OTYgMjcuMTUyOSAzNy44Mzk5IDI3LjE1MjkgMzcuMzIyMUwyNy4xNTI5IDMwLjY3MTlMMTYuNzk2OSAzMC42NzE5QzE0Ljg5ODQgMzAuNjcxOSAxMy4zNTk0IDI5LjEzMjkgMTMuMzU5NCAyNy4yMzQ0VjI1LjM1OTRDMTMuMzU5NCAyMy40NjA5IDE0Ljg5ODQgMjEuOTIxOSAxNi43OTY5IDIxLjkyMTlIMjcuMTUyOUwyNy4xNTI5IDE1Ljc4MjFIMTQuMzA4M0MxMy43OTA2IDE1Ljc4MjEgMTMuMzcwOCAxNS4zNjI0IDEzLjM3MDggMTQuODQ0NlYySDAuOTM3NVoiIGZpbGw9IiMzNTNGNkUiLz4KPHBhdGggZD0iTTE2LjAyNzEgMkMxNS45NDA4IDIgMTUuODcwOCAyLjA2OTk2IDE1Ljg3MDggMi4xNTYyNVYxMi44MTM0QzE1Ljg3MDggMTMuMDcyMyAxNi4wODA3IDEzLjI4MjEgMTYuMzM5NiAxMy4yODIxSDI2Ljk5NjdDMjcuMDgzIDEzLjI4MjEgMjcuMTUyOSAxMy4yMTIyIDI3LjE1MjkgMTMuMTI1OUwyNy4xNTI5IDEyLjYxNzFDMjcuMTUyOSAxMi4zNjg4IDI3LjA1NDUgMTIuMTMwNyAyNi44NzkxIDExLjk1NUwxNy4yMjI1IDIuMjc1MzhDMTcuMDQ2NiAyLjA5OTA4IDE2LjgwNzkgMiAxNi41NTg4IDJIMTYuMDI3MVoiIGZpbGw9IiMzNTNGNkUiLz4KPHBhdGggZD0iTTI5Ljc2NDIgMzQuNjUwM0MyOS4wMzQgMzMuOTE2IDI5LjAzNzQgMzIuNzI4OCAyOS43NzE2IDMxLjk5ODZMMzMuNjE5NyAyOC4xNzE5TDE2Ljc5NjkgMjguMTcxOUMxNi4yNzkxIDI4LjE3MTkgMTUuODU5NCAyNy43NTIxIDE1Ljg1OTQgMjcuMjM0NFYyNS4zNTk0QzE1Ljg1OTQgMjQuODQxNiAxNi4yNzkxIDI0LjQyMTkgMTYuNzk2OSAyNC40MjE5TDMzLjU0MTIgMjQuNDIxOUwyOS43NzE2IDIwLjY3MzNDMjkuMDM3NCAxOS45NDMxIDI5LjAzNCAxOC43NTU5IDI5Ljc2NDIgMTguMDIxNkMzMC40OTQ0IDE3LjI4NzQgMzEuNjgxNiAxNy4yODQgMzIuNDE1OSAxOC4wMTQyTDM5LjQ0NzEgMjUuMDA2NEMzOS44MDEgMjUuMzU4MyA0MCAyNS44MzY4IDQwIDI2LjMzNTlDNDAgMjYuODM1IDM5LjgwMSAyNy4zMTM1IDM5LjQ0NzEgMjcuNjY1NUwzMi40MTU5IDM0LjY1NzZDMzEuNjgxNiAzNS4zODc4IDMwLjQ5NDQgMzUuMzg0NSAyOS43NjQyIDM0LjY1MDNaIiBmaWxsPSIjMzUzRjZFIi8+Cjwvc3ZnPgo="
        },
        "displayName": "Extract from File",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1237,
        "icon": "file:limit.svg",
        "name": "n8n-nodes-base.limit",
        "codex": {
          "data": {
            "alias": [
              "Limit",
              "Remove",
              "Slice",
              "Transform",
              "Array",
              "List",
              "Item"
            ],
            "details": "",
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.limit/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Limit"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJub25lIj48ZyBmaWxsPSIjMkZCNjdDIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcGF0aD0idXJsKCNhKSIgY2xpcC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNTEyIDQ1OGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC02OGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYyNGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDY4YzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bS0xNDAgMGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC02OGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYyNGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDY4YzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bS0xNDAgMGMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC02OGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYyNGMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDY4YzYuNjI3IDAgMTItNS4zNzMgMTItMTJ6bS0xNDAgMGMwLTYuNjI3LTUuMzczLTEyLTEyLTEySDEyYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoNjhjNi42MjcgMCAxMi01LjM3MyAxMi0xMnptMTUyLTIyMmMtNi42MjcgMC0xMi01LjM3My0xMi0xMlYzMGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDI0YzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MTk0YzAgNi42MjctNS4zNzMgMTItMTIgMTJ6Ii8+PHBhdGggZD0iTTE0OS41NzcgMTQ2Ljk4MmM5LjM5OC05LjM0NiAyNC41OTQtOS4zMDQgMzMuOTQxLjA5NUwyNTYgMjE5Ljk2NGw3Mi40ODItNzIuODg3YzkuMzQ3LTkuMzk5IDI0LjU0My05LjQ0MSAzMy45NDEtLjA5NXM5LjQ0MSAyNC41NDMuMDk1IDMzLjk0MWwtODkuNSA5MGEyNCAyNCAwIDAgMS0zNC4wMzYgMGwtODkuNS05MGMtOS4zNDYtOS4zOTgtOS4zMDQtMjQuNTk0LjA5NS0zMy45NDFNMCAzNTBjMC02LjYyNyA1LjM3My0xMiAxMi0xMmg0ODhjNi42MjcgMCAxMiA1LjM3MyAxMiAxMnYyNGMwIDYuNjI3LTUuMzczIDEyLTEyIDEySDEyYy02LjYyNyAwLTEyLTUuMzczLTEyLTEyeiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImEiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoNTEydjUxMkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjwvc3ZnPg=="
        },
        "displayName": "Limit",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1281,
        "icon": "file:openrouter.svg",
        "name": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatopenrouter/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Language Models",
                "Root Nodes"
              ],
              "Language Models": [
                "Chat Models (Recommended)"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "OpenRouter Chat Model"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjOTRBM0I4IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDI0IDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjx0aXRsZT5PcGVuUm91dGVyPC90aXRsZT48cGF0aCBkPSJNMTYuODA0IDEuOTU3bDcuMjIgNC4xMDV2LjA4N0wxNi43MyAxMC4yMWwuMDE3LTIuMTE3LS44MjEtLjAzYy0xLjA1OS0uMDI4LTEuNjExLjAwMi0yLjI2OC4xMS0xLjA2NC4xNzUtMi4wMzguNTc3LTMuMTQ3IDEuMzUyTDguMzQ1IDExLjAzYy0uMjg0LjE5NS0uNDk1LjMzNi0uNjguNDU1bC0uNTE1LjMyMi0uMzk3LjIzNC4zODUuMjMuNTMuMzM4Yy40NzYuMzE0IDEuMTcuNzk2IDIuNzAxIDEuODY2IDEuMTEuNzc1IDIuMDgzIDEuMTc3IDMuMTQ3IDEuMzUybC4zLjA0NWMuNjk0LjA5MSAxLjM3NS4wOTQgMi44MjUuMDMzbC4wMjItMi4xNTkgNy4yMiA0LjEwNXYuMDg3TDE2LjU4OSAyMmwuMDE0LTEuODYyLS42MzUuMDIyYy0xLjM4Ni4wNDItMi4xMzcuMDAyLTMuMTM4LS4xNjItMS42OTQtLjI4LTMuMjYtLjkyNi00Ljg4MS0yLjA1OWwtMi4xNTgtMS41YTIxLjk5NyAyMS45OTcgMCAwMC0uNzU1LS40OThsLS40NjctLjI4YTU1LjkyNyA1NS45MjcgMCAwMC0uNzYtLjQzQzIuOTA4IDE0LjczLjU2MyAxNC4xMTYgMCAxNC4xMTZWOS44ODhsLjE0LjAwNGMuNTY0LS4wMDcgMi45MS0uNjIyIDMuODA5LTEuMTI0bDEuMDE2LS41OC40MzgtLjI3NGMuNDI4LS4yOCAxLjA3Mi0uNzI2IDIuNjg2LTEuODUzIDEuNjIxLTEuMTMzIDMuMTg2LTEuNzggNC44ODEtMi4wNTkgMS4xNTItLjE5IDEuOTc0LS4yMTMgMy44MTQtLjEzOGwuMDItMS45MDd6Ij48L3BhdGg+PC9zdmc+Cg=="
        },
        "displayName": "OpenRouter Chat Model",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1310,
        "icon": "fa:robot",
        "name": "@n8n/n8n-nodes-langchain.agentTool",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "Chat",
              "Conversational",
              "Plan and Execute",
              "ReAct",
              "Tools"
            ],
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Tools"
              ],
              "Tools": [
                "Other Tools"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "AI Agent Tool",
          "color": "#404040"
        },
        "iconData": {
          "icon": "robot",
          "type": "icon"
        },
        "displayName": "AI Agent Tool",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 37,
        "name": "Lead Generation"
      },
      {
        "id": 47,
        "name": "AI Chatbot"
      }
    ],
    "image": []
  }
}