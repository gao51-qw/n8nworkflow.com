{
  "id": 2792,
  "slug": "2792",
  "title": "Scrape Trustpilot reviews with DeepSeek, analyze sentiment with OpenAI",
  "description": "### **Workflow Overview**  \nThis workflow automates the process of **scraping Trustpilot reviews**, extracting key details, analyzing sentiment, and saving the results to **Google Sheets**. It uses **OpenAI** for sentiment analysis and **HTML parsing** for review extraction.\n\n---\n\n### **How It Works**  \n\n#### **1. Scrape Trustpilot Reviews**   \n- **HTTP Request**:  \n  - Fetches review pages from Trustpilot (`https://it.trustpilot.com/review/{{company_id}}`).  \n  - Paginates through pages (up to `max_page` limit).  \n- **HTML Parsing**:  \n  - Extracts review URLs using CSS selectors\n  - Splits the URLs into individual review links.  \n\n#### **2. Extract Review Details**   \n- **Information Extractor**:  \n  - Uses DeepSeek to extract structured data from the review:  \n    - **Author**: Name of the reviewer.  \n    - **Rating**: Numeric rating (1-5).  \n    - **Date**: Review date in `YYYY-MM-DD` format.  \n    - **Title**: Review title.  \n    - **Text**: Full review text.  \n    - **Total Reviews**: Number of reviews by the user.  \n    - **Country**: Reviewerâ€™s country (2-letter code).  \n\n#### **3. Sentiment Analysis**  \n- **Sentiment Analysis Node**:  \n  - Uses OpenAI to classify the review text as **Positive**, **Neutral**, or **Negative**.  \n  - Example output:  \n    ```json  \n    {  \n      \"category\": \"Positive\",  \n      \"confidence\": 0.95  \n    }  \n    ```  \n\n#### **4. Save to Google Sheets**  \n- **Google Sheets Node**:  \n  - Appends or updates the extracted data to a Google Sheet \n\n---\n\n### **Set Up Steps**  \n\n#### **1. Configure Trustpilot Scraping**  \n- **Edit Fields1 Node**:  \n  - Set `company_id` to the Trustpilot company name \n  - Set `max_page` to limit the number of pages scraped.  \n\n#### **2. Configure Google Sheets**  \n- **Google Sheets Node**:  \n  - Update the `documentId` with your Google Sheet ID \n  - Ensure the sheet has the required columns (`Id`, `Data`, `Nome`, etc.).  \n\n#### **3. Configure OpenAI**  \n- **OpenAI Chat Model Node**:  \n  - Add your OpenAI API key.  \n- **Sentiment Analysis Node**:  \n  - Ensure the `categories` match your desired sentiment labels (`Positive, Neutral, Negative`).  \n\n---\n\n### **Key Components**  \n- **Nodes**:  \n  - **HTTP Request/HTML**: Scrape and parse Trustpilot reviews.  \n  - **Information Extractor**: Extract structured review data using DeepSeek.  \n  - **Sentiment Analysis**: Classify review sentiment.  \n  - **Google Sheets**: Save and update review data.  \n- **Credentials**:  \n  - OpenAI API key. \n  - DeepSeek API key.  \n  - Google Sheets OAuth2.  ",
  "featuredImage": "/data/workflows/2792/2792.webp",
  "author": {
    "id": 101,
    "slug": "n3witalia",
    "name": "Davide",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 12638,
  "downloads": 1263,
  "createdAt": "2025-01-24T14:51:16.882Z",
  "updatedAt": "2026-01-16T08:26:32.927Z",
  "publishedAt": "2025-01-24T14:51:16.882Z",
  "nodes": 20,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2792"
}