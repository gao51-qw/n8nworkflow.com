{
  "id": 7237,
  "slug": "7237",
  "title": "Detect cannibalized keywords and competing pages with Google Search Console",
  "description": "# Find Cannibalized Pages (Google Search Console)\n\nThis n8n template helps you **detect page cannibalization** in Google Search Console (GSC): situations where **multiple pages** on your site rank for the **same query** and **more than one page gets clicks**. Use it to spot competing URLs, consolidate content, improve internal linking, and protect your CTR/rankings.\n\n---\n\n## Good to know\n- **Data source:** Google Search Console Search Analytics (Dimensions: `query`, `page`).\n- **Scope:** Defaults to **last 12 months** and up to **10,000 rows** per run (adjustable).\n- **Logic:** Keeps only queries with **&gt;1 page** and where the **second page has clicks &gt; 0** ‚Üí higher confidence of true cannibalization.\n- **Privacy:** Template ships with a placeholder property (`sc-domain:example.com`) and a neutral credential name; replace both after import.\n- **Cost:** n8n nodes used here are free. GSC usage is also free (subject to Google limits).\n\n---\n\n## How it works\n1. **Manual Start** ‚Äî run the workflow on demand.  \n2. **Google Search Console** ‚Äî fetch last 12 months of query‚Äìpage rows.  \n3. **Summarize** ‚Äî group by `query`, building two arrays:  \n   - `appended_page[]` ‚Üí all pages seen for that query  \n   - `appended_clicks[]` ‚Üí clicks for each page-query row (aligned with `appended_page`)\n4. **Filter** ‚Äî pass only queries where:  \n   - `count_query &gt; 1` (more than one page involved), and  \n   - `appended_clicks[1] &gt; 0` (the second page also received clicks)\n5. **Output** ‚Äî list of **cannibalized queries** with the **competing pages** and their click counts.\n\n**Example output**\n```json\n{\n  \"query\": \"best running shoes\",\n  \"appended_page\": [\n    \"https://example.com/blog/best-running-shoes\",\n    \"https://example.com/guide/running-shoes-2025\"\n  ],\n  \"appended_clicks\": [124, 37],\n  \"count_query\": 3\n}\n```\n## How to use\n1. Import the JSON into n8n.  \n2. Open the **Google Search Console** node and:  \n   - Connect your **Google Search Console OAuth2** credential.  \n   - Replace `siteUrl` with your property (`sc-domain:your-domain.com`).  \n3. Press **Execute Workflow** on **Manual Start**.  \n4. Review the output ‚Äî focus on queries where the second page has meaningful clicks.  \n\nüí° **Tip:** If your site is large, start with a shorter date range (e.g., 90 days) or raise `rowLimit`.\n\n---\n\n## Requirements\n- Access to the target property in **Google Search Console**.  \n- One **Google Search Console OAuth2** credential in n8n.\n\n---\n\n## Customising this workflow\n- **More robust detection:** In the **Summarize** node, change `clicks` aggregation from `append` to `sum`. Then filter for ‚Äú**at least 2 pages with `sum_clicks &gt; 0`**‚Äù to avoid any dependency on row order.  \n- **Scoring & sorting:** Add a **Code/Function** node to sort competing pages by clicks or impressions and compute click-share per page.  \n- **Deeper analysis:** Include `impressions` and `position` in the GSC node and extend the summary to prioritize fixes (e.g., high impressions + split clicks).  \n- **Reporting:** Send results to **Google Sheets** or export a **CSV**; create a dashboard of top cannibalized queries.  \n- **Thresholds:** Expose minimum click thresholds as **workflow variables** (e.g., second page clicks ‚â• 3) to reduce noise.\n\n---\n\n## Troubleshooting\n- **Empty results:** Widen date range, increase `rowLimit`, or temporarily relax the filter (remove the second-page click condition to validate data flow).  \n- **No property data:** Ensure you used `sc-domain:` vs. `https://` property format correctly and that your user has GSC access.  \n- **Credential issues:** Reconnect the OAuth2 credential and reauthorize if needed.\n",
  "featuredImage": "/data/workflows/7237/7237.webp",
  "author": {
    "id": 101,
    "slug": "mrazari",
    "name": "Mohammadreza azari",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 431,
  "downloads": 43,
  "createdAt": "2025-08-11T09:09:32.394Z",
  "updatedAt": "2026-01-16T08:49:11.098Z",
  "publishedAt": "2025-08-11T09:09:32.394Z",
  "nodes": 5,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7237"
}