{
  "id": 7258,
  "slug": "7258",
  "title": "Automatically discover & enrich HubSpot buying groups with Surfe and Google Sheets",
  "description": "\nğŸš€ What this template does\n\n\nAutomatically finds and enriches key contacts in a dealâ€™s buying group by combining the company domain from the HubSpot deal with the buying group criteria you define (departments, seniorities, countries, job titles). It then pushes these contacts into HubSpot and emails your team a clean summary with direct HubSpot linksâ€”so no decision-maker falls through the cracks.\n\nBefore starting, make sure you have:\nBuying Group Criteria Excel â€“ Contains two sheets:\nBuying group reference values (reference list)\nYour Buying Group Criterias (where you define your filters)\nYouâ€™ll import the Excel file into Google Sheets during setup.\n1. â“ What Problem Does This Solve?\nWhen a new opportunity/deal is created, sales teams often miss adjacent decision-makers (e.g., VP Sales, Head of Marketing). This template searches for those people, enriches their contact data, adds/updates them in HubSpot, and notifies your team with a one-glance table.\n2. ğŸ§° Prerequisites:\nTo use this template, youâ€™ll need:\nA self-hosted or cloud instance of n8n\nA Surfe API Key (Bearer token for People Search & Bulk Enrich)\nA Google Sheets account (OAuth2 or service account) with access to your criteria sheet\nA HubSpot developer account (for the HubSpot Deal Trigger)\nA HubSpot normal account  (where there is your deals, contacts, companies)\nA Gmail account to send the enrichment summary email\nThe workflow JSON file (included with this tutorial)\nBuying Group Criteria Excel (included with this tutorial)\n3. ğŸ“Œ  Your input (Google Sheets)\nThis workflow uses a Google Sheet with two tabs:\nBuying group reference values â€“ A read-only reference list of all available options for the departments and seniorities columns. Youâ€™ll use this list to choose your search filters.\nYour Buying Group Criterias â€“ The sheet where you define the actual filters used in the workflow.\nâš ï¸ Before you start: Import the provided Excel file into your Google Sheets account so both tabs appear exactly as in the template.\nHow to fill it the tab â€œYour Buying Group Criteriasâ€:\ndepartments (Column A) â†’ Select one or more values from the reference tab. Only rows containing a value will be used in the search.\nseniorities (Column B) â†’ Select one or more values from the reference tab. Only rows containing a value will be used in the search.\ncountries (Column C) â†’ Enter any ISO Alpha-2 country codes (e.g., fr, gb, de). This is a free-text filter.\njobTitles (Column D) â†’ Enter any job title keywords you want to search for (e.g., CTO, Head of Marketing). This is also a free-text filter.\nThe workflow will read the filled cells from each column, clean duplicates, and pass them to the Surfe People Search API.\n\n![Screenshot 20250811 at 17.24.28.png](fileId:2038)\n\n![Screenshot 20250811 at 17.24.44.png](fileId:2031)\n\n4. âš™ï¸ Setup Instructions\n4.1 ğŸ” Create Your Credentials in n8n\n4.1.1 ğŸ“Š Google Sheets OAuth2 API\nGo to n8n â†’ Credentials\nCreate new credentials:\nType: Google Sheets OAuth2 API\nHere a pop-up will open where you can login to your Google account from where you will read the Google Sheets\nWhen itâ€™s done you should see this on n8n\n\n![Screenshot 20250811 at 17.25.54.png](fileId:2024)\n\n4.1.2 ğŸ“§ Gmail OAuth2 API\nGo to n8n â†’ Credentials\nCreate new credentials:\nType: Gmail OAuth2 API\nA pop-up window will appear where you can log in with your Google account that is linked to Gmail\nMake sure you grant email send permissions when prompted\n\n![Screenshot 20250811 at 17.26.22.png](fileId:2023)\n\n4.1.3 ğŸš€ Surfe API\nIn your Surfe dashboard â†’ Use Surfe Api â†’ copy your API key\n\n![Screenshot 20250811 at 17.27.03.png](fileId:2039)\n\nGo to n8n â†’ Credentials â†’ Create Credential\nChoose Credential Type: Bearer Auth\nName it something like SURFE API Key\nPaste your API key into the Bearer Token\nSave\n\n![Screenshot 20250811 at 17.28.08.png](fileId:2027)\n\n4.1.4 ğŸ¯ HubSpot OAuth2 API\nGo to n8n â†’ Credentials â†’ Create Credential â†’ HubSpot Oauth2 API\n\n![Screenshot 20250811 at 17.28.36.png](fileId:2025)\n\n![Screenshot 20250811 at 17.28.51.png](fileId:2037)\n\n![Screenshot 20250811 at 17.29.11.png](fileId:2028)\n\nHere make sure to select your normal hubspot account where your companies, deals and contacts are and not the hubspot-developers-xxx.com \nDone âœ…\n4.1.5 ğŸ”“ HubSpot Private App Token\nGo to HubSpot â†’ Settings â†’ Integrations â†’ Private Apps\nCreate an app with scopes:\ncrm.objects.contacts.read\ncrm.objects.contacts.write\ncrm.schemas.contacts.read\nSave the App token\nGo to n8n â†’ Credentials â†’ Create Credential â†’ HubSpot App Token\nPaste your App Token\n\n![Screenshot 20250811 at 17.29.39.png](fileId:2033)\n\n![Screenshot 20250811 at 17.30.09.png](fileId:2040)\n\n![Screenshot 20250811 at 17.30.23.png](fileId:2026)\n\n4.1.6 ğŸ¯ HubSpot Developer Api:\nIn order to Use the HubSpot Trigger node, you need to setup HubSpot Developer Api\nTo configure this credential, you'll need a HubSpot developer account and:\nA Client ID: Generated once you create a public app.\nA Client Secret: Generated once you create a public app.\nA Developer API Key: Generated from your Developer Apps dashboard.\nAn App ID: Generated once you create a public app.\nTo create the public app and set up the credential:\nLog into your HubSpot app developer account.\nSelect Apps from the main navigation bar.\nSelect Get HubSpot API key. You may need to select the option to Show key.\nCopy the key and enter it in n8n as the Developer API Key.\nStill on the HubSpot Apps page, select Create app.\nOn the App Info tab, add an App name, Description, Logo, and any support contact info you want to provide. Anyone encountering the app would see these.\nOpen the Auth tab.\nCopy the App ID and enter it in n8n.\nCopy the Client ID and enter it in n8n.\nCopy the Client Secret and enter it in n8n.\nIn the Scopes section, select Add new scope.\nAdd all the scopes listed in Required scopes for HubSpot Trigger node to your app.\n\n![Screenshot 20250811 at 17.58.10.png](fileId:2035)\n\nSelect Update.\nCopy the n8n OAuth Redirect URL and enter it as the Redirect URL in your HubSpot app.\nSelect Create app to finish creating the HubSpot app.\nRefer to the HubSpot Public Apps documentation for more detailed instructions.\nYou should see this on n8n at the end.\n\n![Screenshot 20250811 at 17.58.29.png](fileId:2034)\n\nâœ… You are now all set for the credentials\n4.2 ğŸ“¥ Import and Configure the N8N Workflow\nImport the provided JSON workflow into N8N\nCreate a New Blank Workflow\nclick the â€¦ on the top left\nImport from File\n\n![Screenshot 20250811 at 17.58.55.png](fileId:2029)\n![Screenshot 20250811 at 17.59.08.png](fileId:2041)\n\n4.2.1 ğŸ”— Link Nodes to Your Credentials\nIn the workflow, link your newly created credentials to each node of this list :\nGoogle Sheets -&gt; Credentials to connect with â†’ Google Sheets Account\nGmail Node Credentials to connect with â†’ Gmail account\nHubSpot: Create or Update â†’Credentials to connect with â†’ Huspot App Token Account\nHubSpot Get Company â†’Credentials to connect with â†’ Huspot App Token Account\nHubSpot get deal â†’Credentials to connect with â†’ Huspot App Token Account \nHubSpot Trigger â†’Credentials to connect with â†’ Huspot Developer account\nHTTP Node GET deal associated companies from HUBSPOT â†’ Credential Type â†’ Hubspot OAuth2 API \nSurfe HTTP nodes:\nAuthentication â†’ Generic Credential Type\nGeneric Auth Type â†’ Bearer Auth\nBearer Auth â†’ Select the credentials you created before\n\n![Screenshot 20250811 at 17.59.48.png](fileId:2030)\n\nSurfe HTTP nodes\n4.2.2 ğŸ”§ Additional Setup for the node Google Sheets READ CRITERIAS:\n\n![Screenshot 20250811 at 18.00.10.png](fileId:2032)\n\nPaste the url of your google sheets in Document â†’ By URL\nSelect the sheet Your Buying Group Criterias \n5. ğŸ”„ How This N8N Workflow Works\nA new deal is created in HubSpot, which triggers the workflow.\nThe workflow retrieves the company domain linked to that deal.\nIt reads the buying group criteria from your Google Sheet (departments, seniorities, countries, job titles).\nThese criteria are combined with the company domain to create a search payload for Surfeâ€™s People Search API (limited to 200 people per run).\nMatching contacts are then sent to Surfeâ€™s Bulk Enrichment API to retrieve emails, phone numbers, and other details.\nn8n polls Surfe until the enrichment job is complete.\nEnriched contact data is extracted and filtered so that only contacts with at least one valid email or phone number remain.\nThese contacts are created or updated in HubSpot.\nFinally, a Gmail summary email is sent to your team with a clean table of the new or updated contacts and direct links to view them in HubSpot.\n\n![Screenshot 20250811 at 18.00.33.png](fileId:2036)\n\n6. ğŸ§© Use Cases\nNet-new deal created â†’ instantly surface the rest of the buying group and enrich contacts.\n7. ğŸ›  Customization Ideas\nğŸ” Add retry logic for failed Surfe enrichment jobs\nğŸ“¤ Log enriched contacts into a Google Sheet or Airtable for auditing\nğŸ“Š Extend the flow to generate a basic summary report of enriched vs rejected contacts\nâ³ Trigger the enrichment not only on deal creation but also at a specific deal stage change\nğŸ“§ Send the summary email to multiple recipients or a team mailing list\n9. âœ… Summary \nThis template automates buying-group discovery and enrichment off a new HubSpot deal, writes enriched contacts back to HubSpot, and emails a neat table to your teamâ€”so reps focus on outreach, not admin. \nImport it, connect credentials, point at your criteria sheet, and Let Surfe do the rest.",
  "featuredImage": "/data/workflows/7258/7258.webp",
  "author": {
    "id": 101,
    "slug": "go-surfe",
    "name": "go-surfe",
    "avatar": ""
  },
  "categories": [
    "Lead Generation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 195,
  "downloads": 19,
  "createdAt": "2025-08-11T17:00:56.865Z",
  "updatedAt": "2026-01-16T08:49:20.700Z",
  "publishedAt": "2025-08-11T17:00:56.865Z",
  "nodes": 22,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7258"
}