{
  "workflow": {
    "id": 9873,
    "name": "Automated rsync backup with password auth & alert system",
    "views": 80,
    "recentViews": 0,
    "totalViews": 80,
    "createdAt": "2025-10-18T21:30:33.901Z",
    "description": "# Automated Rsync Backup with Password Auth & Alert System\n\n## Overview\nThis n8n workflow provides automated rsync backup capabilities between servers using password authentication. It automatically installs required dependencies, performs the backup operation from a source server to a target server, and sends status notifications via Telegram and SMS.\n\n## Features\n- Password-based SSH authentication (no key management required)\n- Automatic dependency installation (sshpass, rsync)\n- Cross-platform support (Ubuntu/Debian, RHEL/CentOS, Alpine)\n- Source-to-target backup execution\n- Multi-channel notifications (Telegram and SMS)\n- Detailed success/failure reporting\n- Manual trigger for on-demand backups\n\n## Setup Instructions\n\n### Prerequisites\n1. **n8n Instance**: Running n8n with Linux environment\n2. **Server Access**: SSH access to both source and target servers\n3. **Telegram Bot**: Created via @BotFather (optional)\n4. **Textbelt API Key**: For SMS notifications (optional)\n5. **Network**: Connectivity between n8n, source, and target servers\n\n### Server Requirements\n**Source Server:**\n- SSH access enabled\n- User with sudo privileges (for package installation)\n- Read access to source folder\n\n**Target Server:**\n- SSH access enabled\n- Write access to target folder\n- Sufficient storage space\n\n### Configuration Steps\n\n#### 1. Server Parameters Configuration\nOpen the **Server Parameters** node and configure:\n\n**Source Server Settings:**\n- `source_host`: IP address or hostname of source server\n- `source_port`: SSH port (typically 22)\n- `source_user`: Username for source server\n- `source_password`: Password for source user\n- `source_folder`: Full path to folder to backup (e.g., `/home/user/data`)\n\n**Target Server Settings:**\n- `target_host`: IP address or hostname of target server\n- `target_port`: SSH port (typically 22)\n- `target_user`: Username for target server\n- `target_password`: Password for target user\n- `target_folder`: Full path to destination folder (e.g., `/backup/data`)\n\n**Rsync Options:**\n- `rsync_options`: Default is `-avz --delete`\n  - `-a`: Archive mode (preserves permissions, timestamps, etc.)\n  - `-v`: Verbose output\n  - `-z`: Compression during transfer\n  - `--delete`: Remove files from target that don't exist in source\n\n#### 2. Notification Setup (Optional)\n\n**Telegram Configuration:**\n1. Create bot via @BotFather on Telegram\n2. Get bot token (format: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`)\n3. Create notification channel\n4. Add bot as administrator\n5. Get channel ID:\n   - Send test message to channel\n   - Visit: `https://api.telegram.org/bot&lt;YOUR_BOT_TOKEN&gt;/getUpdates`\n   - Find `\"chat\":{\"id\":-100XXXXXXXXXX}`\n\n**SMS Configuration:**\n1. Register at https://textbelt.com\n2. Purchase credits\n3. Obtain API key\n\n**Update Notification Node:**\nEdit **Process Finish Report --- Telegram & SMS** node:\n- Replace `YOUR-TELEGRAM-BOT-TOKEN` with bot token\n- Replace `YOUR-TELEGRAM-CHANNEL-ID` with channel ID\n- Replace `+36301234567` with target phone number(s)\n- Replace `YOUR-TEXTBELT-API-KEY` with Textbelt key\n\n#### 3. Security Considerations\n**Password Storage:**\n- Consider using n8n credentials for sensitive passwords\n- Avoid hardcoding passwords in workflow\n- Use environment variables where possible\n\n**SSH Security:**\n- Workflow uses `StrictHostKeyChecking=no` for automation\n- Consider adding known hosts manually for production\n- Review firewall rules between servers\n\n### Testing\n1. Start with small test folder\n2. Verify network connectivity: `ping source_host` and `ping target_host`\n3. Test SSH access manually first\n4. Run workflow with test data\n5. Verify backup completion on target server\n\n## How to Use\n\n### Automatic Operation\nOnce activated, the workflow runs automatically:\n- **Frequency**: Every days midnight\n\n### Manual Execution\n1. Open the workflow in n8n\n2. Click on **Manual Trigger** node\n3. Click \"Execute Workflow\"\n4. Monitor execution progress\n\n### Scheduled Execution\nTo automate backups:\n1. Replace **Manual Trigger** with **Schedule Trigger** node\n2. Configure schedule (e.g., daily at 2 AM)\n3. Save and activate workflow\n\n### Workflow Process\n\n#### Step 1: Dependency Check\nThe workflow automatically:\n1. Checks if sshpass is installed locally\n2. Installs if missing (supports apt, yum, dnf, apk)\n3. Checks sshpass on source server\n4. Installs on source if needed (with sudo)\n\n#### Step 2: Backup Execution\n- Connects to source server via SSH\n- Executes rsync command from source to target\n- Uses password authentication for both connections\n- Transfers data directly between servers (not through n8n)\n\n#### Step 3: Status Reporting\n**Success Message Format:**\n```\n[Timestamp] -- SUCCESS :: source_host:/path -&gt; target_host:/path :: [rsync output]\n```\n\n**Failure Message Format:**\n```\n[Timestamp] -- ERROR :: source_host -&gt; target_host :: [exit code] -- [error message]\n```\n\n### Rsync Options Guide\n\n**Common Options:**\n- `-a`: Archive mode (recommended)\n- `-v`: Verbose output for monitoring\n- `-z`: Compression (useful for slow networks)\n- `--delete`: Mirror source (removes extra files from target)\n- `--exclude`: Skip specific files/folders\n- `--dry-run`: Test without actual transfer\n- `--progress`: Show transfer progress\n- `--bwlimit`: Limit bandwidth usage\n\n**Example Configurations:**\n```bash\n# Basic backup\n-avz\n\n# Mirror with deletion\n-avz --delete\n\n# Exclude temporary files\n-avz --exclude='*.tmp' --exclude='*.cache'\n\n# Bandwidth limited (1MB/s)\n-avz --bwlimit=1000\n\n# Dry run test\n-avzn --delete\n```\n\n### Monitoring\n\n#### Execution Logs\n- Check n8n Executions tab\n- Review stdout for rsync details\n- Check stderr for error messages\n\n#### Verification\nAfter backup:\n1. SSH to target server\n2. Check folder size: `du -sh /target/folder`\n3. Verify file count: `find /target/folder -type f | wc -l`\n4. Compare with source: `ls -la /target/folder`\n\n### Troubleshooting\n\n#### Connection Issues\n**\"Connection refused\" error:**\n- Verify SSH port is correct\n- Check firewall rules\n- Ensure SSH service is running\n\n**\"Permission denied\" error:**\n- Verify username/password\n- Check user has required permissions\n- Ensure sudo works (for installation)\n\n#### Installation Failures\n**\"Unsupported package manager\":**\n- Workflow supports: apt, yum, dnf, apk\n- Manual installation may be required for others\n\n**\"sudo: password required\":**\n- User needs passwordless sudo or\n- Modify installation commands\n\n#### Rsync Errors\n**\"rsync error: some files/attrs were not transferred\":**\n- Usually permission issues\n- Check file ownership\n- Review excluded files\n\n**\"No space left on device\":**\n- Check target server storage\n- Clean up old backups\n- Consider compression options\n\n#### Notification Issues\n**No Telegram message:**\n- Verify bot token and channel ID\n- Check bot is admin in channel\n- Test with curl command manually\n\n**SMS not received:**\n- Check Textbelt credit balance\n- Verify phone number format\n- Review API key validity\n\n### Best Practices\n\n#### Backup Strategy\n1. **Test First**: Always test with small datasets\n2. **Schedule Wisely**: Run during low-traffic periods\n3. **Monitor Space**: Ensure adequate storage on target\n4. **Verify Backups**: Regularly test restore procedures\n5. **Rotate Backups**: Implement retention policies\n\n#### Security\n1. **Use Strong Passwords**: Complex passwords for all accounts\n2. **Limit Permissions**: Use dedicated backup users\n3. **Network Security**: Consider VPN for internet transfers\n4. **Audit Access**: Log all backup operations\n5. **Encrypt Sensitive Data**: Consider rsync with encryption\n\n#### Performance\n1. **Compression**: Use `-z` for slow networks\n2. **Bandwidth Limits**: Prevent network saturation\n3. **Incremental Backups**: Rsync only transfers changes\n4. **Parallel Transfers**: Consider multiple workflows for different folders\n5. **Off-Peak Hours**: Schedule during quiet periods\n\n### Advanced Configuration\n\n#### Multiple Backup Jobs\nCreate separate workflows for:\n- Different server pairs\n- Various schedules\n- Distinct retention policies\n\n#### Backup Rotation\nImplement versioning:\n```bash\n# Add timestamp to target folder\ntarget_folder=\"/backup/data_$(date +%Y%m%d)\"\n```\n\n#### Pre/Post Scripts\nAdd nodes for:\n- Database dumps before backup\n- Service stops/starts\n- Cleanup operations\n- Verification scripts\n\n#### Error Handling\nEnhance workflow with:\n- Retry mechanisms\n- Fallback servers\n- Detailed error logging\n- Escalation procedures\n\n### Maintenance\n\n#### Regular Tasks\n- **Daily**: Check backup completion\n- **Weekly**: Verify backup integrity\n- **Monthly**: Test restore procedure\n- **Quarterly**: Review and optimize rsync options\n- **Annually**: Audit security settings\n\n#### Monitoring Metrics\nTrack:\n- Backup duration\n- Transfer size\n- Success/failure rate\n- Storage utilization\n- Network bandwidth usage\n\n## Recovery Procedures\n\n### Restore from Backup\nTo restore files:\n```bash\n# Reverse the rsync direction\nrsync -avz target_server:/backup/folder/ source_server:/restore/location/\n```\n\n### Disaster Recovery\n1. Document server configurations\n2. Maintain backup access credentials\n3. Test restore procedures regularly\n4. Keep workflow exports as backup\n\n## Support Resources\n- Rsync documentation: https://rsync.samba.org/\n- n8n community: https://community.n8n.io/\n- SSH troubleshooting guides\n- Network diagnostics tools",
    "workflow": {
      "id": "JxrInAO8OLCjxVC5",
      "meta": {
        "instanceId": "5c7ce220523e8664f49208a8be668a8dc6fab5f747ce4de865fa1309727919f1",
        "templateCredsSetupCompleted": true
      },
      "name": "Automated Rsync Backup with Password Auth & Alert System",
      "tags": [],
      "nodes": [
        {
          "id": "5c38117c-4f04-4033-a570-cc3d55e78f17",
          "name": "Manual Trigger",
          "type": "n8n-nodes-base.manualTrigger",
          "position": [
            -2800,
            224
          ],
          "parameters": {},
          "typeVersion": 1
        },
        {
          "id": "f4d96789-441a-4152-b4d8-6922581dfe5b",
          "name": "Server Parameters",
          "type": "n8n-nodes-base.set",
          "position": [
            -2576,
            224
          ],
          "parameters": {
            "values": {
              "string": [
                {
                  "name": "source_host",
                  "value": "source_host_ip"
                },
                {
                  "name": "source_port",
                  "value": "source_host_ssh_port"
                },
                {
                  "name": "source_user",
                  "value": "source_user_username"
                },
                {
                  "name": "source_password",
                  "value": "=source_user_password"
                },
                {
                  "name": "source_folder",
                  "value": "source_path_on_the_source_host"
                },
                {
                  "name": "target_host",
                  "value": "target_host_ip"
                },
                {
                  "name": "target_port",
                  "value": "target_host_ssh_port"
                },
                {
                  "name": "target_user",
                  "value": "target_user_username"
                },
                {
                  "name": "target_password",
                  "value": "=target_user_password"
                },
                {
                  "name": "target_folder",
                  "value": "target_path_on_the_target_host"
                },
                {
                  "name": "rsync_options",
                  "value": "-avz --delete"
                }
              ]
            },
            "options": {}
          },
          "typeVersion": 1
        },
        {
          "id": "2856d809-25ad-46ba-8056-84e78c7fd66c",
          "name": "Check Sshpass Local",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            -2352,
            224
          ],
          "parameters": {
            "command": "which sshpass"
          },
          "typeVersion": 1,
          "continueOnFail": true
        },
        {
          "id": "98869a56-7d59-4055-bbf8-d437f6d7ca12",
          "name": "Is Installed Local?",
          "type": "n8n-nodes-base.if",
          "position": [
            -2128,
            224
          ],
          "parameters": {
            "conditions": {
              "number": [
                {
                  "value1": "={{ $json.exitCode }}"
                }
              ]
            }
          },
          "typeVersion": 1
        },
        {
          "id": "5fdd117b-5e40-4f21-987c-7ca7fb5b2c8b",
          "name": "Install Sshpass Local",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            -1920,
            320
          ],
          "parameters": {
            "command": "=if command -v apt-get &> /dev/null; then\n  apt-get update && apt-get install -y sshpass rsync\nelif command -v yum &> /dev/null; then\n  yum install -y epel-release && yum install -y sshpass rsync\nelif command -v dnf &> /dev/null; then\n  dnf install -y sshpass rsync\nelif command -v apk &> /dev/null; then\n  apk add sshpass rsync\nelse\n  echo \"Unsupported package manager\"\n  exit 1\nfi"
          },
          "typeVersion": 1
        },
        {
          "id": "2e5c2163-e384-4488-9fb6-68d74ce3e932",
          "name": "Check Sshpass on Source",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            -1696,
            224
          ],
          "parameters": {
            "command": "=sshpass -p '{{ $('Server Parameters').item.json.source_password }}' ssh -o StrictHostKeyChecking=no -p {{ $('Server Parameters').item.json.source_port }} {{ $('Server Parameters').item.json.source_user }}@{{ $('Server Parameters').item.json.source_host }} \"which sshpass\""
          },
          "typeVersion": 1,
          "continueOnFail": true
        },
        {
          "id": "5916c184-5925-4fb4-8c8e-accc74e4df29",
          "name": "Is Installed on Source?",
          "type": "n8n-nodes-base.if",
          "position": [
            -1472,
            224
          ],
          "parameters": {
            "conditions": {
              "number": [
                {
                  "value1": "={{ $json.exitCode }}"
                }
              ]
            }
          },
          "typeVersion": 1
        },
        {
          "id": "b302372f-007c-4afa-89e1-a453e03064c8",
          "name": "Install Sshpass on Source",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            -1248,
            320
          ],
          "parameters": {
            "command": "=sshpass -p '{{ $('Server Parameters').item.json.source_password }}' ssh -o StrictHostKeyChecking=no -p {{ $('Server Parameters').item.json.source_port }} {{ $('Server Parameters').item.json.source_user }}@{{ $('Server Parameters').item.json.source_host }} \"if command -v apt-get &> /dev/null; then echo '{{ $('Server Parameters').item.json.source_password }}' | sudo -S apt-get update && echo '{{ $('Server Parameters').item.json.source_password }}' | sudo -S apt-get install -y sshpass rsync; elif command -v yum &> /dev/null; then echo '{{ $('Server Parameters').item.json.source_password }}' | sudo -S yum install -y epel-release && echo '{{ $('Server Parameters').item.json.source_password }}' | sudo -S yum install -y sshpass rsync; elif command -v dnf &> /dev/null; then echo '{{ $('Server Parameters').item.json.source_password }}' | sudo -S dnf install -y sshpass rsync; else echo 'Unsupported package manager'; exit 1; fi\""
          },
          "typeVersion": 1
        },
        {
          "id": "93e5b9e9-5a31-404f-932c-ba050d10e5d5",
          "name": "Execute Rsync Backup",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            -1040,
            224
          ],
          "parameters": {
            "command": "=sshpass -p '{{ $('Server Parameters').item.json.source_password }}' ssh -o StrictHostKeyChecking=no -p {{ $('Server Parameters').item.json.source_port }} {{ $('Server Parameters').item.json.source_user }}@{{ $('Server Parameters').item.json.source_host }} \"sshpass -p '{{ $('Server Parameters').item.json.target_password }}' rsync {{ $('Server Parameters').item.json.rsync_options }} -e 'ssh -o StrictHostKeyChecking=no -p {{ $('Server Parameters').item.json.target_port }}' {{ $('Server Parameters').item.json.source_folder }}/ {{ $('Server Parameters').item.json.target_user }}@{{ $('Server Parameters').item.json.target_host }}:{{ $('Server Parameters').item.json.target_folder }}/\""
          },
          "typeVersion": 1
        },
        {
          "id": "e2b2ff1a-0d35-42ba-875d-8bb0e78dae8a",
          "name": "Success?",
          "type": "n8n-nodes-base.if",
          "position": [
            -816,
            224
          ],
          "parameters": {
            "conditions": {
              "number": [
                {
                  "value1": "={{ $json.exitCode }}",
                  "operation": "equal"
                }
              ]
            }
          },
          "typeVersion": 1
        },
        {
          "id": "ae9e2524-1b95-4473-8679-1b42809583cd",
          "name": "Backup Successful",
          "type": "n8n-nodes-base.set",
          "position": [
            -592,
            128
          ],
          "parameters": {
            "values": {
              "string": [
                {
                  "name": "status",
                  "value": "SUCCESS"
                },
                {
                  "name": "timestamp",
                  "value": "={{ $now.format('YYYY-MM-DD HH:mm:ss') }}"
                },
                {
                  "name": "source",
                  "value": "={{ $('Server Parameters').item.json.source_host }}:{{ $('Server Parameters').item.json.source_folder }}"
                },
                {
                  "name": "target",
                  "value": "={{ $('Server Parameters').item.json.target_host }}:{{ $('Server Parameters').item.json.target_folder }}"
                },
                {
                  "name": "output",
                  "value": "={{ $('Execute Rsync Backup').item.json.stdout }}"
                }
              ]
            },
            "options": {}
          },
          "typeVersion": 1
        },
        {
          "id": "3d4ee816-96aa-4ac3-ab96-54f8ab220807",
          "name": "Backup Failed",
          "type": "n8n-nodes-base.set",
          "position": [
            -592,
            320
          ],
          "parameters": {
            "values": {
              "string": [
                {
                  "name": "status",
                  "value": "ERROR"
                },
                {
                  "name": "timestamp",
                  "value": "={{ $now.format('YYYY-MM-DD HH:mm:ss') }}"
                },
                {
                  "name": "source",
                  "value": "={{ $('Server Parameters').item.json.source_host }}"
                },
                {
                  "name": "target",
                  "value": "={{ $('Server Parameters').item.json.target_host }}"
                },
                {
                  "name": "output",
                  "value": "={{ $('Execute Rsync Backup').item.json.exitCode }} -- {{ $('Execute Rsync Backup').item.json.stderr }}"
                }
              ]
            },
            "options": {}
          },
          "typeVersion": 1
        },
        {
          "id": "f7d833ae-0003-48f8-8d13-4f22cb70f52f",
          "name": "Process Finish Report --- Telegam & SMS",
          "type": "n8n-nodes-base.executeCommand",
          "onError": "continueRegularOutput",
          "position": [
            -272,
            224
          ],
          "parameters": {
            "command": "=apk add curl\n\nexport TOKEN=\"YOUR-TELEGRAM-BOT-TOKEN\"\nexport CHAT_ID=\"YOUR-TELEGRAM-CHANNEL-ID\"\nexport MESSAGE=\"{{ $json.timestamp }} -- {{ $json.status }} :: {{ $json.source }} -> {{ $json.target }} :: {{ $json.output }}\"\n\ncurl -s -X POST \"https://api.telegram.org/bot$TOKEN/sendMessage\" -d chat_id=\"$CHAT_ID\" -d text=\"$MESSAGE\"\n\nNUMBERS=\"+36301234567\"\n\nfor PHONE in $NUMBERS; do\n  curl -X POST https://textbelt.com/text --data-urlencode phone=\"$PHONE\" --data-urlencode message=\"$MESSAGE\" -d key=YOUR-TEXTBELT-API-KEY\ndone"
          },
          "typeVersion": 1
        },
        {
          "id": "4f541742-fac7-4d71-b236-c4bc65856f4a",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -3088,
            -240
          ],
          "parameters": {
            "width": 380,
            "height": 232,
            "content": "## Automated Rsync Backup\n\nPassword-based SSH backup between servers using rsync.\n\nAutomatically installs dependencies, performs backup from source to target server, and sends status notifications via Telegram and SMS.\n\nSupports Ubuntu, Debian, RHEL, CentOS, and Alpine."
          },
          "typeVersion": 1
        },
        {
          "id": "b74c3604-78af-4a0c-a7df-b4bd0c1ecd71",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -2576,
            384
          ],
          "parameters": {
            "width": 340,
            "height": 348,
            "content": "## SERVER CONFIGURATION REQUIRED\n\nSource Server:\n- source_host, source_port, source_user\n- source_password, source_folder\n\nTarget Server:\n- target_host, target_port, target_user\n- target_password, target_folder\n\nRsync Options:\n- Default: -avz --delete\n- Archive, verbose, compress, mirror"
          },
          "typeVersion": 1
        },
        {
          "id": "b6910e2a-f654-4918-a3e1-51bddbe9bb51",
          "name": "Sticky Note2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -2352,
            -64
          ],
          "parameters": {
            "width": 340,
            "height": 248,
            "content": "## Dependency Management\n\nAutomatically checks and installs sshpass and rsync:\n1. Check if sshpass installed locally\n2. Install if missing (apt/yum/dnf/apk)\n3. Check sshpass on source server\n4. Install on source if needed (with sudo)\n\nNo manual installation required."
          },
          "typeVersion": 1
        },
        {
          "id": "720d40a5-6799-4d92-8b2d-1b4e27e7408c",
          "name": "Sticky Note3",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -1040,
            -64
          ],
          "parameters": {
            "width": 320,
            "height": 256,
            "content": "## Backup Execution\n\nConnects to source server via SSH and executes rsync command.\n\nData transfers directly between source and target servers, not through n8n.\n\nUses password authentication for both connections with StrictHostKeyChecking disabled."
          },
          "typeVersion": 1
        },
        {
          "id": "55adad40-e782-4687-bd28-d99414754a2e",
          "name": "Sticky Note4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -592,
            464
          ],
          "parameters": {
            "width": 300,
            "height": 224,
            "content": "## Status Handling\n\nChecks rsync exit code:\n- Exit 0: Success - captures stdout\n- Non-zero: Failure - captures exit code and stderr\n\nBoth paths generate detailed status report with timestamp and server info."
          },
          "typeVersion": 1
        },
        {
          "id": "db8dbab3-3671-424e-b690-d82c56bed6c5",
          "name": "Sticky Note5",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -272,
            -96
          ],
          "parameters": {
            "width": 340,
            "height": 296,
            "content": "## NOTIFICATION CONFIGURATION\n\nReplace placeholders:\n- YOUR-TELEGRAM-BOT-TOKEN\n- YOUR-TELEGRAM-CHANNEL-ID\n- +36301234567 (phone numbers)\n- YOUR-TEXTBELT-API-KEY\n\nSends success or failure report with timestamp, source, target, and output details."
          },
          "typeVersion": 1
        },
        {
          "id": "0c19273d-a6a3-43c9-9f4a-a43f8a1029b1",
          "name": "Sticky Note6",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -3248,
            128
          ],
          "parameters": {
            "width": 388,
            "height": 112,
            "content": "## Scheduling\n\nCurrently manual trigger and  Schedule Trigger."
          },
          "typeVersion": 1
        },
        {
          "id": "f5f0cb34-f5a9-4ad9-a2ee-54852328bc54",
          "name": "Schedule Trigger",
          "type": "n8n-nodes-base.scheduleTrigger",
          "position": [
            -2800,
            32
          ],
          "parameters": {
            "rule": {
              "interval": [
                {}
              ]
            }
          },
          "typeVersion": 1.2
        }
      ],
      "active": false,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "44bd3bc1-2f84-4948-b794-6a8b23b50258",
      "connections": {
        "Success?": {
          "main": [
            [
              {
                "node": "Backup Successful",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Backup Failed",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Backup Failed": {
          "main": [
            [
              {
                "node": "Process Finish Report --- Telegam & SMS",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Manual Trigger": {
          "main": [
            [
              {
                "node": "Server Parameters",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Schedule Trigger": {
          "main": [
            [
              {
                "node": "Server Parameters",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Backup Successful": {
          "main": [
            [
              {
                "node": "Process Finish Report --- Telegam & SMS",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Server Parameters": {
          "main": [
            [
              {
                "node": "Check Sshpass Local",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check Sshpass Local": {
          "main": [
            [
              {
                "node": "Is Installed Local?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Is Installed Local?": {
          "main": [
            [
              {
                "node": "Check Sshpass on Source",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Install Sshpass Local",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Execute Rsync Backup": {
          "main": [
            [
              {
                "node": "Success?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Install Sshpass Local": {
          "main": [
            [
              {
                "node": "Check Sshpass on Source",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check Sshpass on Source": {
          "main": [
            [
              {
                "node": "Is Installed on Source?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Is Installed on Source?": {
          "main": [
            [
              {
                "node": "Execute Rsync Backup",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Install Sshpass on Source",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Install Sshpass on Source": {
          "main": [
            [
              {
                "node": "Execute Rsync Backup",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 1,
    "workflowInfo": {
      "nodeCount": 21,
      "nodeTypes": {
        "n8n-nodes-base.if": {
          "count": 3
        },
        "n8n-nodes-base.set": {
          "count": 3
        },
        "n8n-nodes-base.stickyNote": {
          "count": 7
        },
        "n8n-nodes-base.manualTrigger": {
          "count": 1
        },
        "n8n-nodes-base.executeCommand": {
          "count": 6
        },
        "n8n-nodes-base.scheduleTrigger": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Vigh Sandor",
      "username": "vighsandor",
      "bio": "I'm a DevOps engineer and automation enthusiast who builds smart, practical workflows using n8n.io. \n\nI focus on creating reliable, open-source solutions that connect tools and simplify everyday operations ‚Äî whether it‚Äôs infrastructure management, workflow automation, or integrating AI into existing systems.",
      "verified": true,
      "links": [
        ""
      ],
      "avatar": "https://gravatar.com/avatar/d3e779d3134c3771dea12479456a9caf0821cd3b6aa6d9c6802bd7e0ee0c1469?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 13,
        "icon": "fa:terminal",
        "name": "n8n-nodes-base.executeCommand",
        "codex": {
          "data": {
            "alias": [
              "Shell",
              "Command",
              "OS",
              "Bash"
            ],
            "details": "Execute command allows you to run terminal commands on the computer/server hosting your n8n instance. Useful for executing a shell script or interacting with your n8n instance programmatically via the CLI.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executecommand/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Execute Command",
          "color": "#886644"
        },
        "iconData": {
          "icon": "terminal",
          "type": "icon"
        },
        "displayName": "Execute Command",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 20,
        "icon": "fa:map-signs",
        "name": "n8n-nodes-base.if",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "üè≠",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "‚òÄÔ∏è",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "üß¨",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                  "icon": "ü§¨",
                  "label": "Create a toxic language detector for Telegram in 4 step"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "üîó",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "‚öôÔ∏è",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "üë•",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "‚ö°Ô∏è",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                  "icon": "üè∑Ô∏è",
                  "label": "How to automatically manage contributions to open-source projects"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ü§ñ",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "üôå",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "üé°",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "üéñ",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "If",
          "color": "#408000"
        },
        "iconData": {
          "icon": "map-signs",
          "type": "icon"
        },
        "displayName": "If",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 38,
        "icon": "fa:pen",
        "name": "n8n-nodes-base.set",
        "codex": {
          "data": {
            "alias": [
              "Set",
              "JS",
              "JSON",
              "Filter",
              "Transform",
              "Map"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "üè≠",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "‚òÄÔ∏è",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "üìà",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                  "icon": "üì°",
                  "label": "Database Monitoring and Alerting with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "üßæ",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "üîó",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "‚öôÔ∏è",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "üë•",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "‚ö°Ô∏è",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "üì±",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                  "icon": "üìπ",
                  "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ü§ñ",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                  "icon": "üß∞",
                  "label": "Learn to Build Powerful API Endpoints Using Webhooks"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "üìà",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "üìà",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "üé°",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "üéñ",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "üõµ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Edit Fields"
        },
        "iconData": {
          "icon": "pen",
          "type": "icon"
        },
        "displayName": "Edit Fields (Set)",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 838,
        "icon": "fa:mouse-pointer",
        "name": "n8n-nodes-base.manualTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When clicking ‚ÄòExecute workflow‚Äô",
          "color": "#909298"
        },
        "iconData": {
          "icon": "mouse-pointer",
          "type": "icon"
        },
        "displayName": "Manual Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 839,
        "icon": "fa:clock",
        "name": "n8n-nodes-base.scheduleTrigger",
        "codex": {
          "data": {
            "alias": [
              "Time",
              "Scheduler",
              "Polling",
              "Cron",
              "Interval"
            ],
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\",\"schedule\"]",
        "defaults": {
          "name": "Schedule Trigger",
          "color": "#31C49F"
        },
        "iconData": {
          "icon": "clock",
          "type": "icon"
        },
        "displayName": "Schedule Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 16,
        "name": "DevOps"
      }
    ],
    "image": []
  }
}