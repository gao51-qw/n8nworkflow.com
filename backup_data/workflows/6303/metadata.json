{
  "id": 6303,
  "slug": "6303",
  "title": "Get blockchain insights from chat using GPT-4 and Nansen MCP",
  "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n## How it works\n\nThis workflow listens for an incoming chat message and routes it to an **AI Agent**. The agent is powered by your preferred **Chat Model** (such as OpenAI or Anthropic) and extended with the **Nansen MCP** tool, which enables it to retrieve onchain wallet data, token movements, and address-level insights in real time.\n\nThe Nansen MCP tool uses **HTTP Streamable** transport and requires API Key authentication via **Header Auth**.\n\nRead the Documentation: [https://docs.nansen.ai/nansen-mcp/overview](https://docs.nansen.ai/nansen-mcp/overview)\n\n## Set up steps\n\n1. **Get your Nansen MCP API key**  \n   - Visit: [https://app.nansen.ai/account?tab=api](https://app.nansen.ai/account?tab=api)  \n   - Generate and copy your personal API key.\n\n2. **Create a credential for authentication**  \n   - From the homepage, click the **dropdown next to \"Create Workflow\" â†’ \"Create Credential\"**.  \n   - Select `Header Auth` as the method.  \n   - Set the **Header Name** to: `NANSEN-API-KEY`  \n   - Paste your API key into the **Value** field.  \n   - Save the credential (e.g., `Nansen MCP Credentials`).\n\n3. **Configure the Nansen MCP tool**  \n   - **Endpoint**: `https://mcp.nansen.ai/ra/mcp/`  \n   - **Server Transport**: `HTTP Streamable`  \n   - **Authentication**: `Header Auth`  \n   - **Credential**: Select `Nansen MCP Credentials`  \n   - **Tools to Include**: Leave as `All` (or restrict as needed)\n\n4. **Configure the AI Agent**  \n   - Connect your preferred **Chat Model** (e.g., OpenAI, Anthropic) to the `Chat Model` input.  \n   - Connect the **Nansen MCP** tool to the `Tool` input.  \n   - *(Optional)* Add a `Memory` block to preserve conversational context.\n\n5. **Set up the chat trigger**  \n   - Use the **\"When chat message received\"** node to start the flow when a message is received.\n\n6. **Test your setup**  \n   Try sending prompts like:\n   - `What tokens are being swapped by 0xabc...123?`\n   - `Get recent wallet activity for this address.`\n   - `Show top holders of token XYZ.`\n",
  "featuredImage": "/data/workflows/6303/6303.webp",
  "author": {
    "id": 101,
    "slug": "nansen",
    "name": "Nansen",
    "avatar": ""
  },
  "categories": [
    "Crypto Trading",
    "AI Chatbot"
  ],
  "complexityLevel": "beginner",
  "price": 0,
  "visitors": 652,
  "downloads": 65,
  "createdAt": "2025-07-23T05:26:42.380Z",
  "updatedAt": "2026-01-16T08:44:20.593Z",
  "publishedAt": "2025-07-23T05:26:42.380Z",
  "nodes": 4,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6303"
}