{
  "id": 8599,
  "slug": "8599",
  "title": "Automate UniFi controller updates via SSH with Telegram notifications",
  "description": "## Overview\nAutomate UniFi Controller updates on self-hosted instances. This workflow checks the official UniFi Debian repo for a **fresh release in the last 24 hours** and, if found, upgrades the `unifi` package via SSH. It can also summarize changes and ping you on Telegram. Sticky notes are included to guide setup.\n\n## How it works\n- **Schedule** runs daily (default **13:13**).\n- **HTTP Request** fetches `InRelease` and parses `Codename` + `Date`.\n- **IF gate** continues only if the repo changed within 24h.\n- **SSH** runs:\n  ```bash\n  apt-get --allow-releaseinfo-change update\n  apt-get upgrade -y unifi\n  ```\n- **(Optional) LLM** creates a short summary → **Telegram** sends it.\n\n## Setup\n- Bind credentials: **SSH** (required), **OpenAI** (optional), **Telegram** (optional).\n- Set env var **`TELEGRAM_CHAT_ID`** for notifications.\n- Adjust the **Schedule Trigger** to your maintenance window.\n- Import inactive, test once, then **activate**.\n\n## Customize\n- Change the 24h freshness window in the Code node.\n- Swap Telegram for Slack/Email if preferred.\n- Add pre/post steps (backups, restarts) around the upgrade.\n\n## Safety\nTest on a non-production controller first. No hardcoded secrets—uses n8n credentials and environment variables. If you want approval before upgrades, stop after the IF gate and notify only.\n",
  "featuredImage": "/data/workflows/8599/8599.webp",
  "author": {
    "id": 101,
    "slug": "dominic",
    "name": "Dominic Spatz",
    "avatar": ""
  },
  "categories": [
    "DevOps",
    "AI Summarization"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 362,
  "downloads": 36,
  "createdAt": "2025-09-15T13:01:10.888Z",
  "updatedAt": "2026-01-16T08:56:43.054Z",
  "publishedAt": "2025-09-15T13:01:10.888Z",
  "nodes": 11,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8599"
}