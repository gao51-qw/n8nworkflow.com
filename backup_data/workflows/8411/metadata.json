{
  "id": 8411,
  "slug": "8411",
  "title": "Voice & text control for Home Assistant using Telegram, Whisper & Gemini",
  "description": "## ğŸ“ Workflow Description\n\nThis workflow creates a conversational bridge between Telegram / n8n Chat and Home Assistant.\nIt allows users to control smart home devices or request information using natural language (text or voice).\n\nâ¸»\n\n## ğŸ”‘ Key Features\n- Multi-channel input: Works with both Telegram and n8nâ€™s chat interface.\n- Voice support: Telegram voice messages are transcribed to text using OpenAI Whisper.\n- AI-driven assistant: Google Gemini processes queries in natural language.\n- Home Assistant integration: Uses MCP client tools to execute actions like turning devices on/off, adjusting lights, or broadcasting messages.\n- Memory management: Short-term memory keeps context within conversations.\n- Smart reply routing: Responses are automatically sent back to the correct channel (Telegram or chat).\n- Message formatting: Telegram replies are beautified (bold, bullet points, inline code, links).\n\nâ¸»\n\n## ğŸ“Œ Node Overview\n- Telegram Trigger: Captures incoming Telegram messages (text or voice).\n- Bot Is Typing: Sends a â€œtypingâ€¦â€ action to indicate the bot is working.\n- Voice or Text: Separates voice and text inputs.\n- Get Voice File â†’ Speech to Text â†’ Transcription to ChatInput: Handles Telegram voice notes by downloading the file, transcribing it, and preparing it for the chat pipeline.\n- When Chat Message Received: Captures messages from n8nâ€™s built-in chat interface.\n- Process Messages: Normalizes incoming data (input text, source, session ID, voice flag).\n- Home Agent: Main AI agent that processes queries.\n- Google Gemini Chat Model: Language model for intent understanding and conversation.\n- Simple Memory & Simple Memory1: Buffer memories to preserve conversation context.\n- Home Assistant Connector: MCP client node that executes smart home actions (turn on/off devices, adjust lights, etc.).\n- Reply Router: Routes the assistantâ€™s response either to Telegram or to the n8n chat webhook.\n- Telegram Message Beautifier â†’ Telegram Send: Formats and sends responses back to Telegram.\n- Respond to Webhook: Sends responses to n8n chat.\n\nâ¸»\n\n## ğŸš€ Example Use Cases\n- Send â€œTurn on the living room lightsâ€ via Telegram â†’ Bot triggers Home Assistant action.\n- Ask â€œWhatâ€™s the temperature in the bedroom?â€ â†’ Response comes back formatted in Telegram.\n- Record a voice note â€œGoodnight modeâ€ â†’ Automatically transcribed and executed by Home Assistant.\n- Use n8n chat to quickly trigger automations or check device statuses.\n\nâ¸»\n\n## âš¡ï¸ Benefits\n- Unified chat & voice control for Home Assistant.\n- AI-powered natural language understanding.\n- Works seamlessly across platforms (Telegram & n8n chat).\n- Extensible: new tools or intents can be added easily.\n",
  "featuredImage": "/data/workflows/8411/8411.webp",
  "author": {
    "id": 101,
    "slug": "akadiusz",
    "name": "Arkadiusz",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 878,
  "downloads": 87,
  "createdAt": "2025-09-09T12:30:52.857Z",
  "updatedAt": "2026-01-16T08:55:40.538Z",
  "publishedAt": "2025-09-09T12:30:52.857Z",
  "nodes": 30,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8411"
}