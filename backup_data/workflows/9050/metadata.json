{
  "id": 9050,
  "slug": "9050",
  "title": "Build a document QA system with Google Drive, Pinecone, and OpenAI RAG",
  "description": "## Title\n\n**RAG AI Agent for Documents in Google Drive → Pinecone → OpenAI Chat (n8n workflow)**\n\n---\n\n## Short Description\n\nThis n8n workflow implements a **Retrieval-Augmented Generation (RAG)** pipeline + AI agent, allowing users to drop documents into a Google Drive folder and then ask questions about them via a chatbot. New files are indexed automatically to a Pinecone vector store using OpenAI embeddings; the AI agent loads relevant chunks at query time and answers using context plus memory.\n\n---\n\n## Why this workflow matters / what problem it solves\n\n* Large language models (LLMs) are powerful, but they lack up-to-date, domain-specific knowledge.\n* RAG augments the LLM with relevant external documents, reducing hallucination and enabling precise answers. ([Pinecone][1])\n* This workflow automates the ingestion, embedding, storage, retrieval, and chat logic — with minimal manual work.\n* It’s modular: you can swap data sources, vector DBs, or LLMs (with some adjustments).\n* It leverages the built-in **AI Agent** node in n8n to tie all the parts together. ([n8n][2])\n\n---\n\n## How to get the required credentials\n\n| Service                   | Purpose in Workflow                         | Setup Link                                                                                                                                               | What you need / steps                                                                                                               |\n| ------------------------- | ------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------- |\n| **Google Drive (OAuth2)** | Trigger new file events & download the file | [https://docs.n8n.io/integrations/builtin/credentials/google/oauth-generic/](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-generic/) | Create a Google Cloud OAuth app, grant it Drive scopes, get client ID & secret, configure redirect URI, paste into n8n credentials. |\n| **Pinecone**              | Vector database for embeddings              | [https://docs.n8n.io/integrations/builtin/credentials/pinecone/](https://docs.n8n.io/integrations/builtin/credentials/pinecone/)                         | Sign up at Pinecone, in dashboard create an index, get API key + environment, paste into n8n credential.                            |\n| **OpenAI**                | Embeddings + chat model                     | [https://docs.n8n.io/integrations/builtin/credentials/openai/](https://docs.n8n.io/integrations/builtin/credentials/openai/)                             | Log in to OpenAI, generate a secret API key, paste into n8n credentials.                                                            |\n\nYou’ll configure these under **n8n → Credentials → New Credential**, matching credential names referenced in your workflow nodes.\n\n---\n\n## Detailed Walkthrough: How the Workflow Works\n\nHere’s a step-by-step of what happens inside your workflow (matching your JSON):\n\n### 1. **Google Drive Trigger**\n\n* Watches a specified folder in Google Drive. Whenever a new file appears (fileCreated event), the workflow is triggered (polling every minute).\n* You must set the *folder ID* (in “folderToWatch”) to the Drive folder you want to monitor.\n\n### 2. **Download File**\n\n* Takes the file ID from the trigger and downloads the file content (binary).\n\n### 3. **Indexing Path: Embeddings + Storage**\n\n(This path only runs when new files arrive)\n\n* The file is sent to the **Default Data Loader** node (via the **Recursive Character Text Splitter**) to break it into chunks with overlap (so context is preserved).\n* Each chunk is fed into **Embeddings OpenAI** to convert text into embedding vectors.\n* Then **Pinecone Vector Store** (insert mode) ingests the vector + text metadata into your Pinecone index.\n* This ensures your vector store stays up-to-date with files you drop into Drive.\n\n### 4. **Chat / Query Path**\n\n(Triggered by user chat via webhook)\n\n* When a chat message arrives via **When Chat Message Received**, it gets passed into the **AI Agent** node.\n* Before generation, the AI Agent calls the **Pinecone Vector Store1** set in “retrieve-as-tool” mode, which runs a vector-based retrieval using the user query embedding. The relevant text chunks are pulled as tools/context.\n* The **OpenAI Chat Model** node is linked as the language model for the agent.\n* **Simple Memory** node provides conversational memory (keeping history across messages).\n* The agent combines retrieved context + memory + user input and instructs the model to produce a response.\n\n### 5. **Connections / Flow Logic**\n\n* The **Embeddings OpenAI** node’s output is wired into **Pinecone Vector Store** (insert) and also into **Pinecone Vector Store1** (so the same embeddings can be used for retrieval).\n* The **AI Agent** has tool access to Pinecone retrieval and memory.\n* The **Download File** node triggers the insert path.\n* The **When chat message** triggers the agent path.\n\n---\n\n## Similar Workflows / Inspirations & Comparisons\n\nTo help understand how your workflow fits into what’s already out there, here are a few analogues:\n\n* **n8n Blog: “Build a custom knowledge RAG chatbot”** — they show a workflow that ingests documents from external sources, indexes them in Pinecone, and responds to queries via n8n + LLM. ([n8n Blog][3])\n* **Index Documents from Google Drive to Pinecone** — this is nearly identical for the ingestion part: trigger on Drive, split, embed, upload. ([n8n][4])\n* **Build & Query RAG System with Google Drive, OpenAI, Pinecone** — shows the full RAG + chat logic, same pattern. ([n8n][5])\n* **Chat with GitHub API Documentation (RAG)** — demonstrates converting API spec into chunks, embedding, retrieving, and chatting. ([n8n][6])\n* **Community tutorials & forums** talk about using the AI Agent node with tools like Pinecone, and how the RAG part is often built as a sub-workflow feeding an agent. ([n8n Community][7])\n\nWhat sets your workflow apart is your explicit combination: **Google Drive → automatic ingestion → chat agent with tool integration + memory**. Many templates show either ingestion or chat, but fewer show them combined cleanly with n8n’s AI Agent.\n\n---\n\n## Suggested Published Description (you can paste/adjust)\n\n&gt; **RAG AI Agent for Google Drive Documents (n8n workflow)**\n&gt;\n&gt; This workflow turns a Google Drive folder into a live, queryable knowledge base. Drop PDF, docx, or text files into the folder → new documents are automatically indexed into a Pinecone vector store using OpenAI embeddings → you can ask questions via a webhook chat interface and the AI agent will retrieve relevant text, combine it with memory, and answer in context.\n&gt;\n&gt; **Credentials needed**\n&gt;\n&gt; * Google Drive OAuth2 (see: [https://docs.n8n.io/integrations/builtin/credentials/google/oauth-generic/](https://docs.n8n.io/integrations/builtin/credentials/google/oauth-generic/))\n&gt; * Pinecone (see: [https://docs.n8n.io/integrations/builtin/credentials/pinecone/](https://docs.n8n.io/integrations/builtin/credentials/pinecone/))\n&gt; * OpenAI (see: [https://docs.n8n.io/integrations/builtin/credentials/openai/](https://docs.n8n.io/integrations/builtin/credentials/openai/))\n&gt;\n&gt; **How it works**\n&gt;\n&gt; 1. Drive trigger picks up new files\n&gt; 2. Download, split, embed, insert into Pinecone\n&gt; 3. Chat webhook triggers AI Agent\n&gt; 4. Agent retrieves relevant chunks + memory\n&gt; 5. Agent uses OpenAI model to craft answer\n&gt;\n&gt; This is built on the core RAG pattern (ingest → retrieve → generate) and enhanced by n8n’s AI Agent node for clean tool integration.\n&gt;\n&gt; **Inspiration & context**\n&gt; This approach follows best practices from existing n8n RAG tutorials and templates, such as the “Index Documents from Google Drive to Pinecone” ingestion workflow and “Build & Query RAG System” templates. ([n8n][4])\n&gt;\n&gt; You're free to swap out the data source (e.g. Dropbox, S3) or vector DB (e.g. Qdrant) as long as you adjust the relevant nodes.\n\n---\n\nIf you like, I can generate a polished Markdown README for you (with badges, diagrams, instructions) ready for GitHub/n8n community publishing. Do you want me to build that?\n\n[1]: https://www.pinecone.io/learn/retrieval-augmented-generation/?utm_source=chatgpt.com \"Retrieval-Augmented Generation (RAG) - Pinecone\"\n[2]: https://n8n.io/integrations/agent/?utm_source=chatgpt.com \"AI Agent integrations | Workflow automation with n8n\"\n[3]: https://blog.n8n.io/rag-chatbot/?utm_source=chatgpt.com \"Build a Custom Knowledge RAG Chatbot using n8n\"\n[4]: https://n8n.io/workflows/4552-index-documents-from-google-drive-to-pinecone-with-openai-embeddings-for-rag/?utm_source=chatgpt.com \"Index Documents from Google Drive to Pinecone with OpenAI ... - N8N\"\n[5]: https://n8n.io/workflows/4501-build-and-query-rag-system-with-google-drive-openai-gpt-4o-mini-and-pinecone/?utm_source=chatgpt.com \"Build & Query RAG System with Google Drive, OpenAI GPT-4o-mini ...\"\n[6]: https://n8n.io/workflows/2705-chat-with-github-api-documentation-rag-powered-chatbot-with-pinecone-and-openai/?utm_source=chatgpt.com \"Chat with GitHub API Documentation: RAG-Powered Chatbot ... - N8N\"\n[7]: https://community.n8n.io/t/step-by-step-tutorial-create-a-rag-chatbot-with-n8n-ai-agents-in-minutes/55244?utm_source=chatgpt.com \"Step-by-Step Tutorial: Create a RAG Chatbot with n8n AI Agents in ...\"",
  "featuredImage": "/data/workflows/9050/9050.webp",
  "author": {
    "id": 101,
    "slug": "abdosman06",
    "name": "Abdullahi Ahmed",
    "avatar": ""
  },
  "categories": [
    "Internal Wiki",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 325,
  "downloads": 32,
  "createdAt": "2025-09-28T15:17:46.646Z",
  "updatedAt": "2026-01-16T08:58:50.446Z",
  "publishedAt": "2025-09-28T15:17:46.646Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9050"
}