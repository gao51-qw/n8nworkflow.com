{
  "id": 7455,
  "slug": "7455",
  "title": "Process multiple media files in Telegram with Gemini AI & PostgreSQL database",
  "description": "# ğŸ¤–ğŸ“¨ Telegram AI Assistant with Multi-File Media Group Handling, Smart File Processing & PostgreSQL Integration\n\n&gt; **AI-powered Telegram bot for text, voice, video, documents & media â€” with database-driven grouping and Telegram-safe formatting.**\n\n---\n\n## ğŸ“‹ Description\n\nThis n8n template creates a **next-generation Telegram AI assistant** ğŸ§ ğŸ’¬ capable of handling **text messages, media files, and documents** with advanced processing, PostgreSQL integration, and AI-powered responses.\n\nIt is designed to **solve Telegramâ€™s media group challenge** ğŸ“¦ â€” when multiple files are sent together, they are stored, processed, and combined into one coherent AI-generated reply.\n\n### âœ¨ Key Features\n- ğŸ“‚ **Multi-file media group management** with PostgreSQL:\n  - `media_group`\n  - `media_queue`\n  - `chat_histories`\n- ğŸ“‘ **Document parsing** for CSV, HTML, ICS, JSON, ODS, PDF (with AI fallback), RTF, TXT, XML, and spreadsheets.\n- ğŸ¤ **Voice & video transcription** for AI analysis.\n- ğŸ–¼ï¸ **Image, audio, and video description** for richer AI context.\n- ğŸ›¡ï¸ **Telegram-safe MarkdownV2 formatting** with auto-splitting for messages over 4096 chars.\n- âš ï¸ **Error fallback** for unsupported file types.\n\n---\n\n## ğŸ’¡ Acknowledgment\n\nA huge thank you to **Ezema Gingsley Chibuzo** ğŸ™Œ for the inspiration of the first version of this workflow:  \n[Create a Multi-Modal Telegram Support Bot with GPT-4 and Supabase RAG](https://n8n.io/workflows/5589-create-a-multi-modal-telegram-support-bot-with-gpt-4-and-supabase-rag/)  \nYour pioneering work laid the foundation for this improved, **database-powered multi-modal assistant** ğŸš€\n\n---\n\n## ğŸ· Tags\n`telegram` `ai-assistant` `postgresql` `multi-file` `media-group`  \n`file-processing` `voice-transcription` `document-parser` `pdf-extraction`  \n`markdown-formatting` `n8n-template`\n\n---\n\n## ğŸ’¼ Use Case\nUse this template if you need an AI-powered Telegram bot that can:\n- ğŸ“¦ Handle **multiple files sent in a single message** (albums, multiple PDFs, etc.).\n- ğŸ§¾ Extract & analyze **content from many file formats**.\n- ğŸ™ï¸ Transcribe **voice and video messages**.\n- ğŸ—‚ï¸ Maintain **chat memory** for contextual AI answers.\n- ğŸ›¡ï¸ Avoid **Telegram formatting errors** and length limit issues.\n\nThis workflow automates the full chain: **Receive â†’ Process â†’ AI Analysis â†’ Telegram-safe Reply**.\n\n---\n\n## ğŸ’¬ Example User Interactions\n\n- **ğŸ“„ Multiple PDFs with a caption** â†’ AI extracts and summarizes all PDFs in one combined reply.  \n- **ğŸ¤ Voice message** â†’ AI transcribes and replies with a contextual answer.  \n- **ğŸ“Š CSV or spreadsheet file** â†’ AI parses and summarizes the data.  \n- **ğŸ–¼ï¸ Multiple images** â†’ AI describes each image and replies in a single message.\n\n---\n\n## ğŸ”‘ Required Credentials\n- **Telegram Bot API** (Bot Token)  \n- **PostgreSQL** (Connection credentials)  \n- **AI Provider API** (OpenAI, Google Gemini, or compatible LLM)\n\n---\n\n## âš™ï¸ Setup Instructions\n1. ğŸ—„ï¸ **Create the PostgreSQL tables** (Gray section SQL):\n   - `media_group`\n   - `media_queue`\n   - `chat_histories`\n2. ğŸ”Œ Configure the **Telegram Trigger** with your bot token.\n3. ğŸ¤– Connect your **AI provider** credentials.\n4. ğŸ—‚ï¸ Set up **PostgreSQL** credentials in the database nodes.\n5. â–¶ï¸ Deploy the workflow in n8n.\n6. ğŸ¯ Start sending messages and files to your bot.\n\n---\n\n## ğŸ“Œ Extra Notes\n- âœ… **Green section** ensures only one trigger per media group.  \n- ğŸ“Œ **Yellow section** guarantees captions and files are stored in the correct sequence.  \n- âœ¨ **Purple section** formats AI output to be Telegram-safe and split if needed.  \n- ğŸ§  AI prompt is **not fixed**, allowing full customization.\n\n---\n\n## ğŸ’¡ Need Assistance?\n\nIf youâ€™d like help customizing or extending this workflow, feel free to reach out:  \n\nğŸ“§ Email: [johnsilva11031@gmail.com](mailto:johnsilva11031@gmail.com)  \nğŸ”— LinkedIn: [John Alejandro Silva RodrÃ­guez](https://www.linkedin.com/in/john-alejandro-silva-rodriguez-48093526b/)",
  "featuredImage": "/data/workflows/7455/7455.webp",
  "author": {
    "id": 101,
    "slug": "alejandro-silva",
    "name": "John Alejandro SIlva",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 8737,
  "downloads": 873,
  "createdAt": "2025-08-15T22:30:01.603Z",
  "updatedAt": "2026-01-16T08:50:25.037Z",
  "publishedAt": "2025-08-15T22:30:01.603Z",
  "nodes": 102,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7455"
}