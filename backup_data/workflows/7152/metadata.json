{
  "id": 7152,
  "slug": "7152",
  "title": "Loop over items â€” beginner example",
  "description": "This workflow introduces beginners to one of the most fundamental concepts in n8n: **looping over items**. Using a simple use caseâ€”generating LinkedIn captions for content ideasâ€”it demonstrates how to split a dataset into individual items, process them with AI, and collect the output for review or export.\n\n---\n\n## âœ… Key Features\n\n- **ğŸ§ª Create Dummy Data**: Simulate a small dataset of content ideas.\n- **ğŸ” Loop Over Items**: Process each row independently using the SplitInBatches node.\n- **ğŸ§  AI Caption Creation**: Automatically generate LinkedIn captions using OpenAI.\n- **ğŸ§° Tool Integration**: Enhance AI output with creativity-injection tools.\n- **ğŸ§¾ Final Output Set**: Collect the original idea and generated caption.\n\n---\n\n## ğŸ§° What Youâ€™ll Need\n\n- âœ… An [OpenAI API key](https://platform.openai.com/signup)\n- âœ… The **LangChain** nodes enabled in your n8n instance\n- âœ… Basic knowledge of how to trigger and run workflows in n8n\n\n---\n\n## ğŸ”§ Step-by-Step Setup\n\n### 1ï¸âƒ£ Run Workflow\n\n- **Node**: `Manual Trigger (Run Workflow)`\n- **Purpose**: Manually start the workflow for testing or learning.\n\n---\n\n### 2ï¸âƒ£ Create Random Data\n\n- **Node**: `Create Random Data (Code)`\n- **What it does**: Simulates incoming data with multiple content ideas.\n- **Code**:\n```js\nreturn [\n  {\n    json: {\n      row_number: 2,\n      id: 1,\n      Date: '2025-07-30',\n      idea: 'n8n rises to the top',\n      caption: '',\n      complete: ''\n    }\n  },\n  {\n    json: {\n      row_number: 3,\n      id: 2,\n      Date: '2025-07-31',\n      idea: 'n8n nodes',\n      caption: '',\n      complete: ''\n    }\n  },\n  {\n    json: {\n      row_number: 4,\n      id: 3,\n      Date: '2025-08-01',\n      idea: 'n8n use cases for marketing',\n      caption: '',\n      complete: ''\n    }\n  }\n];\n```\n\n---\n\n### 3ï¸âƒ£ Loop Over Items\n\n- **Node**: `Loop Over Items (SplitInBatches)`\n- **Purpose**: Sends one record at a time to the next node.\n- **Why It Matters**: Loops in n8n are created using this node when you want to iterate over multiple items.\n\n---\n\n### 4ï¸âƒ£ Create Captions with AI\n\n- **Node**: `Create Captions (LangChain Agent)`\n- **Prompt**: \n```text\nidea: {{ $json.idea }}\n```\n- **System Message**: \n```text\nYou are a helpful assistant creating captions for a LinkedIn post. Please create a LinkedIn caption for the idea.\n```\n- **Model**: GPT-4o Mini or GPT-3.5\n- **Credentials Required**:\n  - **OpenAI Credential**  \n    - Go to: [OpenAI API Keys](https://platform.openai.com/account/api-keys)\n    - Create a key and add it in n8n under credentials as â€œOpenAi accountâ€\n\n---\n\n### 5ï¸âƒ£ Inject Creativity (Optional)\n\n- **Node**: `Tool: Inject Creativity (LangChain Tool)`\n- **Purpose**: Demonstrates optional LangChain tools that can enhance or manipulate input/output.\n- **Why Itâ€™s Cool**: A great way to show chaining tools to AI agents.\n\n---\n\n### 6ï¸âƒ£ Output Table\n\n- **Node**: `Output Table (Set)`\n- **Purpose**: Combines original ideas and generated captions into final structure.\n- **Fields**:\n  - `idea`: `={{ $('Create Random Data').item.json.idea }}`\n  - `output`: `={{ $json.output }}`\n\n---\n\n## ğŸ’¡ Educational Value\n\nThis workflow demonstrates:\n- Creating dynamic inputs with the **Code** node\n- Using **SplitInBatches** to simulate looping\n- Sending dynamic prompts to an AI model\n- Using **Set** to structure the output data\n\nBeginners will understand how item-level processing works in n8n and how powerful looping combined with AI can be.\n\n---\n\n## ğŸ“¬ Need Help or Want to Customize This?\n\n**Robert Breen**  \nAutomation Consultant | AI Workflow Designer | n8n Expert  \nğŸ“§ [robert@ynteractive.com](mailto:robert@ynteractive.com)  \nğŸŒ [ynteractive.com](https://ynteractive.com)  \nğŸ”— [LinkedIn](https://www.linkedin.com/in/robert-breen-29429625/)\n\n---\n\n## ğŸ·ï¸ Tags\n\n`n8n` `loops` `OpenAI` `LangChain` `workflow` `training` `beginner` `LinkedIn automation` `caption generator`\n",
  "featuredImage": "/data/workflows/7152/7152.webp",
  "author": {
    "id": 101,
    "slug": "rbreen",
    "name": "Robert Breen",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 3836,
  "downloads": 383,
  "createdAt": "2025-08-07T23:43:53.041Z",
  "updatedAt": "2026-01-16T08:48:44.668Z",
  "publishedAt": "2025-08-07T23:43:53.041Z",
  "nodes": 8,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7152"
}