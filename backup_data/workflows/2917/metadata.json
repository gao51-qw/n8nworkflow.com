{
  "id": 2917,
  "slug": "2917",
  "title": "Allow users to send a sequence of messages to an AI agent in Telegram",
  "description": "### Use Case\nWhen creating chatbots that interface through applications such as **Telegram** and **WhatsApp**, users can often sends multiple shorter messages in quick succession, in place of a single, longer message. This workflow accounts for this behaviour.\n### What it Does\nThis workflow allows users to send several messages in quick succession, treating them as one coherent conversation instead of separate messages requiring individual responses. \n### How it Works\n1. When messages arrive, they are stored in a **Supabase PostgreSQL** table\n2. The system waits briefly to see if additional messages arrive\n3. If no new messages arrive within the waiting period, all queued messages are:\n   - Combined and processed as a single conversation\n   - Responded to with one unified reply\n   - Deleted from the queue\n### Setup\n1. Create a table in Supabase called **message_queue**. It needs to have the following columns: **user_id** (`uint8`), **message** (`text`), and **message_id** (`uint8`)\n2. Add your **Telegram**, **Supabase**, **OpenAI**, and **PostgreSQL** credentials\n3. Activate the workflow and test by sending multiple messages the Telegram bot in one go\n4. Wait ten seconds after which you will receive a single reply to all of your messages\n### How to Modify it to Your Needs\n- Change the value of **Wait Amount** in the **Wait 10 Seconds** node in order to to modify the buffering window \n- Add a **System Message** to the **AI Agent** to tailor it to your specific use case\n- Replace the **OpenAI** sub-node to use a different language model",
  "featuredImage": "/data/workflows/2917/2917.webp",
  "author": {
    "id": 101,
    "slug": "chriscarr",
    "name": "Chris Carr",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 13907,
  "downloads": 1390,
  "createdAt": "2025-02-16T12:03:51.655Z",
  "updatedAt": "2026-01-16T08:27:09.628Z",
  "publishedAt": "2025-02-16T12:03:51.655Z",
  "nodes": 22,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2917"
}