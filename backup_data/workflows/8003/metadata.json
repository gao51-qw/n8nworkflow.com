{
  "id": 8003,
  "slug": "8003",
  "title": "Google Maps to Airtable lead scraper with GPT contact extraction from impressum",
  "description": "## How it Works  \nThis workflow automates the process of discovering companies in different cities, extracting their contact data, and storing it in Airtable.  \n\n1. **City Loop (Airtable → Google Maps API)**  \n   - Reads a list of cities from Airtable.  \n   - Uses each city combined with a search term (e.g., *SEO Agency, Berlin*) to query Google Maps.  \n   - Marks processed cities as “checked” to allow safe restarts if interrupted.  \n\n2. **Business Discovery & Deduplication**  \n   - Searches for businesses via Google Maps Text Search.  \n   - Checks Airtable to avoid scraping the same company multiple times.  \n   - Fetches detailed info for each business via Google Maps Place Details API.  \n\n3. **Impressum Extraction (Website → HTML Parsing)**  \n   - Builds an *Impressum* page URL for each business.  \n   - Requests the HTML and cleans out ads, headers, footers, etc.  \n   - Extracts relevant contact info using an AI extractor (OpenAI node).  \n\n4. **Contact Information Extraction**  \n   - Pulls out:  \n     - **Decision Maker** (Name + Position in one string, if available).  \n     - **Email address** (must be valid, containing `@`).  \n     - **Phone number** (international format if possible).  \n   - Filters out incomplete results (e.g., empty email).  \n\n5. **Database Storage**  \n   - Writes company data back into Airtable:  \n     - Company name  \n     - Address  \n     - Website  \n     - Email  \n     - Phone number  \n     - Decision Maker (Name + Position)  \n     - Search term & city used  \n\n---\n\n## Setup Steps  \n\n### 1. Prerequisites  \n- Google Maps API Key with access to:  \n  - Places API → Text Search + Place Details  \n- Airtable base with at least two tables:  \n  - `Cities` (with columns: ID, City, Country, Status)  \n  - `Companies` (for scraped results)  \n- OpenAI API key (for decision maker + contact extraction).  \n\n### 2. Authentication  \n- Configure your Airtable API credentials in n8n.  \n- Set up HTTP Query Auth with your Google Maps API key.  \n- Add your OpenAI API key in the `OpenAI Chat` node.  \n\n### 3. Configuration  \n- In the Airtable “Cities” table, list all cities you want to scrape.  \n- Define your search term in the “Execute Workflow” node (e.g., `SEO Agency`).  \n- Adjust the batch sizes and wait intervals if you want faster/slower scraping (Google API has strict rate limits).  \n\n### 4. Execution  \n- Start manually or from another workflow.  \n- The workflow will scrape all companies in each city step by step.  \n- It can be safely stopped and resumed — cities already marked as processed will be skipped.  \n\n### 5. Results  \n- Enriched company dataset stored in Airtable, ready for CRM import, lead generation, or further automation.  \n\n---\n\n## Tips & Notes  \n- Always respect GDPR and local laws when handling scraped data.  \n- The workflow is modular → you can swap Airtable with Google Sheets, Notion, or a database of your choice.  \n- Add custom filters to limit results (e.g., only companies with websites).  \n- Use sticky notes inside the workflow to understand each step (mandatory for template publishing).  \n- **Keep an eye on Google Places API costs** — queries are billed after the free quota. If you are still within the first 2 months of the Google Cloud Developer free trial, you can benefit from free credits.  \n\n\n**",
  "featuredImage": "/data/workflows/8003/8003.webp",
  "author": {
    "id": 101,
    "slug": "sulieman-said",
    "name": "SuS",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 736,
  "downloads": 73,
  "createdAt": "2025-08-28T19:30:14.552Z",
  "updatedAt": "2026-01-16T08:53:30.932Z",
  "publishedAt": "2025-08-28T19:30:14.552Z",
  "nodes": 31,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8003"
}