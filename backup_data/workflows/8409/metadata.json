{
  "id": 8409,
  "slug": "8409",
  "title": "Automated LinkedIn lead enrichment pipeline using Apollo.io & Google Sheets",
  "description": "## LinkedIn to Apollo.io Lead Enrichment System with Google Sheets\n\nAutomatically capture company and store details from LinkedIn posts, enrich them with domain names and key decision-maker (KDM) data from Apollo.io, and store everything neatly in Google Sheets.  \nThis workflow turns LinkedIn post data into a complete, structured lead database â€” fully automated from detection to enrichment.\n\n---\n\n## ğŸ§¾ Summary\n\nThis workflow reads LinkedIn post data (in JSON format) received via a webhook, extracts company and location information using an AI agent, and progressively enriches the data in three stages:  \n1. **Find Company Domain** using Apollo.io  \n2. **Fetch Key Decision Makers (KDMs)** using the company domain  \n3. **Find Corporate Emails** for those KDMs  \n\nAll results are automatically updated in **Google Sheets**, ensuring your lead list remains fresh, structured, and actionable.\n\n---\n\n## âš™ï¸ Prerequisites\n\nBefore running the workflow, make sure you have:\n- An **Apollo.io API Key** with company and people search access  \n- A connected **Google Sheets** account (OAuth2)  \n- A **Webhook URL or LinkedIn scraper** that feeds JSON-formatted post data  \n- (Optional) An **OpenAI / AI Agent node** to extract company names and store locations from post text\n\n---\n\n## ğŸ§© Example Input (Webhook JSON)\n\nEach LinkedIn post is received as a JSON object containing key clues:\n\n```json\n{\n  \"index\": 1,\n  \"text\": \"Excited to announce the opening of our new KFC store at Sky City Mall, Borivali East ğŸ‰ğŸ—\\n\\nLooking forward to welcoming you all to experience the Finger Lickinâ€™ Good taste at our newest location!\\n\\n#KFCIndia #NewStoreOpening #Borivali #SkyCityMall #Sapphirefoods\",\n  \"CompanyName\": \"MockCompany\",\n  \"NewStoreLocation\": \"optional\",\n  \"PersonPosted\": \"https://linkedin.com/in/mockperson\",\n  \"PostImage\": null,\n  \"PostLink\": \"https://www.linkedin.com/search/results/all/?keywords=%23kfcindia&origin=HASH_TAG_FROM_FEED\",\n  \"extracted_at\": \"2025-09-08T12:05:40.044101\"\n}\n\n```\n## ğŸ§  Workflow Overview\n\nThis workflow runs in three main stages, moving from **LinkedIn data â†’ company domain â†’ people â†’ emails**.\n\n---\n\n## **Stage 1: Company Name to Company Domain ğŸŒ**\n\n**Goal:** Convert each company name into its website domain using Apollo.io.\n\n### **Nodes & Flow**\n- **Schedule Trigger** â€” Runs automatically (e.g., once a week) to check your Google Sheet for companies missing a domain.  \n- **IF Node (Check for Missing Domain)** â€” Filters only companies without a website.  \n- **Loop Over Items** â€” Iterates through each company record.  \n- **HTTP Request â€“ Find Domain** â€” Calls the Apollo.io Company API to find the companyâ€™s domain (e.g., `kfc.com`).  \n- **Update Row in Google Sheets** â€” Writes the found domain back into the corresponding company row.  \n- **Wait Node â€“ Delay Between API Calls** â€” Adds a small pause to avoid hitting rate limits.\n\n---\n\n## **Stage 2: Domain to Top 10 KDMs ğŸ‘¥**\n\n**Goal:** Fetch key decision-makers (KDMs) from each company using Apollo.io.\n\n### **Nodes & Flow**\n- **Schedule Trigger** â€” Runs on a weekly cadence to check for companies with a domain but no KDMs.  \n- **Get Rows from Google Sheets** â€” Pulls company records ready for enrichment.  \n- **IF Node (Check for Missing KDMs)** â€” Ensures only companies without people data are processed.  \n- **Loop Over Items** â€” Processes one company at a time.  \n- **HTTP Request â€“ Find KDMs** â€” Searches Apollo.io People API for top roles such as *Founder, CEO, Head of Retail*, etc.  \n- **Update Row in Google Sheets** â€” Saves the top 10 names and their LinkedIn profiles into your sheet.  \n- **Wait Node** â€” Adds a delay to manage rate limits safely.\n\n---\n\n## **Stage 3: KDM Profile to Email Enricher ğŸ“§**\n\n**Goal:** Find and store verified corporate email addresses for each KDM.\n\n### **Nodes & Flow**\n- **Schedule Trigger** â€” Weekly automation trigger.  \n- **Get Rows from Google Sheets** â€” Pulls KDMs that have LinkedIn profiles but no email yet.  \n- **IF Node (Check for Missing Emails)** â€” Ensures only valid records are processed.  \n- **Code Node â€“ Prepare Data** â€” Organizes LinkedIn profile and domain information.  \n- **HTTP Request â€“ Find Email** â€” Queries Apollo.ioâ€™s email enrichment endpoint using the LinkedIn URL and domain.  \n- **Code Node â€“ Format Response** â€” Cleans and formats the email result.  \n- **Wait Node** â€” Adds delay to avoid request bursts.  \n- **Update Row in Google Sheets** â€” Writes the verified email address back to the corresponding KDM entry and marks it as â€œUpdated â€“ email search.â€ ğŸ‰\n\n---\n\n## ğŸ§° Setup Instructions\n\n### **1. Connect APIs & Credentials**\n- Add your **Apollo.io API Key** under HTTP Request credentials.  \n- Connect your **Google Sheets** account (OAuth2).  \n\n### **2. Customize Sheet Structure**\nAdd columns for:  \n`CompanyName`, `Domain`, `KDMs`, `LinkedInProfile`, `Email`, `Status`\n\n### **3. Set Schedule Frequency**\nEach **Schedule Trigger** can be configured separately (e.g., Stage 1 every Monday, Stage 2 every Wednesday).\n\n### **4. Optional: AI Extraction Node**\nUse an AI model (like OpenAI or Gemini) to extract **company name and location** from LinkedIn post text before enrichment.\n\n---\n\n## ğŸ§° Custom Node Names (Recommended for Clarity)\n\n| Node Type | Recommended Name | Description |\n|------------|------------------|-------------|\n| HTTP Request (Company) | **Find Company Domain (Apollo.io)** | Searches for the companyâ€™s official domain |\n| HTTP Request (People) | **Find Key Decision Makers (Apollo.io)** | Retrieves top company contacts |\n| HTTP Request (Emails) | **Find Corporate Emails (Apollo.io)** | Gets verified email addresses for each contact |\n| Wait Node | **API Delay (Rate Limit Buffer)** | Adds delay to avoid hitting API rate limits |\n| Code Node | **Prepare KDM Data** | Organizes input data for API calls |\n\n---\n\n## âš™ï¸ Customization Tips\n\n- **Multiple Campaigns:** Duplicate the workflow for different industries or store categories, updating parameters as needed.  \n- **Batch Size:** Adjust API request limits (e.g., 100 per batch) based on your Apollo.io plan.  \n- **Filtering:** Add IF conditions to skip records already marked as â€œCompleted.â€  \n- **Dashboards:** Build visual analytics directly in Google Sheets or connect to **Looker Studio**.  \n- **Enrichment:** Combine with CRM systems (like **HubSpot** or **Close**) using company domain or lead email as the linking key.\n\n---\n\n## ğŸ” Security and Publishing Notes\n\n- ğŸ”’ **Never hardcode API keys** in workflow exports. Use **n8n credentials** or environment variables instead.  \n- ğŸš« Replace sensitive values (like API keys or Sheet IDs) with placeholders before sharing.  \n- ğŸ” Keep your **Google Sheet** private unless intentionally shared.\n\n---\n\n## ğŸ§© Troubleshooting\n\n- **No Data in Sheets:** Check API response for `data[]` and verify Split Out configuration.  \n- **Duplicate Rows:** Ensure the â€œMatching Columnâ€ in Google Sheets is correctly set (e.g., `CompanyName` or `LinkedInProfile`).  \n- **Rate Limits:** Add **Wait Nodes** or reduce batch size.  \n- **Mapping Errors:** Confirm Google Sheet headers exactly match node field mappings.  \n- **Timezone Adjustments:** Apollo.io timestamps are in UTC â€” convert to local time if needed.\n\n---\n\n## ğŸ¯ Example Use Case\n\nEvery week, this workflow scans new **LinkedIn store-opening posts**.  \nIt extracts company names (like *KFC India*), finds their domains and top executives through **Apollo.io**, retrieves their emails, and logs everything in a **Google Sheet** â€” ready for your sales team to reach out.\n\n---\n\n**Tags:**  \n`LinkedIn` `Apollo` `Automation` `LeadGeneration` `GoogleSheets` `MarketingOps` `DataEnrichment`\n",
  "featuredImage": "/data/workflows/8409/8409.webp",
  "author": {
    "id": 101,
    "slug": "rahiuppal",
    "name": "Rahi Uppal",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 73,
  "downloads": 7,
  "createdAt": "2025-09-09T12:14:38.550Z",
  "updatedAt": "2026-01-16T08:55:41.411Z",
  "publishedAt": "2025-09-09T12:14:38.550Z",
  "nodes": 33,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8409"
}