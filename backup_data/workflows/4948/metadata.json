{
  "id": 4948,
  "slug": "4948",
  "title": "Bulk delete Slack messages with smart filtering and confirmations",
  "description": "# ğŸ§¹ Jedi Cleaner for Slack\n\n## âŒ Slack's Limitation\n\nSlack lacks a native bulk delete feature. Users must delete messages manually, which is time-consuming and inefficient for large volumes.\n\n## âœ… Our Solution\n\n**Jedi Cleaner** automates Slack message deletion using smart filters, safety confirmations, and enterprise-grade reliability.\n\n---\n\n## ğŸš€ Key Features & Capabilities\n\n### âš¡ Lightning-Fast Bulk Operations\n\n* Delete hundreds of messages in minutes\n* Intelligent rate limiting prevents API throttling\n* Auto-retry on failure ensures reliable operation\n\n### ğŸ¯ Smart Message Filtering\n\n* **Keyword match** â€“ Find messages with specific terms\n* **User mentions** â€“ Target messages that mention specific users\n* **Exact phrases** â€“ Use quotes for precision\n* **Bot/User content** â€“ Handle mixed sources seamlessly\n\n---\n\n## ğŸ›¡ï¸ Enterprise-Grade Safety\n\n* **Confirmation workflow** â€“ No accidental deletions\n* **Timeout** â€“ Requests expire after 5 minutes\n* **Preview-first** â€“ Review messages before deletion\n* **Granular control** â€“ Choose exactly what to delete\n\n---\n\n## ğŸ” Intelligent Search & Preview\n\n* Flexible filters (words, phrases, patterns)\n* Preview + count before deletion\n* Multi-channel support with context isolation\n\n## ğŸ“Š Complete Workflow Management\n\n* Auto-cleanup of bot messages after execution\n* Real-time progress tracking\n* Debug logs and audit trail\n* Static data persistence and cleanup\n\n---\n\n## ğŸ§ª How It Works\n\n### Phase 1: Search Request\n\n```plaintext\nUser: /cleanup \"error messages\"\nBot Response:\nğŸ” Found 15 messages containing \"error messages\"\nğŸ“Š Breakdown:\nâ€¢ Will be permanently deleted\nâ€¢ Cannot be undone\nâ€¢ Respond within 5 minutes\n\nâœ… Type: @cleaner_jedi yes\nâŒ Type: @cleaner_jedi cancel\n```\n\n### Phase 2: User Confirmation\n\n```plaintext\nUser: @cleaner_jedi yes\nBot: ğŸ—‘ï¸ Deleting 15 messages containing \"error messages\"\n```\n\n### Phase 3: Completion\n\n```plaintext\nâœ… Cleanup Complete\nâ€¢ 15 messages deleted\nâ€¢ Channel cleaned\nâ€¢ Auto-deletes this message in 5 seconds\n```\n\n---\n\n## ğŸ› ï¸ Technical Architecture\n\n### Core Components\n\n* **Unified Webhook Handler**\n  Handles slash commands & mentions, deduplicates events\n* **Search Engine**\n  Integrates Slack API, parses & filters search terms\n* **Safety & Confirmation System**\n  Temporary storage, expiration logic, user auth\n* **Bulk Operations Engine**\n  Message deletion, progress tracking, error handling\n* **Cleanup & Memory Management**\n  Deletes bot messages, static data cleanup\n\n---\n\n## ğŸ“± User Commands\n\n| Command                | Description                         | Example                    |\n| ---------------------- | ----------------------------------- | -------------------------- |\n| `/cleanup [term]`      | Search messages containing `[term]` | `/cleanup \"webhook error\"` |\n| `@cleaner_jedi yes`    | Confirm deletion                    | After preview              |\n| `@cleaner_jedi cancel` | Cancel pending deletion             | Cancels active request     |\n\n### ğŸ§© Edge Cases\n\n| Scenario             | Bot Response                                   |\n| -------------------- | ---------------------------------------------- |\n| No messages found    | \"No messages found containing '\\[term]'\"       |\n| Expired confirmation | \"Request expired. Please run /cleanup again\"   |\n| No pending request   | \"No pending cleanup found. Run /cleanup first\" |\n| Invalid search term  | \"Please provide a valid search term\"           |\n\n---\n\n## âš™ï¸ Setup Requirements\n\n### Slack App Configuration\n\n**OAuth Scopes:**\n\n```plaintext\nâœ… chat:write\nâœ… chat:write.public\nâœ… channels:history\nâœ… groups:history\nâœ… app_mentions:read\nâœ… commands\n```\n\n**Event Subscriptions:**\n\n```plaintext\nâœ… app_mention\nâœ… message.channels\n```\n\n**Slash Command:**\n\n```plaintext\nCommand: /cleanup\nURL: https://your-n8n.app.cloud/webhook/cleanerjedi\nHint: [search term]\n```\n\n### n8n Workflow Setup\n\nRequired Nodes:\n\n* **Webhook Trigger** â€“ Captures Slack events\n* **Respond to Webhook** â€“ Handles routing\n* **Switch Node** â€“ Event type routing\n* **Slack API Nodes** â€“ Search, delete, notify\n* **JavaScript Nodes** â€“ Logic & validation\n\n---\n\n## âš¡ Advanced Features\n\n### ğŸ§  Intelligent Deduplication\n\n```javascript\neventId = `cmd_${body.command}_${body.user_id}_${body.trigger_id}`;\nif (staticData.recentEvents.includes(eventId)) {\n  return []; // Skip duplicate\n}\n```\n\n### ğŸ” Flexible Search Terms\n\n* **Single words:** `test`\n* **Phrases:** `\"error message\"`\n* **Special characters:** `webhook-failed`\n* Case-insensitive by default\n\n### â™»ï¸ Auto-Cleanup\n\n```javascript\nsetTimeout(() =&gt; {\n  deleteMessage(completionMessage.ts);\n  deleteMessage(progressMessage.ts);\n}, 5000);\n```\n\n### ğŸ§  Storage Management\n\n* Temp storage for requests\n* Auto-expiry cleanup\n* Memory-safe event trimming\n\n---\n\n## ğŸ“Š Error Handling & Logging\n\n### Error Scenarios\n\n```plaintext\nâŒ Invalid term\nâ° Expired request\nğŸš« Access denied\nâš ï¸ Rate limit hit\n```\n\n### Debugging & Monitoring\n\n* Event IDs, timestamps\n* Key-value storage info\n* API response codes\n\n---\n\n## âœ… Usage Examples\n\n### Example 1: Delete Error Messages\n\n```plaintext\n/cleanup \"error\"\nâ†’ Bot: Found 23 messages\nâ†’ @cleaner_jedi yes\nâ†’ âœ… Deleted 23 messages\n```\n\n### Example 2: Cancel Midway\n\n```plaintext\n/cleanup \"from:@john\"\nâ†’ Bot: Found 8 messages\nâ†’ @cleaner_jedi cancel\nâ†’ âŒ Operation cancelled\n```\n\n### Example 3: Search by Date\n\n```plaintext\n/cleanup \"2024-01-15\"\nâ†’ Bot: Found 12 messages\nâ†’ @cleaner_jedi yes\nâ†’ âœ… 12 messages deleted\n```\n\n---\n\n## ğŸ”’ Security & Safety\n\n* âœ… **User confirmation required**\n* âœ… **5-minute time limits**\n* âœ… **Permission-aware deletions**\n* âœ… **Audit trail logging**\n\n---\n\n## ğŸš€ Performance Optimizations\n\n* Minimal webhook/API usage\n* Batch deletion\n* Cached recent events\n\n**Memory Handling:**\n\n* Temp data cleanup\n* Key expiration\n* Cache trimming\n\n---\n\n## ğŸ“ˆ Monitoring & Analytics\n\n### Metrics Tracked\n\n* Messages per operation\n* User response times\n* Failure & error rates\n* Storage performance\n\n### Logging\n\n```javascript\nconsole.log('âœ… SUCCESS:', operationDetails);\nconsole.warn('âš ï¸ WARNING:', warningDetails);\nconsole.error('âŒ ERROR:', errorDetails);\nconsole.info('â„¹ï¸ INFO:', informationDetails);\n```\n\n---\n\n## ğŸ‰ Summary\n\n### For Users\n\n* âœ… Simple commands\n* âœ… Preview + safety\n* âœ… Fast processing\n* âœ… Clear status feedback\n\n### For Admins\n\n* âœ… Lower API load\n* âœ… Full logging\n* âœ… Resilient to errors\n* âœ… Lightweight memory footprint\n\n### For Developers\n\n* âœ… Modular, clean code\n* âœ… Well-documented\n* âœ… Scalable & robust\n* âœ… Easy to extend\n\n---\n\nPDF how to do Document Included\n",
  "featuredImage": "/data/workflows/4948/4948.webp",
  "author": {
    "id": 101,
    "slug": "solutionflows",
    "name": "Elie Kattar",
    "avatar": ""
  },
  "categories": [
    "Miscellaneous"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 88,
  "downloads": 8,
  "createdAt": "2025-06-15T23:39:38.879Z",
  "updatedAt": "2026-01-16T08:37:03.216Z",
  "publishedAt": "2025-06-15T23:39:38.879Z",
  "nodes": 48,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4948"
}