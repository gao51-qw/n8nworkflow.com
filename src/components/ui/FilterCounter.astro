---
/**
 * FilterCounter 组件
 * 路径: src/components/ui/FilterCounter.astro
 * 
 * 用途: 显示筛选选项旁的计数徽章
 * 优先级: P0
 * 
 * Props 接口:
 * - label: string - 显示标签
 * - count: number - 计数
 * - isActive?: boolean - 是否活跃
 * - onClick?: string - 点击回调 URL
 */

interface Props {
  label: string;
  count: number;
  isActive?: boolean;
  onClick?: string;
}

const { label, count, isActive = false, onClick } = Astro.props;
const isDisabled = count === 0;
---

<div
  class={`
    inline-flex items-center gap-2 px-3 py-2 rounded-full text-sm font-medium
    transition-colors cursor-pointer
    ${
      isDisabled
        ? 'bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500'
        : isActive
          ? 'bg-primary-100 dark:bg-primary-900 text-primary-900 dark:text-primary-100'
          : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'
    }
  `}
  data-filter-label={label}
  data-filter-count={count}
  onclick={onClick ? `window.location='${onClick}'` : undefined}
  role="button"
  tabindex={isDisabled ? -1 : 0}
  aria-disabled={isDisabled}
>
  <span>{label}</span>
  <span class="inline-flex items-center justify-center w-5 h-5 rounded-full bg-white dark:bg-gray-800 text-xs font-bold">
    {count}
  </span>
</div>

<style>
  /* 禁用状态时移除光标效果 */
  [aria-disabled='true'] {
    cursor: not-allowed;
  }
</style>
