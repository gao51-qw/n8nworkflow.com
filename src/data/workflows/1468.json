{
  "id": 1468,
  "slug": "1468",
  "title": "Update HubSpot when a new invoice is registered in Stripe",
  "description": "This workflow automatically posts a message in Slack when a new invoice is uploaded in Stripe, and it updates the fields in the HubSpot CRM.\n\n## Prerequisites\n\n- A Slack account and [credentials](https://docs.n8n.io/integrations/credentials/slack/)\n- A HubSpot account and [credentials](https://docs.n8n.io/integrations/credentials/hubspot/)\n- A Stripe account and [credentials](https://docs.n8n.io/integrations/credentials/stripe/)\n\n## Nodes\n\n- [Stripe Trigger node](https://docs.n8n.io/integrations/trigger-nodes/n8n-nodes-base.stripetrigger/) triggers the workflow when a new invoice is uploaded.\n- [IF nodes](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.if/) filter the invoices that don't have a PO number and if there is no deal for the PO.\n- [HubSpot nodes](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.hubspot/) retrieve deals with the specific PO number and update the deal status to 'paid'.\n- [Slack nodes](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.slack/) post messages about the deals in a Slack channel.",
  "featuredImage": "/data/workflows/1468/1468.webp",
  "author": {
    "id": 101,
    "slug": "jon-n8n",
    "name": "Jonathan",
    "avatar": ""
  },
  "categories": [
    "CRM"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 6253,
  "downloads": 625,
  "createdAt": "2022-02-17T15:09:29.183Z",
  "updatedAt": "2026-01-16T08:21:24.603Z",
  "publishedAt": "2022-02-17T15:09:29.183Z",
  "nodes": 9,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/1468",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Update HubSpot when a new invoice is registered in Stripe",
    "workflowName": "Update HubSpot when a new invoice is registered in Stripe",
    "description": "This workflow automatically posts a message in Slack when a new invoice is uploaded in Stripe, and it updates the fields in the HubSpot CRM.\n\n## Prerequisites\n\n- A Slack account and [credentials](https://docs.n8n.io/integrations/credentials/slack/)\n- A HubSpot account and [credentials](https://docs.n8n.io/integrations/credentials/hubspot/)\n- A Stripe account and [credentials](https://docs.n8n.io/integrations/credentials/stripe/)\n\n## Nodes\n\n- [Stripe Trigger node](https://docs.n8n.io/integrations/trigger-nodes/n8n-nodes-base.stripetrigger/) triggers the workflow when a new invoice is uploaded.\n- [IF nodes](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.if/) filter the invoices that don't have a PO number and if there is no deal for the PO.\n- [HubSpot nodes](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.hubspot/) retrieve deals with the specific PO number and update the deal status to 'paid'.\n- [Slack nodes](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.slack/) post messages about the deals in a Slack channel.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When Invoice Paid",
      "type": "n8n-nodes-base.stripeTrigger",
      "role": "stripeTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Update Deal to Paid",
      "type": "n8n-nodes-base.hubspot",
      "role": "hubspot",
      "configDescription": "Version 1"
    },
    {
      "name": "Find Deal based on PO Number",
      "type": "n8n-nodes-base.hubspot",
      "role": "hubspot",
      "configDescription": "Version 1"
    },
    {
      "name": "If no PO Number",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "If no deal found for PO",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Send invoice paid message",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 1"
    },
    {
      "name": "Send no PO Message",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Deal not found message",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 1"
    }
  ]
}