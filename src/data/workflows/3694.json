{
  "id": 3694,
  "slug": "3694",
  "title": "Multi-Agent AI Clinic Management with WhatsApp, Telegram, and Google Calendar",
  "description": "\n# Healthcare Clinic Assistant with WhatsApp and Telegram Integration\n**Version:** 1.1.0  \n**n8n Version:** 1.88.0+  \n**License:** MIT  \n\n---\n\n## üìã Description\nA **comprehensive and modular automation workflow** designed for healthcare clinics.  \nIt manages patient communication, appointment scheduling, confirmations, rescheduling, internal tasks, and media processing by integrating **WhatsApp**, **Telegram**, **Google Calendar**, and **Google Tasks**, combined with **AI-powered agents** for maximum efficiency.\n\nThis system guarantees proactive communication with patients, streamlined internal clinic management, and consistent data synchronization across platforms.\n\n---\n\n## üåü Key Features\n- ü§ñ **AI-Powered Specialized Agents**:  \n  Distinct agents handle WhatsApp patient support, appointment confirmations, and internal rescheduling tasks.\n\n- üì± **Omnichannel Communication**:  \n  Handles patient interactions via WhatsApp and staff commands via Telegram.\n\n- üìÖ **Google Calendar Appointment Management**:  \n  Full synchronization for creating, updating, canceling, and confirming appointments.\n\n- üìã **Task Management with Google Tasks**:  \n  Manages shopping lists and administrative tasks efficiently through staff Telegram requests.\n\n- üîî **Automated Appointment Reminders**:  \n  Daily-triggered system proactively sends WhatsApp confirmations to patients for next-day appointments.\n\n- üñºÔ∏è **Intelligent Media Processing**:  \n  Transcribes audios, extracts text from images, and processes documents using OpenAI and OpenRouter AI models.\n\n- üõ°Ô∏è **Escalation to Human Support**:  \n  Automatically detects sensitive or urgent cases and escalates them to a human agent when needed.\n\n---\n\n## üè• Use Cases\n- **Patient Communication:**  \n  Respond to inquiries, schedule, reschedule, and confirm appointments seamlessly via WhatsApp.\n\n- **Internal Clinic Operations:**  \n  Allow staff to modify appointments or add shopping list reminders directly from Telegram.\n\n- **Appointment Confirmation System:**  \n  Automatically contacts patients one day prior to appointments for confirmation or rescheduling.\n\n- **Task and Reminder Management:**  \n  Keeps clinic operations organized through automatic task management with Google Tasks.\n\n---\n\n## üõ†Ô∏è Technical Implementation\n\n### WhatsApp Patient Interaction Flow\n- **Webhook Reception:** Incoming WhatsApp messages captured via Evolution API webhook.\n- **Message Classification:** Intelligent routing of messages based on content type (text, image, audio, document).\n- **Media Content Processing:**  \n  - **Audios:** Download, convert, and transcribe via OpenAI Whisper.  \n  - **Images:** Analyze and extract text/descriptions with OpenAI Vision model.\n- **Patient Request Handling:** Specialized WhatsApp assistant responds appropriately using AI prompts.\n- **Outbound Message Formatting:** Ensures messages comply with WhatsApp format standards.\n- **Message Delivery:** Sends responses back via Evolution API.\n\n### Telegram Staff Management Flow\n- **Telegram Webhook Reception:** Captures messages from authorized staff accounts.\n- **Internal Assistant Processing:**  \n  - **Appointment Rescheduling:** Identifies and updates appointments through MCP Google Calendar.  \n  - **Task Creation:** Adds new entries to the clinic's shopping list using Google Tasks.\n- **Notifications and Confirmations:** Sends confirmations back to staff through Telegram.\n\n### Appointment Reminder System\n- **Daily Trigger Activation:** Fires every weekday at 08:00 AM.\n- **Calendar Scraping:** Lists next day's appointments from Google Calendar.\n- **Patient Contact:** Sends WhatsApp confirmation messages for each appointment.\n- **Response Management:** Redirects confirmation or rescheduling replies to appropriate agents.\n\n---\n\n## ‚öôÔ∏è Setup Instructions\n\n1. **Import the Workflow**  \n   n8n ‚Üí Workflows ‚Üí Import from File ‚Üí Upload this JSON file.\n\n2. **Configure Credentials**  \n   - Evolution API (WhatsApp Communication)  \n   - Telegram Bot API (Staff Communication)  \n   - Google Calendar OAuth2 (Appointment Management)  \n   - Google Tasks OAuth2 (Task Management)  \n   - OpenAI and OpenRouter APIs (AI Agents)  \n   - PostgreSQL Database (Chat Memory)\n\n3. **Set Sensitive Variables**\n   - Replace placeholder values:\n     - `{sua inst√¢ncia aqui}` ‚Üí Evolution API instance name\n     - `{n√∫mero_whatsapp}` ‚Üí WhatsApp numbers\n     - `{url_do_servidor}` ‚Üí Server URLs\n     - `{a sua apikey aqui}` ‚Üí API keys\n     - `{seu_calendario}` ‚Üí Google Calendar ID\n\n4. **Customize AI Prompts**\n   - Adjust system prompts to fit your clinic‚Äôs tone, service style, and patient communication guidelines.\n   - Set clinic operating hours, escalation rules, and cancellation procedures in AI prompts.\n\n5. **Activate and Test**\n   - Simulate patient messages via WhatsApp.\n   - Test Telegram commands from staff members.\n   - Validate daily appointment reminders using the scheduled trigger.\n\n---\n\n## üè∑Ô∏è Tags\n`Healthcare` `Clinic Management` `WhatsApp Integration` `Telegram Bot` `Appointment Scheduling` `Google Calendar` `Google Tasks` `AI Agents` `n8n Automation`  \n\n---\n\n## üìö Technical Notes\n- PostgreSQL is used for persistent chat memory across sessions.\n- Multiple AI Models Used:\n  - **OpenAI GPT-4.1-nano**\n  - **OpenAI GPT-4.1-mini**\n  - **Google Gemini 2.0 and 2.5**\n- Full media content processing supported (audio, image, text).\n- Compliant escalation workflows ensure patient safety and proper handoff to human staff when necessary.\n- All sensitive patient data are securely stored inside calendar event descriptions for easy retrieval by agents.\n\n---\n\n## üìú License\nThis workflow is provided under the **MIT License**.  \nFeel free to adapt and customize it for your clinic‚Äôs specific needs.\n",
  "featuredImage": "/data/workflows/3694/3694.webp",
  "author": {
    "id": 101,
    "slug": "koresoluciones",
    "name": "Luciano Gutierrez",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 20842,
  "downloads": 2084,
  "createdAt": "2025-04-24T15:30:54.772Z",
  "updatedAt": "2026-01-16T08:31:07.657Z",
  "publishedAt": "2025-04-24T15:30:54.772Z",
  "nodes": 38,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3694",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Multi-Agent AI Clinic Management with WhatsApp, Telegram, and Google Calendar",
    "workflowName": "Multi-Agent AI Clinic Management with WhatsApp, Telegram, and Google Calendar",
    "description": "# Healthcare Clinic Assistant with WhatsApp and Telegram Integration\n**Version:** 1.1.0  \n**n8n Version:** 1.88.0+  \n**License:** MIT  \n\n---\n\n## üìã Description\nA **comprehensive and modular automation workflow** designed for healthcare clinics.  \nIt manages patient communication, appointment scheduling, confirmations, rescheduling, internal tasks, and media processing by integrating **WhatsApp**, **Telegram**, **Google Calendar**, and **Google Tasks**, combined with **AI-powered agents** for maximum efficiency.\n\nThis system guarantees proactive communication with patients, streamlined internal clinic management, and consistent data synchronization across platforms.\n\n---\n\n## üåü Key Features\n- ü§ñ **AI-Powered Specialized Agents**:  \n  Distinct agents handle WhatsApp patient support, appointment confirmations, and internal rescheduling tasks.\n\n- üì± **Omnichannel Communication**:  \n  Handles patient interactions via WhatsApp and staff commands via Telegram.\n\n- üìÖ **Google Calendar Appointment Management**:  \n  Full synchronization for creating, updating, canceling, and confirming appointments.\n\n- üìã **Task Management with Google Tasks**:  \n  Manages shopping lists and administrative tasks efficiently through staff Telegram requests.\n\n- üîî **Automated Appointment Reminders**:  \n  Daily-triggered system proactively sends WhatsApp confirmations to patients for next-day appointments.\n\n- üñºÔ∏è **Intelligent Media Processing**:  \n  Transcribes audios, extracts text from images, and processes documents using OpenAI and OpenRouter AI models.\n\n- üõ°Ô∏è **Escalation to Human Support**:  \n  Automatically detects sensitive or urgent cases and escalates them to a human agent when needed.\n\n---\n\n## üè• Use Cases\n- **Patient Communication:**  \n  Respond to inquiries, schedule, reschedule, and confirm appointments seamlessly via WhatsApp.\n\n- **Internal Clinic Operations:**  \n  Allow staff to modify appointments or add shopping list reminders directly from Telegram.\n\n- **Appointment Confirmation System:**  \n  Automatically contacts patients one day prior to appointments for confirmation or rescheduling.\n\n- **Task and Reminder Management:**  \n  Keeps clinic operations organized through automatic task management with Google Tasks.\n\n---\n\n## üõ†Ô∏è Technical Implementation\n\n### WhatsApp Patient Interaction Flow\n- **Webhook Reception:** Incoming WhatsApp messages captured via Evolution API webhook.\n- **Message Classification:** Intelligent routing of messages based on content type (text, image, audio, document).\n- **Media Content Processing:**  \n  - **Audios:** Download, convert, and transcribe via OpenAI Whisper.  \n  - **Images:** Analyze and extract text/descriptions with OpenAI Vision model.\n- **Patient Request Handling:** Specialized WhatsApp assistant responds appropriately using AI prompts.\n- **Outbound Message Formatting:** Ensures messages comply with WhatsApp format standards.\n- **Message Delivery:** Sends responses back via Evolution API.\n\n### Telegram Staff Management Flow\n- **Telegram Webhook Reception:** Captures messages from authorized staff accounts.\n- **Internal Assistant Processing:**  \n  - **Appointment Rescheduling:** Identifies and updates appointments through MCP Google Calendar.  \n  - **Task Creation:** Adds new entries to the clinic's shopping list using Google Tasks.\n- **Notifications and Confirmations:** Sends confirmations back to staff through Telegram.\n\n### Appointment Reminder System\n- **Daily Trigger Activation:** Fires every weekday at 08:00 AM.\n- **Calendar Scraping:** Lists next day's appointments from Google Calendar.\n- **Patient Contact:** Sends WhatsApp confirmation messages for each appointment.\n- **Response Management:** Redirects confirmation or rescheduling replies to appropriate agents.\n\n---\n\n## ‚öôÔ∏è Setup Instructions\n\n1. **Import the Workflow**  \n   n8n ‚Üí Workflows ‚Üí Import from File ‚Üí Upload this JSON file.\n\n2. **Configure Credentials**  \n   - Evolution API (WhatsApp Communication)  \n   - Telegram Bot API (Staff Communication)  \n   - Google Calendar OAuth2 (Appointment Management)  \n   - Google Tasks OAuth2 (Task Management)  \n   - OpenAI and OpenRouter APIs (AI Agents)  \n   - PostgreSQL Database (Chat Memory)\n\n3. **Set Sensitive Variables**\n   - Replace placeholder values:\n     - `{sua inst√¢ncia aqui}` ‚Üí Evolution API instance name\n     - `{n√∫mero_whatsapp}` ‚Üí WhatsApp numbers\n     - `{url_do_servidor}` ‚Üí Server URLs\n     - `{a sua apikey aqui}` ‚Üí API keys\n     - `{seu_calendario}` ‚Üí Google Calendar ID\n\n4. **Customize AI Prompts**\n   - Adjust system prompts to fit your clinic‚Äôs tone, service style, and patient communication guidelines.\n   - Set clinic operating hours, escalation rules, and cancellation procedures in AI prompts.\n\n5. **Activate and Test**\n   - Simulate patient messages via WhatsApp.\n   - Test Telegram commands from staff members.\n   - Validate daily appointment reminders using the scheduled trigger.\n\n---\n\n## üè∑Ô∏è Tags\n`Healthcare` `Clinic Management` `WhatsApp Integration` `Telegram Bot` `Appointment Scheduling` `Google Calendar` `Google Tasks` `AI Agents` `n8n Automation`  \n\n---\n\n## üìö Technical Notes\n- PostgreSQL is used for persistent chat memory across sessions.\n- Multiple AI Models Used:\n  - **OpenAI GPT-4.1-nano**\n  - **OpenAI GPT-4.1-mini**\n  - **Google Gemini 2.0 and 2.5**\n- Full media content processing supported (audio, image, text).\n- Compliant escalation workflows ensure patient safety and proper handoff to human staff when necessary.\n- All sensitive patient data are securely stored inside calendar event descriptions for easy retrieval by agents.\n\n---\n\n## üìú License\nThis workflow is provided under the **MIT License**.  \nFeel free to adapt and customize it for your clinic‚Äôs specific needs.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Assistente clinica interno",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Google Tasks",
      "type": "n8n-nodes-base.googleTasksTool",
      "role": "googleTasksTool",
      "configDescription": "Version 1"
    },
    {
      "name": "MCP Google Calendar",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Receber Mensagem Telegram",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Assistente Cl√≠nica",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Enviar alerta de cancelamento",
      "type": "n8n-nodes-base.telegramTool",
      "role": "telegramTool",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Gatilho di√°rio",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Assistente de confirma√ß√£o",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Postgres Chat Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "MCP Google Calendar2",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1"
    },
    {
      "name": "MCP GMAIL",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1"
    },
    {
      "name": "MCP CALENDAR",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "OpenRouter Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Webhook1",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Evolution API",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "role": "evolutionApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Convert to File",
      "type": "n8n-nodes-base.convertToFile",
      "role": "convertToFile",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "AI Agent2",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "OpenRouter Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Evolution API2",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "role": "evolutionApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "CallToHuman",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "role": "toolWorkflow",
      "configDescription": "Version 2.1"
    },
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "REMINDER",
      "type": "n8n-nodes-evolution-api.evolutionApi",
      "role": "evolutionApi",
      "configDescription": "Version 1"
    }
  ]
}