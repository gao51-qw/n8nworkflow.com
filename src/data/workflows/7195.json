{
  "id": 7195,
  "slug": "7195",
  "title": "AI lyrics study bot for Telegram — Translation, summary, vocabulary",
  "description": "## What this workflow is (About)\n\nThis workflow turns a Telegram bot into an **AI-powered lyrics assistant**. Users send a command plus a **lyrics URL**, and the flow **downloads, cleans, and analyzes** the text, then replies on Telegram with translated lyrics, summaries, vocabulary, poetic devices, or an interpretation—**all generated by AI (OpenAI)**.\n\n## What problems it solves\n\n* Centralizes **lyrics retrieval + cleanup + AI analysis** in one automated flow\n* Produces **study-ready outputs** (translation, vocabulary, figures of speech)\n* Saves time for **teachers, learners, and music enthusiasts** with instant results in chat\n\n## Key features\n\n* **AI analysis** using OpenAI (no secrets hardcoded; uses n8n Credentials)\n* **Line-by-line translation**, **concise summaries**, **vocabulary lists**\n* **Poetic/literary device detection** and **emotional/symbolic interpretation**\n* Robust **ETL** (extract, download, sanitize) and **error handling**\n* Clear **Sticky Notes** documenting routing, ETL, AI prompts, and messaging\n\n## Who it’s for\n\n* Language learners & teachers\n* Musicians, lyricists, and music bloggers\n* Anyone studying lyrics for meaning, style, or vocabulary\n\n## Input & output\n\n* **Input:** Telegram command with a public **lyrics URL**\n* **Output:** Telegram messages (Markdown/MarkdownV2), split into chunks if long\n\n## How it works\n\n* **Telegram → Webhook** receives a user message (e.g., `/get_lyrics &lt;URL&gt;`).\n* **Routing (If/Switch)** detects which command was sent.\n* **Extract URL + Download (HTTP Request)** fetches the lyrics page.\n* **Cleanup (Code)** strips HTML/scripts/styles and normalizes whitespace.\n* **OpenAI (Chat)** formats the result per command (translation, summary, vocabulary, analysis).\n* **Telegram (Send Message)** returns the final text; long outputs are split into chunks.\n* **Error handling** replies with friendly guidance for unsupported/incomplete commands.\n\n## Set up steps\n\n1. **Create a Telegram bot** with **@BotFather** and copy the bot token.\n2. In n8n, create **Credentials → Telegram API** and paste your token (no hardcoded keys in nodes).\n3. Create **Credentials → OpenAI** and paste your API key.\n4. **Import the workflow** and set a short webhook path (e.g., `/lyrics-bot`).\n5. **Publish** the webhook and set it on Telegram:\n\n   ```text\n   https://api.telegram.org/bot&lt;YOUR_BOT_TOKEN&gt;/setWebhook?url=https://[YOUR_DOMAIN]/webhook/lyrics-bot\n   ```\n6. (Optional) Restrict update types:\n\n   ```bash\n   curl -X POST https://api.telegram.org/bot&lt;YOUR_BOT_TOKEN&gt;/setWebhook \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n       \"url\": \"https://[YOUR_DOMAIN]/webhook/lyrics-bot\",\n       \"allowed_updates\": [\"message\"]\n     }'\n   ```\n7. **Test** by sending `/start` and then `/get_lyrics &lt;PUBLIC_URL&gt;` to your bot.\n8. If messages are long, ensure **MarkdownV2** is used and special characters are escaped.\n",
  "featuredImage": "/data/workflows/7195/7195.webp",
  "author": {
    "id": 101,
    "slug": "followdrabbit",
    "name": "Raphael De Carvalho Florencio",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 337,
  "downloads": 33,
  "createdAt": "2025-08-09T13:28:19.792Z",
  "updatedAt": "2026-01-16T08:48:58.774Z",
  "publishedAt": "2025-08-09T13:28:19.792Z",
  "nodes": 30,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7195",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "AI lyrics study bot for Telegram — Translation, summary, vocabulary",
    "workflowName": "AI lyrics study bot for Telegram — Translation, summary, vocabulary",
    "description": "## What this workflow is (About)\n\nThis workflow turns a Telegram bot into an **AI-powered lyrics assistant**. Users send a command plus a **lyrics URL**, and the flow **downloads, cleans, and analyzes** the text, then replies on Telegram with translated lyrics, summaries, vocabulary, poetic devices, or an interpretation—**all generated by AI (OpenAI)**.\n\n## What problems it solves\n\n* Centralizes **lyrics retrieval + cleanup + AI analysis** in one automated flow\n* Produces **study-ready outputs** (translation, vocabulary, figures of speech)\n* Saves time for **teachers, learners, and music enthusiasts** with instant results in chat\n\n## Key features\n\n* **AI analysis** using OpenAI (no secrets hardcoded; uses n8n Credentials)\n* **Line-by-line translation**, **concise summaries**, **vocabulary lists**\n* **Poetic/literary device detection** and **emotional/symbolic interpretation**\n* Robust **ETL** (extract, download, sanitize) and **error handling**\n* Clear **Sticky Notes** documenting routing, ETL, AI prompts, and messaging\n\n## Who it’s for\n\n* Language learners & teachers\n* Musicians, lyricists, and music bloggers\n* Anyone studying lyrics for meaning, style, or vocabulary\n\n## Input & output\n\n* **Input:** Telegram command with a public **lyrics URL**\n* **Output:** Telegram messages (Markdown/MarkdownV2), split into chunks if long\n\n## How it works\n\n* **Telegram → Webhook** receives a user message (e.g., `/get_lyrics &lt;URL&gt;`).\n* **Routing (If/Switch)** detects which command was sent.\n* **Extract URL + Download (HTTP Request)** fetches the lyrics page.\n* **Cleanup (Code)** strips HTML/scripts/styles and normalizes whitespace.\n* **OpenAI (Chat)** formats the result per command (translation, summary, vocabulary, analysis).\n* **Telegram (Send Message)** returns the final text; long outputs are split into chunks.\n* **Error handling** replies with friendly guidance for unsupported/incomplete commands.\n\n## Set up steps\n\n1. **Create a Telegram bot** with **@BotFather** and copy the bot token.\n2. In n8n, create **Credentials → Telegram API** and paste your token (no hardcoded keys in nodes).\n3. Create **Credentials → OpenAI** and paste your API key.\n4. **Import the workflow** and set a short webhook path (e.g., `/lyrics-bot`).\n5. **Publish** the webhook and set it on Telegram:\n\n   ```text\n   https://api.telegram.org/bot&lt;YOUR_BOT_TOKEN&gt;/setWebhook?url=https://[YOUR_DOMAIN]/webhook/lyrics-bot\n   ```\n6. (Optional) Restrict update types:\n\n   ```bash\n   curl -X POST https://api.telegram.org/bot&lt;YOUR_BOT_TOKEN&gt;/setWebhook \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\n       \"url\": \"https://[YOUR_DOMAIN]/webhook/lyrics-bot\",\n       \"allowed_updates\": [\"message\"]\n     }'\n   ```\n7. **Test** by sending `/start` and then `/get_lyrics &lt;PUBLIC_URL&gt;` to your bot.\n8. If messages are long, ensure **MarkdownV2** is used and special characters are escaped.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send error message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Webhook que recebe as mensagens",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Text reply",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "CleanUp",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Download_URL",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract_URL",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Settings",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 2"
    },
    {
      "name": "Message_Filter",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "/start",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "/get_lyrics",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "/interpret_lyrics",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "/study_lyrics",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "/summarize_lyrics",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "/vocabulary_lyrics",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "/lyrics_poetic_analysis",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Incomplete_Command",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}