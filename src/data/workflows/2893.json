{
  "id": 2893,
  "slug": "2893",
  "title": "Fetch dynamic prompts from GitHub and auto-populate n8n expressions in prompt",
  "description": "## **Who Is This For?**\n\nThis workflow is designed for **AI engineers, automation specialists, and content creators** who need a **scalable system** to dynamically manage prompts stored in GitHub. It eliminates manual updates, enforces required variable checks, and ensures that AI interactions always receive **fully processed** prompts.\n\n---\n\n## **üöÄ What Problem Does This Solve?**\n\nManually managing AI prompts can be inefficient and error-prone. This workflow:  \n‚úÖ **Fetches dynamic prompts from GitHub**  \n‚úÖ **Auto-populates placeholders with values from the `setVars` node**  \n‚úÖ **Ensures all required variables are present before execution**  \n‚úÖ **Processes the formatted prompt through an AI agent**\n\n---\n\n## **üõ† How This Workflow Works**\n\nThis workflow consists of **three key branches**, ensuring smooth prompt retrieval, variable validation, and AI processing.\n\n---\n\n### **1Ô∏è‚É£ Retrieve the Prompt from GitHub (HTTP Request ‚Üí Extract from File ‚Üí SetPrompt)**\n\n- The workflow starts manually or via an external trigger.\n- It **fetches a text-based prompt** stored in a GitHub repository.\n- The **Extract from File Node** retrieves the content from the GitHub file.\n- The **SetPrompt Node** stores the prompt, making it accessible for processing.\n\nüìå **Note:**  \nThe prompt must contain **n8n expression format variables** (e.g., `{{ $json.company }}`) so they can be dynamically replaced.\n\n---\n\n### **2Ô∏è‚É£ Extract & Auto-Populate Variables (Check All Prompt Vars ‚Üí Replace Variables)**\n\n- A **Code Node scans the prompt** for placeholders in the **n8n expression format** (`{{ $json.variableName }}`).\n- The workflow **compares required variables** against the `setVars` node:\n    - ‚úÖ **If all variables are present**, it proceeds to variable replacement.\n    - ‚ùå **If any variables are missing**, the workflow stops and returns an error listing them.\n- The **Replace Variables Node** replaces all placeholders with values from `setVars`.\n\nüìå **Example of a properly formatted GitHub prompt:**\n\n```\nHello {{ $json.company }}, your product {{ $json.features }} launches on {{ $json.launch_date }}.\n```\n\nThis ensures **seamless replacement when processed in n8n**.\n\n---\n\n### **3Ô∏è‚É£ AI Processing & Output (AI Agent ‚Üí Prompt Output)**\n\n- The **Set Completed Prompt Node** stores the final, processed prompt.\n- The **AI Agent Node** (Ollama Chat Model) processes the prompt.\n- The **Prompt Output Node** returns the **fully formatted response**.\n\nüìå **Optional:** Modify this to use OpenAI, Claude, or other AI models.\n\n---\n\n## **‚ö†Ô∏è Error Handling: Missing Variables**\n\nIf a required variable is missing, the workflow **stops execution** and provides an error message:\n\n```\n‚ö†Ô∏è Missing Required Variables: [\"launch_date\"]\n```\n\nThis ensures **no incomplete prompts are sent to AI agents**.\n\n---\n\n## **‚úÖ Example Use Case**\n\n### **üìú GitHub Prompt File (Using n8n Expressions)**\n\n```\nHello {{ $json.company }}, your product {{ $json.features }} launches on {{ $json.launch_date }}.\n```\n\n### **üîπ Variables in `setVars` Node**\n\n```json\n{\n  \"company\": \"PropTechPro\",\n  \"features\": \"AI-powered Property Management\",\n  \"launch_date\": \"March 15, 2025\"\n}\n```\n\n### **‚úÖ Successful Output**\n\n```\nHello PropTechPro, your product AI-powered Property Management launches on March 15, 2025.\n```\n\n### **üö® Error Output (If Missing `launch_date`)**\n\n```\n‚ö†Ô∏è Missing Required Variables: [\"launch_date\"]\n```\n\n---\n\n## **üîß Setup Instructions**\n\n### **1Ô∏è‚É£ Connect Your GitHub Repository**\n\n- Store your prompt in a **public or private GitHub repo**.\n- The workflow will fetch the raw file using the **GitHub API**.\n\n### **2Ô∏è‚É£ Configure the SetVars Node**\n\n- Define the required variables in the **SetVars Node**.\n- Make sure the variable names **match those used in the prompt**.\n\n### **3Ô∏è‚É£ Test & Run**\n\n- Click **Test Workflow** to execute.\n- If variables are missing, it will show an error.\n- If everything is correct, it will output the **fully formatted prompt**.\n\n---\n\n## **‚ö° How to Customize This Workflow**\n\nüí° **Need CRM or Database Integration?**\n\n- Connect the `setVars` node to an **Airtable, Google Sheets, or HubSpot API** to pull variables dynamically.\n\nüí° **Want to Modify the AI Model?**\n\n- Replace the **Ollama Chat Model** with OpenAI, Claude, or a custom LLM endpoint.\n\n---\n\n## **üìå Why Use This Workflow?**\n\n‚úÖ **No Manual Updates Required** ‚Äì Fetches prompts dynamically from GitHub.  \n‚úÖ **Prevents Broken Prompts** ‚Äì Ensures required variables exist before execution.  \n‚úÖ **Works for Any Use Case** ‚Äì Handles AI chat prompts, marketing messages, and chatbot scripts.  \n‚úÖ **Compatible with All n8n Deployments** ‚Äì Works on **Cloud, Self-Hosted, and Desktop versions**.",
  "featuredImage": "/data/workflows/2893/2893.webp",
  "author": {
    "id": 101,
    "slug": "joeperes",
    "name": "RealSimple Solutions",
    "avatar": ""
  },
  "categories": [
    "Engineering",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 3553,
  "downloads": 355,
  "createdAt": "2025-02-12T20:03:29.866Z",
  "updatedAt": "2026-01-16T08:27:04.259Z",
  "publishedAt": "2025-02-12T20:03:29.866Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2893",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Fetch dynamic prompts from GitHub and auto-populate n8n expressions in prompt",
    "workflowName": "Fetch dynamic prompts from GitHub and auto-populate n8n expressions in prompt",
    "description": "## **Who Is This For?**\n\nThis workflow is designed for **AI engineers, automation specialists, and content creators** who need a **scalable system** to dynamically manage prompts stored in GitHub. It eliminates manual updates, enforces required variable checks, and ensures that AI interactions always receive **fully processed** prompts.\n\n---\n\n## **üöÄ What Problem Does This Solve?**\n\nManually managing AI prompts can be inefficient and error-prone. This workflow:  \n‚úÖ **Fetches dynamic prompts from GitHub**  \n‚úÖ **Auto-populates placeholders with values from the `setVars` node**  \n‚úÖ **Ensures all required variables are present before execution**  \n‚úÖ **Processes the formatted prompt through an AI agent**\n\n---\n\n## **üõ† How This Workflow Works**\n\nThis workflow consists of **three key branches**, ensuring smooth prompt retrieval, variable validation, and AI processing.\n\n---\n\n### **1Ô∏è‚É£ Retrieve the Prompt from GitHub (HTTP Request ‚Üí Extract from File ‚Üí SetPrompt)**\n\n- The workflow starts manually or via an external trigger.\n- It **fetches a text-based prompt** stored in a GitHub repository.\n- The **Extract from File Node** retrieves the content from the GitHub file.\n- The **SetPrompt Node** stores the prompt, making it accessible for processing.\n\nüìå **Note:**  \nThe prompt must contain **n8n expression format variables** (e.g., `{{ $json.company }}`) so they can be dynamically replaced.\n\n---\n\n### **2Ô∏è‚É£ Extract & Auto-Populate Variables (Check All Prompt Vars ‚Üí Replace Variables)**\n\n- A **Code Node scans the prompt** for placeholders in the **n8n expression format** (`{{ $json.variableName }}`).\n- The workflow **compares required variables** against the `setVars` node:\n    - ‚úÖ **If all variables are present**, it proceeds to variable replacement.\n    - ‚ùå **If any variables are missing**, the workflow stops and returns an error listing them.\n- The **Replace Variables Node** replaces all placeholders with values from `setVars`.\n\nüìå **Example of a properly formatted GitHub prompt:**\n\n```\nHello {{ $json.company }}, your product {{ $json.features }} launches on {{ $json.launch_date }}.\n```\n\nThis ensures **seamless replacement when processed in n8n**.\n\n---\n\n### **3Ô∏è‚É£ AI Processing & Output (AI Agent ‚Üí Prompt Output)**\n\n- The **Set Completed Prompt Node** stores the final, processed prompt.\n- The **AI Agent Node** (Ollama Chat Model) processes the prompt.\n- The **Prompt Output Node** returns the **fully formatted response**.\n\nüìå **Optional:** Modify this to use OpenAI, Claude, or other AI models.\n\n---\n\n## **‚ö†Ô∏è Error Handling: Missing Variables**\n\nIf a required variable is missing, the workflow **stops execution** and provides an error message:\n\n```\n‚ö†Ô∏è Missing Required Variables: [\"launch_date\"]\n```\n\nThis ensures **no incomplete prompts are sent to AI agents**.\n\n---\n\n## **‚úÖ Example Use Case**\n\n### **üìú GitHub Prompt File (Using n8n Expressions)**\n\n```\nHello {{ $json.company }}, your product {{ $json.features }} launches on {{ $json.launch_date }}.\n```\n\n### **üîπ Variables in `setVars` Node**\n\n```json\n{\n  \"company\": \"PropTechPro\",\n  \"features\": \"AI-powered Property Management\",\n  \"launch_date\": \"March 15, 2025\"\n}\n```\n\n### **‚úÖ Successful Output**\n\n```\nHello PropTechPro, your product AI-powered Property Management launches on March 15, 2025.\n```\n\n### **üö® Error Output (If Missing `launch_date`)**\n\n```\n‚ö†Ô∏è Missing Required Variables: [\"launch_date\"]\n```\n\n---\n\n## **üîß Setup Instructions**\n\n### **1Ô∏è‚É£ Connect Your GitHub Repository**\n\n- Store your prompt in a **public or private GitHub repo**.\n- The workflow will fetch the raw file using the **GitHub API**.\n\n### **2Ô∏è‚É£ Configure the SetVars Node**\n\n- Define the required variables in the **SetVars Node**.\n- Make sure the variable names **match those used in the prompt**.\n\n### **3Ô∏è‚É£ Test & Run**\n\n- Click **Test Workflow** to execute.\n- If variables are missing, it will show an error.\n- If everything is correct, it will output the **fully formatted prompt**.\n\n---\n\n## **‚ö° How to Customize This Workflow**\n\nüí° **Need CRM or Database Integration?**\n\n- Connect the `setVars` node to an **Airtable, Google Sheets, or HubSpot API** to pull variables dynamically.\n\nüí° **Want to Modify the AI Model?**\n\n- Replace the **Ollama Chat Model** with OpenAI, Claude, or a custom LLM endpoint.\n\n---\n\n## **üìå Why Use This Workflow?**\n\n‚úÖ **No Manual Updates Required** ‚Äì Fetches prompts dynamically from GitHub.  \n‚úÖ **Prevents Broken Prompts** ‚Äì Ensures required variables exist before execution.  \n‚úÖ **Works for Any Use Case** ‚Äì Handles AI chat prompts, marketing messages, and chatbot scripts.  \n‚úÖ **Compatible with All n8n Deployments** ‚Äì Works on **Cloud, Self-Hosted, and Desktop versions**.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‚ÄòTest workflow‚Äô",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "GitHub",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "setVars",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "replace variables",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Check All Prompt Vars Present",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "SetPrompt",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Stop and Error",
      "type": "n8n-nodes-base.stopAndError",
      "role": "stopAndError",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Completed Prompt",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Prompt Output",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Ollama Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "role": "lmChatOllama",
      "configDescription": "Version 1"
    }
  ]
}