{
  "id": 9616,
  "slug": "9616",
  "title": "Classify YouTube videos & generate email summaries with GPT-4 and Gmail",
  "description": "# Classify YouTube Trends and Generate Email Summaries with GPT-4 and Gmail\n\n![YouTube Trend Detector](https://img.shields.io/badge/Template-YouTube_Trend_Detector-blue?logo=n8n)\n![YouTube](https://img.shields.io/badge/YouTube-FF0000?logo=youtube&logoColor=white)\n![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4-black?logo=openai)\n![n8n](https://img.shields.io/badge/Workflow-n8n-12BEB4?logo=n8n&logoColor=white)\n![Gmail](https://img.shields.io/badge/Email-Gmail_OAuth2-D14836?logo=gmail&logoColor=white)\n![SMTP](https://img.shields.io/badge/Email-SMTP-6E6E6E)\n\nMonitor YouTube channels, fetch stats, classify videos as viral (‚â• 1000 likes) or normal, and auto‚Äëgenerate LinkedIn/email summaries with GPT‚Äë4. Deliver via Gmail or SMTP. Clear node names, examples, and auditable fields.\n\n---\n\n## üéØ Overview\nThis template monitors YouTube channels via **RSS** or the **YouTube Data API**, retrieves video stats, classifies each video as **viral** (‚â• 1000 likes) or **normal**, and produces concise LinkedIn/email summaries with **OpenAI (GPT‚Äë4 family)**. It can send a compact weekly briefing via **Gmail (OAuth2)** or **SMTP**. Built for creators, marketing teams, and agencies who want automated trend alerts and ready‚Äëto‚Äëuse content.\n\n<a href=\"https://postimg.cc/cKsrVC7x\" target=\"_blank\"><img src=\"https://i.postimg.cc/cKsrVC7x/Screenshot-2025-10-16-085219.png\" alt=\"Screenshot-2025-10-16-085219\" /></a>\n\nThis screenshot shows the Gmail-ready weekly briefing generated by the **Generate Weekly Briefing (HTML)** node in my YouTube Trend Detector workflow, confirming the end-to-end pipeline: RSS/API ‚Üí stats ‚Üí like-based classification (‚â• 1000 = viral) ‚Üí LLM summaries ‚Üí HTML email.\n\n\n\n---\n\n## üß≠ How It Works (Node Map)\n1. **Manual Run** ‚Äì ad‚Äëhoc execution  \n2. **Set Channel IDs** ‚Äì provide one or more YouTube `channelId` values  \n3. **Split Channels** ‚Äì process channels one by one  \n4. **Fetch Latest Videos (RSS)** ‚Äì pull recent uploads via channel RSS  \n5. **Filter: Published in Last 72h** ‚Äì only recent items are kept  \n6. **Get Video Stats (YouTube API)** ‚Äì request `snippet,statistics` for likes and details  \n7. **Classify by Likes (Code)** ‚Äì sets `classification` to `viral` or `normal`  \n8. **Branch: Normal / Branch: Viral** ‚Äì separate LLM prompts per relevance  \n9. **Write Post (Normal / Viral)** ‚Äì generate LinkedIn‚Äëstyle notes via OpenAI  \n10. **Aggregate Posts for Briefing** ‚Äì merge all texts into one block  \n11. **Generate Weekly Briefing (HTML)** ‚Äì produce a Gmail‚Äërobust HTML email via GPT  \n12. **Send Weekly Briefing (Gmail/SMTP)** ‚Äì deliver briefing (you set recipients)\n\n---\n\n## ‚öôÔ∏è Quick Start (‚âà 3 minutes)\n1. **Import** the sanitized JSON into n8n (Menu ‚Üí Import).  \n2. **Create credentials** (use exact names):  \n   - `YouTube_API_Key` ‚Äî Generic credential (field: `apiKey`)  \n   - `OpenAi account` ‚Äî OpenAI API Key  \n   - `Gmail account` (OAuth2) **or** `SMTP_Default` (SMTP)  \n3. **Configure channels:** In **Set Channel IDs**, list your YouTube `channelId` values (e.g., `UC‚Ä¶`).  \n4. **Set recipients:** In **Send Weekly Briefing**, add your target email(s).  \n5. **Test:** Run **Execute Workflow** and review outputs from the LLM and send nodes.\n\n---\n\n## üîë Required Credentials\n- **YouTube_API_Key** ‚Äî YouTube Data API v3 key (field `apiKey`)  \n- **OpenAi account** ‚Äî OpenAI API key for LLM nodes  \n- **Gmail account** (OAuth2, recommended) **or** **SMTP_Default** (server/port/TLS + app password if 2FA)\n\n---\n\n## üß© Key Parameters & Adjustments\n- **Viral threshold:** In `Classify by Likes (Code)` ‚Üí `const THRESHOLD = 1000;`  \n- **YouTube API parts:** Use `part=snippet,statistics` to obtain `likeCount`  \n- **Time window:** The filter keeps videos from the **last 72 hours**\n\n---\n\n## üß™ Troubleshooting\n- **Missing `likeCount` / `classification = \"unknown\"`** ‚Üí ensure `part=statistics` and a valid API key credential.  \n- **Gmail OAuth `redirect_mismatch` / `access_denied`** ‚Üí redirect must be `https://&lt;your-n8n-host&gt;/rest/oauth2-credential/callback` and test users added if restricted.  \n- **SMTP auth issues** ‚Üí set correct server/port/TLS and use an app password when 2FA is enabled.  \n- **Empty LLM output** ‚Üí verify OpenAI key/quota and inspect node logs.\n\n---\n\n## üßæ Example Outputs\n\n**1) Classification (single video)**\n```json\n{\n  \"videoId\": \"abc123XYZ\",\n  \"title\": \"How to Ship an n8n Workflow with OpenAI\",\n  \"likeCount\": 1587,\n  \"classification\": \"viral\",\n  \"needsStatsFetch\": false\n}\n```\n\n**2) LinkedIn draft (viral)**\n```\nDid you know how much faster prompt workflows get with structured inputs?\n‚Ä¢ Setup: n8n + YouTube API + OpenAI for auto-briefs\n‚Ä¢ Tip: include `part=statistics` for reliable like counts\nUseful for teams tracking trending how-to content.\nWhat‚Äôs your best ‚Äúviral‚Äù signal besides likes?\n#n8n #YouTubeAPI #OpenAI #Automation #Growth\n```\n\n**3) Plain‚Äëtext email preview**\n```\nSubject: Weekly AI Briefing ‚Äî YouTube Trend Highlights\n\nHi team,\nHighlights from our tracked channels:\n‚Ä¢ Viral: ‚ÄúHow to Ship an n8n Workflow with OpenAI‚Äù (1.6k likes)\n‚Ä¢ Normal: ‚ÄúRSS vs API: What‚Äôs Best for Monitoring?‚Äù\nGenerated via n8n + GPT‚Äë4.\n```\n\n---\n\n## ‚úÖ Submission Checklist (meets the guidelines)\n- **Title clarity:** Mentions **GPT‚Äë4** and **Gmail**  \n- **Language:** Entire document in **English**  \n- **Node naming:** Descriptive, non‚Äëgeneric labels  \n- **HTML ‚Üí Markdown:** No HTML in this description; badges are **Markdown images**  \n- **Examples:** Included (JSON, LinkedIn draft, email)  \n- **Security:** No secrets in JSON; uses credentials by name\n\n---\n\n## üì∏ Suggested Screenshots (optional)\n1. Full canvas overview (entire workflow)  \n2. LLM output (expanded) showing generated summary  \n3. Send‚Äënode result with messageId/status  \n4. Optional: aggregated briefing preview\n\n---\n\n## üìú License & Support\n**License:** MIT  \n**Support/Contact:** kaihoelters@yahoo.de\n",
  "featuredImage": "/data/workflows/9616/9616.webp",
  "author": {
    "id": 101,
    "slug": "ezn8n",
    "name": "Kai H√∂lters ",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 61,
  "downloads": 6,
  "createdAt": "2025-10-14T11:18:44.202Z",
  "updatedAt": "2026-01-16T09:01:15.347Z",
  "publishedAt": "2025-10-14T11:18:44.202Z",
  "nodes": 22,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9616",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Classify YouTube videos & generate email summaries with GPT-4 and Gmail",
    "workflowName": "Classify YouTube videos & generate email summaries with GPT-4 and Gmail",
    "description": "# Classify YouTube Trends and Generate Email Summaries with GPT-4 and Gmail\n\n![YouTube Trend Detector](https://img.shields.io/badge/Template-YouTube_Trend_Detector-blue?logo=n8n)\n![YouTube](https://img.shields.io/badge/YouTube-FF0000?logo=youtube&logoColor=white)\n![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4-black?logo=openai)\n![n8n](https://img.shields.io/badge/Workflow-n8n-12BEB4?logo=n8n&logoColor=white)\n![Gmail](https://img.shields.io/badge/Email-Gmail_OAuth2-D14836?logo=gmail&logoColor=white)\n![SMTP](https://img.shields.io/badge/Email-SMTP-6E6E6E)\n\nMonitor YouTube channels, fetch stats, classify videos as viral (‚â• 1000 likes) or normal, and auto‚Äëgenerate LinkedIn/email summaries with GPT‚Äë4. Deliver via Gmail or SMTP. Clear node names, examples, and auditable fields.\n\n---\n\n## üéØ Overview\nThis template monitors YouTube channels via **RSS** or the **YouTube Data API**, retrieves video stats, classifies each video as **viral** (‚â• 1000 likes) or **normal**, and produces concise LinkedIn/email summaries with **OpenAI (GPT‚Äë4 family)**. It can send a compact weekly briefing via **Gmail (OAuth2)** or **SMTP**. Built for creators, marketing teams, and agencies who want automated trend alerts and ready‚Äëto‚Äëuse content.\n\n<a href=\"https://postimg.cc/cKsrVC7x\" target=\"_blank\"><img src=\"https://i.postimg.cc/cKsrVC7x/Screenshot-2025-10-16-085219.png\" alt=\"Screenshot-2025-10-16-085219\" /></a>\n\nThis screenshot shows the Gmail-ready weekly briefing generated by the **Generate Weekly Briefing (HTML)** node in my YouTube Trend Detector workflow, confirming the end-to-end pipeline: RSS/API ‚Üí stats ‚Üí like-based classification (‚â• 1000 = viral) ‚Üí LLM summaries ‚Üí HTML email.\n\n\n\n---\n\n## üß≠ How It Works (Node Map)\n1. **Manual Run** ‚Äì ad‚Äëhoc execution  \n2. **Set Channel IDs** ‚Äì provide one or more YouTube `channelId` values  \n3. **Split Channels** ‚Äì process channels one by one  \n4. **Fetch Latest Videos (RSS)** ‚Äì pull recent uploads via channel RSS  \n5. **Filter: Published in Last 72h** ‚Äì only recent items are kept  \n6. **Get Video Stats (YouTube API)** ‚Äì request `snippet,statistics` for likes and details  \n7. **Classify by Likes (Code)** ‚Äì sets `classification` to `viral` or `normal`  \n8. **Branch: Normal / Branch: Viral** ‚Äì separate LLM prompts per relevance  \n9. **Write Post (Normal / Viral)** ‚Äì generate LinkedIn‚Äëstyle notes via OpenAI  \n10. **Aggregate Posts for Briefing** ‚Äì merge all texts into one block  \n11. **Generate Weekly Briefing (HTML)** ‚Äì produce a Gmail‚Äërobust HTML email via GPT  \n12. **Send Weekly Briefing (Gmail/SMTP)** ‚Äì deliver briefing (you set recipients)\n\n---\n\n## ‚öôÔ∏è Quick Start (‚âà 3 minutes)\n1. **Import** the sanitized JSON into n8n (Menu ‚Üí Import).  \n2. **Create credentials** (use exact names):  \n   - `YouTube_API_Key` ‚Äî Generic credential (field: `apiKey`)  \n   - `OpenAi account` ‚Äî OpenAI API Key  \n   - `Gmail account` (OAuth2) **or** `SMTP_Default` (SMTP)  \n3. **Configure channels:** In **Set Channel IDs**, list your YouTube `channelId` values (e.g., `UC‚Ä¶`).  \n4. **Set recipients:** In **Send Weekly Briefing**, add your target email(s).  \n5. **Test:** Run **Execute Workflow** and review outputs from the LLM and send nodes.\n\n---\n\n## üîë Required Credentials\n- **YouTube_API_Key** ‚Äî YouTube Data API v3 key (field `apiKey`)  \n- **OpenAi account** ‚Äî OpenAI API key for LLM nodes  \n- **Gmail account** (OAuth2, recommended) **or** **SMTP_Default** (server/port/TLS + app password if 2FA)\n\n---\n\n## üß© Key Parameters & Adjustments\n- **Viral threshold:** In `Classify by Likes (Code)` ‚Üí `const THRESHOLD = 1000;`  \n- **YouTube API parts:** Use `part=snippet,statistics` to obtain `likeCount`  \n- **Time window:** The filter keeps videos from the **last 72 hours**\n\n---\n\n## üß™ Troubleshooting\n- **Missing `likeCount` / `classification = \"unknown\"`** ‚Üí ensure `part=statistics` and a valid API key credential.  \n- **Gmail OAuth `redirect_mismatch` / `access_denied`** ‚Üí redirect must be `https://&lt;your-n8n-host&gt;/rest/oauth2-credential/callback` and test users added if restricted.  \n- **SMTP auth issues** ‚Üí set correct server/port/TLS and use an app password when 2FA is enabled.  \n- **Empty LLM output** ‚Üí verify OpenAI key/quota and inspect node logs.\n\n---\n\n## üßæ Example Outputs\n\n**1) Classification (single video)**\n```json\n{\n  \"videoId\": \"abc123XYZ\",\n  \"title\": \"How to Ship an n8n Workflow with OpenAI\",\n  \"likeCount\": 1587,\n  \"classification\": \"viral\",\n  \"needsStatsFetch\": false\n}\n```\n\n**2) LinkedIn draft (viral)**\n```\nDid you know how much faster prompt workflows get with structured inputs?\n‚Ä¢ Setup: n8n + YouTube API + OpenAI for auto-briefs\n‚Ä¢ Tip: include `part=statistics` for reliable like counts\nUseful for teams tracking trending how-to content.\nWhat‚Äôs your best ‚Äúviral‚Äù signal besides likes?\n#n8n #YouTubeAPI #OpenAI #Automation #Growth\n```\n\n**3) Plain‚Äëtext email preview**\n```\nSubject: Weekly AI Briefing ‚Äî YouTube Trend Highlights\n\nHi team,\nHighlights from our tracked channels:\n‚Ä¢ Viral: ‚ÄúHow to Ship an n8n Workflow with OpenAI‚Äù (1.6k likes)\n‚Ä¢ Normal: ‚ÄúRSS vs API: What‚Äôs Best for Monitoring?‚Äù\nGenerated via n8n + GPT‚Äë4.\n```\n\n---\n\n## ‚úÖ Submission Checklist (meets the guidelines)\n- **Title clarity:** Mentions **GPT‚Äë4** and **Gmail**  \n- **Language:** Entire document in **English**  \n- **Node naming:** Descriptive, non‚Äëgeneric labels  \n- **HTML ‚Üí Markdown:** No HTML in this description; badges are **Markdown images**  \n- **Examples:** Included (JSON, LinkedIn draft, email)  \n- **Security:** No secrets in JSON; uses credentials by name\n\n---\n\n## üì∏ Suggested Screenshots (optional)\n1. Full canvas overview (entire workflow)  \n2. LLM output (expanded) showing generated summary  \n3. Send‚Äënode result with messageId/status  \n4. Optional: aggregated briefing preview\n\n---\n\n## üìú License & Support\n**License:** MIT  \n**Support/Contact:** kaihoelters@yahoo.de",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Manual Run",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Channel IDs",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: API Key",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Threshold",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: OpenAI",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Email",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Channel IDs",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Split Channels",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Latest Videos (RSS)",
      "type": "n8n-nodes-base.rssFeedRead",
      "role": "rssFeedRead",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Filter: Published in Last 72h",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get Video Stats (YouTube API)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Classify by Likes (Code)",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Branch: Normal",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Branch: Viral",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Write Post (Normal)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Write Post (Viral)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Aggregate Posts for Briefing",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Generate Weekly Briefing (HTML)",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Send Weekly Briefing (Gmail)",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Note: Setup",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: YouTube API",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Logic",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}