{
  "id": 10271,
  "slug": "10271",
  "title": "Send weekly hiring manager reports with BreezyHR data to email",
  "description": "# Weekly hiring‑manager snapshot from Breezy HR to email (pipeline, next‑week interviews, stuck)\n\nThis workflow sends each **hiring manager** a single weekly email with an overview of their open roles: **pipeline totals**, a **per‑position** summary, **interviews scheduled next week** and **stuck candidates** (no movement ≥ 7 days). It queries **Breezy HR** using your API token, detects the HM via each position’s **team** (falling back to a simple map when unavailable), aggregates results and emails one digest per HM. The job runs **Mondays at 07:30 Asia/Kolkata**, includes a **DRY_RUN** preview and rate‑limits sends.\n\n## Who’s it for\n- Hiring managers who want a **once‑a‑week** snapshot instead of many separate updates. \n- Talent/recruiting teams using **Breezy HR** who need **pipeline hygiene** and **next‑week readiness** at a glance. \n- Ops partners who prefer a standardized email with HTML tables and a text fallback.\n\n## How it works\n1. **Cron (Mon 07:30 IST)** triggers weekly. \n2. **Breezy → Positions**: Fetch open positions (configurable). \n3. **Find HM**: For each position, read the **position team** and look for a member with a “hiring manager” role; if none, use the **fallback map**. \n4. **Candidates per position**: Fetch candidates, compute **stage counts** and mark **stuck** where last activity ≥ `STUCK_AFTER_DAYS`. \n5. **Events per position**: Fetch events and keep those that look like **interviews** scheduled **next calendar week**. \n6. **Aggregate** per position → **Group** by hiring manager → **Build** one HTML digest per HM. \n7. **DRY_RUN?** If true, output a preview only; otherwise **send emails** with a small delay between each.\n\n## How to set up\n1. **Credentials in n8n**\n   - **HTTP Header Auth** for Breezy HR: set `Authorization: Bearer &lt;YOUR_TOKEN&gt;` in a credential (don’t hardcode in the node). \n   - **SMTP (Gmail)** to send digests.\n2. **Open “Set: Config”** (single place to edit)\n   - `BREEZY_API_BASE` = `https://api.breezy.hr/v3` \n   - `COMPANY_ID` = your Breezy company ID \n   - `TIMEZONE` = `Asia/Kolkata` \n   - `INCLUDE_ONLY_OPEN` = `true` (use `STATE_FILTER` = `open`) \n   - `USE_BREEZY_HM_DETECTION` = `true` \n   - `HM_FALLBACK_MAP_JSON` = e.g., `{ \"Default\": \"hm@example.com\", \"Java TL\": \"javatl@company.com\" }` \n   - `STUCK_AFTER_DAYS` = `7` \n   - `INTERVIEW_EVENT_KEYWORDS_CSV` = `interview` \n   - `SMTP_FROM` = sender address \n   - `SUBJECT_TEMPLATE` = `Weekly HM snapshot {{range}} — {{positions_count}} roles, {{candidates_count}} candidates` \n   - `INTRO_TEMPLATE` / `OUTRO_TEMPLATE` \n   - `DRY_RUN` = `false` (set `true` to preview) \n   - `RATE_LIMIT_EMAIL_SECONDS` = `5`\n3. **Activate** the workflow.\n\n## Requirements\n- Breezy HR API token with access to positions, teams, candidates and events. \n- SMTP (Gmail) account to send emails. \n- n8n (cloud or self‑hosted) with HTTP Header Auth and SMTP credentials.\n\n## How to customize\n- **Schedule:** Change Cron to your preferred day/time. \n- **Scope:** Set `INCLUDE_ONLY_OPEN=false` to include other position states. \n- **Interview detection:** Edit `INTERVIEW_EVENT_KEYWORDS_CSV` to match your account’s event labels. \n- **Stuck threshold:** Adjust `STUCK_AFTER_DAYS` (e.g., 10 or 14). \n- **Templates:** Update `SUBJECT_TEMPLATE`, `INTRO_TEMPLATE`, `OUTRO_TEMPLATE`. \n- **Fallback mapping:** Expand `HM_FALLBACK_MAP_JSON` for positions lacking team data.\n\n## Add‑ons\n- **Slack delivery:** Post a weekly summary to a channel or DM the HM alongside the email. \n- **CSV attachments:** Attach per‑HM CSV of positions/candidates for offline work. \n- **Manager CC:** CC a recruiting lead or HRBP for visibility on key roles. \n- **Writeback:** Log weekly metrics to **Google Sheets** for dashboards. \n- **Custom windows:** Use a different future window (e.g., interviews in the next 2 weeks).\n\n## Use Case Examples\n- **Busy HMs** who want one email showing **where to focus** for the coming week. \n- **Recruiting Ops** keeping tabs on **pipeline health** and stalled candidates. \n- **Leadership reviews** where weekly snapshots feed into Monday stand‑ups.\n\n## Common troubleshooting\n| Issue | Possible Cause | Solution |\n|---|---|---|\n| No emails sent | `DRY_RUN=true` | Set `DRY_RUN=false` to send. |\n| Missing HM recipients | Team endpoint returned no “hiring manager” and fallback map not configured | Add position→email in `HM_FALLBACK_MAP_JSON` (or set a better default). |\n| Interviews list is empty | Different event label in your Breezy account | Add your labels to `INTERVIEW_EVENT_KEYWORDS_CSV` (comma‑separated). |\n| Stuck candidates not flagged | Threshold too high or activity timestamps missing | Lower `STUCK_AFTER_DAYS` or verify candidate activity data. |\n| API errors | Bad token or insufficient scopes | Recreate the Breezy credential with a valid Bearer token. |\n| Emails fail to send | SMTP auth/quota issues | Check SMTP credentials/from‑address permissions and provider limits. |\n\n## Need Help?\nIf you’d like help tuning the interview filters, changing the grouping logic, or adding Slack/CSV writebacks, feel free to reach out our n8n experts at WeblineIndia. We'll be happy to help you tailor this to your stack.",
  "featuredImage": "/data/workflows/10271/10271.webp",
  "author": {
    "id": 101,
    "slug": "weblineindia",
    "name": "WeblineIndia",
    "avatar": ""
  },
  "categories": [
    "HR"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 10,
  "downloads": 1,
  "createdAt": "2025-10-29T12:39:54.932Z",
  "updatedAt": "2026-01-16T09:04:13.696Z",
  "publishedAt": "2025-10-29T12:39:54.932Z",
  "nodes": 12,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10271",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Send weekly hiring manager reports with BreezyHR data to email",
    "workflowName": "Send weekly hiring manager reports with BreezyHR data to email",
    "description": "# Weekly hiring‑manager snapshot from Breezy HR to email (pipeline, next‑week interviews, stuck)\n\nThis workflow sends each **hiring manager** a single weekly email with an overview of their open roles: **pipeline totals**, a **per‑position** summary, **interviews scheduled next week** and **stuck candidates** (no movement ≥ 7 days). It queries **Breezy HR** using your API token, detects the HM via each position’s **team** (falling back to a simple map when unavailable), aggregates results and emails one digest per HM. The job runs **Mondays at 07:30 Asia/Kolkata**, includes a **DRY_RUN** preview and rate‑limits sends.\n\n## Who’s it for\n- Hiring managers who want a **once‑a‑week** snapshot instead of many separate updates. \n- Talent/recruiting teams using **Breezy HR** who need **pipeline hygiene** and **next‑week readiness** at a glance. \n- Ops partners who prefer a standardized email with HTML tables and a text fallback.\n\n## How it works\n1. **Cron (Mon 07:30 IST)** triggers weekly. \n2. **Breezy → Positions**: Fetch open positions (configurable). \n3. **Find HM**: For each position, read the **position team** and look for a member with a “hiring manager” role; if none, use the **fallback map**. \n4. **Candidates per position**: Fetch candidates, compute **stage counts** and mark **stuck** where last activity ≥ `STUCK_AFTER_DAYS`. \n5. **Events per position**: Fetch events and keep those that look like **interviews** scheduled **next calendar week**. \n6. **Aggregate** per position → **Group** by hiring manager → **Build** one HTML digest per HM. \n7. **DRY_RUN?** If true, output a preview only; otherwise **send emails** with a small delay between each.\n\n## How to set up\n1. **Credentials in n8n**\n   - **HTTP Header Auth** for Breezy HR: set `Authorization: Bearer &lt;YOUR_TOKEN&gt;` in a credential (don’t hardcode in the node). \n   - **SMTP (Gmail)** to send digests.\n2. **Open “Set: Config”** (single place to edit)\n   - `BREEZY_API_BASE` = `https://api.breezy.hr/v3` \n   - `COMPANY_ID` = your Breezy company ID \n   - `TIMEZONE` = `Asia/Kolkata` \n   - `INCLUDE_ONLY_OPEN` = `true` (use `STATE_FILTER` = `open`) \n   - `USE_BREEZY_HM_DETECTION` = `true` \n   - `HM_FALLBACK_MAP_JSON` = e.g., `{ \"Default\": \"hm@example.com\", \"Java TL\": \"javatl@company.com\" }` \n   - `STUCK_AFTER_DAYS` = `7` \n   - `INTERVIEW_EVENT_KEYWORDS_CSV` = `interview` \n   - `SMTP_FROM` = sender address \n   - `SUBJECT_TEMPLATE` = `Weekly HM snapshot {{range}} — {{positions_count}} roles, {{candidates_count}} candidates` \n   - `INTRO_TEMPLATE` / `OUTRO_TEMPLATE` \n   - `DRY_RUN` = `false` (set `true` to preview) \n   - `RATE_LIMIT_EMAIL_SECONDS` = `5`\n3. **Activate** the workflow.\n\n## Requirements\n- Breezy HR API token with access to positions, teams, candidates and events. \n- SMTP (Gmail) account to send emails. \n- n8n (cloud or self‑hosted) with HTTP Header Auth and SMTP credentials.\n\n## How to customize\n- **Schedule:** Change Cron to your preferred day/time. \n- **Scope:** Set `INCLUDE_ONLY_OPEN=false` to include other position states. \n- **Interview detection:** Edit `INTERVIEW_EVENT_KEYWORDS_CSV` to match your account’s event labels. \n- **Stuck threshold:** Adjust `STUCK_AFTER_DAYS` (e.g., 10 or 14). \n- **Templates:** Update `SUBJECT_TEMPLATE`, `INTRO_TEMPLATE`, `OUTRO_TEMPLATE`. \n- **Fallback mapping:** Expand `HM_FALLBACK_MAP_JSON` for positions lacking team data.\n\n## Add‑ons\n- **Slack delivery:** Post a weekly summary to a channel or DM the HM alongside the email. \n- **CSV attachments:** Attach per‑HM CSV of positions/candidates for offline work. \n- **Manager CC:** CC a recruiting lead or HRBP for visibility on key roles. \n- **Writeback:** Log weekly metrics to **Google Sheets** for dashboards. \n- **Custom windows:** Use a different future window (e.g., interviews in the next 2 weeks).\n\n## Use Case Examples\n- **Busy HMs** who want one email showing **where to focus** for the coming week. \n- **Recruiting Ops** keeping tabs on **pipeline health** and stalled candidates. \n- **Leadership reviews** where weekly snapshots feed into Monday stand‑ups.\n\n## Common troubleshooting\n| Issue | Possible Cause | Solution |\n|---|---|---|\n| No emails sent | `DRY_RUN=true` | Set `DRY_RUN=false` to send. |\n| Missing HM recipients | Team endpoint returned no “hiring manager” and fallback map not configured | Add position→email in `HM_FALLBACK_MAP_JSON` (or set a better default). |\n| Interviews list is empty | Different event label in your Breezy account | Add your labels to `INTERVIEW_EVENT_KEYWORDS_CSV` (comma‑separated). |\n| Stuck candidates not flagged | Threshold too high or activity timestamps missing | Lower `STUCK_AFTER_DAYS` or verify candidate activity data. |\n| API errors | Bad token or insufficient scopes | Recreate the Breezy credential with a valid Bearer token. |\n| Emails fail to send | SMTP auth/quota issues | Check SMTP credentials/from‑address permissions and provider limits. |\n\n## Need Help?\nIf you’d like help tuning the interview filters, changing the grouping logic, or adding Slack/CSV writebacks, feel free to reach out our n8n experts at WeblineIndia. We'll be happy to help you tailor this to your stack.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Trigger Weekly",
      "type": "n8n-nodes-base.cron",
      "role": "cron",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Config",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Positions",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Loop Positions",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Aggregate & Compose Email",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "IF Dry Run",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Preview Output",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Email",
      "type": "n8n-nodes-base.emailSend",
      "role": "emailSend",
      "configDescription": "Version 1"
    },
    {
      "name": "Main Overview",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Section - Configuration",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Section - Data Collection",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}