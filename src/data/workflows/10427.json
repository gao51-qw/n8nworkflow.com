{
  "id": 10427,
  "slug": "10427",
  "title": "Analyze Facebook Ads & send insights to Google Sheets with Gemini AI",
  "description": "Stop manually digging through Meta Ads data and spending hours trying to connect the dots.\n\nThis workflow turns n8n into an AI-powered media buyer that automatically analyzes your ad performance, categorizes your creatives, and delivers insights directly into a Google Sheet.\n\n➡️ Watch the full 4-part setup and tutorial on YouTube:\nhttps://youtu.be/hxQshcD3e1Y\n\nAbout This 4-Part Automation Series\n\nAs a media buyer, I built this system to automate the heavy lifting of analyzing ad data and brainstorming new creative ideas.\nThis template is the first foundational part of that larger system.\n\n✅ Part 1 (This Template): Pulling Ad Data & Getting Quick Insights\nAutomatically pulls data into a Google Sheet and uses an LLM to categorize ad performance.\n\n✅ Part 2: Finding the Source Files for the Best Ads\nFetches the image or video files for top-performing ads.\n\n✅ Part 3: Using AI to Understand Why an Ad Works\nSends your best ads to Google Gemini for structured notes on hooks, transcripts, and visuals.\n\n✅ Part 4: Getting the AI to Suggest New Creative Ideas\nUses all the insights to generate fresh ad concepts, scripts, and creative briefs.\n\nWhat This Template (Part 1) Does\n\nSecure Token Management\nAutomatically retrieves and refreshes your Facebook long-term access token.\n\nFetch Ad Data\nPulls the last 28 days of ad-level performance data from your Facebook Ads account.\n\nProcess & Clean\nParses raw data, standardizes key e-commerce metrics (like ROAS), and filters for sales-focused campaigns.\n\nBenchmark Calculation\nAggregates all data to create an overall performance benchmark (e.g., average Cost Per Purchase).\n\nAI Analysis\nA “Senior Media Buyer” AI persona evaluates each ad against the benchmark and categorizes it as “HELL YES,” “YES,” or “MAYBE,” with justifications.\n\nOutput to Google Sheets\nUpdates your Google Sheet with both raw performance data and AI-generated insights.\n\nWho Is It For?\n\nE-commerce store owners\n\nDigital marketing agencies\n\nFacebook Ads media buyers\n\nHow to Set It Up\n\nCredentials\n\nConnect your Google Gemini and Google Sheets accounts in the respective nodes.\n\nThe template uses NocoDB for token management. Configure the “Getting Long-Term Token” and “Updating Token” nodes — or replace them with your preferred credential storage method.\n\nUpdate Your IDs\n\nIn the “Getting Data For the Past 28 Days…” HTTP Request node, replace act_XXXXXX in the URL with your Facebook Ad Account ID.\n\nIn both Google Sheets nodes (“Sending Raw Data…” and “Updating Ad Insights…”), update the Document ID with your target Google Sheet’s ID.\n\nRun the Workflow\n\nClick “Test workflow” to run your first AI-powered analysis!\n\nTools Used\n\nn8n\n\nFacebook for Developers\n\nGoogle AI Studio (Gemini)\n\nNocoDB (or any credential database of your choice)",
  "featuredImage": "/data/workflows/10427/10427.webp",
  "author": {
    "id": 101,
    "slug": "jj-tham",
    "name": "JJ Tham",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1557,
  "downloads": 155,
  "createdAt": "2025-11-02T05:25:25.505Z",
  "updatedAt": "2026-01-16T09:05:00.472Z",
  "publishedAt": "2025-11-02T05:25:25.505Z",
  "nodes": 34,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10427",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Analyze Facebook Ads & send insights to Google Sheets with Gemini AI",
    "workflowName": "Analyze Facebook Ads & send insights to Google Sheets with Gemini AI",
    "description": "Stop manually digging through Meta Ads data and spending hours trying to connect the dots.\n\nThis workflow turns n8n into an AI-powered media buyer that automatically analyzes your ad performance, categorizes your creatives, and delivers insights directly into a Google Sheet.\n\n➡️ Watch the full 4-part setup and tutorial on YouTube:\nhttps://youtu.be/hxQshcD3e1Y\n\nAbout This 4-Part Automation Series\n\nAs a media buyer, I built this system to automate the heavy lifting of analyzing ad data and brainstorming new creative ideas.\nThis template is the first foundational part of that larger system.\n\n✅ Part 1 (This Template): Pulling Ad Data & Getting Quick Insights\nAutomatically pulls data into a Google Sheet and uses an LLM to categorize ad performance.\n\n✅ Part 2: Finding the Source Files for the Best Ads\nFetches the image or video files for top-performing ads.\n\n✅ Part 3: Using AI to Understand Why an Ad Works\nSends your best ads to Google Gemini for structured notes on hooks, transcripts, and visuals.\n\n✅ Part 4: Getting the AI to Suggest New Creative Ideas\nUses all the insights to generate fresh ad concepts, scripts, and creative briefs.\n\nWhat This Template (Part 1) Does\n\nSecure Token Management\nAutomatically retrieves and refreshes your Facebook long-term access token.\n\nFetch Ad Data\nPulls the last 28 days of ad-level performance data from your Facebook Ads account.\n\nProcess & Clean\nParses raw data, standardizes key e-commerce metrics (like ROAS), and filters for sales-focused campaigns.\n\nBenchmark Calculation\nAggregates all data to create an overall performance benchmark (e.g., average Cost Per Purchase).\n\nAI Analysis\nA “Senior Media Buyer” AI persona evaluates each ad against the benchmark and categorizes it as “HELL YES,” “YES,” or “MAYBE,” with justifications.\n\nOutput to Google Sheets\nUpdates your Google Sheet with both raw performance data and AI-generated insights.\n\nWho Is It For?\n\nE-commerce store owners\n\nDigital marketing agencies\n\nFacebook Ads media buyers\n\nHow to Set It Up\n\nCredentials\n\nConnect your Google Gemini and Google Sheets accounts in the respective nodes.\n\nThe template uses NocoDB for token management. Configure the “Getting Long-Term Token” and “Updating Token” nodes — or replace them with your preferred credential storage method.\n\nUpdate Your IDs\n\nIn the “Getting Data For the Past 28 Days…” HTTP Request node, replace act_XXXXXX in the URL with your Facebook Ad Account ID.\n\nIn both Google Sheets nodes (“Sending Raw Data…” and “Updating Ad Insights…”), update the Document ID with your target Google Sheet’s ID.\n\nRun the Workflow\n\nClick “Test workflow” to run your first AI-powered analysis!\n\nTools Used\n\nn8n\n\nFacebook for Developers\n\nGoogle AI Studio (Gemini)\n\nNocoDB (or any credential database of your choice)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Stringify Everything",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Sending Raw Data To A Google Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Getting Long-Term Token",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Does it Need A Token Refresh?",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Getting Long-Lived Access Token1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Calculating End Date of Token1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Updating Token",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Getting Long-Term Token1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Splitting Out In Table Format",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sorting Based on Spends",
      "type": "n8n-nodes-base.sort",
      "role": "sort",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Filtering Only For Sales Campaigns",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Getting Data For the Past 28 Days Segemented Per Campaign Adset and Ad",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Senior Facebook Ads Media Buyer",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Combining Ad Data and Benchmarking Data",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Updating Ad Insights Into Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Does Token Needs Refreshing?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Extracting Long Term Token",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Calculate Account Benchmarks",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Stringify Benchmark Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Aggregate Metrics by Ad Creative",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Combine Ad & Benchmark Data for LLM",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Extracting Access Token",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    }
  ]
}