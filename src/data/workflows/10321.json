{
  "id": 10321,
  "slug": "10321",
  "title": "Facebook Messenger chatbot with GPT-4.1 & human escalation support",
  "description": "## Who is this for?\nThis n8n workflow is designed for businesses, customer support teams, and page administrators who want to automate their Facebook Messenger responses while maintaining the ability to escalate to human agents when needed. It's perfect for e-commerce stores, service providers, and organizations that receive customer inquiries through Facebook Messenger and want to provide instant, intelligent responses 24/7. The workflow can handle both text messages and attachments, automatically detects when human intervention is needed, and seamlessly transfers the conversation to a human admin.\n\n## What this Workflow Does\nThis n8n workflow creates an intelligent Facebook Messenger chatbot that can understand and respond to customer messages in both English and Bengali. It automatically classifies incoming messages to determine if they require human assistance, processes attachments by identifying file types, generates appropriate responses using AI, and escalates conversations to human admins when necessary. The workflow maintains conversation context through memory and can reference external documents for more accurate responses.\n\n## Key Features\n- **Multi-language Support**: Automatically detects and responds in English or Bengali\n- **Message Classification**: Determines if a message requires human intervention\n- **Attachment Handling**: Identifies and processes different file types (images, documents, etc.)\n- **AI-powered Responses**: Generates intelligent, context-aware responses using OpenAI\n- **Admin Escalation**: Seamlessly transfers conversations to human agents when needed\n- **Memory Management**: Maintains conversation context for more natural interactions\n- **Document Integration**: Can reference external Google Docs for information\n- **Webhook Verification**: Properly handles Facebook's webhook verification process\n\n## Requirements\n- Facebook Page with Messenger functionality\n- Facebook Graph API credentials\n- OpenAI API credentials\n- Google Docs API credentials (optional)\n- n8n Instance (self-hosted or cloud)\n- Admin Facebook user ID for escalation\n\n## Workflow Components\n### 1. Webhook Setup\n- **Webhook**: Receives incoming messages from Facebook Messenger\n- **If3**: Verifies webhook subscription requests\n- **Respond to Webhook**: Completes the verification process\n\n### 2. Message Processing\n- **If**: Determines if the message contains text or attachments\n- **Classify text**: Analyzes text messages to determine if human intervention is needed\n- **AI Agent1**: Identifies attachment types\n\n### 3. AI Response Generation\n- **AI Agent**: Generates intelligent responses to user messages\n- **OpenAI Chat**: Powers the AI Agent with language model capabilities\n- **Think**: Ensures responses match the user's language and tone\n- **Memory**: Maintains conversation context\n- **HTTP**: Enables external data retrieval\n- **Google Docs**: Allows referencing external documentation\n\n### 4. Escalation Logic\n- **If2**: Determines if escalation is needed based on classification\n- **Edit Fields1**: Prepares data for escalation messages\n- **Wait3**: Adds delay before sending messages\n\n### 5. Message Delivery\n- **Admin Message**: Notifies admin when escalation is needed\n- **User Message**: Confirms to user that their message was forwarded\n- **Admin Message1**: Notifies admin about attachments\n- **User Replay Message**: Sends AI-generated responses to users\n\n## Notes\n- The workflow uses a custom session key for memory management\n- Admin ID should be updated to match your Facebook admin user ID\n- The system is configured to respond in both English and Bengali\n- Webhook verification requires a specific verify token (set to \"admin\" in this example)\n- The workflow includes appropriate delays to prevent rate limiting\n\n## Ideal Use Cases\n- Customer service automation for e-commerce stores\n- Lead qualification and initial response\n- After-hours customer support\n- Information dissemination for organizations\n- Appointment scheduling and basic inquiries\n- Product information and recommendation requests\n\n## Support & Help\n- **WhatsApp**: [Chat on WhatsApp](https://wa.me/8801322827799)\n- **Discord**: [SpaGreen Community](https://discord.gg/SsCChWEP)\n- **Facebook Group**: [SpaGreen Support](https://www.facebook.com/groups/spagreenbd)\n- **Website**: [https://spagreen.net](https://spagreen.net)\n- **Developer Portfolio**: [Codecanyon SpaGreen](https://codecanyon.net/user/spagreen/portfolio)",
  "featuredImage": "/data/workflows/10321/10321.webp",
  "author": {
    "id": 101,
    "slug": "spagreen",
    "name": "SpaGreen Creative",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 282,
  "downloads": 28,
  "createdAt": "2025-10-30T10:05:50.517Z",
  "updatedAt": "2026-01-16T09:04:29.133Z",
  "publishedAt": "2025-10-30T10:05:50.517Z",
  "nodes": 32,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10321",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Facebook Messenger chatbot with GPT-4.1 & human escalation support",
    "workflowName": "Facebook Messenger chatbot with GPT-4.1 & human escalation support",
    "description": "## Who is this for?\nThis n8n workflow is designed for businesses, customer support teams, and page administrators who want to automate their Facebook Messenger responses while maintaining the ability to escalate to human agents when needed. It's perfect for e-commerce stores, service providers, and organizations that receive customer inquiries through Facebook Messenger and want to provide instant, intelligent responses 24/7. The workflow can handle both text messages and attachments, automatically detects when human intervention is needed, and seamlessly transfers the conversation to a human admin.\n\n## What this Workflow Does\nThis n8n workflow creates an intelligent Facebook Messenger chatbot that can understand and respond to customer messages in both English and Bengali. It automatically classifies incoming messages to determine if they require human assistance, processes attachments by identifying file types, generates appropriate responses using AI, and escalates conversations to human admins when necessary. The workflow maintains conversation context through memory and can reference external documents for more accurate responses.\n\n## Key Features\n- **Multi-language Support**: Automatically detects and responds in English or Bengali\n- **Message Classification**: Determines if a message requires human intervention\n- **Attachment Handling**: Identifies and processes different file types (images, documents, etc.)\n- **AI-powered Responses**: Generates intelligent, context-aware responses using OpenAI\n- **Admin Escalation**: Seamlessly transfers conversations to human agents when needed\n- **Memory Management**: Maintains conversation context for more natural interactions\n- **Document Integration**: Can reference external Google Docs for information\n- **Webhook Verification**: Properly handles Facebook's webhook verification process\n\n## Requirements\n- Facebook Page with Messenger functionality\n- Facebook Graph API credentials\n- OpenAI API credentials\n- Google Docs API credentials (optional)\n- n8n Instance (self-hosted or cloud)\n- Admin Facebook user ID for escalation\n\n## Workflow Components\n### 1. Webhook Setup\n- **Webhook**: Receives incoming messages from Facebook Messenger\n- **If3**: Verifies webhook subscription requests\n- **Respond to Webhook**: Completes the verification process\n\n### 2. Message Processing\n- **If**: Determines if the message contains text or attachments\n- **Classify text**: Analyzes text messages to determine if human intervention is needed\n- **AI Agent1**: Identifies attachment types\n\n### 3. AI Response Generation\n- **AI Agent**: Generates intelligent responses to user messages\n- **OpenAI Chat**: Powers the AI Agent with language model capabilities\n- **Think**: Ensures responses match the user's language and tone\n- **Memory**: Maintains conversation context\n- **HTTP**: Enables external data retrieval\n- **Google Docs**: Allows referencing external documentation\n\n### 4. Escalation Logic\n- **If2**: Determines if escalation is needed based on classification\n- **Edit Fields1**: Prepares data for escalation messages\n- **Wait3**: Adds delay before sending messages\n\n### 5. Message Delivery\n- **Admin Message**: Notifies admin when escalation is needed\n- **User Message**: Confirms to user that their message was forwarded\n- **Admin Message1**: Notifies admin about attachments\n- **User Replay Message**: Sends AI-generated responses to users\n\n## Notes\n- The workflow uses a custom session key for memory management\n- Admin ID should be updated to match your Facebook admin user ID\n- The system is configured to respond in both English and Bengali\n- Webhook verification requires a specific verify token (set to \"admin\" in this example)\n- The workflow includes appropriate delays to prevent rate limiting\n\n## Ideal Use Cases\n- Customer service automation for e-commerce stores\n- Lead qualification and initial response\n- After-hours customer support\n- Information dissemination for organizations\n- Appointment scheduling and basic inquiries\n- Product information and recommendation requests\n\n## Support & Help\n- **WhatsApp**: [Chat on WhatsApp](https://wa.me/8801322827799)\n- **Discord**: [SpaGreen Community](https://discord.gg/SsCChWEP)\n- **Facebook Group**: [SpaGreen Support](https://www.facebook.com/groups/spagreenbd)\n- **Website**: [https://spagreen.net](https://spagreen.net)\n- **Developer Portfolio**: [Codecanyon SpaGreen](https://codecanyon.net/user/spagreen/portfolio)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.4"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Think",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "role": "toolThink",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "AI Agent1",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "HTTP",
      "type": "n8n-nodes-base.httpRequestTool",
      "role": "httpRequestTool",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Google Docs",
      "type": "n8n-nodes-base.googleDocsTool",
      "role": "googleDocsTool",
      "configDescription": "Version 2"
    },
    {
      "name": "Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "If2",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Wait3",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Admin Message",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "User Message",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Admin Message1",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "User Replay Message",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "If3",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Classify text",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "OpenAI Chat",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}