{
  "id": 5844,
  "slug": "5844",
  "title": "Generate images with Pollinations & blog articles with Gemini 2.5 from Telegram",
  "description": "### This n8n workflow is a Telegram bot that allows users to either:\n\n- Generate AI images using Pollinations API, or\n- Generate blog articles using Gemini AI\n\n### Users simply type image your prompt or blog your title, and the bot responds with either an AI-generated image or article.\n\n\n\n## Who's it for\nThis template is ideal for:\n\n- Content creators and marketers who want to generate visual and written content quickly\n\n- Telegram bot developers looking for real-world AI integration\n- Educators or students automating content workflows\n- Anyone managing content pipelines using Google Sheets\n\n\n## What it does / How it works\n### Telegram Interaction\n\n- Trigger Telegram Message: Listens for new messages or button clicks via Telegram\n\n- Classify Telegram Input: JavaScript logic to classify input as /start, /help, normal text, or callback\n- Switch Input Type: Directs the flow based on the classification\n\n### Menu & Help\n\n- Send Main Menu to User: Shows \"Generate Image\", \"Blog Article\", \"Help\" options\n\n- Switch Callback Selection: Routes based on button pressed (image, blog, or help)\n\n- Send Help Instructions: Sends markdown instructions on how to use the bot\n\n### Input Validation\n- Validate Command Format: Ensures input starts with image or blog\n\n- Notify Invalid Input Format: If validation fails, informs user of correct format\n\n\n### Image Generator\n- Prompt User for Image Description\n  â†’ When user clicks Generate Image\n\n- Detect Text-Based Input Type\n  â†’ Detects if text is image or blog\n\n- Switch Text Command Type\n  â†’ Directs whether to generate image or article\n\n- Show Typing for Image Generation\n  â†’ Sends \"uploading photo...\" typing status\n\n- Build Image Generation URL\n  â†’ Constructs Pollinations API image URL from prompt\n\n- Download AI Image\n â†’ Makes HTTP request to get the image\n\n- Send Image Result to Telegram\n â†’ Sends image to user via Telegram\n\n- Log Image Prompt to Google Sheets\n  â†’ Logs prompt, image URL, date, and user ID\n\n- Upload Image to Google Drive\n  â†’ Saves image to Google Drive folder\n\n\n### Blog Article Generator\n- Prompt User for Blog Title\nâ†’ When user clicks Blog Article\n\n- Store Blog Prompt\nâ†’ Saves prompt for later use\n\n- Log Blog Prompt to Google Sheets\nâ†’ Writes title + user ID to Google Sheets\n\n- Send Article Style Options\nâ†’ Offers: Formal, Casual, or News style\n\n- Store Selected Article Style\nâ†’ Updates row with chosen style in Google Sheets\n\n- Fetch Last User Prompt\nâ†’ Finds the latest prompt submitted by this user\n\n- Extract Last Blog Prompt\nâ†’ Extracts row for use in AI request\n\n- Gemini Chat Wrapper\nâ†’ Handles input into LangChain node for AI processing\n\n- Generate Article with Gemini\nâ†’ Calls Gemini to create 3-paragraph blog post\n\n- Parse Gemini Response\nâ†’ Parses JSON string to extract title and content\n\n- Send Article to Telegram\nâ†’ Sends blog article result back to user\n\n- Log Final Article to Google Sheets\nâ†’ Updates row with final content and timestamp\n\n\n## Requirements\n\n- Telegram bot (via @BotFather)\n- Pollinations API (free and public endpoint)\n- Google Sheets & Drive (OAuth credential setup in n8n)\n- Google Gemini / PaLM API key via LangChain\n- Self-hosted or cloud n8n setup\n\n\n## Setup Instructions\n\n- Clone the workflow and import it into your n8n instance\n\n- Set credentials:\n\n  - Telegram API\n  - Google Sheets OAuth\n  - Google Drive OAuth\n  - Gemini (via LangChain)\n\n- Replace:\n\n  - Sheet ID with your own Google Sheet\n  - Folder ID on Google Drive\n  - chat_id placeholders if needed (use expressions instead)\n\n- Deploy and send /start in your Telegram bot\n\n\n## ðŸ”§ Customization Tips\n\n- Edit the Gemini prompt to adjust article length or tone\n\n- Add extra style buttons like \"SEO\", \"Story\", \"Academic\"\n\n- Add image post-processing (e.g. compression, renaming)\n\n- Add error catching logic (e.g. if Pollinations image fails)\n\n- Store images with filenames based on timestamp/user\n\n\n\n## Security Considerations\n\n- Use n8n credentials for all tokens (Telegram, Gemini, Sheets, Drive)\n\n- Never hardcode your token inside HTTP nodes\n\n- Do not expose real Google Sheet or Drive links in shared version\n\n- Use Set node to collect all editable variables (like folder ID, sheet name)\n",
  "featuredImage": "/data/workflows/5844/5844.webp",
  "author": {
    "id": 101,
    "slug": "fahmi3322",
    "name": "Fahmi Oktafian",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1012,
  "downloads": 101,
  "createdAt": "2025-07-10T13:06:15.268Z",
  "updatedAt": "2026-01-16T08:41:42.806Z",
  "publishedAt": "2025-07-10T13:06:15.268Z",
  "nodes": 34,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5844",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate images with Pollinations & blog articles with Gemini 2.5 from Telegram",
    "workflowName": "Generate images with Pollinations & blog articles with Gemini 2.5 from Telegram",
    "description": "### This n8n workflow is a Telegram bot that allows users to either:\n\n- Generate AI images using Pollinations API, or\n- Generate blog articles using Gemini AI\n\n### Users simply type image your prompt or blog your title, and the bot responds with either an AI-generated image or article.\n\n\n\n## Who's it for\nThis template is ideal for:\n\n- Content creators and marketers who want to generate visual and written content quickly\n\n- Telegram bot developers looking for real-world AI integration\n- Educators or students automating content workflows\n- Anyone managing content pipelines using Google Sheets\n\n\n## What it does / How it works\n### Telegram Interaction\n\n- Trigger Telegram Message: Listens for new messages or button clicks via Telegram\n\n- Classify Telegram Input: JavaScript logic to classify input as /start, /help, normal text, or callback\n- Switch Input Type: Directs the flow based on the classification\n\n### Menu & Help\n\n- Send Main Menu to User: Shows \"Generate Image\", \"Blog Article\", \"Help\" options\n\n- Switch Callback Selection: Routes based on button pressed (image, blog, or help)\n\n- Send Help Instructions: Sends markdown instructions on how to use the bot\n\n### Input Validation\n- Validate Command Format: Ensures input starts with image or blog\n\n- Notify Invalid Input Format: If validation fails, informs user of correct format\n\n\n### Image Generator\n- Prompt User for Image Description\n  â†’ When user clicks Generate Image\n\n- Detect Text-Based Input Type\n  â†’ Detects if text is image or blog\n\n- Switch Text Command Type\n  â†’ Directs whether to generate image or article\n\n- Show Typing for Image Generation\n  â†’ Sends \"uploading photo...\" typing status\n\n- Build Image Generation URL\n  â†’ Constructs Pollinations API image URL from prompt\n\n- Download AI Image\n â†’ Makes HTTP request to get the image\n\n- Send Image Result to Telegram\n â†’ Sends image to user via Telegram\n\n- Log Image Prompt to Google Sheets\n  â†’ Logs prompt, image URL, date, and user ID\n\n- Upload Image to Google Drive\n  â†’ Saves image to Google Drive folder\n\n\n### Blog Article Generator\n- Prompt User for Blog Title\nâ†’ When user clicks Blog Article\n\n- Store Blog Prompt\nâ†’ Saves prompt for later use\n\n- Log Blog Prompt to Google Sheets\nâ†’ Writes title + user ID to Google Sheets\n\n- Send Article Style Options\nâ†’ Offers: Formal, Casual, or News style\n\n- Store Selected Article Style\nâ†’ Updates row with chosen style in Google Sheets\n\n- Fetch Last User Prompt\nâ†’ Finds the latest prompt submitted by this user\n\n- Extract Last Blog Prompt\nâ†’ Extracts row for use in AI request\n\n- Gemini Chat Wrapper\nâ†’ Handles input into LangChain node for AI processing\n\n- Generate Article with Gemini\nâ†’ Calls Gemini to create 3-paragraph blog post\n\n- Parse Gemini Response\nâ†’ Parses JSON string to extract title and content\n\n- Send Article to Telegram\nâ†’ Sends blog article result back to user\n\n- Log Final Article to Google Sheets\nâ†’ Updates row with final content and timestamp\n\n\n## Requirements\n\n- Telegram bot (via @BotFather)\n- Pollinations API (free and public endpoint)\n- Google Sheets & Drive (OAuth credential setup in n8n)\n- Google Gemini / PaLM API key via LangChain\n- Self-hosted or cloud n8n setup\n\n\n## Setup Instructions\n\n- Clone the workflow and import it into your n8n instance\n\n- Set credentials:\n\n  - Telegram API\n  - Google Sheets OAuth\n  - Google Drive OAuth\n  - Gemini (via LangChain)\n\n- Replace:\n\n  - Sheet ID with your own Google Sheet\n  - Folder ID on Google Drive\n  - chat_id placeholders if needed (use expressions instead)\n\n- Deploy and send /start in your Telegram bot\n\n\n## ðŸ”§ Customization Tips\n\n- Edit the Gemini prompt to adjust article length or tone\n\n- Add extra style buttons like \"SEO\", \"Story\", \"Academic\"\n\n- Add image post-processing (e.g. compression, renaming)\n\n- Add error catching logic (e.g. if Pollinations image fails)\n\n- Store images with filenames based on timestamp/user\n\n\n\n## Security Considerations\n\n- Use n8n credentials for all tokens (Telegram, Gemini, Sheets, Drive)\n\n- Never hardcode your token inside HTTP nodes\n\n- Do not expose real Google Sheet or Drive links in shared version\n\n- Use Set node to collect all editable variables (like folder ID, sheet name)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Trigger Telegram Message",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Classify Telegram Input",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Switch Input Type",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Send Main Menu to User",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Switch Callback Selection",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Prompt User for Image Description",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Prompt User for Blog Title",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Validate Command Format",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Detect Text-Based Input Type",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Switch Text Command Type",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Build Image Generation URL",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Download AI Image",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Send Image Result to Telegram",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Log Image Prompt to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Upload Image to Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Notify Invalid Input Format",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Show Typing for Article Response",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Show Typing for Image Generation",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Send Help Instructions",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Send Article Style Options",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Store Blog Prompt",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Log Blog Prompt to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Store Selected Article Style",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Fetch Last User Prompt",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Extract Last Blog Prompt",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Generate Article with Gemini",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Parse Gemini Response",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Article to Telegram",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Log Final Article to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}