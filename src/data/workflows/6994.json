{
  "id": 6994,
  "slug": "6994",
  "title": "Build a retrieval-based chatbot with Telegram, OpenAI and Google Drive PDF backup",
  "description": "# üìö Telegram RAG Chatbot with PDF Document & Google Drive Backup\n- An upgraded Retrieval-Augmented Generation (RAG) chatbot built in **n8n** that lets users ask questions via Telegram and receive accurate answers from uploaded PDFs. It embeds documents using OpenAI and backs them up to Google Drive.\n\n## üë§ Who‚Äôs it for\n\nPerfect for:\n- Knowledge workers who want instant access to private documents\n- Support teams needing searchable SOPs and guides\n- Educators enabling course material Q&A for students\n- Individuals automating personal document search + cloud backup\n\n## ‚öôÔ∏è How it works / What it does\n\n### üí¨ Telegram Chat Handling\n1. **User sends a message**  \n   Triggered by the Telegram bot, the workflow checks if the message is text.\n\n2. **Text message ‚Üí OpenAI RAG Agent**  \n   If the message is text, it's passed to a GPT-powered document agent.  \n   This agent:\n   - Retrieves relevant info from embedded documents using semantic search\n   - Returns a context-aware answer to the user\n\n3. **Send answer back**  \n   The bot sends the generated response back to the Telegram user.\n\n4. **Non-text input fallback**  \n   If the message is not text, the bot replies with a polite unsupported message.\n\n### üìÑ PDF Upload and Embedding\n1. **User uploads PDFs manually**  \n   A manual trigger starts the embedding flow.\n\n2. **Default Data Loader**  \n   Reads and chunks the PDF(s) into text segments.\n\n3. **Insert to Vector Store (Embedding)**  \n   Text chunks are embedded using OpenAI and saved for retrieval.\n\n4. **Backup to Google Drive**  \n   The original PDF is uploaded to Google Drive for safekeeping.\n\n## üõ†Ô∏è How to set up\n\n1. **Telegram Bot**\n   - Create via [BotFather](https://t.me/botfather)\n   - Connect it to the Telegram Trigger node\n\n2. **OpenAI**\n   - Use your OpenAI API key\n   - Connect the Embeddings and Chat Model nodes (GPT-3.5/4)\n   - Ensure both embedding and querying use the same Embedding node\n\n3. **Google Drive**\n   - Set up credentials in n8n for your Google account\n   - Connect the ‚ÄúBackup to Google Drive‚Äù node\n\n4. **PDF Ingestion**\n   - Use the ‚ÄúUpload your PDF here‚Äù trigger\n   - Connect it to the loader, embedder, and backup flow\n\n## ‚úÖ Requirements\n\n- Telegram bot token\n- OpenAI API key (GPT + Embeddings)\n- n8n instance (self-hosted or cloud)\n- Google Drive integration\n- PDF files to upload\n\n## üß© How to customize the workflow\n\n| Feature                        | How to Customize                                                  |\n|-------------------------------|-------------------------------------------------------------------|\n| Auto-ingest from folders       | Add Google Drive/Dropbox watchers for new PDFs                   |\n| Add file upload via Telegram   | Extend Telegram bot to receive PDFs and run the embedding flow   |\n| Track user questions           | Log Telegram usernames and questions to a database               |\n| Summarize documents            | Add summarization step on upload                                 |\n| Add Markdown or HTML support   | Format replies for better Telegram rendering                     |\n\nBuilt with üí¨ Telegram + üìÑ PDF + üß† OpenAI Embeddings + ‚òÅÔ∏è Google Drive + ‚ö° n8n",
  "featuredImage": "/data/workflows/6994/6994.webp",
  "author": {
    "id": 101,
    "slug": "trungtran",
    "name": "Trung Tran",
    "avatar": ""
  },
  "categories": [
    "Internal Wiki",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1138,
  "downloads": 113,
  "createdAt": "2025-08-05T06:25:33.284Z",
  "updatedAt": "2026-01-16T08:48:02.103Z",
  "publishedAt": "2025-08-05T06:25:33.284Z",
  "nodes": 24,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6994",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build a retrieval-based chatbot with Telegram, OpenAI and Google Drive PDF backup",
    "workflowName": "Build a retrieval-based chatbot with Telegram, OpenAI and Google Drive PDF backup",
    "description": "# üìö Telegram RAG Chatbot with PDF Document & Google Drive Backup\n- An upgraded Retrieval-Augmented Generation (RAG) chatbot built in **n8n** that lets users ask questions via Telegram and receive accurate answers from uploaded PDFs. It embeds documents using OpenAI and backs them up to Google Drive.\n\n## üë§ Who‚Äôs it for\n\nPerfect for:\n- Knowledge workers who want instant access to private documents\n- Support teams needing searchable SOPs and guides\n- Educators enabling course material Q&A for students\n- Individuals automating personal document search + cloud backup\n\n## ‚öôÔ∏è How it works / What it does\n\n### üí¨ Telegram Chat Handling\n1. **User sends a message**  \n   Triggered by the Telegram bot, the workflow checks if the message is text.\n\n2. **Text message ‚Üí OpenAI RAG Agent**  \n   If the message is text, it's passed to a GPT-powered document agent.  \n   This agent:\n   - Retrieves relevant info from embedded documents using semantic search\n   - Returns a context-aware answer to the user\n\n3. **Send answer back**  \n   The bot sends the generated response back to the Telegram user.\n\n4. **Non-text input fallback**  \n   If the message is not text, the bot replies with a polite unsupported message.\n\n### üìÑ PDF Upload and Embedding\n1. **User uploads PDFs manually**  \n   A manual trigger starts the embedding flow.\n\n2. **Default Data Loader**  \n   Reads and chunks the PDF(s) into text segments.\n\n3. **Insert to Vector Store (Embedding)**  \n   Text chunks are embedded using OpenAI and saved for retrieval.\n\n4. **Backup to Google Drive**  \n   The original PDF is uploaded to Google Drive for safekeeping.\n\n## üõ†Ô∏è How to set up\n\n1. **Telegram Bot**\n   - Create via [BotFather](https://t.me/botfather)\n   - Connect it to the Telegram Trigger node\n\n2. **OpenAI**\n   - Use your OpenAI API key\n   - Connect the Embeddings and Chat Model nodes (GPT-3.5/4)\n   - Ensure both embedding and querying use the same Embedding node\n\n3. **Google Drive**\n   - Set up credentials in n8n for your Google account\n   - Connect the ‚ÄúBackup to Google Drive‚Äù node\n\n4. **PDF Ingestion**\n   - Use the ‚ÄúUpload your PDF here‚Äù trigger\n   - Connect it to the loader, embedder, and backup flow\n\n## ‚úÖ Requirements\n\n- Telegram bot token\n- OpenAI API key (GPT + Embeddings)\n- n8n instance (self-hosted or cloud)\n- Google Drive integration\n- PDF files to upload\n\n## üß© How to customize the workflow\n\n| Feature                        | How to Customize                                                  |\n|-------------------------------|-------------------------------------------------------------------|\n| Auto-ingest from folders       | Add Google Drive/Dropbox watchers for new PDFs                   |\n| Add file upload via Telegram   | Extend Telegram bot to receive PDFs and run the embedding flow   |\n| Track user questions           | Log Telegram usernames and questions to a database               |\n| Summarize documents            | Add summarization step on upload                                 |\n| Add Markdown or HTML support   | Format replies for better Telegram rendering                     |\n\nBuilt with üí¨ Telegram + üìÑ PDF + üß† OpenAI Embeddings + ‚òÅÔ∏è Google Drive + ‚ö° n8n",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Insert Data to Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "role": "vectorStoreInMemory",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Query Data Tool",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "role": "vectorStoreInMemory",
      "configDescription": "Version 1.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Is text message?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Send respond to user",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Un-supported message type",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Telegram document query agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Upload your PDF document here",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Backup document(s) to Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}