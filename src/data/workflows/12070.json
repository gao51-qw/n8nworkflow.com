{
  "id": 12070,
  "slug": "12070",
  "title": "Automate employee leave approvals with GPT, Gmail & Calendar integration",
  "description": "## How it works  \nThis workflow automates the complete employee leave approval process from submission to final resolution. Employees submit leave requests through a form, which are summarized professionally using AI and sent for approval via email. The workflow waits for the approver’s response and then either sends an approval confirmation or schedules a clarification discussion automatically. All communication is handled consistently with no manual follow-ups required.\n\n## Step-by-step  \n- **Step 1: Capture leave request, generate summary, and request approval**  \n  - **On form submission** – Captures employee details, leave dates, reason, and task handover information.  \n  - **AI Agent** – Generates a professional, manager-ready summary of the leave request.  \n    - **OpenAI Chat Model** – Provides the language model used to generate the summary.  \n    - **Structured Output Parser** – Extracts the email subject and HTML body from the AI response.  \n  - **Send message and wait for response** – Emails the summary to the approver and pauses the workflow until approval or rejection.  \n  - **If** – Routes the workflow based on the approval decision. \n\n- **Step 2: Notify employee or schedule discussion automatically**   \n    - **Approved path**  \n      - **Send a message** – Sends an official leave approval email to the employee.  \n    - **Clarification or rejection path**  \n      - **Booking Agent** – Determines the next business day and finds the first available 10-minute slot.  \n        - **OpenAI** – Applies scheduling logic to select the earliest valid slot.  \n        - **Get Events** – Fetches existing calendar events to avoid conflicts.  \n        - **Check Availability** – Confirms free time within working hours.  \n        - **Output Parser** – Extracts the final meeting start time.  \n      - **Send a message1** – Emails the employee with the scheduled discussion details.  \n\n## Why use this?  \n- Eliminate manual approval follow-ups and email back-and-forth  \n- Ensure consistent, professional communication for every leave request  \n- Automatically handle both approvals and clarification scenarios  \n- Reduce manager effort with AI-generated summaries  \n- Schedule discussions without manual calendar coordination  \n",
  "featuredImage": "/data/workflows/12070/12070.webp",
  "author": {
    "id": 101,
    "slug": "itechnotion",
    "name": "Avkash Kakdiya",
    "avatar": ""
  },
  "categories": [
    "HR",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 93,
  "downloads": 9,
  "createdAt": "2025-12-23T14:51:38.890Z",
  "updatedAt": "2026-01-16T09:11:17.148Z",
  "publishedAt": "2025-12-23T14:51:38.890Z",
  "nodes": 16,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/12070",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate employee leave approvals with GPT, Gmail & Calendar integration",
    "workflowName": "Automate employee leave approvals with GPT, Gmail & Calendar integration",
    "description": "## How it works  \nThis workflow automates the complete employee leave approval process from submission to final resolution. Employees submit leave requests through a form, which are summarized professionally using AI and sent for approval via email. The workflow waits for the approver’s response and then either sends an approval confirmation or schedules a clarification discussion automatically. All communication is handled consistently with no manual follow-ups required.\n\n## Step-by-step  \n- **Step 1: Capture leave request, generate summary, and request approval**  \n  - **On form submission** – Captures employee details, leave dates, reason, and task handover information.  \n  - **AI Agent** – Generates a professional, manager-ready summary of the leave request.  \n    - **OpenAI Chat Model** – Provides the language model used to generate the summary.  \n    - **Structured Output Parser** – Extracts the email subject and HTML body from the AI response.  \n  - **Send message and wait for response** – Emails the summary to the approver and pauses the workflow until approval or rejection.  \n  - **If** – Routes the workflow based on the approval decision. \n\n- **Step 2: Notify employee or schedule discussion automatically**   \n    - **Approved path**  \n      - **Send a message** – Sends an official leave approval email to the employee.  \n    - **Clarification or rejection path**  \n      - **Booking Agent** – Determines the next business day and finds the first available 10-minute slot.  \n        - **OpenAI** – Applies scheduling logic to select the earliest valid slot.  \n        - **Get Events** – Fetches existing calendar events to avoid conflicts.  \n        - **Check Availability** – Confirms free time within working hours.  \n        - **Output Parser** – Extracts the final meeting start time.  \n      - **Send a message1** – Emails the employee with the scheduled discussion details.  \n\n## Why use this?  \n- Eliminate manual approval follow-ups and email back-and-forth  \n- Ensure consistent, professional communication for every leave request  \n- Automatically handle both approvals and clarification scenarios  \n- Reduce manager effort with AI-generated summaries  \n- Schedule discussions without manual calendar coordination",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.3"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send message and wait for response",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Send a message",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Check Availability",
      "type": "n8n-nodes-base.googleCalendarTool",
      "role": "googleCalendarTool",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Get Events",
      "type": "n8n-nodes-base.googleCalendarTool",
      "role": "googleCalendarTool",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Booking Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send a message1",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}