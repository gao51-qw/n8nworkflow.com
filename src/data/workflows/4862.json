{
  "id": 4862,
  "slug": "4862",
  "title": "Log daily mood & weather to Notion with Telegram and OpenWeatherMap",
  "description": "The **Daily Mood & Weather Logger üöÄ** is more than just a utility; it's a hands-on n8n workflow designed to teach you core automation concepts. By setting up and exploring this template, you'll gain practical experience with triggers, API calls, data manipulation using the Code node, and integrating with external services like Notion. It automates tracking your daily mood alongside local weather, logging it all into a Notion database.\n\n---\n\n## üéØ Learning Objectives: What You'll Master\n\nThis workflow template is specifically structured to help you understand and practice:\n\n* **Workflow Triggers:**\n\n  * **Scheduled Triggers:** Learn how the **Cron node** initiates actions at specific times (e.g., daily).\n  * **Webhook/Event-Based Triggers:** Understand how the **Telegram Trigger node** listens for and reacts to external events (like a new message).\n\n* **Making API Calls:**\n\n  * See the **HTTP Request node** in action, querying the external OpenWeatherMap API to fetch real-time data.\n  * Understand how to configure API endpoints, query parameters, and handle API keys (using environment variables).\n\n* **Data Manipulation with Code:**\n\n  * Explore the **Code node** to write simple JavaScript for combining data from different sources (Telegram input and API response).\n  * Learn basic data structuring and transformation within n8n.\n\n* **Database Integration (Notion):**\n\n  * Discover how to use the **Notion node** to interact with a Notion database.\n  * Practice retrieving database information and, more importantly, creating new pages (entries/rows) with dynamic data.\n\n* **Environment Variables:** Learn the importance of using environment variables for managing sensitive information (like API keys) and configurable parameters (like city/location).\n\n* **Workflow Logic & Data Flow:** Observe how data passes between nodes and how different components work together to achieve a complete automation.\n\n---\n\n## Why This Workflow? (Beyond Learning) ü§î\n\nWhile the primary goal is educational, the workflow itself is useful for:\n\n* **Automated Data Collection:** It prompts for mood via Telegram and fetches weather automatically.\n* **Consistent Logging:** Ensures daily entries into your Notion journal.\n* **Centralized Information:** Stores mood and weather data in a structured Notion database.\n\n---\n\n## Core Features & How They Teach You üß©\n\nLet‚Äôs break down how each part of the workflow demonstrates key n8n concepts:\n\n### üìÖ Daily Automation Cycle & Triggers:\n\n* **Daily Trigger (Cron node):** ‚è∞ Initiates the workflow daily. *Learning:* This is your introduction to time-based automation. Observe its simple configuration for scheduling.\n* **Telegram Mood Prompt (Telegram node):** üì© Sends a message. *Learning:* Shows a basic \"action\" node interacting with an external service.\n* **Telegram Mood Capture (Telegram Trigger node):** üé£ Listens for your reply. *Learning:* A prime example of an event-driven trigger. See how it waits for user input to continue the workflow.\n\n### üåç Fetching External Data (APIs):\n\n* **Weather Data Fetch (HTTP Request node for OpenWeatherMap):** üå¶Ô∏è Retrieves current weather. *Learning:* The core of API interaction. Examine how the URL, query parameters (`appid`, `q` or `lat`/`lon`), and environment variables are used. Try changing the parameters!\n\n### ‚öôÔ∏è Processing Data (Code Node):\n\n* **Data Consolidation (Code node):** üõ†Ô∏è Combines mood and weather data. *Learning:* A practical use of the Code node. Look at the JavaScript to understand how it accesses data from previous nodes (`$input`, `$('Node Name')`) and structures the output.\n\n### üìù Storing Data (Notion Integration):\n\n* **Notion Database Interaction (Notion nodes):** ‚úçÔ∏è\n\n  * \"Retrieve Database\": Gets database info. *Learning:* Demonstrates reading from Notion.\n  * \"Add row into Notion\": Logs the data. *Learning:* Shows how to write data to Notion, mapping your workflow data to specific Notion properties. This is a common pattern for many database integrations.\n\n*Note: The template includes two paths for weather fetching (city name vs. lat/lon). This allows you to explore different ways to configure the HTTP Request node and manage input data.*\n\n---\n\n## Getting Started: Your Learning Lab Setup üõ†Ô∏è\n\nSet up your learning environment:\n\n1. **Import the Workflow:** Add the `.json` to n8n. This is your starting blueprint!\n2. **Set Up Environment Variables in n8n:**\n\n   * `OPEN_WEATHER_API_KEY`: Your OpenWeatherMap API key.\n   * `City`: (e.g., \"Paris\") For city-based weather.\n   * `latitude`: (e.g., \"18.834366\") For coordinate-based weather.\n   * `longitude`: (e.g., \"35.352342\") For coordinate-based weather.\n3. **Configure Node Credentials:**\n\n   * **Telegram:** Link your Telegram API credentials in the \"Send Mood Prompt\" and \"Wait for Mood Response\" nodes.\n   * **Notion:** Connect your Notion API credentials in the \"Retrieve Database\" and \"Add row into Notion\" nodes.\n4. **Personalize Node Settings (Experiment Here!):**\n\n   * **Daily Trigger (Cron Node):** Change the \"Trigger Times\". How does this affect when the workflow runs?\n   * **Send Mood Prompt (Telegram Node):**\n\n     * Update the `Chat ID` (e.g., from `=83495863`) to your own.\n     * Modify the `Text` of the prompt.\n   * **Notion Nodes:**\n\n     * Set your target `Database ID` (e.g., replace `20e9c592...`).\n     * Ensure your Notion database has properties like `city`, `description`, `temperature`, `mood`, etc., as defined in the \"Add row into Notion\" node. Try adding or removing properties to see what happens!\n   * **Weather Fetching Path:**\n\n     * Experiment with enabling one path (city name or lat/lon) and disabling the other. Observe how the HTTP Request node parameters differ. Ensure relevant environment variables are set.\n5. **Activate and Test:** Turn the workflow ON. Trigger it manually or wait for the Cron. Check each node‚Äôs output to understand the data flow.\n\n---\n\n## How The Automation Works (A Learning Recap) ‚öôÔ∏è\n\nFollow the data and actions:\n\n1. **TRIGGER:** Cron node (scheduled) or Telegram Trigger (event-based after prompt).\n2. **ACTION (Prompt):** Telegram node sends a message.\n3. **INPUT (User):** You reply to the Telegram message.\n4. **API CALL:** HTTP Request node fetches weather using your API key and location.\n5. **CODE PROCESSING:** Code node merges your mood and the weather data.\n6. **DATABASE WRITE:** Notion node creates a new entry with the combined data.\n\nUse the n8n execution log to inspect the input and output of each node. This is invaluable for learning and debugging!\n\n---\n\n## Next Steps in Your Learning Journey üöÄ\n\nOnce you're comfortable, try these to deepen your understanding:\n\n* **Modify the Code Node:** Add new data transformations. Can you format the date or extract more specific weather details?\n* **Change API Parameters:** Explore the OpenWeatherMap API docs. Can you fetch forecast data instead of current weather?\n* **Add Error Handling:** What happens if the API call fails? Explore the \"Error Trigger\" or \"Continue on Fail\" settings.\n* **Integrate a New Service:** Try sending a summary to email or another messaging app.\n* **Explore Different Trigger Types:** What other ways could this workflow be initiated?\n\n---\n\n## Requirements (Your Learning Kit) üìã\n\n* An active n8n instance.\n* Telegram Bot API credentials.\n* An OpenWeatherMap API Key.\n* Notion API credentials & a configured Notion Database.\n* Curiosity and a willingness to experiment!\n\n*May your mood tracking be seamless and your weather always logged!*\n",
  "featuredImage": "/data/workflows/4862/4862.webp",
  "author": {
    "id": 101,
    "slug": "devgor",
    "name": "Issam AGGOUR",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 185,
  "downloads": 18,
  "createdAt": "2025-06-10T23:19:17.739Z",
  "updatedAt": "2026-01-16T08:36:35.849Z",
  "publishedAt": "2025-06-10T23:19:17.739Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4862",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Log daily mood & weather to Notion with Telegram and OpenWeatherMap",
    "workflowName": "Log daily mood & weather to Notion with Telegram and OpenWeatherMap",
    "description": "The **Daily Mood & Weather Logger üöÄ** is more than just a utility; it's a hands-on n8n workflow designed to teach you core automation concepts. By setting up and exploring this template, you'll gain practical experience with triggers, API calls, data manipulation using the Code node, and integrating with external services like Notion. It automates tracking your daily mood alongside local weather, logging it all into a Notion database.\n\n---\n\n## üéØ Learning Objectives: What You'll Master\n\nThis workflow template is specifically structured to help you understand and practice:\n\n* **Workflow Triggers:**\n\n  * **Scheduled Triggers:** Learn how the **Cron node** initiates actions at specific times (e.g., daily).\n  * **Webhook/Event-Based Triggers:** Understand how the **Telegram Trigger node** listens for and reacts to external events (like a new message).\n\n* **Making API Calls:**\n\n  * See the **HTTP Request node** in action, querying the external OpenWeatherMap API to fetch real-time data.\n  * Understand how to configure API endpoints, query parameters, and handle API keys (using environment variables).\n\n* **Data Manipulation with Code:**\n\n  * Explore the **Code node** to write simple JavaScript for combining data from different sources (Telegram input and API response).\n  * Learn basic data structuring and transformation within n8n.\n\n* **Database Integration (Notion):**\n\n  * Discover how to use the **Notion node** to interact with a Notion database.\n  * Practice retrieving database information and, more importantly, creating new pages (entries/rows) with dynamic data.\n\n* **Environment Variables:** Learn the importance of using environment variables for managing sensitive information (like API keys) and configurable parameters (like city/location).\n\n* **Workflow Logic & Data Flow:** Observe how data passes between nodes and how different components work together to achieve a complete automation.\n\n---\n\n## Why This Workflow? (Beyond Learning) ü§î\n\nWhile the primary goal is educational, the workflow itself is useful for:\n\n* **Automated Data Collection:** It prompts for mood via Telegram and fetches weather automatically.\n* **Consistent Logging:** Ensures daily entries into your Notion journal.\n* **Centralized Information:** Stores mood and weather data in a structured Notion database.\n\n---\n\n## Core Features & How They Teach You üß©\n\nLet‚Äôs break down how each part of the workflow demonstrates key n8n concepts:\n\n### üìÖ Daily Automation Cycle & Triggers:\n\n* **Daily Trigger (Cron node):** ‚è∞ Initiates the workflow daily. *Learning:* This is your introduction to time-based automation. Observe its simple configuration for scheduling.\n* **Telegram Mood Prompt (Telegram node):** üì© Sends a message. *Learning:* Shows a basic \"action\" node interacting with an external service.\n* **Telegram Mood Capture (Telegram Trigger node):** üé£ Listens for your reply. *Learning:* A prime example of an event-driven trigger. See how it waits for user input to continue the workflow.\n\n### üåç Fetching External Data (APIs):\n\n* **Weather Data Fetch (HTTP Request node for OpenWeatherMap):** üå¶Ô∏è Retrieves current weather. *Learning:* The core of API interaction. Examine how the URL, query parameters (`appid`, `q` or `lat`/`lon`), and environment variables are used. Try changing the parameters!\n\n### ‚öôÔ∏è Processing Data (Code Node):\n\n* **Data Consolidation (Code node):** üõ†Ô∏è Combines mood and weather data. *Learning:* A practical use of the Code node. Look at the JavaScript to understand how it accesses data from previous nodes (`$input`, `$('Node Name')`) and structures the output.\n\n### üìù Storing Data (Notion Integration):\n\n* **Notion Database Interaction (Notion nodes):** ‚úçÔ∏è\n\n  * \"Retrieve Database\": Gets database info. *Learning:* Demonstrates reading from Notion.\n  * \"Add row into Notion\": Logs the data. *Learning:* Shows how to write data to Notion, mapping your workflow data to specific Notion properties. This is a common pattern for many database integrations.\n\n*Note: The template includes two paths for weather fetching (city name vs. lat/lon). This allows you to explore different ways to configure the HTTP Request node and manage input data.*\n\n---\n\n## Getting Started: Your Learning Lab Setup üõ†Ô∏è\n\nSet up your learning environment:\n\n1. **Import the Workflow:** Add the `.json` to n8n. This is your starting blueprint!\n2. **Set Up Environment Variables in n8n:**\n\n   * `OPEN_WEATHER_API_KEY`: Your OpenWeatherMap API key.\n   * `City`: (e.g., \"Paris\") For city-based weather.\n   * `latitude`: (e.g., \"18.834366\") For coordinate-based weather.\n   * `longitude`: (e.g., \"35.352342\") For coordinate-based weather.\n3. **Configure Node Credentials:**\n\n   * **Telegram:** Link your Telegram API credentials in the \"Send Mood Prompt\" and \"Wait for Mood Response\" nodes.\n   * **Notion:** Connect your Notion API credentials in the \"Retrieve Database\" and \"Add row into Notion\" nodes.\n4. **Personalize Node Settings (Experiment Here!):**\n\n   * **Daily Trigger (Cron Node):** Change the \"Trigger Times\". How does this affect when the workflow runs?\n   * **Send Mood Prompt (Telegram Node):**\n\n     * Update the `Chat ID` (e.g., from `=83495863`) to your own.\n     * Modify the `Text` of the prompt.\n   * **Notion Nodes:**\n\n     * Set your target `Database ID` (e.g., replace `20e9c592...`).\n     * Ensure your Notion database has properties like `city`, `description`, `temperature`, `mood`, etc., as defined in the \"Add row into Notion\" node. Try adding or removing properties to see what happens!\n   * **Weather Fetching Path:**\n\n     * Experiment with enabling one path (city name or lat/lon) and disabling the other. Observe how the HTTP Request node parameters differ. Ensure relevant environment variables are set.\n5. **Activate and Test:** Turn the workflow ON. Trigger it manually or wait for the Cron. Check each node‚Äôs output to understand the data flow.\n\n---\n\n## How The Automation Works (A Learning Recap) ‚öôÔ∏è\n\nFollow the data and actions:\n\n1. **TRIGGER:** Cron node (scheduled) or Telegram Trigger (event-based after prompt).\n2. **ACTION (Prompt):** Telegram node sends a message.\n3. **INPUT (User):** You reply to the Telegram message.\n4. **API CALL:** HTTP Request node fetches weather using your API key and location.\n5. **CODE PROCESSING:** Code node merges your mood and the weather data.\n6. **DATABASE WRITE:** Notion node creates a new entry with the combined data.\n\nUse the n8n execution log to inspect the input and output of each node. This is invaluable for learning and debugging!\n\n---\n\n## Next Steps in Your Learning Journey üöÄ\n\nOnce you're comfortable, try these to deepen your understanding:\n\n* **Modify the Code Node:** Add new data transformations. Can you format the date or extract more specific weather details?\n* **Change API Parameters:** Explore the OpenWeatherMap API docs. Can you fetch forecast data instead of current weather?\n* **Add Error Handling:** What happens if the API call fails? Explore the \"Error Trigger\" or \"Continue on Fail\" settings.\n* **Integrate a New Service:** Try sending a summary to email or another messaging app.\n* **Explore Different Trigger Types:** What other ways could this workflow be initiated?\n\n---\n\n## Requirements (Your Learning Kit) üìã\n\n* An active n8n instance.\n* Telegram Bot API credentials.\n* An OpenWeatherMap API Key.\n* Notion API credentials & a configured Notion Database.\n* Curiosity and a willingness to experiment!\n\n*May your mood tracking be seamless and your weather always logged!*",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Retrieve City Weather",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get Weather using city name",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Weather using lat/lon",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Wait for Mood Response1",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Wait for Mood Response",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Mood Prompt",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Daily Trigger",
      "type": "n8n-nodes-base.cron",
      "role": "cron",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Add row into Notion",
      "type": "n8n-nodes-base.notion",
      "role": "notion",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Retrieve Database",
      "type": "n8n-nodes-base.notion",
      "role": "notion",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Add row into Notion1",
      "type": "n8n-nodes-base.notion",
      "role": "notion",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Retrieve Database1",
      "type": "n8n-nodes-base.notion",
      "role": "notion",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Retrieve City Weather1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    }
  ]
}