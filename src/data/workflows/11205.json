{
  "id": 11205,
  "slug": "11205",
  "title": "Generate marketing ad banners with LINE, Gemini, and Nano Banana Pro",
  "description": "## About This Template\nThis workflow creates high-quality, text-rich advertising banners from simple LINE messages. \n\nIt combines **Google Gemini** (for marketing-focused prompt engineering) and **Nano Banana Pro** (accessed via Kie.ai API) to generate images with superior text rendering capabilities. It also handles the asynchronous API polling required for high-quality image generation.\n\n## How It Works\n1.  **Input:** Users send a banner concept via LINE (e.g., \"Coffee brand, morning vibe\").\n2.  **Prompt Engineering:** Gemini optimizes the request into a detailed prompt, specifying lighting, composition, and Japanese catch-copy placement.\n3.  **Async Generation:** The workflow submits a job to Nano Banana Pro (Kie API) and intelligently waits/polls until the image is ready.\n4.  **Hosting:** The final image is downloaded and uploaded to a public AWS S3 bucket.\n5.  **Delivery:** The image is pushed back to the user on LINE.\n\n## Who It’s For\n* Marketing teams creating A/B test assets.\n* Japanese market advertisers needing accurate text rendering.\n* Developers looking for an example of **Async API Polling** patterns in n8n.\n\n## Requirements\n* **n8n** (Cloud or Self-hosted).\n* **Kie.ai API Key** (for Nano Banana Pro model).\n* **Google Gemini API Key**.\n* **AWS S3 Bucket** (Public access enabled).\n* **LINE Official Account** (Messaging API).\n\n## Setup Steps\n1.  **Credentials:** Configure the \"Header Auth\" credential for the Kie.ai nodes (Header: `Authorization`, Value: `Bearer YOUR_API_KEY`).\n2.  **AWS:** Ensure your S3 bucket allows public read access so LINE can display the image.\n3.  **Webhook:** Add the production webhook URL to your LINE Developers console.",
  "featuredImage": "/data/workflows/11205/11205.webp",
  "author": {
    "id": 101,
    "slug": "pippi",
    "name": "Masaki Go",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 4573,
  "downloads": 457,
  "createdAt": "2025-11-25T03:59:11.780Z",
  "updatedAt": "2026-01-16T09:07:56.011Z",
  "publishedAt": "2025-11-25T03:59:11.780Z",
  "nodes": 16,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11205",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate marketing ad banners with LINE, Gemini, and Nano Banana Pro",
    "workflowName": "Generate marketing ad banners with LINE, Gemini, and Nano Banana Pro",
    "description": "## About This Template\nThis workflow creates high-quality, text-rich advertising banners from simple LINE messages. \n\nIt combines **Google Gemini** (for marketing-focused prompt engineering) and **Nano Banana Pro** (accessed via Kie.ai API) to generate images with superior text rendering capabilities. It also handles the asynchronous API polling required for high-quality image generation.\n\n## How It Works\n1.  **Input:** Users send a banner concept via LINE (e.g., \"Coffee brand, morning vibe\").\n2.  **Prompt Engineering:** Gemini optimizes the request into a detailed prompt, specifying lighting, composition, and Japanese catch-copy placement.\n3.  **Async Generation:** The workflow submits a job to Nano Banana Pro (Kie API) and intelligently waits/polls until the image is ready.\n4.  **Hosting:** The final image is downloaded and uploaded to a public AWS S3 bucket.\n5.  **Delivery:** The image is pushed back to the user on LINE.\n\n## Who It’s For\n* Marketing teams creating A/B test assets.\n* Japanese market advertisers needing accurate text rendering.\n* Developers looking for an example of **Async API Polling** patterns in n8n.\n\n## Requirements\n* **n8n** (Cloud or Self-hosted).\n* **Kie.ai API Key** (for Nano Banana Pro model).\n* **Google Gemini API Key**.\n* **AWS S3 Bucket** (Public access enabled).\n* **LINE Official Account** (Messaging API).\n\n## Setup Steps\n1.  **Credentials:** Configure the \"Header Auth\" credential for the Kie.ai nodes (Header: `Authorization`, Value: `Bearer YOUR_API_KEY`).\n2.  **AWS:** Ensure your S3 bucket allows public read access so LINE can display the image.\n3.  **Webhook:** Add the production webhook URL to your LINE Developers console.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Main Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Check Job Status",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note ",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "LINE Webhook1",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Data1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 1"
    },
    {
      "name": "Optimize Prompt (Marketing)1",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "role": "googleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Submit to Nano Banana Pro1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Wait for Generation1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1"
    },
    {
      "name": "Parse Result1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 1"
    },
    {
      "name": "Download Image1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Upload to S",
      "type": "n8n-nodes-base.awsS3",
      "role": "awsS3",
      "configDescription": "Version 2"
    },
    {
      "name": "HTTP Request2",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Code1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    }
  ]
}