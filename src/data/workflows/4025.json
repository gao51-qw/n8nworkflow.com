{
  "id": 4025,
  "slug": "4025",
  "title": "Stacey ‚Äì your Telegram AI assistant (powered by MCP, Gemini & Google tools)",
  "description": "\n\n\n\n&gt; This n8n template builds **Stacey**, an AI assistant that runs inside Telegram. Stacey listens to your messages, understands what you want using AI, and intelligently routes commands to MCP-connected tools ‚Äî like Gmail, Google Calendar, a blog writer, and more.\n&gt;\n&gt; For optimal performance, we recommend using **OpenAI‚Äôs GPT-4o** model. In this template, **Google Gemini** is used as a free alternative.\n\n---\n\n## üí° Who is this for?\n\nThis workflow is designed for:\n\n* AI tool creators and automation builders\n* Entrepreneurs who want an intelligent Telegram assistant\n* Support and scheduling teams who use Google tools\n* Agencies that build & resell AI automations\n* Users looking to automate everyday actions like emails, scheduling, blog writing, and contact lookups\n\n---\n\n## üß† What this workflow does\n\n* Listens to Telegram messages (text and voice)\n* Transcribes audio using Whisper (optional)\n* Uses **Stacey**, an AI agent powered by **Gemini** (or GPT-4o if you upgrade), to:\n\n  * Understand the user's intent\n  * Choose the correct tool using MCP logic\n  * Execute tasks using Gmail, Google Calendar, blog writer, and more\n* Responds to the user naturally with confirmations and outputs\n\n---\n\n## ‚öôÔ∏è Prerequisites\n\nBefore using this workflow, make sure you have:\n\n* A self-hosted or cloud-based **n8n instance**\n* A **Telegram Bot Token** from [@BotFather](https://t.me/botfather)\n* **Google OAuth2 credentials** for:\n\n  * Gmail\n  * Google Calendar\n* Optional: **OpenAI or Whisper API key** for voice transcription\n* Optional: **Tavily API key** for live web search\n* Gemini (Google AI) is preconfigured in the template but can be swapped\n\n---\n\n## üöÄ Step-by-Step Setup\n\n### ‚úÖ Step 1: Add Required Credentials in n8n\n\nGo to **Settings ‚Üí Credentials** and add:\n\n* **Telegram API**: Your bot token from BotFather\n* **Google OAuth2**:\n\n  * Gmail: Scope `https://www.googleapis.com/auth/gmail.modify`\n  * Calendar: Scope `https://www.googleapis.com/auth/calendar`\n* **Gemini / Palm API**: Used for the language model\n* (Optional) **OpenAI Whisper**: For voice transcription\n* (Optional) **Tavily**: For real-time internet searches\n\n---\n\n### ‚úÖ Step 2: Import the Workflow\n\n1. Go to n8n\n2. Click **Workflows ‚Üí Import from File**\n3. Upload `ai_assistant.json`\n4. Connect your saved credentials to the correct nodes:\n\n   * Telegram Trigger & Sender\n   * Gmail, Calendar, Tavily, Gemini, Whisper\n\n\n‚úÖ Step 2.5: Import the Content Creator Sub-Workflow\n\nThe Content Creator is implemented as a modular sub-workflow and invoked through the Map Server as part of the MCP logic.\n\nTo set it up:\n\nGo to Workflows ‚Üí Import from File\nUpload content_creator_tool.json (provided in your files)\nSave it with a name like ‚ÄúContent Creator Tool‚Äù\nüîó Integration with MCP:\n\nThis tool is triggered via the MCP Map Server using an Execute Workflow node\nThe AI agent chooses this tool when the user request involves writing blog posts, emails, product descriptions, etc.\nMake sure the tool ID or name in the Map Server matches what the AI agent uses in its logic\nYou can customize this sub-workflow to:\n\nAdjust writing prompts (e.g., tone, format, target audience)\nAdd branching for different content types (e.g., blog vs. email)\nSend outputs directly to Gmail, Google Docs, or Sheets\n---\n\n### ‚úÖ Step 3: Set Up Your Telegram Bot\n\n1. Talk to [@BotFather](https://t.me/botfather)\n2. Use `/newbot` to create a bot and get your token\n3. Paste this token into:\n\n   * `Telegram Trigger` node (`Telegram Trigger1`)\n   * `Telegram Send Message` node (`Response1`)\n4. Make sure your bot‚Äôs privacy is set correctly (use `/setprivacy`)\n\n---\n\n### ‚úÖ Step 4: Customize Your Assistant‚Äôs Personality\n\n1. Open the **‚ÄúAI Agent‚Äù** node\n2. In the `systemMessage` field, you'll find a prompt that defines Stacey:\n\n   * Her role is to **delegate** user requests to the right MCP tool\n   * Includes examples, tone, rules, and logic\n3. You can customize Stacey‚Äôs:\n\n   * Name\n   * Behavior\n   * Supported tools\n\n---\n\n### ‚úÖ Step 5: Define Your MCP Tools (if extending)\n\nThis template includes:\n\n* `Send Email`\n* `Reply to Email`\n* `Get Emails`\n* `Label Emails`\n* `Create/Update/Delete Events`\n* `Content Creator`\n* `Search Web with Tavily`\n* `Calculator`\n\nTo extend:\n\n* Add a new tool node\n* Link it to `MCP Server Trigger`\n* Reference it in the prompt in `AI Agent` node\n\n---\n\n### ‚úÖ Step 6: Test the Workflow\n\nOpen Telegram and message your bot:\n\n* ‚ÄúSend an email to John about the new budget‚Äù\n* ‚ÄúSchedule a meeting Friday at 3 PM with Alex‚Äù\n* ‚ÄúWrite a blog post about solar energy‚Äù\n* ‚ÄúWhat‚Äôs in my inbox?‚Äù\n* ‚ÄúTranslate this message‚Äù (if extended with translation tools)\n\nThe bot will:\n\n* Interpret the intent\n* Ask for any missing data\n* Trigger the right tool\n* Send confirmation via Telegram\n\n---\n\n## ‚ú® Customization Ideas\n\n### ‚úèÔ∏è Add Voice Transcription\n\n* Enable the `Download File` and `Transcribe` nodes\n* Requires OpenAI Whisper API key\n\n### üß† Upgrade to GPT-4o\n\n* Replace the Gemini node with an OpenAI Chat node\n* Connect GPT-4o for improved reasoning and language understanding\n\n### üß© Add More Tools\n\n* Notion, Slack, Salesforce, Hubspot, WhatsApp, and more can be added\n* Just route them via MCP and update the AI prompt\n\n---\n\n## üß™ Troubleshooting\n\n**Telegram not responding?**\n\n* Ensure correct bot token and webhook connection\n* Make sure the bot is not in privacy mode if needed\n\n**Gmail actions not working?**\n\n* Double-check your OAuth scopes\n* Ensure Gmail API is enabled in your Google Cloud project\n\n**AI not responding or behaving poorly?**\n\n* Consider upgrading to OpenAI GPT-4o for better reasoning\n* Revisit and refine your system prompt\n\n---\n\n## üßæ Summary\n\n* Name: **Stacey ‚Äì AI Telegram Assistant**\n* Built with: n8n + Gemini + Google + MCP Logic\n* Telegram acts as the front-end\n* Gemini or GPT-4o powers intelligence\n* MCP routes user intent to the right tool\n* Fully extensible and no-code friendly\n\n---\n\n## üåü Credits & License\n\nCreated by **David Olusola**\nFree to use, modify, and resell with attribution.\nIf this helped you, please **rate the template** or follow me on the n8n Creator Page.\n\n---\n\n",
  "featuredImage": "/data/workflows/4025/4025.webp",
  "author": {
    "id": 101,
    "slug": "dae221",
    "name": "David Olusola",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1064,
  "downloads": 106,
  "createdAt": "2025-05-13T17:25:59.368Z",
  "updatedAt": "2026-01-16T08:32:40.704Z",
  "publishedAt": "2025-05-13T17:25:59.368Z",
  "nodes": 32,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4025",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Stacey ‚Äì your Telegram AI assistant (powered by MCP, Gemini & Google tools)",
    "workflowName": "Stacey ‚Äì your Telegram AI assistant (powered by MCP, Gemini & Google tools)",
    "description": "&gt; This n8n template builds **Stacey**, an AI assistant that runs inside Telegram. Stacey listens to your messages, understands what you want using AI, and intelligently routes commands to MCP-connected tools ‚Äî like Gmail, Google Calendar, a blog writer, and more.\n&gt;\n&gt; For optimal performance, we recommend using **OpenAI‚Äôs GPT-4o** model. In this template, **Google Gemini** is used as a free alternative.\n\n---\n\n## üí° Who is this for?\n\nThis workflow is designed for:\n\n* AI tool creators and automation builders\n* Entrepreneurs who want an intelligent Telegram assistant\n* Support and scheduling teams who use Google tools\n* Agencies that build & resell AI automations\n* Users looking to automate everyday actions like emails, scheduling, blog writing, and contact lookups\n\n---\n\n## üß† What this workflow does\n\n* Listens to Telegram messages (text and voice)\n* Transcribes audio using Whisper (optional)\n* Uses **Stacey**, an AI agent powered by **Gemini** (or GPT-4o if you upgrade), to:\n\n  * Understand the user's intent\n  * Choose the correct tool using MCP logic\n  * Execute tasks using Gmail, Google Calendar, blog writer, and more\n* Responds to the user naturally with confirmations and outputs\n\n---\n\n## ‚öôÔ∏è Prerequisites\n\nBefore using this workflow, make sure you have:\n\n* A self-hosted or cloud-based **n8n instance**\n* A **Telegram Bot Token** from [@BotFather](https://t.me/botfather)\n* **Google OAuth2 credentials** for:\n\n  * Gmail\n  * Google Calendar\n* Optional: **OpenAI or Whisper API key** for voice transcription\n* Optional: **Tavily API key** for live web search\n* Gemini (Google AI) is preconfigured in the template but can be swapped\n\n---\n\n## üöÄ Step-by-Step Setup\n\n### ‚úÖ Step 1: Add Required Credentials in n8n\n\nGo to **Settings ‚Üí Credentials** and add:\n\n* **Telegram API**: Your bot token from BotFather\n* **Google OAuth2**:\n\n  * Gmail: Scope `https://www.googleapis.com/auth/gmail.modify`\n  * Calendar: Scope `https://www.googleapis.com/auth/calendar`\n* **Gemini / Palm API**: Used for the language model\n* (Optional) **OpenAI Whisper**: For voice transcription\n* (Optional) **Tavily**: For real-time internet searches\n\n---\n\n### ‚úÖ Step 2: Import the Workflow\n\n1. Go to n8n\n2. Click **Workflows ‚Üí Import from File**\n3. Upload `ai_assistant.json`\n4. Connect your saved credentials to the correct nodes:\n\n   * Telegram Trigger & Sender\n   * Gmail, Calendar, Tavily, Gemini, Whisper\n\n\n‚úÖ Step 2.5: Import the Content Creator Sub-Workflow\n\nThe Content Creator is implemented as a modular sub-workflow and invoked through the Map Server as part of the MCP logic.\n\nTo set it up:\n\nGo to Workflows ‚Üí Import from File\nUpload content_creator_tool.json (provided in your files)\nSave it with a name like ‚ÄúContent Creator Tool‚Äù\nüîó Integration with MCP:\n\nThis tool is triggered via the MCP Map Server using an Execute Workflow node\nThe AI agent chooses this tool when the user request involves writing blog posts, emails, product descriptions, etc.\nMake sure the tool ID or name in the Map Server matches what the AI agent uses in its logic\nYou can customize this sub-workflow to:\n\nAdjust writing prompts (e.g., tone, format, target audience)\nAdd branching for different content types (e.g., blog vs. email)\nSend outputs directly to Gmail, Google Docs, or Sheets\n---\n\n### ‚úÖ Step 3: Set Up Your Telegram Bot\n\n1. Talk to [@BotFather](https://t.me/botfather)\n2. Use `/newbot` to create a bot and get your token\n3. Paste this token into:\n\n   * `Telegram Trigger` node (`Telegram Trigger1`)\n   * `Telegram Send Message` node (`Response1`)\n4. Make sure your bot‚Äôs privacy is set correctly (use `/setprivacy`)\n\n---\n\n### ‚úÖ Step 4: Customize Your Assistant‚Äôs Personality\n\n1. Open the **‚ÄúAI Agent‚Äù** node\n2. In the `systemMessage` field, you'll find a prompt that defines Stacey:\n\n   * Her role is to **delegate** user requests to the right MCP tool\n   * Includes examples, tone, rules, and logic\n3. You can customize Stacey‚Äôs:\n\n   * Name\n   * Behavior\n   * Supported tools\n\n---\n\n### ‚úÖ Step 5: Define Your MCP Tools (if extending)\n\nThis template includes:\n\n* `Send Email`\n* `Reply to Email`\n* `Get Emails`\n* `Label Emails`\n* `Create/Update/Delete Events`\n* `Content Creator`\n* `Search Web with Tavily`\n* `Calculator`\n\nTo extend:\n\n* Add a new tool node\n* Link it to `MCP Server Trigger`\n* Reference it in the prompt in `AI Agent` node\n\n---\n\n### ‚úÖ Step 6: Test the Workflow\n\nOpen Telegram and message your bot:\n\n* ‚ÄúSend an email to John about the new budget‚Äù\n* ‚ÄúSchedule a meeting Friday at 3 PM with Alex‚Äù\n* ‚ÄúWrite a blog post about solar energy‚Äù\n* ‚ÄúWhat‚Äôs in my inbox?‚Äù\n* ‚ÄúTranslate this message‚Äù (if extended with translation tools)\n\nThe bot will:\n\n* Interpret the intent\n* Ask for any missing data\n* Trigger the right tool\n* Send confirmation via Telegram\n\n---\n\n## ‚ú® Customization Ideas\n\n### ‚úèÔ∏è Add Voice Transcription\n\n* Enable the `Download File` and `Transcribe` nodes\n* Requires OpenAI Whisper API key\n\n### üß† Upgrade to GPT-4o\n\n* Replace the Gemini node with an OpenAI Chat node\n* Connect GPT-4o for improved reasoning and language understanding\n\n### üß© Add More Tools\n\n* Notion, Slack, Salesforce, Hubspot, WhatsApp, and more can be added\n* Just route them via MCP and update the AI prompt\n\n---\n\n## üß™ Troubleshooting\n\n**Telegram not responding?**\n\n* Ensure correct bot token and webhook connection\n* Make sure the bot is not in privacy mode if needed\n\n**Gmail actions not working?**\n\n* Double-check your OAuth scopes\n* Ensure Gmail API is enabled in your Google Cloud project\n\n**AI not responding or behaving poorly?**\n\n* Consider upgrading to OpenAI GPT-4o for better reasoning\n* Revisit and refine your system prompt\n\n---\n\n## üßæ Summary\n\n* Name: **Stacey ‚Äì AI Telegram Assistant**\n* Built with: n8n + Gemini + Google + MCP Logic\n* Telegram acts as the front-end\n* Gemini or GPT-4o powers intelligence\n* MCP routes user intent to the right tool\n* Fully extensible and no-code friendly\n\n---\n\n## üåü Credits & License\n\nCreated by **David Olusola**\nFree to use, modify, and resell with attribution.\nIf this helped you, please **rate the template** or follow me on the n8n Creator Page.\n\n---",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Content Creator Agent",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "role": "toolWorkflow",
      "configDescription": "Version 2"
    },
    {
      "name": "Tavily",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Set 'Text'",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Download File",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Transcribe",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Telegram Trigger1",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Response1",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "MCP Client",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1"
    },
    {
      "name": "MCP Server Trigger",
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "role": "mcpTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Event with Attendee",
      "type": "n8n-nodes-base.googleCalendarTool",
      "role": "googleCalendarTool",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Create Event",
      "type": "n8n-nodes-base.googleCalendarTool",
      "role": "googleCalendarTool",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Get Events",
      "type": "n8n-nodes-base.googleCalendarTool",
      "role": "googleCalendarTool",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Delete Event",
      "type": "n8n-nodes-base.googleCalendarTool",
      "role": "googleCalendarTool",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Update Event",
      "type": "n8n-nodes-base.googleCalendarTool",
      "role": "googleCalendarTool",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send Email",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get Emails",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Create Draft",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Email Reply",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get Labels",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Label Emails",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Mark Unread",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "update contact data",
      "type": "n8n-nodes-base.googleSheetsTool",
      "role": "googleSheetsTool",
      "configDescription": "Version 4.5"
    },
    {
      "name": "search contact data",
      "type": "n8n-nodes-base.googleSheetsTool",
      "role": "googleSheetsTool",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Gemini model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "User Context",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "response parser",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Switch input",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Calculate Maths",
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "role": "toolCalculator",
      "configDescription": "Version 1"
    }
  ]
}