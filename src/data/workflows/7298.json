{
  "id": 7298,
  "slug": "7298",
  "title": "Restaurant order & delivery system for WhatsApp with GPT-4o and Supabase",
  "description": "## How it works\nThis workflow creates a complete AI-powered restaurant ordering system through WhatsApp. It receives customer messages, processes multimedia content (text, voice, images, PDFs, location), uses GPT-4 to understand customer intent and manage conversations, handles the complete ordering flow from menu selection to payment verification, and sends formatted orders to restaurant staff. The system maintains conversation memory, verifies payment receipts using OCR, and provides automated responses in multiple languages.\n\n## Who's it for\nRestaurant owners, food delivery services, and hospitality businesses looking to automate customer service and order management through WhatsApp without hiring additional staff.\n\n## Requirements\n- WhatsApp Business API account\n- OpenAI API key (GPT-4/GPT-4o access recommended)\n- Supabase account (for conversation memory and vector storage)\n- Google Drive account (for menu images and QR codes)\n- Google Maps API key (for location services)\n- Gemini API key (for PDF processing)\n\n## How to set up\n1. **Configure credentials** - Add your WhatsApp Business API, OpenAI, Supabase, Google Drive, and Gemini API credentials to n8n\n2. **Update phone numbers** - Replace `[PHONE_NUMBER]` placeholders with your actual restaurant and staff phone numbers\n3. **Customize restaurant details** - Replace `[RESTAURANT_NAME]`, `[RESTAURANT_OWNER_NAME]`, and `[BANK_ACCOUNT_NUMBER]` with your information\n4. **Upload menu images** - Add your menu images to Google Drive and update the file IDs\n5. **Set up Supabase** - Create tables for chat memory and upload your menu/restaurant information to the vector database\n6. **Configure AI prompts** - Update the restaurant information in the AI agent system messages\n7. **Test the workflow** - Send test messages to verify all integrations work\n\n## How to customize the workflow\n- **Menu management**: Update Google Drive file IDs to display your current menu images\n- **Payment verification**: Modify the receipt analysis logic to match your bank's receipt format\n- **Order formatting**: Customize the order confirmation template sent to kitchen staff\n- **AI personality**: Adjust the restaurant agent's tone and responses in the system prompts\n- **Languages**: The AI supports multiple languages - customize welcome messages for your target market\n- **Business hours**: Add time-based logic to handle orders outside operating hours\n- **Delivery zones**: Integrate with your delivery area logic using the location processing features",
  "featuredImage": "/data/workflows/7298/7298.webp",
  "author": {
    "id": 101,
    "slug": "rodrigozaba",
    "name": "Rodrigo",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 4449,
  "downloads": 444,
  "createdAt": "2025-08-12T15:21:27.859Z",
  "updatedAt": "2026-01-16T08:49:35.164Z",
  "publishedAt": "2025-08-12T15:21:27.859Z",
  "nodes": 55,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7298",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Restaurant order & delivery system for WhatsApp with GPT-4o and Supabase",
    "workflowName": "Restaurant order & delivery system for WhatsApp with GPT-4o and Supabase",
    "description": "## How it works\nThis workflow creates a complete AI-powered restaurant ordering system through WhatsApp. It receives customer messages, processes multimedia content (text, voice, images, PDFs, location), uses GPT-4 to understand customer intent and manage conversations, handles the complete ordering flow from menu selection to payment verification, and sends formatted orders to restaurant staff. The system maintains conversation memory, verifies payment receipts using OCR, and provides automated responses in multiple languages.\n\n## Who's it for\nRestaurant owners, food delivery services, and hospitality businesses looking to automate customer service and order management through WhatsApp without hiring additional staff.\n\n## Requirements\n- WhatsApp Business API account\n- OpenAI API key (GPT-4/GPT-4o access recommended)\n- Supabase account (for conversation memory and vector storage)\n- Google Drive account (for menu images and QR codes)\n- Google Maps API key (for location services)\n- Gemini API key (for PDF processing)\n\n## How to set up\n1. **Configure credentials** - Add your WhatsApp Business API, OpenAI, Supabase, Google Drive, and Gemini API credentials to n8n\n2. **Update phone numbers** - Replace `[PHONE_NUMBER]` placeholders with your actual restaurant and staff phone numbers\n3. **Customize restaurant details** - Replace `[RESTAURANT_NAME]`, `[RESTAURANT_OWNER_NAME]`, and `[BANK_ACCOUNT_NUMBER]` with your information\n4. **Upload menu images** - Add your menu images to Google Drive and update the file IDs\n5. **Set up Supabase** - Create tables for chat memory and upload your menu/restaurant information to the vector database\n6. **Configure AI prompts** - Update the restaurant information in the AI agent system messages\n7. **Test the workflow** - Send test messages to verify all integrations work\n\n## How to customize the workflow\n- **Menu management**: Update Google Drive file IDs to display your current menu images\n- **Payment verification**: Modify the receipt analysis logic to match your bank's receipt format\n- **Order formatting**: Customize the order confirmation template sent to kitchen staff\n- **AI personality**: Adjust the restaurant agent's tone and responses in the system prompts\n- **Languages**: The AI supports multiple languages - customize welcome messages for your target market\n- **Business hours**: Add time-based logic to handle orders outside operating hours\n- **Delivery zones**: Integrate with your delivery area logic using the location processing features",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Postgres Chat Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Google Maps",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "WhatsApp Business Cloud2",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Download Image",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Image Url",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Image",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Download Audio",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Transcribe Audio",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Audio",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get Audio Url",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Text",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Location",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Download File",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get File Url",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "File",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Forward receipt to Management",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Response to Customer",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Message Type",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Message Received",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "role": "whatsAppTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract PDF Content Using Gemini Vision",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Extract from File1",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Postgres Chat Memory4",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model6",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Message to Customer2",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Message to cashier",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "OpenAI",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "WhatsApp Business Cloud",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Menu 1",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "If2",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Order Format",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Receipt Analysis",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Workflow Overview",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Setup Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Restaurant Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Download file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    }
  ]
}