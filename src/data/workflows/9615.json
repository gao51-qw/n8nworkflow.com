{
  "id": 9615,
  "slug": "9615",
  "title": "Telegram chat access control with user permission database",
  "description": "# ğŸ” n8n Workflow: Access Control for Internal Chats or Chatbots\n\nThis n8n workflow helps you restrict access to your internal chats or chatbots so that only authorized team members can interact with them. It's perfect for setups using Telegram, Slack, or other corporate messengers, where you need to prevent unauthorized users from triggering internal automations.\n\n---\n\n## ğŸ“Œ Section 1: Trigger & Input\n\n### âš¡ Receive Message (Telegram Trigger)\n\n**Purpose:** Captures every incoming message from a user interacting with your Telegram bot (or another messenger).\n\n**How it works:** When a user sends a message, it instantly triggers the workflow and passes their username or ID as input data.\n\n**Benefit:** Acts as the entry point for verifying whether a user is allowed to proceed.\n\n---\n\n## ğŸ“Œ Section 2: Access Table Lookup\n\n### ğŸ“‹ User Access Table (Data Node / Spreadsheet / DB Query)\n\n**Purpose:** Stores all your team members and their current access status.\n\n**Structure Example:**\n\n| Username | Access Status |\n|----------|---------------|\n| user1    | granted       |\n| user2    | denied        |\n| user3    | granted       |\n\n**Benefit:** Centralized access control â€” you can easily update user permissions without editing the workflow.\n\n---\n\n## ğŸ“Œ Section 3: Permission Check\n\n### ğŸ§© Check Access (IF Node)\n\n**Purpose:** Compares the incoming user's name or ID against the access table.\n\n**Logic:**\n\n```\nIf status = granted â†’ Allow message to continue  \nIf status = denied â†’ Stop workflow execution\n```\n\n**Benefit:** Ensures only approved users can interact with your automations or receive responses.\n\n---\n\n## ğŸ“Œ Section 4: Response Handling\n\n### ğŸ’¬ Send Reply (Telegram Node)\n\n**Purpose:** Sends a message back to the user depending on their access level.\n\n**Paths:**\n\n* âœ… **Granted:** Sends the normal bot response or triggers the main process.\n* âŒ **Denied:** Sends no reply (or an optional \"Access denied\" message).\n\n**Benefit:** Prevents unauthorized access while maintaining a seamless experience for approved users.\n\n---\n\n## ğŸ“Š Workflow Overview Table\n\n| Section | Node Name | Purpose |\n|---------|-----------|---------|\n| 1. Trigger | Receive Message | Captures incoming messages |\n| 2. Access Table | User Access Table | Stores usernames + permissions |\n| 3. Check | Check Access | Verifies if user has permission |\n| 4. Response | Send Reply | Sends or blocks response based on status |\n\n---\n\n## ğŸ¯ Key Benefits\n\n* ğŸ” **Secure access control:** Only trusted users can trigger your internal automations.\n* âš™ï¸ **Dynamic management:** Easily update user permissions from a table or database.\n* ğŸ§  **Lightweight setup:** Just three nodes create a fully functional access gate.\n* ğŸš€ **Scalable foundation:** Extend it with role-based access or activity logging later.",
  "featuredImage": "/data/workflows/9615/9615.webp",
  "author": {
    "id": 101,
    "slug": "egm-systems",
    "name": "Yehor EGMS",
    "avatar": ""
  },
  "categories": [
    "Miscellaneous"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 109,
  "downloads": 10,
  "createdAt": "2025-10-14T11:02:14.903Z",
  "updatedAt": "2026-01-16T09:01:14.388Z",
  "publishedAt": "2025-10-14T11:02:14.903Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9615",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Telegram chat access control with user permission database",
    "workflowName": "Telegram chat access control with user permission database",
    "description": "# ğŸ” n8n Workflow: Access Control for Internal Chats or Chatbots\n\nThis n8n workflow helps you restrict access to your internal chats or chatbots so that only authorized team members can interact with them. It's perfect for setups using Telegram, Slack, or other corporate messengers, where you need to prevent unauthorized users from triggering internal automations.\n\n---\n\n## ğŸ“Œ Section 1: Trigger & Input\n\n### âš¡ Receive Message (Telegram Trigger)\n\n**Purpose:** Captures every incoming message from a user interacting with your Telegram bot (or another messenger).\n\n**How it works:** When a user sends a message, it instantly triggers the workflow and passes their username or ID as input data.\n\n**Benefit:** Acts as the entry point for verifying whether a user is allowed to proceed.\n\n---\n\n## ğŸ“Œ Section 2: Access Table Lookup\n\n### ğŸ“‹ User Access Table (Data Node / Spreadsheet / DB Query)\n\n**Purpose:** Stores all your team members and their current access status.\n\n**Structure Example:**\n\n| Username | Access Status |\n|----------|---------------|\n| user1    | granted       |\n| user2    | denied        |\n| user3    | granted       |\n\n**Benefit:** Centralized access control â€” you can easily update user permissions without editing the workflow.\n\n---\n\n## ğŸ“Œ Section 3: Permission Check\n\n### ğŸ§© Check Access (IF Node)\n\n**Purpose:** Compares the incoming user's name or ID against the access table.\n\n**Logic:**\n\n```\nIf status = granted â†’ Allow message to continue  \nIf status = denied â†’ Stop workflow execution\n```\n\n**Benefit:** Ensures only approved users can interact with your automations or receive responses.\n\n---\n\n## ğŸ“Œ Section 4: Response Handling\n\n### ğŸ’¬ Send Reply (Telegram Node)\n\n**Purpose:** Sends a message back to the user depending on their access level.\n\n**Paths:**\n\n* âœ… **Granted:** Sends the normal bot response or triggers the main process.\n* âŒ **Denied:** Sends no reply (or an optional \"Access denied\" message).\n\n**Benefit:** Prevents unauthorized access while maintaining a seamless experience for approved users.\n\n---\n\n## ğŸ“Š Workflow Overview Table\n\n| Section | Node Name | Purpose |\n|---------|-----------|---------|\n| 1. Trigger | Receive Message | Captures incoming messages |\n| 2. Access Table | User Access Table | Stores usernames + permissions |\n| 3. Check | Check Access | Verifies if user has permission |\n| 4. Response | Send Reply | Sends or blocks response based on status |\n\n---\n\n## ğŸ¯ Key Benefits\n\n* ğŸ” **Secure access control:** Only trusted users can trigger your internal automations.\n* âš™ï¸ **Dynamic management:** Easily update user permissions from a table or database.\n* ğŸ§  **Lightweight setup:** Just three nodes create a fully functional access gate.\n* ğŸš€ **Scalable foundation:** Extend it with role-based access or activity logging later.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Permission",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Answer Denied",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Slack Trigger",
      "type": "n8n-nodes-base.slackTrigger",
      "role": "slackTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Get row(s) in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Get a record",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get a database page",
      "type": "n8n-nodes-base.notion",
      "role": "notion",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Filter",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Database with employees",
      "type": "n8n-nodes-base.dataTable",
      "role": "dataTable",
      "configDescription": "Version 1"
    }
  ]
}