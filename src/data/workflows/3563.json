{
  "id": 3563,
  "slug": "3563",
  "title": "Build an AI powered phone agent üìûü§ñ with Retell, Google Calendar and RAG",
  "description": "This Workflow simulates an AI-powered phone agent with [RetellAI](https://dashboard.retellai.com/?ref=davide) with two main functions:\n\n1. **üìÖ Appointment Booking** ‚Äì It can schedule appointments directly into Google Calendar.  \n2. **üß† RAG-based Information Retrieval** ‚Äì It provides answers using a Retrieval-Augmented Generation (RAG) system. For example, it can respond to questions such as store opening hours, return policies, or product details.\n\nThe guide also explains **how to purchase a dedicated phone number** (with a +1 prefix) and link it to the AI agent. This setup is cost-effective, as it uses a **FREE $10 credit** to operate without additional charges in the beginning.\n\n![](https://i.postimg.cc/brtBkgfH/Retellai-flow.png)\n\n---\n\n### **‚ú® Advantages**\n\n- **üïê 24/7 Availability** ‚Äì The AI agent can answer calls and assist customers at any time.  \n- **ü§ñ Automation** ‚Äì It reduces the workload on human staff by handling repetitive tasks like appointment scheduling and FAQ responses.  \n- **üîå Easy Integration** ‚Äì Built with n8n, it‚Äôs flexible and customizable for various platforms and tools.  \n- **üí∏ Low-cost Setup** ‚Äì Using the free credit, businesses can get started without an upfront investment.\n\n---\n\n### **üì¶ Use Cases**\n\n- **üõç E-commerce** ‚Äì Answer common product questions or order inquiries.  \n- **üè¨ Retail Stores** ‚Äì Provide store hours, address info, and return policies.  \n- **üçΩ Restaurants** ‚Äì Take reservations or share menu information.  \n- **üíº Service Providers** ‚Äì Book appointments or consultations.  \n- **üìû Any Local Business** ‚Äì Offer phone support without needing a live operator.\n\n---\n\n### **How It Works**  \nThis Workflow simulates an AI-powered phone agent with two primary functions:  \n\n1. **Appointment Booking**  \n   - The workflow captures call events (e.g., `call_ended` or `call_analyzed`) and extracts key details (transcript, caller info, duration, etc.).  \n   - Using OpenAI, it summarizes the conversation and parses structured data (e.g., names, contact info, dates).  \n   - For scheduling, it converts user-provided dates into Google Calendar-compatible formats and creates events automatically.  \n\n2. **RAG-Based Information Retrieval**  \n   - When a query is received (e.g., store hours, product details), the workflow retrieves relevant information from a Qdrant vector store.  \n   - An AI agent processes the query using the retrieved data and responds via a webhook, ensuring accurate, context-aware answers.   \n\n---  \n\n### **Set Up Steps**  \n1. **Prepare Qdrant Vector Store**  \n   - Create/refresh a Qdrant collection (via HTTP requests).  \n   - Upload and vectorize documents (e.g., from Google Drive) using OpenAI embeddings.  \n\n2. **Configure RetellAI Agent**  \n   - Sign up for [RetellAI](https://dashboard.retellai.com/?ref=davide), create an agent, and set the webhook URLs (`n8n_call` for call events, `n8n_rag_function` for RAG queries).  \n   - Purchase a Twilio phone number and link it to the agent.  \n\n3. **n8n Workflow Setup**  \n   - Connect OpenAI, Qdrant, Google Calendar, and Telegram nodes with credentials.  \n   - Customize prompts for summarization, date parsing, and RAG responses.  \n   - Test the workflow to ensure data flows from call events ‚Üí processing ‚Üí actions (e.g., calendar bookings, Telegram alerts).  \n\n4. **Deploy**  \n   - Trigger the workflow via RetellAI webhooks during calls.  \n   - Monitor outputs (e.g., call summaries in Telegram, calendar events).  \n\n**Note**: Replace placeholders (e.g., `QDRANTURL`, `COLLECTION`, `CHAT_ID`) with actual values. \n\n---\n\n\n### **Need help customizing?**  \n[Contact me](mailto:info@n3w.it) for consulting and support or add me on [Linkedin](https://www.linkedin.com/in/davideboizza/). ",
  "featuredImage": "/data/workflows/3563/3563.webp",
  "author": {
    "id": 101,
    "slug": "n3witalia",
    "name": "Davide",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 26363,
  "downloads": 2636,
  "createdAt": "2025-04-15T12:55:32.914Z",
  "updatedAt": "2026-01-16T08:30:21.738Z",
  "publishedAt": "2025-04-15T12:55:32.914Z",
  "nodes": 36,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3563",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build an AI powered phone agent üìûü§ñ with Retell, Google Calendar and RAG",
    "workflowName": "Build an AI powered phone agent üìûü§ñ with Retell, Google Calendar and RAG",
    "description": "This Workflow simulates an AI-powered phone agent with [RetellAI](https://dashboard.retellai.com/?ref=davide) with two main functions:\n\n1. **üìÖ Appointment Booking** ‚Äì It can schedule appointments directly into Google Calendar.  \n2. **üß† RAG-based Information Retrieval** ‚Äì It provides answers using a Retrieval-Augmented Generation (RAG) system. For example, it can respond to questions such as store opening hours, return policies, or product details.\n\nThe guide also explains **how to purchase a dedicated phone number** (with a +1 prefix) and link it to the AI agent. This setup is cost-effective, as it uses a **FREE $10 credit** to operate without additional charges in the beginning.\n\n![](https://i.postimg.cc/brtBkgfH/Retellai-flow.png)\n\n---\n\n### **‚ú® Advantages**\n\n- **üïê 24/7 Availability** ‚Äì The AI agent can answer calls and assist customers at any time.  \n- **ü§ñ Automation** ‚Äì It reduces the workload on human staff by handling repetitive tasks like appointment scheduling and FAQ responses.  \n- **üîå Easy Integration** ‚Äì Built with n8n, it‚Äôs flexible and customizable for various platforms and tools.  \n- **üí∏ Low-cost Setup** ‚Äì Using the free credit, businesses can get started without an upfront investment.\n\n---\n\n### **üì¶ Use Cases**\n\n- **üõç E-commerce** ‚Äì Answer common product questions or order inquiries.  \n- **üè¨ Retail Stores** ‚Äì Provide store hours, address info, and return policies.  \n- **üçΩ Restaurants** ‚Äì Take reservations or share menu information.  \n- **üíº Service Providers** ‚Äì Book appointments or consultations.  \n- **üìû Any Local Business** ‚Äì Offer phone support without needing a live operator.\n\n---\n\n### **How It Works**  \nThis Workflow simulates an AI-powered phone agent with two primary functions:  \n\n1. **Appointment Booking**  \n   - The workflow captures call events (e.g., `call_ended` or `call_analyzed`) and extracts key details (transcript, caller info, duration, etc.).  \n   - Using OpenAI, it summarizes the conversation and parses structured data (e.g., names, contact info, dates).  \n   - For scheduling, it converts user-provided dates into Google Calendar-compatible formats and creates events automatically.  \n\n2. **RAG-Based Information Retrieval**  \n   - When a query is received (e.g., store hours, product details), the workflow retrieves relevant information from a Qdrant vector store.  \n   - An AI agent processes the query using the retrieved data and responds via a webhook, ensuring accurate, context-aware answers.   \n\n---  \n\n### **Set Up Steps**  \n1. **Prepare Qdrant Vector Store**  \n   - Create/refresh a Qdrant collection (via HTTP requests).  \n   - Upload and vectorize documents (e.g., from Google Drive) using OpenAI embeddings.  \n\n2. **Configure RetellAI Agent**  \n   - Sign up for [RetellAI](https://dashboard.retellai.com/?ref=davide), create an agent, and set the webhook URLs (`n8n_call` for call events, `n8n_rag_function` for RAG queries).  \n   - Purchase a Twilio phone number and link it to the agent.  \n\n3. **n8n Workflow Setup**  \n   - Connect OpenAI, Qdrant, Google Calendar, and Telegram nodes with credentials.  \n   - Customize prompts for summarization, date parsing, and RAG responses.  \n   - Test the workflow to ensure data flows from call events ‚Üí processing ‚Üí actions (e.g., calendar bookings, Telegram alerts).  \n\n4. **Deploy**  \n   - Trigger the workflow via RetellAI webhooks during calls.  \n   - Monitor outputs (e.g., call summaries in Telegram, calendar events).  \n\n**Note**: Replace placeholders (e.g., `QDRANTURL`, `COLLECTION`, `CHAT_ID`) with actual values. \n\n---\n\n\n### **Need help customizing?**  \n[Contact me](mailto:info@n3w.it) for consulting and support or add me on [Linkedin](https://www.linkedin.com/in/davideboizza/).",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Filter",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "n8n_rag_function",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Retrive Qdrant Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "role": "vectorStoreQdrant",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings OpenAI2",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "RAG",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "role": "toolVectorStore",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Telegram",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Google Calendar",
      "type": "n8n-nodes-base.googleCalendar",
      "role": "googleCalendar",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "n8n_call",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "n8n_check_available",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "When clicking ‚ÄòTest workflow‚Äô",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Qdrant Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreQdrant",
      "role": "vectorStoreQdrant",
      "configDescription": "Version 1"
    },
    {
      "name": "Create collection",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Refresh collection",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get folder",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Download Files",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Token Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterTokenSplitter",
      "role": "textSplitterTokenSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Set call fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Extract key points",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Concert start date",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Retrive Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}