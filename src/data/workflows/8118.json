{
  "id": 8118,
  "slug": "8118",
  "title": "Automatic self-hosted application updates with Coolify deployments",
  "description": "## Auto-update n8n instance with Coolify  \n\n### Who’s it for  \nThis workflow is designed for **self-hosted n8n administrators** who want to keep their instance automatically updated to the latest stable release. It removes the need for manual version checks and ensures deployments are always up to date.  \n\n### What it does  \nThe workflow checks your **current n8n version** against the **latest GitHub release**. If a mismatch is detected, it triggers a **Coolify deployment** to update your instance. If both versions match, the workflow ends safely without action.  \n\n### How it works  \n1. **Trigger**: Start manually or on a schedule.  \n2. **HTTP Request (n8n settings)**: Fetches your current version (`versionCli`).  \n3. **HTTP Request (GitHub)**: Fetches the latest n8n release (`name`).  \n4. **Merge (SQL)**: Keeps only the two fields needed.  \n5. **Set (Normalize)**: Converts values into comparable variables.  \n6. **IF Check**: Compares current vs latest version.  \n   - If different → Deploy update.  \n   - If same → Stop with no operation.  \n7. **HTTP Request (Coolify)**: Triggers a forced redeploy via API.  \n\n### How to set up  \n- Replace `https://yourn8ndomain/rest/settings` with your own **n8n domain**.  \n- Replace the Coolify API URL with your **Coolify domain + app UUID**.  \n- Add an **HTTP Bearer credential** containing your Coolify API token.  \n- Adjust the schedule interval (e.g., every 6 hours).  \n\n### Requirements  \n- Self-hosted n8n instance with `/rest/settings` endpoint accessible.  \n- Coolify (or a similar service) managing your n8n deployment.  \n- Valid API token configured as Bearer credential in n8n.  \n\n### How to customize  \n- Change the schedule frequency depending on how often you want checks.  \n- Modify the IF condition if you want stricter or looser version matching (e.g., ignore patch versions).  \n- Replace Coolify API call with another service (like Docker, Portainer, or Kubernetes) if you use a different deployment method.\n",
  "featuredImage": "/data/workflows/8118/8118.webp",
  "author": {
    "id": 101,
    "slug": "mredodos",
    "name": "Edoardo Guzzi",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 313,
  "downloads": 31,
  "createdAt": "2025-09-01T12:28:25.709Z",
  "updatedAt": "2026-01-16T08:54:14.738Z",
  "publishedAt": "2025-09-01T12:28:25.709Z",
  "nodes": 18,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8118",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automatic self-hosted application updates with Coolify deployments",
    "workflowName": "Automatic self-hosted application updates with Coolify deployments",
    "description": "## Auto-update n8n instance with Coolify  \n\n### Who’s it for  \nThis workflow is designed for **self-hosted n8n administrators** who want to keep their instance automatically updated to the latest stable release. It removes the need for manual version checks and ensures deployments are always up to date.  \n\n### What it does  \nThe workflow checks your **current n8n version** against the **latest GitHub release**. If a mismatch is detected, it triggers a **Coolify deployment** to update your instance. If both versions match, the workflow ends safely without action.  \n\n### How it works  \n1. **Trigger**: Start manually or on a schedule.  \n2. **HTTP Request (n8n settings)**: Fetches your current version (`versionCli`).  \n3. **HTTP Request (GitHub)**: Fetches the latest n8n release (`name`).  \n4. **Merge (SQL)**: Keeps only the two fields needed.  \n5. **Set (Normalize)**: Converts values into comparable variables.  \n6. **IF Check**: Compares current vs latest version.  \n   - If different → Deploy update.  \n   - If same → Stop with no operation.  \n7. **HTTP Request (Coolify)**: Triggers a forced redeploy via API.  \n\n### How to set up  \n- Replace `https://yourn8ndomain/rest/settings` with your own **n8n domain**.  \n- Replace the Coolify API URL with your **Coolify domain + app UUID**.  \n- Add an **HTTP Bearer credential** containing your Coolify API token.  \n- Adjust the schedule interval (e.g., every 6 hours).  \n\n### Requirements  \n- Self-hosted n8n instance with `/rest/settings` endpoint accessible.  \n- Coolify (or a similar service) managing your n8n deployment.  \n- Valid API token configured as Bearer credential in n8n.  \n\n### How to customize  \n- Change the schedule frequency depending on how often you want checks.  \n- Modify the IF condition if you want stricter or looser version matching (e.g., ignore patch versions).  \n- Replace Coolify API call with another service (like Docker, Portainer, or Kubernetes) if you use a different deployment method.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky • Overview",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • Manual Trigger",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • Schedule",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • N8N Settings",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • GitHub Latest",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • Merge SQL",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • Set",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • IF",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky • Deploy",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule every time you want start the update check",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "If the 2 versions is not the same make an update of image",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "CALL COOLIFY OR SIMILAR SERVICE FOR UPDATE IMAGE",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Rename variable and unify format",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Merge bot data and pass just what we need",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "When clicking ‘Execute workflow",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "CALL YOUR N8N INSTANCE and retrieve the version",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "CALL GITHUB and retrieve the last n8n image stable version",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    }
  ]
}