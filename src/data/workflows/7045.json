{
  "id": 7045,
  "slug": "7045",
  "title": "Create a multi-model AI chatbot with Telegram, AIMLAPI, and Google Sheets",
  "description": "# üì≤ **AI Multi-Model Telegram Chatbot (n8n + AIMLAPI)**\n\nThis n8n workflow enables Telegram users to interact with **multiple AI models dynamically** using **#model_id commands**. It also supports a **/models** command to list all available models. Each user has a **daily usage limit**, tracked via **Google Sheets**.\n\n---\n\n## üöÄ **Key Features**\n\n* **Dynamic Model Selection:** Users choose models on-the-fly via `#model_id` (e.g., `#openai/gpt-4o`).\n* **/models Command:** Lists all available models grouped by provider.\n* **Daily Limit Per User:** Enforced using Google Sheets.\n* **Prompt Parsing:** Extracts model and message from user input.\n* **Logging:** Logs every request & result into Google Sheets for usage tracking.\n* **Seamless Telegram Delivery:** Responses are sent directly back to the chat.\n\n---\n\n## üõ† **Setup Guide**\n\n### 1. üì≤ **Create a Telegram Bot**\n\n* Go to [@BotFather](https://t.me/BotFather)\n* Use `/newbot` ‚Üí Set name & username.\n* Copy the generated **API token**.\n\n### 2. üîê **Add Telegram Credentials to n8n**\n\n* Go to **n8n &gt; Credentials &gt; Telegram API**.\n* Create a new credential with the BotFather token.\n\n### 3. üìó **Google Sheets Setup**\n\n* Create a Google Sheet named **Sheet1**.\n* Add columns:\n  ```\n  user_id | date | query | result\n  ```\n* Share the sheet with your **Service Account** or **OAuth Email** (depending on auth method).\n\n### 4. üîå **Connect AIMLAPI**\n\n* Get your API key from *[AIMLAPI](https://aimlapi.com/app/?utm_source=n8n-workflow&utm_medium=github&utm_campaign=integration).*\n* In n8n &gt; Credentials, add **AI/ML API**:\n  * API Key: your_key_here.\n\n### 5. ‚öôÔ∏è **Customize Limits & Enhancements**\n\n* Adjust daily limits in the `Set Daily Limit` node.\n* Optional:\n  * Add NSFW content filtering.\n  * Implement alias commands.\n  * Extend with /help, /usage, /history.\n  * Add inline button UX (advanced).\n\n---\n\n## üí° **How It Works**\n\n### ‚û°Ô∏è **Command Examples:**\n\n1. **Start a chat with a specific model:**\n   ```\n   #openai/gpt-4o Write a motivational quote.\n   ```\n2. **Request available models list:**\n   ```\n   /models\n   ```\n\n### ‚û°Ô∏è **Workflow Logic:**\n\n1. **Receives a Telegram message.**\n\n2. Switch node checks if the message is `/models` or a prompt.\n\n3. For `/models`, it fetches and sends a grouped list of models.\n\n4. For prompts:\n   * Checks usage limits.\n   * Parses `#model_id` and prompt text.\n   * Dynamically routes the request to the chosen model.\n   * Sends the AI's response back to the user.\n   * Logs the query & result to Google Sheets.\n\n5. If daily limit exceeded ‚Üí sends a limit exceeded message.\n\n---\n\n## üß™ **Testing & Debugging Tips**\n\n* Test via a separate Telegram chat.\n* Use Console/Set nodes to debug payloads.\n* Always test commands by messaging the bot (not via \"Execute Node\").\n* Validate cases:\n  * Missing #model_id.\n  * Invalid model_id.\n  * Limit exceeded handling.\n",
  "featuredImage": "/data/workflows/7045/7045.webp",
  "author": {
    "id": 101,
    "slug": "d1m7asis",
    "name": "AI/ML API | D1m7asis",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 616,
  "downloads": 61,
  "createdAt": "2025-08-06T09:42:43.152Z",
  "updatedAt": "2026-01-16T08:48:21.222Z",
  "publishedAt": "2025-08-06T09:42:43.152Z",
  "nodes": 25,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7045",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create a multi-model AI chatbot with Telegram, AIMLAPI, and Google Sheets",
    "workflowName": "Create a multi-model AI chatbot with Telegram, AIMLAPI, and Google Sheets",
    "description": "# üì≤ **AI Multi-Model Telegram Chatbot (n8n + AIMLAPI)**\n\nThis n8n workflow enables Telegram users to interact with **multiple AI models dynamically** using **#model_id commands**. It also supports a **/models** command to list all available models. Each user has a **daily usage limit**, tracked via **Google Sheets**.\n\n---\n\n## üöÄ **Key Features**\n\n* **Dynamic Model Selection:** Users choose models on-the-fly via `#model_id` (e.g., `#openai/gpt-4o`).\n* **/models Command:** Lists all available models grouped by provider.\n* **Daily Limit Per User:** Enforced using Google Sheets.\n* **Prompt Parsing:** Extracts model and message from user input.\n* **Logging:** Logs every request & result into Google Sheets for usage tracking.\n* **Seamless Telegram Delivery:** Responses are sent directly back to the chat.\n\n---\n\n## üõ† **Setup Guide**\n\n### 1. üì≤ **Create a Telegram Bot**\n\n* Go to [@BotFather](https://t.me/BotFather)\n* Use `/newbot` ‚Üí Set name & username.\n* Copy the generated **API token**.\n\n### 2. üîê **Add Telegram Credentials to n8n**\n\n* Go to **n8n &gt; Credentials &gt; Telegram API**.\n* Create a new credential with the BotFather token.\n\n### 3. üìó **Google Sheets Setup**\n\n* Create a Google Sheet named **Sheet1**.\n* Add columns:\n  ```\n  user_id | date | query | result\n  ```\n* Share the sheet with your **Service Account** or **OAuth Email** (depending on auth method).\n\n### 4. üîå **Connect AIMLAPI**\n\n* Get your API key from *[AIMLAPI](https://aimlapi.com/app/?utm_source=n8n-workflow&utm_medium=github&utm_campaign=integration).*\n* In n8n &gt; Credentials, add **AI/ML API**:\n  * API Key: your_key_here.\n\n### 5. ‚öôÔ∏è **Customize Limits & Enhancements**\n\n* Adjust daily limits in the `Set Daily Limit` node.\n* Optional:\n  * Add NSFW content filtering.\n  * Implement alias commands.\n  * Extend with /help, /usage, /history.\n  * Add inline button UX (advanced).\n\n---\n\n## üí° **How It Works**\n\n### ‚û°Ô∏è **Command Examples:**\n\n1. **Start a chat with a specific model:**\n   ```\n   #openai/gpt-4o Write a motivational quote.\n   ```\n2. **Request available models list:**\n   ```\n   /models\n   ```\n\n### ‚û°Ô∏è **Workflow Logic:**\n\n1. **Receives a Telegram message.**\n\n2. Switch node checks if the message is `/models` or a prompt.\n\n3. For `/models`, it fetches and sends a grouped list of models.\n\n4. For prompts:\n   * Checks usage limits.\n   * Parses `#model_id` and prompt text.\n   * Dynamically routes the request to the chosen model.\n   * Sends the AI's response back to the user.\n   * Logs the query & result to Google Sheets.\n\n5. If daily limit exceeded ‚Üí sends a limit exceeded message.\n\n---\n\n## üß™ **Testing & Debugging Tips**\n\n* Test via a separate Telegram chat.\n* Use Console/Set nodes to debug payloads.\n* Always test commands by messaging the bot (not via \"Execute Node\").\n* Validate cases:\n  * Missing #model_id.\n  * Invalid model_id.\n  * Limit exceeded handling.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "üì© Receive Telegram Message",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "üìä Fetch Usage Logs",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "üìà Count Today‚Äôs Requests",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "üî¢ Set Daily Limit",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "üö¶ Check Limit Exceeded?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "üö´ Notify: Limit Exceeded",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send a chat action",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Models List",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Send a text message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send a text message1",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "üìù Log Successful Generation1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Models Or Process Message?",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "üß† Generate Msg (AI/ML API | GPT-4o)",
      "type": "n8n-nodes-aimlapi.aimlApi",
      "role": "aimlApi",
      "configDescription": "Version 1"
    },
    {
      "name": "üß† Generate Msg (AI/ML API | Custom Model)",
      "type": "n8n-nodes-aimlapi.aimlApi",
      "role": "aimlApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Group Models By Providers",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Set Custom Model?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    }
  ]
}