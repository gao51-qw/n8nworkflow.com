{
  "id": 5710,
  "slug": "5710",
  "title": "Stock fundamental analysis & AI-powered reports with Mistral and AlphaVantage",
  "description": "# Fundamental Analysis, Stock Analysis, and AI Integration in the Fundamental Analysis Tool\n\n\n\n---\n\n## Overview of the Tool\n\nThe **Fundamental Analysis Tool** is an automated workflow designed to evaluate a stock’s fundamentals using financial data and AI-driven insights. Built in the n8n automation platform, it:\n\n1. **Collects** financial data for a user-specified stock from AlphaVantage.\n2. **Processes** and structures this data for analysis.\n3. **Analyzes** the data using the Mistral AI model to provide expert-level insights.\n4. **Generates** a visually appealing HTML report with charts and delivers it via email.\n\nThe tool is triggered by a form where users input a **stock symbol** (e.g., \"NVDA\" for NVIDIA) and their **email address**. From there, it follows a three-stage process: **data retrieval**, **data processing**, and **AI analysis with report generation**.\n\n---\n\n## 1. Fundamental Analysis: The Foundation\n\nFundamental analysis involves evaluating a company’s intrinsic value by examining its financial health, competitive position, and market environment. This tool performs fundamental analysis by:\n\n### Data Retrieval\n\n- **Data Types**: Six types of data are retrieved via HTTP requests:\n  - **Overview**: General company details (e.g., sector, industry, market cap).\n  - **Income Statement**: Revenue, net income, and profitability metrics.\n  - **Balance Sheet**: Assets, liabilities, and equity.\n  - **Cash Flow**: Operating, investing, and financing cash flows.\n  - **Earnings Calendar**: Upcoming earnings events.\n  - **Earnings**: Historical earnings data (annual and quarterly).\n\n### Key Metrics Analyzed\nThe tool structures this data into **8 categories** critical to fundamental analysis, as defined in the \"Code1\" node:\n1. **Economic Moats & Competitive Advantage**: Assesses sustainable advantages (e.g., R&D spending, gross profit).\n2. **Financial Health & Profitability**: Examines ROE, debt levels, and dividend yield.\n3. **Valuation & Market Sentiment**: Evaluates P/E ratio, PEG ratio, and book value.\n4. **Management & Capital Allocation**: Reviews market cap justification and cash allocation (e.g., R&D, buybacks).\n5. **Industry & Risk Exposure**: Analyzes revenue cyclicality and geopolitical risks.\n6. **Key Metrics to Probe**: Investigates net income trends and gross margins.\n7. **Red Flags**: Identifies risks like inventory issues or stock dilution.\n8. **Final Checklist**: Summarizes pricing power and risk/reward potential.\n\nThese categories cover the core pillars of fundamental analysis, ensuring a holistic evaluation of the stock’s intrinsic value and risks.\n\n---\n\n## 2. Stock Analysis: Tailored Insights\n\nThe tool performs stock-specific analysis by focusing on the user-provided **stock symbol**. Here’s how it tailors the process:\n\n### Input and Customization\n- **Form Submission**: Users enter a stock symbol (e.g., \"NVDA\") and email via the \"On Form Submission\" node.\n- **Dynamic Data Fetching**: The \"Set Variables\" node passes the stock symbol to the API calls, ensuring the analysis is specific to the chosen stock.\n\n### Processing for Relevance\n- **Data Filtering**: The workflow limits historical data to the **last 5 years** (via the \"Limit\" node), focusing on recent trends.\n- **Merging and Cleaning**: The \"Merge\" and \"Code2\" nodes combine and refine the data, removing irrelevant fields (e.g., quarterly reports) and aggregating annual reports for consistency.\n\n### Output\n- The final report is titled with the stock’s name (e.g., \"Fundamental Analysis - NVIDIA\"), ensuring the analysis is clearly tied to the user’s chosen stock.\n\nThis stock-specific approach makes the tool practical for investors analyzing individual companies rather than broad market trends.\n\n---\n\n## 3. AI Integration: Expert-Level Insights\n\nThe integration of **AI** (via the Mistral model or others) is what sets this tool apart, automating complex analysis and report generation. Here’s how AI is woven into the workflow:\n\n### Data Preparation for AI\n- **Structuring**: The \"Code1\" node organizes the raw data into a JSON schema aligned with the eight fundamental analysis categories. \n- This structured data is fed into the AI for analysis.\n\n### AI Analysis\n- **Node**: \"Basic LLM Chain\" uses the **Mistral AI model**.\n- **Prompt**: The AI is instructed to act as an \"expert financial advisor with 50 years of experience\" and answer specific questions for each category, such as:\n  - *Economic Moats*: \"What sustainable competitive advantages protect the company’s margins?\"\n  - *Financial Health*: \"Is ROE driven by leverage or true profitability?\"\n  - *Red Flags*: \"Are supply chain issues a concern?\"\n- **Output**: The AI generates a JSON response with detailed insights, e.g.:\n  ```json\n  {\n    \"Economic Moats & Competitive Advantage\": \"NVIDIA’s leadership in GPU technology and strong R&D investment...\",\n    \"Financial Health & Profitability\": \"ROE of 25% is exceptional, driven by profitability rather than leverage...\",\n    ...\n  }\n  ```\n- **Validation**: An \"Auto-fixing Output Parser\" ensures the output adheres to the expected JSON schema, retrying if necessary.\n\n### Report Enhancement\n- **HTML Generation**: The \"HTML\" node creates an initial report with placeholders for the AI’s insights and Google Charts for visualizations (e.g., ROE trends, revenue growth).\n- **AI-Driven Refinement**: The \"Basic LLM Chain1\" node uses Mistral again to enhance the HTML, adding:\n  - Styled tables (e.g., financial ratios).\n  - Charts (e.g., bar charts for valuation, line charts for revenue).\n  - Visual indicators (e.g., ✅ for positive trends, ⚠️ for risks).\n  - Mobile-responsive design with modern fonts (Inter or Roboto).\n\nThis dual AI approach—one for analysis, one for presentation—ensures the output is both insightful and user-friendly.\n\n\n---\n\n\n## Strengths and Limitations\n\n### Strengths\n- **Comprehensive**: Covers all key aspects of fundamental analysis.\n- **AI-Powered**: Automates expert-level insights and report design.\n- **User-Friendly**: Delivers an interactive, visual report via email.\n\n### Limitations\n- **Data Dependency**: Relies on public data, so data quality and timeliness matter.\n- **AI Constraints**: Insights depend on AI’s capabilities; it may miss nuanced human judgment.\n- **Disclaimer**: The tool notes it’s not investment advice, so users should consult advisors.\n\n---\n",
  "featuredImage": "/data/workflows/5710/5710.webp",
  "author": {
    "id": 101,
    "slug": "lewxiangang",
    "name": "Sebastian/OptiLever",
    "avatar": ""
  },
  "categories": [
    "Crypto Trading",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 391,
  "downloads": 39,
  "createdAt": "2025-07-06T08:46:51.074Z",
  "updatedAt": "2026-01-16T08:41:02.557Z",
  "publishedAt": "2025-07-06T08:46:51.074Z",
  "nodes": 33,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5710",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Stock fundamental analysis & AI-powered reports with Mistral and AlphaVantage",
    "workflowName": "Stock fundamental analysis & AI-powered reports with Mistral and AlphaVantage",
    "description": "# Fundamental Analysis, Stock Analysis, and AI Integration in the Fundamental Analysis Tool\n\n\n\n---\n\n## Overview of the Tool\n\nThe **Fundamental Analysis Tool** is an automated workflow designed to evaluate a stock’s fundamentals using financial data and AI-driven insights. Built in the n8n automation platform, it:\n\n1. **Collects** financial data for a user-specified stock from AlphaVantage.\n2. **Processes** and structures this data for analysis.\n3. **Analyzes** the data using the Mistral AI model to provide expert-level insights.\n4. **Generates** a visually appealing HTML report with charts and delivers it via email.\n\nThe tool is triggered by a form where users input a **stock symbol** (e.g., \"NVDA\" for NVIDIA) and their **email address**. From there, it follows a three-stage process: **data retrieval**, **data processing**, and **AI analysis with report generation**.\n\n---\n\n## 1. Fundamental Analysis: The Foundation\n\nFundamental analysis involves evaluating a company’s intrinsic value by examining its financial health, competitive position, and market environment. This tool performs fundamental analysis by:\n\n### Data Retrieval\n\n- **Data Types**: Six types of data are retrieved via HTTP requests:\n  - **Overview**: General company details (e.g., sector, industry, market cap).\n  - **Income Statement**: Revenue, net income, and profitability metrics.\n  - **Balance Sheet**: Assets, liabilities, and equity.\n  - **Cash Flow**: Operating, investing, and financing cash flows.\n  - **Earnings Calendar**: Upcoming earnings events.\n  - **Earnings**: Historical earnings data (annual and quarterly).\n\n### Key Metrics Analyzed\nThe tool structures this data into **8 categories** critical to fundamental analysis, as defined in the \"Code1\" node:\n1. **Economic Moats & Competitive Advantage**: Assesses sustainable advantages (e.g., R&D spending, gross profit).\n2. **Financial Health & Profitability**: Examines ROE, debt levels, and dividend yield.\n3. **Valuation & Market Sentiment**: Evaluates P/E ratio, PEG ratio, and book value.\n4. **Management & Capital Allocation**: Reviews market cap justification and cash allocation (e.g., R&D, buybacks).\n5. **Industry & Risk Exposure**: Analyzes revenue cyclicality and geopolitical risks.\n6. **Key Metrics to Probe**: Investigates net income trends and gross margins.\n7. **Red Flags**: Identifies risks like inventory issues or stock dilution.\n8. **Final Checklist**: Summarizes pricing power and risk/reward potential.\n\nThese categories cover the core pillars of fundamental analysis, ensuring a holistic evaluation of the stock’s intrinsic value and risks.\n\n---\n\n## 2. Stock Analysis: Tailored Insights\n\nThe tool performs stock-specific analysis by focusing on the user-provided **stock symbol**. Here’s how it tailors the process:\n\n### Input and Customization\n- **Form Submission**: Users enter a stock symbol (e.g., \"NVDA\") and email via the \"On Form Submission\" node.\n- **Dynamic Data Fetching**: The \"Set Variables\" node passes the stock symbol to the API calls, ensuring the analysis is specific to the chosen stock.\n\n### Processing for Relevance\n- **Data Filtering**: The workflow limits historical data to the **last 5 years** (via the \"Limit\" node), focusing on recent trends.\n- **Merging and Cleaning**: The \"Merge\" and \"Code2\" nodes combine and refine the data, removing irrelevant fields (e.g., quarterly reports) and aggregating annual reports for consistency.\n\n### Output\n- The final report is titled with the stock’s name (e.g., \"Fundamental Analysis - NVIDIA\"), ensuring the analysis is clearly tied to the user’s chosen stock.\n\nThis stock-specific approach makes the tool practical for investors analyzing individual companies rather than broad market trends.\n\n---\n\n## 3. AI Integration: Expert-Level Insights\n\nThe integration of **AI** (via the Mistral model or others) is what sets this tool apart, automating complex analysis and report generation. Here’s how AI is woven into the workflow:\n\n### Data Preparation for AI\n- **Structuring**: The \"Code1\" node organizes the raw data into a JSON schema aligned with the eight fundamental analysis categories. \n- This structured data is fed into the AI for analysis.\n\n### AI Analysis\n- **Node**: \"Basic LLM Chain\" uses the **Mistral AI model**.\n- **Prompt**: The AI is instructed to act as an \"expert financial advisor with 50 years of experience\" and answer specific questions for each category, such as:\n  - *Economic Moats*: \"What sustainable competitive advantages protect the company’s margins?\"\n  - *Financial Health*: \"Is ROE driven by leverage or true profitability?\"\n  - *Red Flags*: \"Are supply chain issues a concern?\"\n- **Output**: The AI generates a JSON response with detailed insights, e.g.:\n  ```json\n  {\n    \"Economic Moats & Competitive Advantage\": \"NVIDIA’s leadership in GPU technology and strong R&D investment...\",\n    \"Financial Health & Profitability\": \"ROE of 25% is exceptional, driven by profitability rather than leverage...\",\n    ...\n  }\n  ```\n- **Validation**: An \"Auto-fixing Output Parser\" ensures the output adheres to the expected JSON schema, retrying if necessary.\n\n### Report Enhancement\n- **HTML Generation**: The \"HTML\" node creates an initial report with placeholders for the AI’s insights and Google Charts for visualizations (e.g., ROE trends, revenue growth).\n- **AI-Driven Refinement**: The \"Basic LLM Chain1\" node uses Mistral again to enhance the HTML, adding:\n  - Styled tables (e.g., financial ratios).\n  - Charts (e.g., bar charts for valuation, line charts for revenue).\n  - Visual indicators (e.g., ✅ for positive trends, ⚠️ for risks).\n  - Mobile-responsive design with modern fonts (Inter or Roboto).\n\nThis dual AI approach—one for analysis, one for presentation—ensures the output is both insightful and user-friendly.\n\n\n---\n\n\n## Strengths and Limitations\n\n### Strengths\n- **Comprehensive**: Covers all key aspects of fundamental analysis.\n- **AI-Powered**: Automates expert-level insights and report design.\n- **User-Friendly**: Delivers an interactive, visual report via email.\n\n### Limitations\n- **Data Dependency**: Relies on public data, so data quality and timeliness matter.\n- **AI Constraints**: Insights depend on AI’s capabilities; it may miss nuanced human judgment.\n- **Disclaimer**: The tool notes it’s not investment advice, so users should consult advisors.\n\n---",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 2"
    },
    {
      "name": "Get News Data",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get News Data1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Get News Data2",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Get News Data3",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Get News Data4",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Get News Data5",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Auto-fixing Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "role": "outputParserAutofixing",
      "configDescription": "Version 1"
    },
    {
      "name": "Mistral Cloud Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatMistralCloud",
      "role": "lmChatMistralCloud",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Mistral Cloud Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatMistralCloud",
      "role": "lmChatMistralCloud",
      "configDescription": "Version 1"
    },
    {
      "name": "Code1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Split Out2",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Code2",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Merge2",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Gmail",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Basic LLM Chain",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.7"
    },
    {
      "name": "HTML",
      "type": "n8n-nodes-base.html",
      "role": "html",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Basic LLM Chain1",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Mistral Cloud Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatMistralCloud",
      "role": "lmChatMistralCloud",
      "configDescription": "Version 1"
    },
    {
      "name": "HTML2",
      "type": "n8n-nodes-base.html",
      "role": "html",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    }
  ]
}