{
  "id": 10348,
  "slug": "10348",
  "title": "Monitor & auto-heal AWS EC2 instances with multi-channel alerts",
  "description": "This n8n workflow automates the monitoring, health assessment, and self-healing of AWS EC2 instances in production environments. It runs periodic checks, identifies unhealthy instances based on status and metrics, restarts them automatically, and notifies teams via multi-channel alerts while logging data for auditing and reporting.\n\n### Key Features\n- Triggers health checks every 5 minutes to proactively monitor EC2 fleet status.\n- Fetches and loops through all production EC2 instances for individualized analysis.\n- Evaluates instance health using AWS metrics and custom thresholds to detect issues like high CPU or stopped states.\n- Performs automatic restarts on unhealthy instances to minimize downtime.\n- Sends instant WhatsApp notifications for urgent alerts, detailed email reports for team review, and logs metrics to Google Sheets for long-term tracking.\n- Includes sticky notes for quick reference on configuration, self-healing logic, and alert setup.\n\n### Workflow Process\n- The **Schedule Trigger** node runs the workflow every 5 minutes, ensuring frequent health monitoring without overwhelming AWS APIs.\n- The **Get EC2 Instances** node fetches all production-tagged EC2 instances from AWS, filtering by environment (e.g., tag: Environment=Production).\n- The **Loop Over Instances** node iterates through each fetched instance individually, allowing parallel processing for scalability.\n- The **Check Instance Status** node retrieves detailed health metrics for the current instance via AWS API (e.g., status checks, CPU utilization, and state).\n- The **Health Status Check** node evaluates the instance's status against predefined thresholds (e.g., failed system checks or high load); if healthy, it skips to logging.\n- The **Analyze Health Data** node assesses metrics in depth to determine action (e.g., restart if CPU &gt; 90% for 5+ minutes) and prepares alert payloads.\n- The **Restart Instance** node automatically initiates a reboot on unhealthy instances using AWS EC2 API, with optional dry-run mode for testing.\n- The **WhatsApp Notification** node (part of Multi-Channel Alerts) sends instant alerts via Twilio WhatsApp API, including instance ID, issue summary, and restart status.\n- The **Email Report** node generates and sends a detailed HTML report to the team via SMTP, summarizing checked instances, actions taken, and metrics trends.\n- The **Google Sheets Logging** node appends health data, timestamps, and outcomes to a specified spreadsheet for historical analysis and dashboards.\n- The **Sticky Notes** nodes provide inline documentation: one for AWS credential setup, one explaining self-healing thresholds, and one for alert channel configurations.\n\n### Setup Instructions\n- Import the workflow into n8n and activate the **Schedule Trigger** with a 5-minute cron expression (e.g., `*/5 * * * *`).\n- Configure AWS credentials in the **Get EC2 Instances**, **Check Instance Status**, and **Restart Instance** nodes using IAM roles with EC2 read/restart permissions.\n- Set up Twilio credentials in the **WhatsApp Notification** node, including your Twilio SID, auth token, and WhatsApp-enabled phone numbers for sender/receiver.\n- Add SMTP credentials (e.g., Gmail or AWS SES) in the **Email Report** node, and update sender/receiver email addresses in the node parameters.\n- Link Google Sheets in the **Google Sheets Logging** node by providing the spreadsheet ID, sheet name, and OAuth credentials for write access.\n- Customize health thresholds in **Health Status Check** and **Analyze Health Data** (e.g., via expressions for CPU/memory limits).\n- Test the workflow by manually executing it on a small set of instances and verifying alerts/logging before enabling production scheduling.\n- Review sticky notes within n8n for quick tips, and monitor executions in the dashboard to fine-tune intervals or error handling.\n\n### Prerequisites\n- AWS account with EC2 access and IAM user/role for DescribeInstances, DescribeInstanceStatus, and RebootInstances actions.\n- Twilio account with WhatsApp sandbox or approved number for notifications.\n- SMTP email service (e.g., Gmail, Outlook) with app-specific passwords enabled.\n- Google Workspace or personal Google account for Sheets integration.\n- n8n instance with AWS, Twilio, SMTP, and Google Sheets nodes installed (cloud or self-hosted).\n- Production EC2 instances tagged consistently (e.g., Environment=Production) for filtering.\n\n### Modification Options\n- Adjust the **Schedule Trigger** interval to hourly for less frequent checks or integrate with AWS CloudWatch Events for dynamic triggering.\n- Expand **Analyze Health Data** to include advanced metrics (e.g., disk I/O via CloudWatch) or ML-based anomaly detection.\n- Add more alert channels in **Multi-Channel Alerts**, such as Slack webhooks or PagerDuty integrations, by duplicating the WhatsApp/Email branches.\n- Enhance **Google Sheets Logging** with charts or conditional formatting via Google Apps Script for visual dashboards.\n- Implement approval gates in **Restart Instance** (e.g., via email confirmation) to prevent auto-restarts in sensitive environments.\n\n\n\n**Explore More AI Workflows: [Get in touch with us](https://www.oneclickitsolution.com/contact-us/) for custom n8n automation!**",
  "featuredImage": "/data/workflows/10348/10348.webp",
  "author": {
    "id": 101,
    "slug": "oneclick-ai",
    "name": "Oneclick AI Squad",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 109,
  "downloads": 10,
  "createdAt": "2025-10-30T13:13:14.259Z",
  "updatedAt": "2026-01-16T09:04:39.523Z",
  "publishedAt": "2025-10-30T13:13:14.259Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10348",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Monitor & auto-heal AWS EC2 instances with multi-channel alerts",
    "workflowName": "Monitor & auto-heal AWS EC2 instances with multi-channel alerts",
    "description": "This n8n workflow automates the monitoring, health assessment, and self-healing of AWS EC2 instances in production environments. It runs periodic checks, identifies unhealthy instances based on status and metrics, restarts them automatically, and notifies teams via multi-channel alerts while logging data for auditing and reporting.\n\n### Key Features\n- Triggers health checks every 5 minutes to proactively monitor EC2 fleet status.\n- Fetches and loops through all production EC2 instances for individualized analysis.\n- Evaluates instance health using AWS metrics and custom thresholds to detect issues like high CPU or stopped states.\n- Performs automatic restarts on unhealthy instances to minimize downtime.\n- Sends instant WhatsApp notifications for urgent alerts, detailed email reports for team review, and logs metrics to Google Sheets for long-term tracking.\n- Includes sticky notes for quick reference on configuration, self-healing logic, and alert setup.\n\n### Workflow Process\n- The **Schedule Trigger** node runs the workflow every 5 minutes, ensuring frequent health monitoring without overwhelming AWS APIs.\n- The **Get EC2 Instances** node fetches all production-tagged EC2 instances from AWS, filtering by environment (e.g., tag: Environment=Production).\n- The **Loop Over Instances** node iterates through each fetched instance individually, allowing parallel processing for scalability.\n- The **Check Instance Status** node retrieves detailed health metrics for the current instance via AWS API (e.g., status checks, CPU utilization, and state).\n- The **Health Status Check** node evaluates the instance's status against predefined thresholds (e.g., failed system checks or high load); if healthy, it skips to logging.\n- The **Analyze Health Data** node assesses metrics in depth to determine action (e.g., restart if CPU &gt; 90% for 5+ minutes) and prepares alert payloads.\n- The **Restart Instance** node automatically initiates a reboot on unhealthy instances using AWS EC2 API, with optional dry-run mode for testing.\n- The **WhatsApp Notification** node (part of Multi-Channel Alerts) sends instant alerts via Twilio WhatsApp API, including instance ID, issue summary, and restart status.\n- The **Email Report** node generates and sends a detailed HTML report to the team via SMTP, summarizing checked instances, actions taken, and metrics trends.\n- The **Google Sheets Logging** node appends health data, timestamps, and outcomes to a specified spreadsheet for historical analysis and dashboards.\n- The **Sticky Notes** nodes provide inline documentation: one for AWS credential setup, one explaining self-healing thresholds, and one for alert channel configurations.\n\n### Setup Instructions\n- Import the workflow into n8n and activate the **Schedule Trigger** with a 5-minute cron expression (e.g., `*/5 * * * *`).\n- Configure AWS credentials in the **Get EC2 Instances**, **Check Instance Status**, and **Restart Instance** nodes using IAM roles with EC2 read/restart permissions.\n- Set up Twilio credentials in the **WhatsApp Notification** node, including your Twilio SID, auth token, and WhatsApp-enabled phone numbers for sender/receiver.\n- Add SMTP credentials (e.g., Gmail or AWS SES) in the **Email Report** node, and update sender/receiver email addresses in the node parameters.\n- Link Google Sheets in the **Google Sheets Logging** node by providing the spreadsheet ID, sheet name, and OAuth credentials for write access.\n- Customize health thresholds in **Health Status Check** and **Analyze Health Data** (e.g., via expressions for CPU/memory limits).\n- Test the workflow by manually executing it on a small set of instances and verifying alerts/logging before enabling production scheduling.\n- Review sticky notes within n8n for quick tips, and monitor executions in the dashboard to fine-tune intervals or error handling.\n\n### Prerequisites\n- AWS account with EC2 access and IAM user/role for DescribeInstances, DescribeInstanceStatus, and RebootInstances actions.\n- Twilio account with WhatsApp sandbox or approved number for notifications.\n- SMTP email service (e.g., Gmail, Outlook) with app-specific passwords enabled.\n- Google Workspace or personal Google account for Sheets integration.\n- n8n instance with AWS, Twilio, SMTP, and Google Sheets nodes installed (cloud or self-hosted).\n- Production EC2 instances tagged consistently (e.g., Environment=Production) for filtering.\n\n### Modification Options\n- Adjust the **Schedule Trigger** interval to hourly for less frequent checks or integrate with AWS CloudWatch Events for dynamic triggering.\n- Expand **Analyze Health Data** to include advanced metrics (e.g., disk I/O via CloudWatch) or ML-based anomaly detection.\n- Add more alert channels in **Multi-Channel Alerts**, such as Slack webhooks or PagerDuty integrations, by duplicating the WhatsApp/Email branches.\n- Enhance **Google Sheets Logging** with charts or conditional formatting via Google Apps Script for visual dashboards.\n- Implement approval gates in **Restart Instance** (e.g., via email confirmation) to prevent auto-restarts in sensitive environments.\n\n\n\n**Explore More AI Workflows: [Get in touch with us](https://www.oneclickitsolution.com/contact-us/) for custom n8n automation!**",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Loop Over Instances",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Check Health Status",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Analyze Health Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send WhatsApp Alert",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Send Email Alert",
      "type": "n8n-nodes-base.emailSend",
      "role": "emailSend",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Log to AlertsLog Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "End Workflow",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get EC2 Instances",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Check Instance Status",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Restart Instance",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    }
  ]
}