{
  "id": 3949,
  "slug": "3949",
  "title": "Automated Facebook comment management with GPT-4o and LangChain",
  "description": "### ü§ñ Facebook AI Agent with MCP Server ‚Äì Built for Smart Engagement and Automation\n\n#### Hi! I‚Äôm Amanda ü•∞üòò ‚Äî I build intelligent automations with n8n and Make.  \nThis powerful workflow was designed to help teams automatically handle Facebook page interactions with AI. Using **Meta Graph API**, **LangChain**, **MCP Server**, and **GPT-4o**, it allows your AI agent to **search for posts, read captions, fetch comments**, and even **reply or message followers**, all through structured tools.\n\n---\n\n### üîß What the workflow does\n\n- Searches for recent media using Facebook Page ID and access token  \n- Reads and extracts captions or media URLs  \n- Fetches comments and specific replies from each post  \n- Replies to comments automatically with GPT-generated responses  \n- Sends direct messages to followers who commented  \n- Maps user input and session to keep memory context via LangChain  \n- Communicates via Server-Sent Events (SSE) using your MCP Server URL\n\n---\n\n### üß∞ Nodes & Tech Used\n\n- `LangChain Agent` + `Chat Model` with GPT-4o  \n- `Memory Buffer` for session memory  \n- `toolHttpRequest` to search media, comments, and send replies  \n- `MCP Trigger` and `MCP Tool` (custom SSE connection)  \n- `Set` node for input and variable assignment  \n- `Webhook` and JSON for Facebook API structure\n\n---\n\n### ‚öôÔ∏è Setup Instructions\n\n1. Create your Facebook App in Meta Developer Portal  \n2. Add your **Facebook Page ID** and **Access Token** in the `Set` node  \n3. Update the **MCP Server Tool URL** in the `MCP Facebook` node  \n   - Use your n8n server URL (e.g. `https://yourdomain.com/mcp/server/facebook/sse`)  \n4. Trigger the workflow using the included `LangChain Chat Trigger`  \n5. Interact via text to ask the agent to:\n   - ‚ÄúGet latest posts‚Äù  \n   - ‚ÄúReply to comment X with this message‚Äù  \n   - ‚ÄúSend DM to this user about...‚Äù  \n\n---\n\n### üë• Who this is for\n\n- Social media teams managing multiple Facebook pages  \n- Brands automating engagement with followers  \n- Agencies creating smart, autonomous digital assistants  \n- Developers building conversational bots for Facebook\n\n---\n\n### ‚úÖ Requirements\n\n- Meta Graph API access  \n- Facebook Page (with permissions)  \n- n8n instance (Cloud or Self-hosted)  \n- MCP Server configured (SSE Endpoint enabled)  \n- OpenAI API Key (for GPT-4o + LangChain)\n\n---\n\n### üåê Want to use this workflow?\n\n‚ù§Ô∏è Buy workflows: [https://iloveflows.com](https://iloveflows.com)  \n‚òÅÔ∏è Try n8n Cloud: [https://n8n.partnerlinks.io/amanda](https://n8n.partnerlinks.io/amanda)\n",
  "featuredImage": "/data/workflows/3949/3949.webp",
  "author": {
    "id": 101,
    "slug": "amanda",
    "name": "Amanda Benks",
    "avatar": ""
  },
  "categories": [
    "Social Media",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1685,
  "downloads": 168,
  "createdAt": "2025-05-08T23:37:45.563Z",
  "updatedAt": "2026-01-16T08:32:18.084Z",
  "publishedAt": "2025-05-08T23:37:45.563Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3949",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated Facebook comment management with GPT-4o and LangChain",
    "workflowName": "Automated Facebook comment management with GPT-4o and LangChain",
    "description": "### ü§ñ Facebook AI Agent with MCP Server ‚Äì Built for Smart Engagement and Automation\n\n#### Hi! I‚Äôm Amanda ü•∞üòò ‚Äî I build intelligent automations with n8n and Make.  \nThis powerful workflow was designed to help teams automatically handle Facebook page interactions with AI. Using **Meta Graph API**, **LangChain**, **MCP Server**, and **GPT-4o**, it allows your AI agent to **search for posts, read captions, fetch comments**, and even **reply or message followers**, all through structured tools.\n\n---\n\n### üîß What the workflow does\n\n- Searches for recent media using Facebook Page ID and access token  \n- Reads and extracts captions or media URLs  \n- Fetches comments and specific replies from each post  \n- Replies to comments automatically with GPT-generated responses  \n- Sends direct messages to followers who commented  \n- Maps user input and session to keep memory context via LangChain  \n- Communicates via Server-Sent Events (SSE) using your MCP Server URL\n\n---\n\n### üß∞ Nodes & Tech Used\n\n- `LangChain Agent` + `Chat Model` with GPT-4o  \n- `Memory Buffer` for session memory  \n- `toolHttpRequest` to search media, comments, and send replies  \n- `MCP Trigger` and `MCP Tool` (custom SSE connection)  \n- `Set` node for input and variable assignment  \n- `Webhook` and JSON for Facebook API structure\n\n---\n\n### ‚öôÔ∏è Setup Instructions\n\n1. Create your Facebook App in Meta Developer Portal  \n2. Add your **Facebook Page ID** and **Access Token** in the `Set` node  \n3. Update the **MCP Server Tool URL** in the `MCP Facebook` node  \n   - Use your n8n server URL (e.g. `https://yourdomain.com/mcp/server/facebook/sse`)  \n4. Trigger the workflow using the included `LangChain Chat Trigger`  \n5. Interact via text to ask the agent to:\n   - ‚ÄúGet latest posts‚Äù  \n   - ‚ÄúReply to comment X with this message‚Äù  \n   - ‚ÄúSend DM to this user about...‚Äù  \n\n---\n\n### üë• Who this is for\n\n- Social media teams managing multiple Facebook pages  \n- Brands automating engagement with followers  \n- Agencies creating smart, autonomous digital assistants  \n- Developers building conversational bots for Facebook\n\n---\n\n### ‚úÖ Requirements\n\n- Meta Graph API access  \n- Facebook Page (with permissions)  \n- n8n instance (Cloud or Self-hosted)  \n- MCP Server configured (SSE Endpoint enabled)  \n- OpenAI API Key (for GPT-4o + LangChain)\n\n---\n\n### üåê Want to use this workflow?\n\n‚ù§Ô∏è Buy workflows: [https://iloveflows.com](https://iloveflows.com)  \n‚òÅÔ∏è Try n8n Cloud: [https://n8n.partnerlinks.io/amanda](https://n8n.partnerlinks.io/amanda)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "üóÇÔ∏è MCP Facebook",
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "role": "mcpTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "MCP Facebook",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Search Media",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Facebook Mapping",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Media Details",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Search Comment",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Reply Comment",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Send Direct Message",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}