{
  "id": 8619,
  "slug": "8619",
  "title": "Automatically replace and relight the background of any image using APImage",
  "description": "This workflow takes an **image URL** and a description of the desired background, then uses the APImage AI API to produce a high-quality image, **preserving the subject** and applying a natural-looking **new background**.\n\n## Example Result\n\nHere you can see a before-and-after image, generated by APImage, using this workflow.\n\n![APImage Replace Background Example.png](fileId:2636)\n\n---\n\n## Who This Workflow is For\n\nThis workflow is perfect for anyone looking to generate polished, professional images quickly:\n\n- **E-commerce Teams**: Ensure consistent product images with uniform, professional backdrops to reinforce brand identity and trust.  \n- **Content Creators**: Generate eye-catching visuals for social media, blogs, or marketing campaigns quickly.  \n- **Designers**: Produce realistic mockups and conceptual designs without hours of manual editing.  \n- **Businesses of All Sizes**: Automate large-scale image pipelines efficiently without expanding staff or budget.  \n- **Anyone Needing AI Imaging**: Personal or professional projects can benefit from this automated, high-quality workflow.\n\n---\n\n## How the Workflow Works\n\n![Replace and Relight image background for product images  APImage n8n workflow.jpg](fileId:2637)\n\nThis n8n workflow leverages a **Form Trigger** and APImageâ€™s AI endpoint to automate background replacement:\n\n```text\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚   Input Image â”‚\n       â”‚ (URL / source)â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚  Background Replacement  â”‚\n       â”‚   + Lighting Optimizationâ”‚\n       â”‚      (APImage AI)        â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚   Download Image     â”‚\n       â”‚ (default name: data) â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚        Output Nodes        â”‚\n       â”‚  (DBs, Cloud, CMS, APIs)  â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\n````\n- **Form Trigger:** Collects the image URL and descriptive prompt. Can be swapped with any data source node (databases, cloud storage, APIs).\n\n- **APImage Integration:** Processes the image, separates the subject, generates the new background, and preserves realistic lighting and shadows.\n\n- **Download Node:** Retrieves the processed image for storage or further use.\n\n- **Output Options:** Automatically upload images to Google Drive, Dropbox, Airtable, Notion, Amazon S3, or any other database, creating a fully automated pipeline.\n\n## How to Set Up the Workflow\n1. Add Your APImage API Key\n\n2. Open the APImage API node.\n\n3. Replace **Bearer _YOUR_API_KEY_** with your API key from the [APImage Dashboard ğŸ¡¥](https://apimage.org/dashboard).\n\n## Test the Workflow\n\n1. Enter a valid image URL and a descriptive prompt in the Replace Background form.\n\n2. Click Run Workflow to see the processed image downloaded locally.\n\n3. Optional: Customize Output Storage\n\n4. Add nodes after the Download step to automatically save images to your preferred storage service or database.\n\n## Requirements\n- n8n instance: Cloud or self-hosted instance.\n\n- APImage account and API key: Required to access the AI API.\n\n## How to Customize the Workflow\n- **Change Background Prompts:** Modify the form or connect to dynamic sources like databases, CMS, or cloud storage.\n\n- **Adjust AI Settings:** Customize preserve_subject, light_direction, and light_strength in the APImage node for perfect results.\n\n- **Extend Outputs:** Connect to additional platforms for automatic sharing with teams, clients, or CMS systems.\n\n- **Automate Input:** Replace manual form triggers with automated triggers from Google Sheets, Airtable, Shopify, or product databases to handle bulk processing without manual intervention.\n\n## Example Use Cases\n- **E-commerce:** Consistent product images with professional backgrounds.\n\n- **Marketing & Social Media:** Quickly generate visuals adapted to multiple themes.\n\n- **Photography & Design:** Produce mockups, portraits, and conceptual images with realistic lighting.\n\n- **Business Automation:** Scale image pipelines efficiently for large volumes.\n\n## FAQ\n**Q: What types of images are supported?**\nA: JPG, PNG, and WebP are supported.\n\n**Q: Can I choose a custom background?**\nA: Yes. Provide a text description or integrate with other nodes supplying pre-defined backgrounds.\n\n**Q: What is the default filename for processed images?**\nA: The default filename is data, unless renamed in the workflow.\n\n**Q: Do I need to store images locally?**\nA: No. Connect output nodes to databases, cloud storage, or CMS platforms to store images automatically.\n\n**Q: Can APImage be used in automated workflows?**\nA: Absolutely. Integrate with n8n to process images automatically from various sources.\n\n**Q: Does it enhance image quality?**\nA: APImage adjusts lighting and contrast for natural, realistic results.\n\n**Q: How is background replacement different from background removal?**\nA: Background removal makes the background transparent. Background replacement swaps it with a new one and adjusts lighting for a natural look.\n\n**Q: Are there limits to the number of images processed?**\nA: Limits depend on your subscription plan and allocated credits",
  "featuredImage": "/data/workflows/8619/8619.webp",
  "author": {
    "id": 101,
    "slug": "gegenfeld",
    "name": "Gegenfeld",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 241,
  "downloads": 24,
  "createdAt": "2025-09-15T22:58:08.121Z",
  "updatedAt": "2026-01-16T08:56:51.254Z",
  "publishedAt": "2025-09-15T22:58:08.121Z",
  "nodes": 10,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8619",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automatically replace and relight the background of any image using APImage",
    "workflowName": "Automatically replace and relight the background of any image using APImage",
    "description": "This workflow takes an **image URL** and a description of the desired background, then uses the APImage AI API to produce a high-quality image, **preserving the subject** and applying a natural-looking **new background**.\n\n## Example Result\n\nHere you can see a before-and-after image, generated by APImage, using this workflow.\n\n![APImage Replace Background Example.png](fileId:2636)\n\n---\n\n## Who This Workflow is For\n\nThis workflow is perfect for anyone looking to generate polished, professional images quickly:\n\n- **E-commerce Teams**: Ensure consistent product images with uniform, professional backdrops to reinforce brand identity and trust.  \n- **Content Creators**: Generate eye-catching visuals for social media, blogs, or marketing campaigns quickly.  \n- **Designers**: Produce realistic mockups and conceptual designs without hours of manual editing.  \n- **Businesses of All Sizes**: Automate large-scale image pipelines efficiently without expanding staff or budget.  \n- **Anyone Needing AI Imaging**: Personal or professional projects can benefit from this automated, high-quality workflow.\n\n---\n\n## How the Workflow Works\n\n![Replace and Relight image background for product images  APImage n8n workflow.jpg](fileId:2637)\n\nThis n8n workflow leverages a **Form Trigger** and APImageâ€™s AI endpoint to automate background replacement:\n\n```text\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚   Input Image â”‚\n       â”‚ (URL / source)â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚  Background Replacement  â”‚\n       â”‚   + Lighting Optimizationâ”‚\n       â”‚      (APImage AI)        â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚   Download Image     â”‚\n       â”‚ (default name: data) â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n               â–¼\n       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚        Output Nodes        â”‚\n       â”‚  (DBs, Cloud, CMS, APIs)  â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n\n````\n- **Form Trigger:** Collects the image URL and descriptive prompt. Can be swapped with any data source node (databases, cloud storage, APIs).\n\n- **APImage Integration:** Processes the image, separates the subject, generates the new background, and preserves realistic lighting and shadows.\n\n- **Download Node:** Retrieves the processed image for storage or further use.\n\n- **Output Options:** Automatically upload images to Google Drive, Dropbox, Airtable, Notion, Amazon S3, or any other database, creating a fully automated pipeline.\n\n## How to Set Up the Workflow\n1. Add Your APImage API Key\n\n2. Open the APImage API node.\n\n3. Replace **Bearer _YOUR_API_KEY_** with your API key from the [APImage Dashboard ğŸ¡¥](https://apimage.org/dashboard).\n\n## Test the Workflow\n\n1. Enter a valid image URL and a descriptive prompt in the Replace Background form.\n\n2. Click Run Workflow to see the processed image downloaded locally.\n\n3. Optional: Customize Output Storage\n\n4. Add nodes after the Download step to automatically save images to your preferred storage service or database.\n\n## Requirements\n- n8n instance: Cloud or self-hosted instance.\n\n- APImage account and API key: Required to access the AI API.\n\n## How to Customize the Workflow\n- **Change Background Prompts:** Modify the form or connect to dynamic sources like databases, CMS, or cloud storage.\n\n- **Adjust AI Settings:** Customize preserve_subject, light_direction, and light_strength in the APImage node for perfect results.\n\n- **Extend Outputs:** Connect to additional platforms for automatic sharing with teams, clients, or CMS systems.\n\n- **Automate Input:** Replace manual form triggers with automated triggers from Google Sheets, Airtable, Shopify, or product databases to handle bulk processing without manual intervention.\n\n## Example Use Cases\n- **E-commerce:** Consistent product images with professional backgrounds.\n\n- **Marketing & Social Media:** Quickly generate visuals adapted to multiple themes.\n\n- **Photography & Design:** Produce mockups, portraits, and conceptual images with realistic lighting.\n\n- **Business Automation:** Scale image pipelines efficiently for large volumes.\n\n## FAQ\n**Q: What types of images are supported?**\nA: JPG, PNG, and WebP are supported.\n\n**Q: Can I choose a custom background?**\nA: Yes. Provide a text description or integrate with other nodes supplying pre-defined backgrounds.\n\n**Q: What is the default filename for processed images?**\nA: The default filename is data, unless renamed in the workflow.\n\n**Q: Do I need to store images locally?**\nA: No. Connect output nodes to databases, cloud storage, or CMS platforms to store images automatically.\n\n**Q: Can APImage be used in automated workflows?**\nA: Absolutely. Integrate with n8n to process images automatically from various sources.\n\n**Q: Does it enhance image quality?**\nA: APImage adjusts lighting and contrast for natural, realistic results.\n\n**Q: How is background replacement different from background removal?**\nA: Background removal makes the background transparent. Background replacement swaps it with a new one and adjusts lighting for a natural look.\n\n**Q: Are there limits to the number of images processed?**\nA: Limits depend on your subscription plan and allocated credits",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Download Image",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "APImage API",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Replace Background (node can be exchanged)",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Store the output image (node can be exchanged)",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    }
  ]
}