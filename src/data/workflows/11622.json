{
  "id": 11622,
  "slug": "11622",
  "title": "Zip code-based business lead generation with Google Maps and Sheets",
  "description": "## Who Is This For?\nThis workflow is perfect for anyone who wants to automate lead generation using n8n without paying for expensive scraping tools. It uses simple Google Maps API requests and Google Sheets to pull business data by ZIP code and category, then extracts emails at no extra cost.\n\n## What This Workflow Does\n* **Automated Lead Generation**: Runs on a schedule to process ZIP codes and business categories automatically.\n* **Data Extraction**: Queries Google Maps for businesses based on each ZIP code + subcategory combo.\n* **Data Processing**:\n  * Skips entries with a **STATUS = \"N/A\"**\n  * Removes duplicate results using `place.id`\n  * Extracts and formats relevant business details\n* **Error Handling**:\n  * Uses exponential backoff when hitting rate limits\n  * Stops after 10 retry attempts\n* **Data Storage**:\n  * Saves results directly to Google Sheets\n  * Tracks which ZIP/subcategory pairs have been completed\n\n## Requirements\n* **Google Maps API** (business lookup)\n* **Google Sheets OAuth2** (data storage)\n* **Telegram Bot API** (notifications)\n* **Rapiwa API** (WhatsApp alerts)\n\n## How to Use — Step-by-Step Setup\n### 1. Set Up Credentials in n8n\n* Add your **Google Maps API** credentials (named \"Google MAP\")\n* Add **Google Sheets OAuth2** credentials (named \"Google Sheets\")\n* Add **Rapiwa API** credentials (named \"Rapiwa account 2\")\n\n### 2. Prepare Your Google Sheet\nCreate one Sheet document with these tabs:\n* **zip** — ZIP codes to process\n* **maps categories** — Business categories/subcategories\n* **result** — Where extracted business data will be stored\nThen update:\n* The document ID inside the workflow nodes\n* The sheet IDs (gid values) so they match your actual tabs\n\n### 3. Customize the Workflow\n* Change the **Limit** node to control how many ZIP codes run per batch (default: 10)\n* Adjust retry limits in the relevant nodes (default: 10 attempts)\n* Modify the **Schedule** node to set your preferred run frequency (default: hourly)\n&gt; This gives you a simple, scalable, nearly free system for generating targeted leads automatically.\n\n\n## Useful Links\n- MAP API [Create Project & API](https://console.cloud.google.com/welcome?project=map-project-478604)\n- How to Use [google map docs](https://developers.google.com/maps/documentation/places/web-service/overview)\n- **Rapiwa**: [Get your WhatsApp API credentials](https://rapiwa.com/)\n\n## Support & Help\n- **WhatsApp**: [Chat on WhatsApp](https://wa.me/8801322827799)\n- **Discord**: [SpaGreen Community](https://discord.gg/SsCChWEP)\n- **Facebook Group**: [SpaGreen Support](https://www.facebook.com/groups/spagreenbd)\n- **Website**: [https://spagreen.net](https://spagreen.net)\n- **Developer Portfolio**: [Codecanyon SpaGreen](https://codecanyon.net/user/spagreen/portfolio)",
  "featuredImage": "/data/workflows/11622/11622.webp",
  "author": {
    "id": 101,
    "slug": "spagreen",
    "name": "SpaGreen Creative",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 170,
  "downloads": 17,
  "createdAt": "2025-12-09T04:03:30.506Z",
  "updatedAt": "2026-01-16T09:09:24.137Z",
  "publishedAt": "2025-12-09T04:03:30.506Z",
  "nodes": 33,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11622",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Zip code-based business lead generation with Google Maps and Sheets",
    "workflowName": "Zip code-based business lead generation with Google Maps and Sheets",
    "description": "## Who Is This For?\nThis workflow is perfect for anyone who wants to automate lead generation using n8n without paying for expensive scraping tools. It uses simple Google Maps API requests and Google Sheets to pull business data by ZIP code and category, then extracts emails at no extra cost.\n\n## What This Workflow Does\n* **Automated Lead Generation**: Runs on a schedule to process ZIP codes and business categories automatically.\n* **Data Extraction**: Queries Google Maps for businesses based on each ZIP code + subcategory combo.\n* **Data Processing**:\n  * Skips entries with a **STATUS = \"N/A\"**\n  * Removes duplicate results using `place.id`\n  * Extracts and formats relevant business details\n* **Error Handling**:\n  * Uses exponential backoff when hitting rate limits\n  * Stops after 10 retry attempts\n* **Data Storage**:\n  * Saves results directly to Google Sheets\n  * Tracks which ZIP/subcategory pairs have been completed\n\n## Requirements\n* **Google Maps API** (business lookup)\n* **Google Sheets OAuth2** (data storage)\n* **Telegram Bot API** (notifications)\n* **Rapiwa API** (WhatsApp alerts)\n\n## How to Use — Step-by-Step Setup\n### 1. Set Up Credentials in n8n\n* Add your **Google Maps API** credentials (named \"Google MAP\")\n* Add **Google Sheets OAuth2** credentials (named \"Google Sheets\")\n* Add **Rapiwa API** credentials (named \"Rapiwa account 2\")\n\n### 2. Prepare Your Google Sheet\nCreate one Sheet document with these tabs:\n* **zip** — ZIP codes to process\n* **maps categories** — Business categories/subcategories\n* **result** — Where extracted business data will be stored\nThen update:\n* The document ID inside the workflow nodes\n* The sheet IDs (gid values) so they match your actual tabs\n\n### 3. Customize the Workflow\n* Change the **Limit** node to control how many ZIP codes run per batch (default: 10)\n* Adjust retry limits in the relevant nodes (default: 10 attempts)\n* Modify the **Schedule** node to set your preferred run frequency (default: hourly)\n&gt; This gives you a simple, scalable, nearly free system for generating targeted leads automatically.\n\n\n## Useful Links\n- MAP API [Create Project & API](https://console.cloud.google.com/welcome?project=map-project-478604)\n- How to Use [google map docs](https://developers.google.com/maps/documentation/places/web-service/overview)\n- **Rapiwa**: [Get your WhatsApp API credentials](https://rapiwa.com/)\n\n## Support & Help\n- **WhatsApp**: [Chat on WhatsApp](https://wa.me/8801322827799)\n- **Discord**: [SpaGreen Community](https://discord.gg/SsCChWEP)\n- **Facebook Group**: [SpaGreen Support](https://www.facebook.com/groups/spagreenbd)\n- **Website**: [https://spagreen.net](https://spagreen.net)\n- **Developer Portfolio**: [Codecanyon SpaGreen](https://codecanyon.net/user/spagreen/portfolio)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Update Status to Success",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Add rows in Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Exponential Backoff",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Remove Duplicates",
      "type": "n8n-nodes-base.removeDuplicates",
      "role": "removeDuplicates",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Exponential Backoff1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Loop Subcats",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Schedule",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Check maximum retries.",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "get subcategory",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Filter subcategori",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get Subcategory form sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Loop",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Get All Zip Code",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Send a text message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Do nothing",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Rapiwa",
      "type": "n8n-nodes-rapiwa.rapiwa",
      "role": "rapiwa",
      "configDescription": "Version 1"
    },
    {
      "name": "Send a message",
      "type": "n8n-nodes-base.discord",
      "role": "discord",
      "configDescription": "Version 2"
    },
    {
      "name": "Set Place",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Place",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Google Map API",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Set zip",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get Status",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Check Max Retries",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}