{
  "id": 8420,
  "slug": "8420",
  "title": "Classify & extract data from floorplans with Mistral AI OCR & JigsawStack",
  "description": "<section>\n  <h2>üåä What it Does</h2>\n  <p>\n    This workflow <strong>automatically classifies uploaded files</strong> (PDFs or images) as\n    <span>floorplans</span> or <span>non‚Äëfloorplans</span>.  \n    It filters out junk files, then analyzes valid floorplans to extract <em>room sizes</em> and <em>measurements</em>.\n  </p>\n\n  <h2>üë• Who it‚Äôs For</h2>\n  <p>\n    Built for <strong>real estate platforms, property managers, and automation builders</strong> \n    who need a trustworthy way to detect invalid uploads while quickly turning true floorplans \n    into structured, reusable data.\n  </p>\n\n  <h2>‚öôÔ∏è How it Works</h2>\n  <ol>\n    <li>User uploads a file (<code>PDF</code>, <code>JPG</code>, <code>PNG</code>, etc.).</li>\n    <li>Workflow routes the file based on type for specialized processing.</li>\n    <li>A two‚Äëlayer quality check is applied using heuristics and AI classification.</li>\n    <li>A confidence score determines if the file is a valid floorplan.</li>\n    <li>Valid floorplans are passed to a powerful OCR/AI for deep analysis.</li>\n    <li>Results are returned as <strong>JSON</strong> and a user-friendly <strong>HTML table</strong>.</li>\n  </ol>\n\n  <h2>üß† The Technology Behind the Demo</h2>\n  <p>\n    This MVP is a glimpse into a more advanced commercial system. It runs on a custom <strong>n8n workflow</strong> that leverages <strong>Mistral AI's</strong> latest OCR technology. Here‚Äôs what makes it powerful:\n  </p>\n  <ul>\n    <li>\n      <strong>Structured Data Extraction:</strong> The AI is forced to return data in a clean, predictable <code>JSON Schema</code>. This isn't just text scraping; it‚Äôs a reliable data pipeline.\n    </li>\n    <li>\n      <strong>Intelligent Data Enrichment:</strong> The workflow doesn't just extract data‚Äîit enriches it. A custom script automatically calculates crucial metrics like <strong>wall surface area</strong> from the floor dimensions, even using fallback estimates if needed.\n    </li>\n    <li>\n      <strong>Automated Aggregation:</strong> It goes beyond individual rooms by automatically calculating totals per floor level and per room type, providing immediate, actionable insights.\n    </li>\n  </ul>\n  <p>\n    While this demo shows the core classification and measurement (Step 1), the full commercial version includes <strong>Step 2 & 3 (Automated Offer Generation)</strong>, currently in use by a client in the construction industry.\n  </p>\n  <div>\n    <a href=\"https://form0.app/forms/drTI6g\" target=\"_blank\">\n      Test the Live MVP\n    </a>\n  </div>\n  <h2>üìã Requirements</h2>\n  <ul>\n    <li>Jigsaw Stack API Key</li>\n    <li>n8n Instance</li>\n    <li>Webhook Endpoint</li>\n  </ul>\n\n  <h2>üé® Customization</h2>\n  <p>\n    Adjust thresholds, fine‚Äëtune heuristics, or swap OCR providers to \n    better match your business needs and downstream integrations.\n  </p>\n</section>",
  "featuredImage": "/data/workflows/8420/8420.webp",
  "author": {
    "id": 101,
    "slug": "reklaim",
    "name": "Stephan Koning",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 174,
  "downloads": 17,
  "createdAt": "2025-09-09T15:23:51.906Z",
  "updatedAt": "2026-01-16T08:55:43.458Z",
  "publishedAt": "2025-09-09T15:23:51.906Z",
  "nodes": 24,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8420",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Classify & extract data from floorplans with Mistral AI OCR & JigsawStack",
    "workflowName": "Classify & extract data from floorplans with Mistral AI OCR & JigsawStack",
    "description": "<section>\n  <h2>üåä What it Does</h2>\n  <p>\n    This workflow <strong>automatically classifies uploaded files</strong> (PDFs or images) as\n    <span>floorplans</span> or <span>non‚Äëfloorplans</span>.  \n    It filters out junk files, then analyzes valid floorplans to extract <em>room sizes</em> and <em>measurements</em>.\n  </p>\n\n  <h2>üë• Who it‚Äôs For</h2>\n  <p>\n    Built for <strong>real estate platforms, property managers, and automation builders</strong> \n    who need a trustworthy way to detect invalid uploads while quickly turning true floorplans \n    into structured, reusable data.\n  </p>\n\n  <h2>‚öôÔ∏è How it Works</h2>\n  <ol>\n    <li>User uploads a file (<code>PDF</code>, <code>JPG</code>, <code>PNG</code>, etc.).</li>\n    <li>Workflow routes the file based on type for specialized processing.</li>\n    <li>A two‚Äëlayer quality check is applied using heuristics and AI classification.</li>\n    <li>A confidence score determines if the file is a valid floorplan.</li>\n    <li>Valid floorplans are passed to a powerful OCR/AI for deep analysis.</li>\n    <li>Results are returned as <strong>JSON</strong> and a user-friendly <strong>HTML table</strong>.</li>\n  </ol>\n\n  <h2>üß† The Technology Behind the Demo</h2>\n  <p>\n    This MVP is a glimpse into a more advanced commercial system. It runs on a custom <strong>n8n workflow</strong> that leverages <strong>Mistral AI's</strong> latest OCR technology. Here‚Äôs what makes it powerful:\n  </p>\n  <ul>\n    <li>\n      <strong>Structured Data Extraction:</strong> The AI is forced to return data in a clean, predictable <code>JSON Schema</code>. This isn't just text scraping; it‚Äôs a reliable data pipeline.\n    </li>\n    <li>\n      <strong>Intelligent Data Enrichment:</strong> The workflow doesn't just extract data‚Äîit enriches it. A custom script automatically calculates crucial metrics like <strong>wall surface area</strong> from the floor dimensions, even using fallback estimates if needed.\n    </li>\n    <li>\n      <strong>Automated Aggregation:</strong> It goes beyond individual rooms by automatically calculating totals per floor level and per room type, providing immediate, actionable insights.\n    </li>\n  </ul>\n  <p>\n    While this demo shows the core classification and measurement (Step 1), the full commercial version includes <strong>Step 2 & 3 (Automated Offer Generation)</strong>, currently in use by a client in the construction industry.\n  </p>\n  <div>\n    <a href=\"https://form0.app/forms/drTI6g\" target=\"_blank\">\n      Test the Live MVP\n    </a>\n  </div>\n  <h2>üìã Requirements</h2>\n  <ul>\n    <li>Jigsaw Stack API Key</li>\n    <li>n8n Instance</li>\n    <li>Webhook Endpoint</li>\n  </ul>\n\n  <h2>üé® Customization</h2>\n  <p>\n    Adjust thresholds, fine‚Äëtune heuristics, or swap OCR providers to \n    better match your business needs and downstream integrations.\n  </p>\n</section>",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Low Quality Endpoint Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Manual Review Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Continue to JIG Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Classification Success Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Flow Summary Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "File Limit Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "üìò Workflow Documentation",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Check ‚Äì GDPR Consent",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Webhook ‚Äì Receive Upload",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond ‚Äì Consent Required",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Process ‚Äì Multiple File Uploads",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Check ‚Äì File Type (PDF/Image)",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Extract ‚Äì PDF Metadata/Text",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Check ‚Äì File Size & Pages",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Analyze ‚Äì Confidence Score (Heuristics)",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Route ‚Äì Confidence Levels",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Respond ‚Äì Low Quality/Drop",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Classify ‚Äì Image Files",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Classify ‚Äì PDF Text",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Respond ‚Äì Classification Result (Image)",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Respond ‚Äì Classification Result (PDF)",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Respond ‚Äì File Too Large",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Upload ‚Äì JigsawStack (Storage)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    }
  ]
}