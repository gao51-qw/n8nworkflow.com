{
  "id": 6545,
  "slug": "6545",
  "title": "Meta Ads Performance Analysis with GPT-4 & Gemini AI Comparisons",
  "description": "This workflow transforms raw Meta Ads data into actionable, expert-level insights. It acts as a virtual performance marketer, analyzing each creative's performance, comparing it against your historical benchmarks, and delivering clear recommendations on whether to scale, optimize, or stop the ad. By running parallel analyses with both OpenAI and Gemini, it provides a unique, dual-perspective evaluation.\nThis template is the perfect sequel to our \"Automation of Creative Testing\" workflow but also works powerfully on its own.\n\n#### **Use Case**\nManually sifting through ads manager reports is tedious, and identifying true winners from early data is challenging. This workflow solves these problems by automating the entire analysis pipeline. It's designed for performance marketing teams who need to:\n- Make faster, data-driven decisions on which creatives to scale.\n- Get objective, AI-powered second opinions on ad performance.\n- Systematically evaluate creatives against consistent, pre-defined benchmarks.\n- Maintain a central log in Google Sheets with both raw metrics and qualitative AI analysis.\n- Save hours spent on manual data crunching and report generation.\n\n#### **How it Works**\nThe workflow is structured into three logical stages:\n\n1. **Configuration & Data Ingestion**:\n- A central ⚙️ Set parameters node holds all key variables: the data source (Meta or Sheets), campaign_id, and, most importantly, your historical performance benchmarks as a simple text block.\n- An IF node directs the workflow to fetch data either directly from a Meta Ads campaign or from a specified Google Sheet (ideal for analyzing a curated list of ads).\n\n2. **Data Processing & AI Analysis (Parallel Execution)**:\nAfter fetching raw performance data (spend, impressions, clicks, actions), the workflow splits into three parallel branches for maximum resilience:\n- Branch 1 (Data Logging): Immediately writes or updates a row in Google Sheets with the raw metrics for the creative. This ensures no data is lost, even if the AI analysis fails.\n- Branch 2 (OpenAI Analysis): Prepares a CSV string of the creative's data, sends it along with the benchmarks to an OpenAI model (e.g., GPT-4), and instructs it to return a structured JSON analysis.\n- Branch 3 (Gemini Analysis): Performs the exact same process but using Google's Gemini model via a LangChain agent, providing a second, independent evaluation.\n\n3. **Results Aggregation**:\n- The results from both AI models are received as structured JSON.\n- Two final Google Sheets nodes take these results and update the original row (matching by AdID), adding the evaluation, significance, summary, and recommendation into separate columns. The final sheet contains a complete picture: raw data side-by-side with analyses from two different AIs.\n\n---\n\n### **Setup Instructions**\n\n1. **Credentials**:\n1.1 Connect your Meta Ads account.\n1.2 Connect your Google account (for Sheets).\n1.3 Connect your OpenAI account.\n1.4 Connect your Google Gemini (Palm) account.\n2. **The ⚙️ Set parameters Node**:\nThis is the central control panel. Open this first Set node and customize it:\n- source: Set to \"Meta\" to pull from a campaign or \"sheets\" to read from a Google Sheet.\n- campaign_id: If source is \"Meta\", enter your Meta Campaign ID here.\n- benchmarks_data: This is critical. Paste your own historical performance data here as a CSV-formatted text block. The template includes an example. For best results, use an export from Ads Manager of your top-performing creatives, including key metrics.\n3. **Google Sheets Nodes**:\nThere are three Google Sheets nodes that write data. You need to configure all of them to point to the same spreadsheet and sheet.\n- Ad metrics (for raw metrics): Select your spreadsheet and sheet. Ensure \"Operation\" is set to Append or Update.\n- Ad data from OpenAI (for OpenAI results): Select the same spreadsheet/sheet. Set \"Operation\" to Update.\n- Ad data from Gemini (for Gemini results): Select the same spreadsheet/sheet. Set \"Operation\" to Update.\n- Make sure your sheet has columns for all the data fields, e.g., AdID, FileName, spend, impressions, evaluation, summary, recommendation, evaluation G, summary G, etc.\n4. **Activate the Workflow**:\nSet your desired frequency in the Schedule Trigger node.\nSave and activate the workflow.\n\n\n---\n\n### **Further Ideas & Customization**\nThis powerful analysis engine can be extended even further:\n- Add a \"Decision\" Node: After the AI analyses are logged, add a final step that compares their recommendations. If both AIs say \"scale\", automatically increase the ad's budget via the Meta Ads API.\n- Create Summary Reports: Add a branch that, after all ads are processed, calculates an overall summary (e.g., \"3 creatives recommended for scaling, 5 for stopping\") and sends it to a Slack channel.\n- Dynamic Benchmarks: Instead of pasting benchmarks into the Set node, create a step that reads them from a dedicated \"Benchmarks\" tab in your Google Sheet, making them even easier to update.\n- Experiment with Prompts and Benchmarks: The quality of the AI analysis is highly dependent on the quality of your input. Don't be afraid to:\n-- Refine the prompts in the AI Agent and Message a model nodes to better match your specific business context and KPIs.\n-- Curate your benchmarks_data. Test different sets of benchmark data (e.g., \"last 30 days top performers\" vs. \"all-time best\") to see how it influences the AI's recommendations. Finding the right combination of prompt and data is key to unlocking the most effective insights.",
  "featuredImage": "/data/workflows/6545/6545.webp",
  "author": {
    "id": 101,
    "slug": "hotgomer",
    "name": "Kirill Khatkevich",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 2129,
  "downloads": 212,
  "createdAt": "2025-07-28T02:10:33.312Z",
  "updatedAt": "2026-01-16T08:45:37.861Z",
  "publishedAt": "2025-07-28T02:10:33.312Z",
  "nodes": 25,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6545",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Meta Ads Performance Analysis with GPT-4 & Gemini AI Comparisons",
    "workflowName": "Meta Ads Performance Analysis with GPT-4 & Gemini AI Comparisons",
    "description": "This workflow transforms raw Meta Ads data into actionable, expert-level insights. It acts as a virtual performance marketer, analyzing each creative's performance, comparing it against your historical benchmarks, and delivering clear recommendations on whether to scale, optimize, or stop the ad. By running parallel analyses with both OpenAI and Gemini, it provides a unique, dual-perspective evaluation.\nThis template is the perfect sequel to our \"Automation of Creative Testing\" workflow but also works powerfully on its own.\n\n#### **Use Case**\nManually sifting through ads manager reports is tedious, and identifying true winners from early data is challenging. This workflow solves these problems by automating the entire analysis pipeline. It's designed for performance marketing teams who need to:\n- Make faster, data-driven decisions on which creatives to scale.\n- Get objective, AI-powered second opinions on ad performance.\n- Systematically evaluate creatives against consistent, pre-defined benchmarks.\n- Maintain a central log in Google Sheets with both raw metrics and qualitative AI analysis.\n- Save hours spent on manual data crunching and report generation.\n\n#### **How it Works**\nThe workflow is structured into three logical stages:\n\n1. **Configuration & Data Ingestion**:\n- A central ⚙️ Set parameters node holds all key variables: the data source (Meta or Sheets), campaign_id, and, most importantly, your historical performance benchmarks as a simple text block.\n- An IF node directs the workflow to fetch data either directly from a Meta Ads campaign or from a specified Google Sheet (ideal for analyzing a curated list of ads).\n\n2. **Data Processing & AI Analysis (Parallel Execution)**:\nAfter fetching raw performance data (spend, impressions, clicks, actions), the workflow splits into three parallel branches for maximum resilience:\n- Branch 1 (Data Logging): Immediately writes or updates a row in Google Sheets with the raw metrics for the creative. This ensures no data is lost, even if the AI analysis fails.\n- Branch 2 (OpenAI Analysis): Prepares a CSV string of the creative's data, sends it along with the benchmarks to an OpenAI model (e.g., GPT-4), and instructs it to return a structured JSON analysis.\n- Branch 3 (Gemini Analysis): Performs the exact same process but using Google's Gemini model via a LangChain agent, providing a second, independent evaluation.\n\n3. **Results Aggregation**:\n- The results from both AI models are received as structured JSON.\n- Two final Google Sheets nodes take these results and update the original row (matching by AdID), adding the evaluation, significance, summary, and recommendation into separate columns. The final sheet contains a complete picture: raw data side-by-side with analyses from two different AIs.\n\n---\n\n### **Setup Instructions**\n\n1. **Credentials**:\n1.1 Connect your Meta Ads account.\n1.2 Connect your Google account (for Sheets).\n1.3 Connect your OpenAI account.\n1.4 Connect your Google Gemini (Palm) account.\n2. **The ⚙️ Set parameters Node**:\nThis is the central control panel. Open this first Set node and customize it:\n- source: Set to \"Meta\" to pull from a campaign or \"sheets\" to read from a Google Sheet.\n- campaign_id: If source is \"Meta\", enter your Meta Campaign ID here.\n- benchmarks_data: This is critical. Paste your own historical performance data here as a CSV-formatted text block. The template includes an example. For best results, use an export from Ads Manager of your top-performing creatives, including key metrics.\n3. **Google Sheets Nodes**:\nThere are three Google Sheets nodes that write data. You need to configure all of them to point to the same spreadsheet and sheet.\n- Ad metrics (for raw metrics): Select your spreadsheet and sheet. Ensure \"Operation\" is set to Append or Update.\n- Ad data from OpenAI (for OpenAI results): Select the same spreadsheet/sheet. Set \"Operation\" to Update.\n- Ad data from Gemini (for Gemini results): Select the same spreadsheet/sheet. Set \"Operation\" to Update.\n- Make sure your sheet has columns for all the data fields, e.g., AdID, FileName, spend, impressions, evaluation, summary, recommendation, evaluation G, summary G, etc.\n4. **Activate the Workflow**:\nSet your desired frequency in the Schedule Trigger node.\nSave and activate the workflow.\n\n\n---\n\n### **Further Ideas & Customization**\nThis powerful analysis engine can be extended even further:\n- Add a \"Decision\" Node: After the AI analyses are logged, add a final step that compares their recommendations. If both AIs say \"scale\", automatically increase the ad's budget via the Meta Ads API.\n- Create Summary Reports: Add a branch that, after all ads are processed, calculates an overall summary (e.g., \"3 creatives recommended for scaling, 5 for stopping\") and sends it to a Slack channel.\n- Dynamic Benchmarks: Instead of pasting benchmarks into the Set node, create a step that reads them from a dedicated \"Benchmarks\" tab in your Google Sheet, making them even easier to update.\n- Experiment with Prompts and Benchmarks: The quality of the AI analysis is highly dependent on the quality of your input. Don't be afraid to:\n-- Refine the prompts in the AI Agent and Message a model nodes to better match your specific business context and KPIs.\n-- Curate your benchmarks_data. Test different sets of benchmark data (e.g., \"last 30 days top performers\" vs. \"all-time best\") to see how it influences the AI's recommendations. Finding the right combination of prompt and data is key to unlocking the most effective insights.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Ads",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Insights",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Ads Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Insights Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Metrics",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Set parameters",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get Ad Details",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Prepare CSV for OpenAI",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Prepare CSV for Gemini",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Ad data from Gemini",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Ad data from OpenAI",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Send data to 4.1-NANO",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Send data to Gemini",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Ad metrics",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Get Ads from Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}