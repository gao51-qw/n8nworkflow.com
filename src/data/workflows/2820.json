{
  "id": 2820,
  "slug": "2820",
  "title": "Backup workflows to Git repository on Gitea",
  "description": "#### **Overview**\nThis workflow automates the backup of all workflows from your system to a **Git repository hosted on Gitea**. It runs on a **scheduled trigger**, fetching, encoding, and committing workflow data, ensuring seamless version control and disaster recovery.\n\nüìå **Quick Setup:** Just update three global variables and configure authentication‚Äîno manual exports needed!\n\n---\n\n### **How It Works (Quick Glance)**\n1Ô∏è‚É£ **Scheduled Execution** ‚Üí Runs automatically at defined intervals.\n2Ô∏è‚É£ **Fetch Workflows** ‚Üí Uses the API to retrieve all workflows.\n3Ô∏è‚É£ **Process Workflows** ‚Üí Converts workflow data into a **Git-friendly format**.\n4Ô∏è‚É£ **Commit & Push to Git** ‚Üí Saves workflows in a Gitea repository.\n\n---\n\n### **Setup Steps** (‚ö° Takes ~5 min)\n\n#### **1Ô∏è‚É£ Set Global Variables**\nGo to the **Globals** section in the workflow and update:\n- **`repo.url`** ‚Üí `https://your-gitea-instance.com` *(Replace with your actual Gitea URL)*\n- **`repo.name`** ‚Üí `workflows` *(Repository name where backups will be stored)*\n- **`repo.owner`** ‚Üí `octoleo` *(Gitea account that owns the repository)*\n\nüìå **These three variables define where the workflows are stored.**\n\n#### **2Ô∏è‚É£ Configure Gitea Authentication**\n- **Go to your Gitea account** ‚Üí Generate a **Personal Access Token**\n- In the **credential manager**, create a **new Gitea Token** with:\n- **Name:** `Authorization`\n- **Value:** `Bearer YOUR_PERSONAL_ACCESS_TOKEN`\n\nüìå **Ensure there is a space after `Bearer` before the token!**\n\n#### **3Ô∏è‚É£ Link Credentials to Git Nodes**\nAttach the Gitea credentials to these three Git nodes:\n- **GetGitea** ‚Üí Retrieves existing repository data\n- **PutGitea** ‚Üí Updates workflows\n- **PostGitea** ‚Üí Adds new workflows\n\n#### **4Ô∏è‚É£ Link Credentials for API Requests**\n- **Add API authentication** in the node that fetches all workflows.\n\n#### **5Ô∏è‚É£ Test & Activate**\n- **Run the workflow manually** to confirm backups work.\n- Enable the **schedule trigger** for automation.\n\nüìå **The workflow automatically checks for changes before committing updates.**\n\n---\n\n### **Why Use This Workflow?**\n‚úÖ **Automated Backups** ‚Üí No manual exports needed.\n‚úÖ **Version Control** ‚Üí Easily track workflow changes.\n‚úÖ **Simple Setup** ‚Üí Just configure globals & credentials.\n‚úÖ **Secure** ‚Üí Uses token-based authentication.\n\n---\n\n### **Next Steps**\nüí¨ Have questions? **Reach out on the forum!** üöÄ",
  "featuredImage": "/data/workflows/2820/2820.webp",
  "author": {
    "id": 101,
    "slug": "octoleo",
    "name": "Octoleo",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1658,
  "downloads": 165,
  "createdAt": "2025-01-29T14:22:41.191Z",
  "updatedAt": "2026-01-16T08:26:40.575Z",
  "publishedAt": "2025-01-29T14:22:41.191Z",
  "nodes": 20,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2820",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Backup workflows to Git repository on Gitea",
    "workflowName": "Backup workflows to Git repository on Gitea",
    "description": "**\nThis workflow automates the backup of all workflows from your system to a **Git repository hosted on Gitea**. It runs on a **scheduled trigger**, fetching, encoding, and committing workflow data, ensuring seamless version control and disaster recovery.\n\nüìå **Quick Setup:** Just update three global variables and configure authentication‚Äîno manual exports needed!\n\n---\n\n### **How It Works (Quick Glance)**\n1Ô∏è‚É£ **Scheduled Execution** ‚Üí Runs automatically at defined intervals.\n2Ô∏è‚É£ **Fetch Workflows** ‚Üí Uses the API to retrieve all workflows.\n3Ô∏è‚É£ **Process Workflows** ‚Üí Converts workflow data into a **Git-friendly format**.\n4Ô∏è‚É£ **Commit & Push to Git** ‚Üí Saves workflows in a Gitea repository.\n\n---\n\n### **Setup Steps** (‚ö° Takes ~5 min)\n\n#### **1Ô∏è‚É£ Set Global Variables**\nGo to the **Globals** section in the workflow and update:\n- **`repo.url`** ‚Üí `https://your-gitea-instance.com` *(Replace with your actual Gitea URL)*\n- **`repo.name`** ‚Üí `workflows` *(Repository name where backups will be stored)*\n- **`repo.owner`** ‚Üí `octoleo` *(Gitea account that owns the repository)*\n\nüìå **These three variables define where the workflows are stored.**\n\n#### **2Ô∏è‚É£ Configure Gitea Authentication**\n- **Go to your Gitea account** ‚Üí Generate a **Personal Access Token**\n- In the **credential manager**, create a **new Gitea Token** with:\n- **Name:** `Authorization`\n- **Value:** `Bearer YOUR_PERSONAL_ACCESS_TOKEN`\n\nüìå **Ensure there is a space after `Bearer` before the token!**\n\n#### **3Ô∏è‚É£ Link Credentials to Git Nodes**\nAttach the Gitea credentials to these three Git nodes:\n- **GetGitea** ‚Üí Retrieves existing repository data\n- **PutGitea** ‚Üí Updates workflows\n- **PostGitea** ‚Üí Adds new workflows\n\n#### **4Ô∏è‚É£ Link Credentials for API Requests**\n- **Add API authentication** in the node that fetches all workflows.\n\n#### **5Ô∏è‚É£ Test & Activate**\n- **Run the workflow manually** to confirm backups work.\n- Enable the **schedule trigger** for automation.\n\nüìå **The workflow automatically checks for changes before committing updates.**\n\n---\n\n### **Why Use This Workflow?**\n‚úÖ **Automated Backups** ‚Üí No manual exports needed.\n‚úÖ **Version Control** ‚Üí Easily track workflow changes.\n‚úÖ **Simple Setup** ‚Üí Just configure globals & credentials.\n‚úÖ **Secure** ‚Üí Uses token-based authentication.\n\n---\n\n### **Next Steps**\nüí¨ Have questions? **Reach out on the forum!** üöÄ",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Globals",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 1"
    },
    {
      "name": "n8n",
      "type": "n8n-nodes-base.n8n",
      "role": "n8n",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "SetDataUpdateNode",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "SetDataCreateNode",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Base64EncodeUpdate",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Base64EncodeCreate",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Exist",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Changed",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "PutGitea",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "GetGitea",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "PostGitea",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "ForEach",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}