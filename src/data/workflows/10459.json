{
  "id": 10459,
  "slug": "10459",
  "title": "Build a product catalog chatbot with Mistral AI, Google Drive & Supabase RAG",
  "description": "#   AI Product Catalog Chatbot with Google Drive Ingestion & Supabase RAG\n\n##  Overview\nThis workflow builds a **dual-system** that connects **automated document ingestion** with a **live product catalog chatbot** powered by **Mistral AI** and **Supabase**.\n\nIt includes:\n- **Ingestion Pipeline:** Automatically fetches JSON files from Google Drive, processes their content, and stores vector embeddings in Supabase.  \n- **Chatbot:** An AI agent that queries the Supabase vector store (RAG) to answer user questions about the product catalog.  \n\nIt uses **Mistral AI** for chat intelligence and embeddings, and **Supabase** for vector storage and semantic product search.\n\n---\n\n##  Chatbot Flow\n- **Trigger:** `When chat message received` or `Webhook` (from live website)\n- **Model:** `Mistral Cloud Chat Model (mistral-medium-latest)`\n- **Memory:** `Simple Memory (Buffer Window)` ‚Äî keeps last 15 messages for conversational context\n- **Vector Search Tool:** `Supabase Vector Store`\n- **Embeddings:** `Mistral Cloud`\n- **Agent:** `product catalog agent`\n  - Responds to user queries using the `products` table in Supabase.  \n  - Searches vectors for relevant items and returns structured product details (name, specs, images, and links).  \n  - Maintains chat session history for natural follow-up questions.\n\n---\n\n##  Document ‚Üí Knowledge Base Pipeline\nTriggered manually (`Execute workflow`) to populate or refresh the Supabase vector store.\n\n### Steps\n1. **Google Drive (List Files)**  \n   ‚Üí Fetch all files from the configured Google Drive folder.\n\n2. **Loop Over Items**  \n   ‚Üí For each file:\n   - **Google Drive (Get File)**  \n     ‚Üí Download the JSON document.\n   - **Extract from File**  \n     ‚Üí Parse and read raw JSON content.\n   - **Map Data into Fields (`Set` node)**  \n     ‚Üí Clean and normalize JSON keys (e.g., `page_title`, `comprehensive_summary`, `key_topics`).\n   - **Convert Data into Chunks (`Code` node)**  \n     ‚Üí Merge text fields like `summary` and `markdown`.  \n     ‚Üí Split content into overlapping 2,000-character chunks.  \n     ‚Üí Add metadata such as `title`, `URL`, and `chunk index`.\n   - **Embeddings (Mistral Cloud)**  \n     ‚Üí Generate vector embeddings for each text chunk.\n   - **Insert into Supabase Vectorstore**  \n     ‚Üí Save chunks + embeddings into the `website_mark` table.\n   - **Wait**  \n     ‚Üí Pause for 30 seconds before the next file to respect rate limits.\n\n---\n\n##  Integrations Used\n| Service | Purpose | Credential |\n|----------|----------|------------|\n| **Google Drive** | File source for catalog JSON documents | `Google Drive account dbt` |\n| **Mistral AI** | Chat model & embeddings | `Mistral Cloud account dbt` |\n| **Supabase** | Vector storage & RAG search | `Supabase DB account dbt` |\n| **Webhook / Chat** | User-facing interface for chatbot | `Website or Webhook` |\n\n---\n\n##  Sample JSON Data Format (for Ingestion)\n\nThe ingestion pipeline expects structured JSON product files, which can include different categories such as **Apparel** or **Tools**.\n\n###  Apparel Example (T-Shirts)\n```json\n[\n  {\n    \"Name\": \"Classic Crewneck T-Shirt\",\n    \"Item Number\": \"A-TSH-NVY-M\",\n    \"Image URL\": \"https://www.example.com/images/tshirt-navy.jpg\",\n    \"Image Markdown\": \"![Classic Crewneck T-Shirt](https://www.example.com/images/tshirt-navy.jpg)\",\n    \"Size Chart URL\": \"https://www.example.com/charts/tshirt-sizing\",\n    \"Materials\": \"100% Pima Cotton\",\n    \"Color\": \"Navy Blue\",\n    \"Size\": \"M\",\n    \"Fit\": \"Regular Fit\",\n    \"Collection\": \"Core Essentials\"\n  }\n]\n```\n\n###  Tools Example (Drill Bits)\n```json\n[\n  {\n    \"Name\": \"Titanium Drill Bit, 1/4\\\"\",\n    \"Item Number\": \"T-DB-TIN-250\",\n    \"Image URL\": \"https://www.example.com/images/drill-bit-1-4.jpg\",\n    \"Image Markdown\": \"![Titanium Drill Bit, 1/4\\\"](https://www.example.com/images/drill-bit-1-4.jpg)\",\n    \"Spec Sheet URL\": \"https://www.example.com/specs/T-DB-TIN-250\",\n    \"Materials\": \"HSS with Titanium Coating\",\n    \"Type\": \"Twist Drill Bit\",\n    \"Size (in)\": \"1/4\",\n    \"Shank Type\": \"Hex\",\n    \"Application\": \"Metal, Wood, Plastic\"\n  }\n]\n```\n\n---\n\n##  Agent System Prompt Summary\n&gt; ‚ÄúYou are an AI product catalog assistant.  \nUse only the Supabase vector database as your knowledge base.  \nProvide accurate, structured responses with clear formatting ‚Äî including product names, attributes, and URLs.  \nIf data is unavailable, reply politely: *‚ÄòI couldn‚Äôt find that product in the catalog.‚Äô*‚Äù\n\n---\n\n##  Key Features\n-  Automated JSON ingestion from Google Drive ‚Üí Supabase  \n-  Intelligent text chunking and metadata mapping  \n-  Dual-workflow architecture (Ingestion + Chatbot)  \n-  Live conversational product search via RAG  \n-  Supports both **embedded chat** and **webhook** channels  \n\n---\n\n##  Summary\n&gt; A powerful end-to-end workflow that transforms your product data into a **searchable, AI-ready knowledge base**, enabling real-time product Q&A through a **Mistral-powered chatbot**.\n\nPerfect for eCommerce teams, distributors, or B2B companies managing large product catalogs.\n\n---\n\n###  **Need Help or More Workflows?**\nWant to customize this workflow for your business or integrate it with your tools?  \nOur team at **Digital Biz Tech** can tailor it precisely to your use case ‚Äî from automation pipelines to AI-powered product discovery.\n\nüí° We can help you set it up for free ‚Äî from connecting credentials to deploying it live.\n\nContact: [shilpa.raju@digitalbiz.tech](mailto:shilpa.raju@digitalbiz.tech)  \nWebsite: [https://www.digitalbiz.tech](https://www.digitalbiz.tech)  \nLinkedIn: [https://www.linkedin.com/company/digital-biz-tech/](https://www.linkedin.com/company/digital-biz-tech/)  \nYou can also DM us on LinkedIn for any help.\n\n---\n",
  "featuredImage": "/data/workflows/10459/10459.webp",
  "author": {
    "id": 101,
    "slug": "dbt",
    "name": "DIGITAL BIZ TECH",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 289,
  "downloads": 28,
  "createdAt": "2025-11-03T09:57:50.267Z",
  "updatedAt": "2026-01-16T09:05:06.165Z",
  "publishedAt": "2025-11-03T09:57:50.267Z",
  "nodes": 40,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10459",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build a product catalog chatbot with Mistral AI, Google Drive & Supabase RAG",
    "workflowName": "Build a product catalog chatbot with Mistral AI, Google Drive & Supabase RAG",
    "description": "#   AI Product Catalog Chatbot with Google Drive Ingestion & Supabase RAG\n\n##  Overview\nThis workflow builds a **dual-system** that connects **automated document ingestion** with a **live product catalog chatbot** powered by **Mistral AI** and **Supabase**.\n\nIt includes:\n- **Ingestion Pipeline:** Automatically fetches JSON files from Google Drive, processes their content, and stores vector embeddings in Supabase.  \n- **Chatbot:** An AI agent that queries the Supabase vector store (RAG) to answer user questions about the product catalog.  \n\nIt uses **Mistral AI** for chat intelligence and embeddings, and **Supabase** for vector storage and semantic product search.\n\n---\n\n##  Chatbot Flow\n- **Trigger:** `When chat message received` or `Webhook` (from live website)\n- **Model:** `Mistral Cloud Chat Model (mistral-medium-latest)`\n- **Memory:** `Simple Memory (Buffer Window)` ‚Äî keeps last 15 messages for conversational context\n- **Vector Search Tool:** `Supabase Vector Store`\n- **Embeddings:** `Mistral Cloud`\n- **Agent:** `product catalog agent`\n  - Responds to user queries using the `products` table in Supabase.  \n  - Searches vectors for relevant items and returns structured product details (name, specs, images, and links).  \n  - Maintains chat session history for natural follow-up questions.\n\n---\n\n##  Document ‚Üí Knowledge Base Pipeline\nTriggered manually (`Execute workflow`) to populate or refresh the Supabase vector store.\n\n### Steps\n1. **Google Drive (List Files)**  \n   ‚Üí Fetch all files from the configured Google Drive folder.\n\n2. **Loop Over Items**  \n   ‚Üí For each file:\n   - **Google Drive (Get File)**  \n     ‚Üí Download the JSON document.\n   - **Extract from File**  \n     ‚Üí Parse and read raw JSON content.\n   - **Map Data into Fields (`Set` node)**  \n     ‚Üí Clean and normalize JSON keys (e.g., `page_title`, `comprehensive_summary`, `key_topics`).\n   - **Convert Data into Chunks (`Code` node)**  \n     ‚Üí Merge text fields like `summary` and `markdown`.  \n     ‚Üí Split content into overlapping 2,000-character chunks.  \n     ‚Üí Add metadata such as `title`, `URL`, and `chunk index`.\n   - **Embeddings (Mistral Cloud)**  \n     ‚Üí Generate vector embeddings for each text chunk.\n   - **Insert into Supabase Vectorstore**  \n     ‚Üí Save chunks + embeddings into the `website_mark` table.\n   - **Wait**  \n     ‚Üí Pause for 30 seconds before the next file to respect rate limits.\n\n---\n\n##  Integrations Used\n| Service | Purpose | Credential |\n|----------|----------|------------|\n| **Google Drive** | File source for catalog JSON documents | `Google Drive account dbt` |\n| **Mistral AI** | Chat model & embeddings | `Mistral Cloud account dbt` |\n| **Supabase** | Vector storage & RAG search | `Supabase DB account dbt` |\n| **Webhook / Chat** | User-facing interface for chatbot | `Website or Webhook` |\n\n---\n\n##  Sample JSON Data Format (for Ingestion)\n\nThe ingestion pipeline expects structured JSON product files, which can include different categories such as **Apparel** or **Tools**.\n\n###  Apparel Example (T-Shirts)\n```json\n[\n  {\n    \"Name\": \"Classic Crewneck T-Shirt\",\n    \"Item Number\": \"A-TSH-NVY-M\",\n    \"Image URL\": \"https://www.example.com/images/tshirt-navy.jpg\",\n    \"Image Markdown\": \"![Classic Crewneck T-Shirt](https://www.example.com/images/tshirt-navy.jpg)\",\n    \"Size Chart URL\": \"https://www.example.com/charts/tshirt-sizing\",\n    \"Materials\": \"100% Pima Cotton\",\n    \"Color\": \"Navy Blue\",\n    \"Size\": \"M\",\n    \"Fit\": \"Regular Fit\",\n    \"Collection\": \"Core Essentials\"\n  }\n]\n```\n\n###  Tools Example (Drill Bits)\n```json\n[\n  {\n    \"Name\": \"Titanium Drill Bit, 1/4\\\"\",\n    \"Item Number\": \"T-DB-TIN-250\",\n    \"Image URL\": \"https://www.example.com/images/drill-bit-1-4.jpg\",\n    \"Image Markdown\": \"![Titanium Drill Bit, 1/4\\\"](https://www.example.com/images/drill-bit-1-4.jpg)\",\n    \"Spec Sheet URL\": \"https://www.example.com/specs/T-DB-TIN-250\",\n    \"Materials\": \"HSS with Titanium Coating\",\n    \"Type\": \"Twist Drill Bit\",\n    \"Size (in)\": \"1/4\",\n    \"Shank Type\": \"Hex\",\n    \"Application\": \"Metal, Wood, Plastic\"\n  }\n]\n```\n\n---\n\n##  Agent System Prompt Summary\n&gt; ‚ÄúYou are an AI product catalog assistant.  \nUse only the Supabase vector database as your knowledge base.  \nProvide accurate, structured responses with clear formatting ‚Äî including product names, attributes, and URLs.  \nIf data is unavailable, reply politely: *‚ÄòI couldn‚Äôt find that product in the catalog.‚Äô*‚Äù\n\n---\n\n##  Key Features\n-  Automated JSON ingestion from Google Drive ‚Üí Supabase  \n-  Intelligent text chunking and metadata mapping  \n-  Dual-workflow architecture (Ingestion + Chatbot)  \n-  Live conversational product search via RAG  \n-  Supports both **embedded chat** and **webhook** channels  \n\n---\n\n##  Summary\n&gt; A powerful end-to-end workflow that transforms your product data into a **searchable, AI-ready knowledge base**, enabling real-time product Q&A through a **Mistral-powered chatbot**.\n\nPerfect for eCommerce teams, distributors, or B2B companies managing large product catalogs.\n\n---\n\n###  **Need Help or More Workflows?**\nWant to customize this workflow for your business or integrate it with your tools?  \nOur team at **Digital Biz Tech** can tailor it precisely to your use case ‚Äî from automation pipelines to AI-powered product discovery.\n\nüí° We can help you set it up for free ‚Äî from connecting credentials to deploying it live.\n\nContact: [shilpa.raju@digitalbiz.tech](mailto:shilpa.raju@digitalbiz.tech)  \nWebsite: [https://www.digitalbiz.tech](https://www.digitalbiz.tech)  \nLinkedIn: [https://www.linkedin.com/company/digital-biz-tech/](https://www.linkedin.com/company/digital-biz-tech/)  \nYou can also DM us on LinkedIn for any help.\n\n---",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Set File ID",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Google Drive1",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Default Data Loader1",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Character Text Splitter1",
      "type": "@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter",
      "role": "textSplitterCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings Mistral Cloud2",
      "type": "@n8n/n8n-nodes-langchain.embeddingsMistralCloud",
      "role": "embeddingsMistralCloud",
      "configDescription": "Version 1"
    },
    {
      "name": "Insert into Supabase Vectorstore",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Wait4",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "When clicking ‚ÄòExecute workflow‚Äô",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Mistral Cloud Chat Model4",
      "type": "@n8n/n8n-nodes-langchain.lmChatMistralCloud",
      "role": "lmChatMistralCloud",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings Mistral Cloud",
      "type": "@n8n/n8n-nodes-langchain.embeddingsMistralCloud",
      "role": "embeddingsMistralCloud",
      "configDescription": "Version 1"
    },
    {
      "name": "Simple Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Webhook1",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "extract metadata",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Drive  get file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "map data into fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "convert data into chunks",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "product catalog agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}