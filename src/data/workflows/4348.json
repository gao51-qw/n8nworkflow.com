{
  "id": 4348,
  "slug": "4348",
  "title": "Bright Data-powered competitive price lookup and report generator",
  "description": "This n8n workflow automates the collection, enrichment, and analysis of e-commerce product listings using Bright Data and AI, then delivers an HTML email report with the most competitive offers.\n\nüöÄ **What It Does**\n\n- Pulls product titles from a Google Sheet.\n- For each product, searches a Bright Data marketplace dataset (Google Shopping) for available listings.\n- Extracts relevant fields: price, title, seller name, and listing URL.\n- Sends this data to Google Gemini for AI-powered Markdown report generation.\n- Converts Markdown to HTML and styles the output for better email rendering.\n- Sends an email report for each product with the top 20 most affordable offers.\n\nüõ†Ô∏è **Step-by-Step Setup**\n\n- Load product list from Google Sheets.\n- For each product title, run a Bright Data filter request (case-sensitive match).\n- Poll the snapshot status until it is ready.\n- Retrieve snapshot content and clean the results with a Code node.\n- Pass the results to Gemini (PaLM/Gemini Flash) for analysis and report generation in Markdown.\n- Convert Markdown into styled HTML using Markdown + Code nodes.\n- Send formatted email to a predefined recipient.\n- Return to the loop and repeat for the next product.\n\nüß† **How It Works**\n\n- Loop Control: SplitInBatches handles product-by-product processing.\n- Snapshot Handling: Snapshot status is polled every 30s until success/failure.\n- AI Formatting: Gemini summarizes listings and formats content.\n- Error Handling: Failed snapshots produce a warning message and resume the loop.\n\nüì® **Final Output**\n\n- Each email contains:\n- The product name\n- A clean HTML of up to 20 sellers with lowest prices\n- Links to listings\n- AI-generated pricing summary\n\nüîê **Credentials Used**\n\n- Bright Data account\n- Google Gemini (PaLM/Gemini Flash)\n- Google Sheets (OAuth2)\n- SMTP Email (emailSend node)\n\n‚ö†Ô∏è **Important Notes**\n\n - Item title search is case-sensitive. Typos or casing mismatches may result in no results.\n- Requires **n8n-nodes-brightdata community node** to be installed.\n\n",
  "featuredImage": "/data/workflows/4348/4348.webp",
  "author": {
    "id": 101,
    "slug": "glebd",
    "name": "Gleb D",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 537,
  "downloads": 53,
  "createdAt": "2025-05-23T18:15:36.897Z",
  "updatedAt": "2026-01-16T08:33:55.594Z",
  "publishedAt": "2025-05-23T18:15:36.897Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4348",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Bright Data-powered competitive price lookup and report generator",
    "workflowName": "Bright Data-powered competitive price lookup and report generator",
    "description": "This n8n workflow automates the collection, enrichment, and analysis of e-commerce product listings using Bright Data and AI, then delivers an HTML email report with the most competitive offers.\n\nüöÄ **What It Does**\n\n- Pulls product titles from a Google Sheet.\n- For each product, searches a Bright Data marketplace dataset (Google Shopping) for available listings.\n- Extracts relevant fields: price, title, seller name, and listing URL.\n- Sends this data to Google Gemini for AI-powered Markdown report generation.\n- Converts Markdown to HTML and styles the output for better email rendering.\n- Sends an email report for each product with the top 20 most affordable offers.\n\nüõ†Ô∏è **Step-by-Step Setup**\n\n- Load product list from Google Sheets.\n- For each product title, run a Bright Data filter request (case-sensitive match).\n- Poll the snapshot status until it is ready.\n- Retrieve snapshot content and clean the results with a Code node.\n- Pass the results to Gemini (PaLM/Gemini Flash) for analysis and report generation in Markdown.\n- Convert Markdown into styled HTML using Markdown + Code nodes.\n- Send formatted email to a predefined recipient.\n- Return to the loop and repeat for the next product.\n\nüß† **How It Works**\n\n- Loop Control: SplitInBatches handles product-by-product processing.\n- Snapshot Handling: Snapshot status is polled every 30s until success/failure.\n- AI Formatting: Gemini summarizes listings and formats content.\n- Error Handling: Failed snapshots produce a warning message and resume the loop.\n\nüì® **Final Output**\n\n- Each email contains:\n- The product name\n- A clean HTML of up to 20 sellers with lowest prices\n- Links to listings\n- AI-generated pricing summary\n\nüîê **Credentials Used**\n\n- Bright Data account\n- Google Gemini (PaLM/Gemini Flash)\n- Google Sheets (OAuth2)\n- SMTP Email (emailSend node)\n\n‚ö†Ô∏è **Important Notes**\n\n - Item title search is case-sensitive. Typos or casing mismatches may result in no results.\n- Requires **n8n-nodes-brightdata community node** to be installed.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‚ÄòTest workflow‚Äô",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Wait 30s - Polling Bright Data",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Snapshot Progress",
      "type": "n8n-nodes-brightdata.brightData",
      "role": "brightData",
      "configDescription": "Version 1"
    },
    {
      "name": "Snapshot Content",
      "type": "n8n-nodes-brightdata.brightData",
      "role": "brightData",
      "configDescription": "Version 1"
    },
    {
      "name": "Snapshot Request",
      "type": "n8n-nodes-brightdata.brightData",
      "role": "brightData",
      "configDescription": "Version 1"
    },
    {
      "name": "If - Checking status of Snapshot",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Check if snapshot ready",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "If - Checking status for errors",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Code - Check If Snapshot is built",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Code - Extract Necessary Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Email Report",
      "type": "n8n-nodes-base.emailSend",
      "role": "emailSend",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Error message (replace with webhook/other notifier if needed)",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Compare Prices and Generate Report",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Markdown",
      "type": "n8n-nodes-base.markdown",
      "role": "markdown",
      "configDescription": "Version 1"
    },
    {
      "name": "Code - Build HTML",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}