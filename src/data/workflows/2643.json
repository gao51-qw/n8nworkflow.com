{
  "id": 2643,
  "slug": "2643",
  "title": "Intelligent web query and semantic re-ranking flow using Brave and Google Gemini",
  "description": "## **Workflow Description**\n\n\nThis workflow is a powerful, fully automated **web query and semantic reranking system** that allows users to perform precise, detailed searches, intelligently rank search results and provide high-quality, structured output. Built with **AI-powered components**, the workflow leverages **semantic query generation, result re-ranking, and real-time reporting** to deliver actionable insights.\n\nIt is particularly well-suited for **real-time data retrieval**, **market research**, and any domain requiring automated yet customizable search result processing.\n\n---\n\n### **How It Works**\n\n1. **Webhook Integration for Input**:  \n   - The workflow begins with a **Webhook Node** that captures the user's search query as input, enabling seamless integration with other systems.  \n\n2. **Step 1: Semantic Query Generation** (Powered by \"Semantic Search - Query Maker\"):  \n   - Using AI (Google Gemini), the initial query is refined and transformed into a **context-aware, expert-level search query**.  \n   - The process ensures that the search engine retrieves the most relevant and precise results.\n\n3. **Step 2: Web Search Execution**:  \n   - A free Brave Search API processes the refined query to fetch search results, ensuring speed and cost efficiency.\n\n4. **Step 3: Semantic Re-Ranking of Results** (Powered by \"Semantic Search - Result Re-Ranker\"):  \n   - The workflow reranks the search results based on relevance to the original question, prioritizing the most relevant URLs dynamically.  \n   - Results are passed through **AI-powered intelligent reranking** to ensure the final output reflects optimal relevance and quality.\n\n5. **Step 4: Structured Output Generation**:  \n   - Results are converted into a well-structured, organized JSON format, ranking the **top 10 search results** with their titles, links, and descriptions.  \n   - Missing ranks (if fewer than 10 results) are handled gracefully with placeholders, ensuring consistency.\n\n6. **Step 5: Real-Time Reporting**:  \n   - The reranked search results are sent back to the user or integrated system via the Webhook Node in a **JSON-formatted response**.  \n   - Reports are highly structured and ready for downstream processing or consumption.\n\n---\n\n### **Key Features**\n\n1. **AI-Powered Query Refinement**:  \n   - Transforms basic queries into detailed, expert-level search terms for optimal results.\n\n2. **Dual-Stage Semantic Search**:  \n   - Combines **query generation** and **result reranking** for precise, high-relevance outputs.\n\n3. **Top 10 Result Reranking**:  \n   - Dynamically ranks and organizes the top 10 results based on semantic relevance to the query.\n\n4. **Customizable Integration**:  \n   - Fully modifiable for alternative APIs or integrations, such as other search engines or custom ranking logic.\n\n5. **JSON-Formatted Structured Results**:  \n   - Outputs reranked results in a standardized format, ideal for integration into systems requiring machine-readable data.\n\n6. **Webhook-Based Flexibility**:  \n   - Works seamlessly with Webhook inputs for easy deployment in diverse workflows.\n\n7. **Cost-Effective API Usage**:  \n   - Pre-integrated with the free Brave Search API, minimizing operational costs while delivering accurate search results.\n\n---\n\n### **Instructions for API Setup**\n\n1. **Brave Search API**:  \n   - Visit [api.search.brave.com](https://api.search.brave.com) to obtain a free-tier API key for web search.  \n2. **AI Integration** (Google Gemini):  \n   - Visit Google AI Studio and generate an API key for semantic query generation and reranking.  \n3. **Webhook Configuration**:  \n   - Set up the input Webhook to capture search queries and the output Webhook to deliver reranked results.\n\n---\n\n### **Why Choose This Workflow?**\n\n- **Precision and Relevance**: Combines AI-based query generation with advanced reranking for accurate results.  \n- **Fully Customizable**: Easily adapt the workflow to alternative APIs, search engines, or ranking logic.  \n- **Real-Time Insights**: Provides structured, real-time output ready for immediate use.  \n- **Scalable and Modular**: Ideal for businesses, researchers, and data analysts needing a robust, repeatable solution.\n\n---\n\n### **Tags**  \nAI Workflow, Semantic Search, Query Refinement, Search Result Reranking, Real-Time Search, Web Search Automation, Google Search, Brave Search, News Search, API Integration, Market Research, Competitive Intelligence, Business Intelligence,Google Gemini, Anthropic Claude, OpenAI, GPT, LLM\n",
  "featuredImage": "/data/workflows/2643/2643.webp",
  "author": {
    "id": 101,
    "slug": "mind-front",
    "name": "Mind-Front",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 5192,
  "downloads": 519,
  "createdAt": "2024-12-16T13:55:44.230Z",
  "updatedAt": "2026-01-16T08:25:46.592Z",
  "publishedAt": "2024-12-16T13:55:44.230Z",
  "nodes": 20,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2643",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Intelligent web query and semantic re-ranking flow using Brave and Google Gemini",
    "workflowName": "Intelligent web query and semantic re-ranking flow using Brave and Google Gemini",
    "description": "## **Workflow Description**\n\n\nThis workflow is a powerful, fully automated **web query and semantic reranking system** that allows users to perform precise, detailed searches, intelligently rank search results and provide high-quality, structured output. Built with **AI-powered components**, the workflow leverages **semantic query generation, result re-ranking, and real-time reporting** to deliver actionable insights.\n\nIt is particularly well-suited for **real-time data retrieval**, **market research**, and any domain requiring automated yet customizable search result processing.\n\n---\n\n### **How It Works**\n\n1. **Webhook Integration for Input**:  \n   - The workflow begins with a **Webhook Node** that captures the user's search query as input, enabling seamless integration with other systems.  \n\n2. **Step 1: Semantic Query Generation** (Powered by \"Semantic Search - Query Maker\"):  \n   - Using AI (Google Gemini), the initial query is refined and transformed into a **context-aware, expert-level search query**.  \n   - The process ensures that the search engine retrieves the most relevant and precise results.\n\n3. **Step 2: Web Search Execution**:  \n   - A free Brave Search API processes the refined query to fetch search results, ensuring speed and cost efficiency.\n\n4. **Step 3: Semantic Re-Ranking of Results** (Powered by \"Semantic Search - Result Re-Ranker\"):  \n   - The workflow reranks the search results based on relevance to the original question, prioritizing the most relevant URLs dynamically.  \n   - Results are passed through **AI-powered intelligent reranking** to ensure the final output reflects optimal relevance and quality.\n\n5. **Step 4: Structured Output Generation**:  \n   - Results are converted into a well-structured, organized JSON format, ranking the **top 10 search results** with their titles, links, and descriptions.  \n   - Missing ranks (if fewer than 10 results) are handled gracefully with placeholders, ensuring consistency.\n\n6. **Step 5: Real-Time Reporting**:  \n   - The reranked search results are sent back to the user or integrated system via the Webhook Node in a **JSON-formatted response**.  \n   - Reports are highly structured and ready for downstream processing or consumption.\n\n---\n\n### **Key Features**\n\n1. **AI-Powered Query Refinement**:  \n   - Transforms basic queries into detailed, expert-level search terms for optimal results.\n\n2. **Dual-Stage Semantic Search**:  \n   - Combines **query generation** and **result reranking** for precise, high-relevance outputs.\n\n3. **Top 10 Result Reranking**:  \n   - Dynamically ranks and organizes the top 10 results based on semantic relevance to the query.\n\n4. **Customizable Integration**:  \n   - Fully modifiable for alternative APIs or integrations, such as other search engines or custom ranking logic.\n\n5. **JSON-Formatted Structured Results**:  \n   - Outputs reranked results in a standardized format, ideal for integration into systems requiring machine-readable data.\n\n6. **Webhook-Based Flexibility**:  \n   - Works seamlessly with Webhook inputs for easy deployment in diverse workflows.\n\n7. **Cost-Effective API Usage**:  \n   - Pre-integrated with the free Brave Search API, minimizing operational costs while delivering accurate search results.\n\n---\n\n### **Instructions for API Setup**\n\n1. **Brave Search API**:  \n   - Visit [api.search.brave.com](https://api.search.brave.com) to obtain a free-tier API key for web search.  \n2. **AI Integration** (Google Gemini):  \n   - Visit Google AI Studio and generate an API key for semantic query generation and reranking.  \n3. **Webhook Configuration**:  \n   - Set up the input Webhook to capture search queries and the output Webhook to deliver reranked results.\n\n---\n\n### **Why Choose This Workflow?**\n\n- **Precision and Relevance**: Combines AI-based query generation with advanced reranking for accurate results.  \n- **Fully Customizable**: Easily adapt the workflow to alternative APIs, search engines, or ranking logic.  \n- **Real-Time Insights**: Provides structured, real-time output ready for immediate use.  \n- **Scalable and Modular**: Ideal for businesses, researchers, and data analysts needing a robust, repeatable solution.\n\n---\n\n### **Tags**  \nAI Workflow, Semantic Search, Query Refinement, Search Result Reranking, Real-Time Search, Web Search Automation, Google Search, Brave Search, News Search, API Integration, Market Research, Competitive Intelligence, Business Intelligence,Google Gemini, Anthropic Claude, OpenAI, GPT, LLM",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Date & Time",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Auto-fixing Output Parser6",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "role": "outputParserAutofixing",
      "configDescription": "Version 1"
    },
    {
      "name": "Auto-fixing Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "role": "outputParserAutofixing",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Query-1 Combined",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Semantic Search - Result Re-Ranker",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.4"
    },
    {
      "name": "Query",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Webhook Call",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Semantic Search -Query Maker",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.4"
    },
    {
      "name": "Anthropic Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "role": "lmChatAnthropic",
      "configDescription": "Version 1.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser2",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Parser Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Agent Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}