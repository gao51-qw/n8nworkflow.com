{
  "id": 5799,
  "slug": "5799",
  "title": "Generate ad image variations using GPT-4, Dumpling AI & Google Drive",
  "description": "## üßæ What this workflow does\n\nThis workflow takes a reference ad image and brand website, then uses GPT-4, LangChain, and Dumpling AI to generate 10 high-quality image variations for ad testing. These image variations are visually consistent but subtly different in background, mood, lighting, and tone ‚Äî perfect for performance testing on platforms like Meta Ads or TikTok.\n\n---\n\n## üë§ Who is this for\n\n- DTC marketers and brand designers testing ad creatives  \n- Creative teams automating visual experimentation  \n- Content agencies using AI for fast ad mockups  \n- Performance marketers running multivariate testing\n\n---\n\n## ‚öôÔ∏è How to set up\n\n### ‚úÖ Requirements\n\nYou‚Äôll need the following tools set up in n8n:\n- Google Drive (OAuth2 credential)\n- Google Sheets (OAuth2 credential)\n- OpenAI API (for GPT-4 or GPT-4o)\n- Dumpling AI API (via HTTP header authentication)\n\n---\n\n### üõ†Ô∏è Steps to configure\n\n1. **Google Sheet Setup**  \n   - Create a sheet with one column: `Image URL`  \n   - Update the Sheet ID and tab name in the final Google Sheets node.\n\n2. **Drive Setup**  \n   - Create a folder in Google Drive for storing the reference image.  \n   - Replace the `folderId` in the ‚ÄúUpload Ad Image to Google Drive‚Äù node.\n\n3. **Dumpling AI API Key**  \n   - Use n8n‚Äôs credential manager (HTTP Header Auth) ‚Äî do **not** hardcode the key.\n\n4. **OpenAI API Key**  \n   - Required for both image description and LangChain agent prompt generation.\n\n5. **Form Inputs Required**\n   - `Brand Name`  \n   - `Brand Website`  \n   - `Ad Image` (upload field)\n\n---\n\n## üß† How it works\n\n1. A user submits the brand name, website, and a reference ad image through a form.\n2. The image is uploaded to Google Drive.\n3. GPT-4o describes the image‚Äôs visual style (e.g., mood, lighting, composition).\n4. GPT-4 analyzes the brand‚Äôs website to define its visual aesthetic.\n5. A LangChain agent uses both analyses to create 10 tightly scoped variation prompts.\n6. Dumpling AI generates a new image for each prompt using its ‚ÄúFLUX.1-pro‚Äù model.\n7. Each new image‚Äôs link is logged into Google Sheets.\n\n---\n\n## üõ†Ô∏è How to customize\n\n- üß™ Change prompt logic to experiment with different variations (e.g., theme, season).\n- üé® Switch image model in Dumpling AI to one that supports your desired style.\n- üîó Log additional metadata (prompt, timestamp) to Google Sheets.\n- üì§ Connect output images to Airtable, Notion, or a review tool like Figma.\n- üéØ Modify GPT system message to reflect a different tone or brand strategy.\n\n---\n\nThis workflow gives creative teams and marketers an instant, AI-powered ad image testing system ‚Äî built on real brand visuals, not generic stock content.\n",
  "featuredImage": "/data/workflows/5799/5799.webp",
  "author": {
    "id": 101,
    "slug": "yang",
    "name": "Yang",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 4273,
  "downloads": 427,
  "createdAt": "2025-07-08T20:31:08.872Z",
  "updatedAt": "2026-01-16T08:41:28.551Z",
  "publishedAt": "2025-07-08T20:31:08.872Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5799",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate ad image variations using GPT-4, Dumpling AI & Google Drive",
    "workflowName": "Generate ad image variations using GPT-4, Dumpling AI & Google Drive",
    "description": "## üßæ What this workflow does\n\nThis workflow takes a reference ad image and brand website, then uses GPT-4, LangChain, and Dumpling AI to generate 10 high-quality image variations for ad testing. These image variations are visually consistent but subtly different in background, mood, lighting, and tone ‚Äî perfect for performance testing on platforms like Meta Ads or TikTok.\n\n---\n\n## üë§ Who is this for\n\n- DTC marketers and brand designers testing ad creatives  \n- Creative teams automating visual experimentation  \n- Content agencies using AI for fast ad mockups  \n- Performance marketers running multivariate testing\n\n---\n\n## ‚öôÔ∏è How to set up\n\n### ‚úÖ Requirements\n\nYou‚Äôll need the following tools set up in n8n:\n- Google Drive (OAuth2 credential)\n- Google Sheets (OAuth2 credential)\n- OpenAI API (for GPT-4 or GPT-4o)\n- Dumpling AI API (via HTTP header authentication)\n\n---\n\n### üõ†Ô∏è Steps to configure\n\n1. **Google Sheet Setup**  \n   - Create a sheet with one column: `Image URL`  \n   - Update the Sheet ID and tab name in the final Google Sheets node.\n\n2. **Drive Setup**  \n   - Create a folder in Google Drive for storing the reference image.  \n   - Replace the `folderId` in the ‚ÄúUpload Ad Image to Google Drive‚Äù node.\n\n3. **Dumpling AI API Key**  \n   - Use n8n‚Äôs credential manager (HTTP Header Auth) ‚Äî do **not** hardcode the key.\n\n4. **OpenAI API Key**  \n   - Required for both image description and LangChain agent prompt generation.\n\n5. **Form Inputs Required**\n   - `Brand Name`  \n   - `Brand Website`  \n   - `Ad Image` (upload field)\n\n---\n\n## üß† How it works\n\n1. A user submits the brand name, website, and a reference ad image through a form.\n2. The image is uploaded to Google Drive.\n3. GPT-4o describes the image‚Äôs visual style (e.g., mood, lighting, composition).\n4. GPT-4 analyzes the brand‚Äôs website to define its visual aesthetic.\n5. A LangChain agent uses both analyses to create 10 tightly scoped variation prompts.\n6. Dumpling AI generates a new image for each prompt using its ‚ÄúFLUX.1-pro‚Äù model.\n7. Each new image‚Äôs link is logged into Google Sheets.\n\n---\n\n## üõ†Ô∏è How to customize\n\n- üß™ Change prompt logic to experiment with different variations (e.g., theme, season).\n- üé® Switch image model in Dumpling AI to one that supports your desired style.\n- üîó Log additional metadata (prompt, timestamp) to Google Sheets.\n- üì§ Connect output images to Airtable, Notion, or a review tool like Figma.\n- üéØ Modify GPT system message to reflect a different tone or brand strategy.\n\n---\n\nThis workflow gives creative teams and marketers an instant, AI-powered ad image testing system ‚Äî built on real brand visuals, not generic stock content.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Submit Brand Info + Image",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": " Upload Ad Image to Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Download Ad Image for Analysis",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Describe Visual Style of Image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Analyze Brand Website Style",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "LangChain Agent: Generate Variation Prompts",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Parse Prompts into JSON Array",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Split: One Prompt per Item",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Download Base Image for Each Variation",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Loop: Process Image Variations",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Dumpling AI: Generate Image Variation",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": " Log Image Variation URLs to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "GPT-4o (Connected to LangChain Agent)",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}