{
  "id": 7339,
  "slug": "7339",
  "title": "Build a PDF search system with Mistral OCR and Weaviate DB",
  "description": "# Build a PDF to Vector RAG System: Mistral OCR, Weaviate Database and MCP Server\n\nA comprehensive RAG (Retrieval-Augmented Generation) workflow that transforms PDF documents into searchable vector embeddings using advanced AI technologies.\n\n## üöÄ Features\n\n- **PDF Document Processing**: Upload and extract text from PDF files using Mistral's OCR capabilities\n- **Vector Database Storage**: Store document embeddings in Weaviate vector database for efficient retrieval\n- **AI-Powered Search**: Search through documents using semantic similarity with Cohere embeddings\n- **MCP Server Integration**: Expose the knowledge base as an AI tool through MCP (Model Context Protocol)\n- **Document Metadata**: Basic document metadata including filename, content, source, and upload timestamp\n- **Text Chunking**: Automatic text splitting for optimal vector storage and retrieval\n\n## üõ†Ô∏è Technologies Used\n\n- **Mistral AI**: OCR and text extraction from PDF documents\n- **Weaviate**: Vector database for storing and retrieving document embeddings\n- **Cohere**: Multilingual embeddings and reranking for improved search accuracy\n- **MCP (Model Context Protocol)**: AI tool integration for external AI workflows\n- **n8n**: Workflow automation and orchestration\n\n## üìã Prerequisites\n\nBefore using this template, you'll need to set up the following credentials:\n\n1. **Mistral Cloud API**: For PDF text extraction\n2. **Weaviate API**: For vector database operations\n3. **Cohere API**: For embeddings and reranking\n4. **HTTP Header Auth**: For MCP server authentication\n\n## üîß Setup Instructions\n\n1. **Import the template** into your n8n instance\n2. **Configure credentials** for all required services\n3. **Set up Weaviate collection** named \"KnowledgeDocuments\"\n4. **Configure webhook paths** for the MCP server and form trigger\n5. **Test the workflow** by uploading a PDF document\n\n## üìä Workflow Overview\n\n```\nPDF Upload ‚Üí Text Extraction ‚Üí Document Processing ‚Üí Vector Storage ‚Üí AI Search\n     ‚Üì              ‚Üì                ‚Üì                ‚Üì              ‚Üì\n  Form Trigger ‚Üí Mistral OCR ‚Üí Prepare Metadata ‚Üí Weaviate DB ‚Üí MCP Server\n```\n\n## üéØ Use Cases\n\n- **Knowledge Base Management**: Create searchable repositories of company documents\n- **Research Documentation**: Process and search through research papers and reports\n- **Legal Document Search**: Index and search through legal documents and contracts\n- **Technical Documentation**: Make technical manuals and guides searchable\n- **Academic Literature**: Process and search through academic papers and publications\n\n## ‚ö†Ô∏è Important Notes\n\n- **Model Consistency**: Use the same embedding model for both storage and retrieval\n- **Collection Management**: Ensure your Weaviate collection is properly configured\n- **API Limits**: Be aware of rate limits for Mistral, Cohere, and Weaviate APIs\n- **Document Size**: Consider chunking large documents for optimal processing\n\n## üîó Related Resources\n\n- [n8n Documentation](https://docs.n8n.io/)\n- [Weaviate Documentation](https://weaviate.io/developers/weaviate)\n- [Mistral AI Documentation](https://docs.mistral.ai/)\n- [Cohere Documentation](https://docs.cohere.com/)\n- [MCP Protocol Documentation](https://modelcontextprotocol.io/)\n\n## üìù License\n\nThis template is provided as-is for educational and commercial use.",
  "featuredImage": "/data/workflows/7339/7339.webp",
  "author": {
    "id": 101,
    "slug": "docd",
    "name": "Dietmar",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 1046,
  "downloads": 104,
  "createdAt": "2025-08-13T21:04:52.857Z",
  "updatedAt": "2026-01-16T08:49:47.491Z",
  "publishedAt": "2025-08-13T21:04:52.857Z",
  "nodes": 13,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7339",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build a PDF search system with Mistral OCR and Weaviate DB",
    "workflowName": "Build a PDF search system with Mistral OCR and Weaviate DB",
    "description": "# Build a PDF to Vector RAG System: Mistral OCR, Weaviate Database and MCP Server\n\nA comprehensive RAG (Retrieval-Augmented Generation) workflow that transforms PDF documents into searchable vector embeddings using advanced AI technologies.\n\n## üöÄ Features\n\n- **PDF Document Processing**: Upload and extract text from PDF files using Mistral's OCR capabilities\n- **Vector Database Storage**: Store document embeddings in Weaviate vector database for efficient retrieval\n- **AI-Powered Search**: Search through documents using semantic similarity with Cohere embeddings\n- **MCP Server Integration**: Expose the knowledge base as an AI tool through MCP (Model Context Protocol)\n- **Document Metadata**: Basic document metadata including filename, content, source, and upload timestamp\n- **Text Chunking**: Automatic text splitting for optimal vector storage and retrieval\n\n## üõ†Ô∏è Technologies Used\n\n- **Mistral AI**: OCR and text extraction from PDF documents\n- **Weaviate**: Vector database for storing and retrieving document embeddings\n- **Cohere**: Multilingual embeddings and reranking for improved search accuracy\n- **MCP (Model Context Protocol)**: AI tool integration for external AI workflows\n- **n8n**: Workflow automation and orchestration\n\n## üìã Prerequisites\n\nBefore using this template, you'll need to set up the following credentials:\n\n1. **Mistral Cloud API**: For PDF text extraction\n2. **Weaviate API**: For vector database operations\n3. **Cohere API**: For embeddings and reranking\n4. **HTTP Header Auth**: For MCP server authentication\n\n## üîß Setup Instructions\n\n1. **Import the template** into your n8n instance\n2. **Configure credentials** for all required services\n3. **Set up Weaviate collection** named \"KnowledgeDocuments\"\n4. **Configure webhook paths** for the MCP server and form trigger\n5. **Test the workflow** by uploading a PDF document\n\n## üìä Workflow Overview\n\n```\nPDF Upload ‚Üí Text Extraction ‚Üí Document Processing ‚Üí Vector Storage ‚Üí AI Search\n     ‚Üì              ‚Üì                ‚Üì                ‚Üì              ‚Üì\n  Form Trigger ‚Üí Mistral OCR ‚Üí Prepare Metadata ‚Üí Weaviate DB ‚Üí MCP Server\n```\n\n## üéØ Use Cases\n\n- **Knowledge Base Management**: Create searchable repositories of company documents\n- **Research Documentation**: Process and search through research papers and reports\n- **Legal Document Search**: Index and search through legal documents and contracts\n- **Technical Documentation**: Make technical manuals and guides searchable\n- **Academic Literature**: Process and search through academic papers and publications\n\n## ‚ö†Ô∏è Important Notes\n\n- **Model Consistency**: Use the same embedding model for both storage and retrieval\n- **Collection Management**: Ensure your Weaviate collection is properly configured\n- **API Limits**: Be aware of rate limits for Mistral, Cohere, and Weaviate APIs\n- **Document Size**: Consider chunking large documents for optimal processing\n\n## üîó Related Resources\n\n- [n8n Documentation](https://docs.n8n.io/)\n- [Weaviate Documentation](https://weaviate.io/developers/weaviate)\n- [Mistral AI Documentation](https://docs.mistral.ai/)\n- [Cohere Documentation](https://docs.cohere.com/)\n- [MCP Protocol Documentation](https://modelcontextprotocol.io/)\n\n## üìù License\n\nThis template is provided as-is for educational and commercial use.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Cohere Embeddings",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Document Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Cohere Reranker",
      "type": "@n8n/n8n-nodes-langchain.rerankerCohere",
      "role": "rerankerCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "MCP Knowledge Server",
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "role": "mcpTrigger",
      "configDescription": "Version 2"
    },
    {
      "name": "Search Knowledge Base",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreWeaviate",
      "role": "vectorStoreWeaviate",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Upload Instructions",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "Upload PDF",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Extract Text from PDF",
      "type": "n8n-nodes-base.mistralAi",
      "role": "mistralAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Prepare Document Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Store in Vector Database",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreWeaviate",
      "role": "vectorStoreWeaviate",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}