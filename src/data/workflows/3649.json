{
  "id": 3649,
  "slug": "3649",
  "title": "Automate WhatsApp tests and rank results with PostgreSQL (Module \"Quiz\")",
  "description": "### Who is this for?\n\nThis workflow is designed for educators, HR teams, or anyone who needs to create and distribute quizzes or tests via WhatsApp and automatically store and analyze responses in a PostgreSQL database.\n\n### What problem is this workflow solving?\n\nManaging tests or quizzes manually across platforms can be time-consuming and error-prone. This workflow automates the entire process — from test creation to distribution and result collection — providing an efficient way to manage assessments at scale.\n\n### What this workflow does\n\n- Adds test content (including questions and answers) to a PostgreSQL database.\n- Allows users to take the test directly via WhatsApp.\n- Displays a final ranking to test takers upon completion.\n\n### Setup\n\n#### 1. Create tables in PostgreSQL\n- Open the SQL script provided in the workflow.\n- Replace `n8n` with your actual database schema name.\n- Run the script to set up the required tables.\n\n#### 2. Add required credentials\n- **WhatsApp**: Set up OAuth and connect your WhatsApp account.\n- **PostgreSQL**: Add your Postgres DB credentials to n8n.\n\n### How to customize this workflow to your needs\n\n- Update the test questions and answers directly in the database.\n- Modify the bot flow to suit your test structure or messaging preferences.\n- Extend the ranking logic based on specific grading criteria or scoring rules.",
  "featuredImage": "/data/workflows/3649/3649.webp",
  "author": {
    "id": 101,
    "slug": "boanse",
    "name": "Andrew",
    "avatar": ""
  },
  "categories": [
    "HR"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 450,
  "downloads": 45,
  "createdAt": "2025-04-21T20:00:01.680Z",
  "updatedAt": "2026-01-16T08:30:50.444Z",
  "publishedAt": "2025-04-21T20:00:01.680Z",
  "nodes": 39,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3649",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate WhatsApp tests and rank results with PostgreSQL (Module \"Quiz\")",
    "workflowName": "Automate WhatsApp tests and rank results with PostgreSQL (Module \"Quiz\")",
    "description": "### Who is this for?\n\nThis workflow is designed for educators, HR teams, or anyone who needs to create and distribute quizzes or tests via WhatsApp and automatically store and analyze responses in a PostgreSQL database.\n\n### What problem is this workflow solving?\n\nManaging tests or quizzes manually across platforms can be time-consuming and error-prone. This workflow automates the entire process — from test creation to distribution and result collection — providing an efficient way to manage assessments at scale.\n\n### What this workflow does\n\n- Adds test content (including questions and answers) to a PostgreSQL database.\n- Allows users to take the test directly via WhatsApp.\n- Displays a final ranking to test takers upon completion.\n\n### Setup\n\n#### 1. Create tables in PostgreSQL\n- Open the SQL script provided in the workflow.\n- Replace `n8n` with your actual database schema name.\n- Run the script to set up the required tables.\n\n#### 2. Add required credentials\n- **WhatsApp**: Set up OAuth and connect your WhatsApp account.\n- **PostgreSQL**: Add your Postgres DB credentials to n8n.\n\n### How to customize this workflow to your needs\n\n- Update the test questions and answers directly in the database.\n- Modify the bot flow to suit your test structure or messaging preferences.\n- Extend the ranking logic based on specific grading criteria or scoring rules.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Starts",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Bot Status",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Commands",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Main Menu",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Define Flow",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Upsert Bot Status on START",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Initialization",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Update Bot Status on START ",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Update Bot Status on TEST",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Randomize questions",
      "type": "n8n-nodes-base.sort",
      "role": "sort",
      "configDescription": "Version 1"
    },
    {
      "name": "Any questions?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Update Answer",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Get Non-Answered Questions",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Get Tests",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Union Number with Question",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Union list",
      "type": "n8n-nodes-base.summarize",
      "role": "summarize",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Calculate answers",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "role": "whatsAppTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "List Tests",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "List?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get Test",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Get Tests ",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Test",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Questions AND Answers",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Upsert pred Answer",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Request Answer",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Answer",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Result",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Question variants",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Update Bot Status on START",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}