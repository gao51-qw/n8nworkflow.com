{
  "id": 9220,
  "slug": "9220",
  "title": "Build an AI-powered SMS support system with Twilio, GPT-4 and PostgreSQL",
  "description": "## How it works\n\n1. **User Signup & Verification:**  \n   The workflow starts when a user signs up. It generates a verification code and sends it via SMS using Twilio.\n\n2. **Code Validation:**  \n   The user replies with the code. The workflow checks the code and, if valid, creates a session for the user.\n\n3. **Conversational AI:**  \n   Incoming SMS messages are analyzed by Chat GPT AI for sentiment, intent, and urgency. The workflow stores the conversation context and generates smart, AI-powered replies.\n\n4. **Escalation Handling:**  \n   If the AI detects urgency or frustration, the workflow escalates the sessionâ€”alerting your team and sending a supportive SMS to the user.\n\n---\n\n## Set up steps\n\n- **Estimated setup time:** 10â€“20 minutes for most users.\n- **What youâ€™ll need:**  \n  - A free n8n account (self-hosted or cloud)\n  - Free Twilio account (for SMS)\n  - OpenAI API key (for AI)\n  - A PostgreSQL database (Supabase, Neon, or local)\n\n- **Setup process:**  \n  1. Import this workflow into n8n.\n  2. Add your Twilio and OpenAI credentials as environment variables or n8n credentials.\n  3. Update webhook URLs in your Twilio console (for incoming SMS).\n  4. (Optional) Adjust sticky notes in the workflow for detailed, step-by-step guidance.\n",
  "featuredImage": "/data/workflows/9220/9220.webp",
  "author": {
    "id": 101,
    "slug": "johnshamshum",
    "name": " John",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 120,
  "downloads": 12,
  "createdAt": "2025-10-03T06:53:14.727Z",
  "updatedAt": "2026-01-16T08:59:33.391Z",
  "publishedAt": "2025-10-03T06:53:14.727Z",
  "nodes": 49,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9220",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build an AI-powered SMS support system with Twilio, GPT-4 and PostgreSQL",
    "workflowName": "Build an AI-powered SMS support system with Twilio, GPT-4 and PostgreSQL",
    "description": "## How it works\n\n1. **User Signup & Verification:**  \n   The workflow starts when a user signs up. It generates a verification code and sends it via SMS using Twilio.\n\n2. **Code Validation:**  \n   The user replies with the code. The workflow checks the code and, if valid, creates a session for the user.\n\n3. **Conversational AI:**  \n   Incoming SMS messages are analyzed by Chat GPT AI for sentiment, intent, and urgency. The workflow stores the conversation context and generates smart, AI-powered replies.\n\n4. **Escalation Handling:**  \n   If the AI detects urgency or frustration, the workflow escalates the sessionâ€”alerting your team and sending a supportive SMS to the user.\n\n---\n\n## Set up steps\n\n- **Estimated setup time:** 10â€“20 minutes for most users.\n- **What youâ€™ll need:**  \n  - A free n8n account (self-hosted or cloud)\n  - Free Twilio account (for SMS)\n  - OpenAI API key (for AI)\n  - A PostgreSQL database (Supabase, Neon, or local)\n\n- **Setup process:**  \n  1. Import this workflow into n8n.\n  2. Add your Twilio and OpenAI credentials as environment variables or n8n credentials.\n  3. Update webhook URLs in your Twilio console (for incoming SMS).\n  4. (Optional) Adjust sticky notes in the workflow for detailed, step-by-step guidance.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Store Verification",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Verification SMS (Twilio API)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4"
    },
    {
      "name": "Check Verification",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Validate Code",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3"
    },
    {
      "name": "Create Session",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Mark Verified",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Insert Session",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Verify Success Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Verify Failed Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Incoming SMS Webhook (Twilio)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "ðŸ¤– AI Sentiment Analysis",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Process AI Analysis",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "ðŸ¤– AI Escalation Router",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3"
    },
    {
      "name": "Mark Session Escalated",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Escalation Email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2"
    },
    {
      "name": "ðŸ¤– AI Intent Router",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3"
    },
    {
      "name": "ðŸ¤– AI Intake Enrichment",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge Enriched Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "ðŸ¤– AI Response Generator",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Send AI Response SMS",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4"
    },
    {
      "name": "Prepare Closeout",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Finalize Session",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Upload to S3",
      "type": "n8n-nodes-base.awsS3",
      "role": "awsS3",
      "configDescription": "Version 1"
    },
    {
      "name": "ðŸ¤– AI Personalized Closeout",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Closeout SMS",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4"
    },
    {
      "name": "SMS Webhook Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Follow-Up Cron (24h)",
      "type": "n8n-nodes-base.cron",
      "role": "cron",
      "configDescription": "Version 1"
    },
    {
      "name": "Find Inactive Sessions",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "ðŸ¤– AI Personalized Reminder",
      "type": "n8n-nodes-base.openAi",
      "role": "openAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Reminder SMS",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4"
    },
    {
      "name": "User Signup Webhook1",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Verification Code1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Signup Response1",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Verify Code Webhook1",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Verification Data1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Extract SMS Data1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Find User Session1",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Prepare Escalation Data1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Escalation SMS1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4"
    },
    {
      "name": "Save Enriched Intake1",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}