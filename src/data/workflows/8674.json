{
  "id": 8674,
  "slug": "8674",
  "title": "IP geolocation & HTTP port scanning with Google Sheets",
  "description": "# Automate IP geolocation and HTTP port scanning with Google Sheets trigger\n\nThis n8n template automatically enriches IP addresses with geolocation data and performs HTTP port scanning when new IPs are added to a Google Sheets document. Perfect for network monitoring, security research, or maintaining an IP intelligence database.\n\n## Who's it for\n\nNetwork administrators, security researchers, and IT professionals who need to:\n- Track IP geolocation information automatically\n- Monitor HTTP service availability across multiple ports\n- Maintain centralized IP intelligence in spreadsheets\n- Automate repetitive network reconnaissance tasks\n\n## How it works\n\nThe workflow triggers whenever a new row containing an IP address is added to your Google Sheet. It then:\n\n1. **Fetches geolocation data** using the ip-api.com service to get country, city, coordinates, ISP, and organization information\n2. **Updates the spreadsheet** with the geolocation details\n3. **Scans common HTTP ports** (80, 443, 8080, 8000, 3000) to check service availability\n4. **Records port status** back to the same spreadsheet row, showing which services are accessible\n\nThe workflow handles both successful connections and various error conditions, providing a comprehensive view of each IP's network profile.\n\n## Requirements\n\n- **Google Sheets API access** - for reading triggers and updating data\n- **Google Sheets document** with at least an \"IP\" column header\n\n## How to set up\n\n1. **Create a Google Sheet** with columns: IP, Country, City, Lat, Lon, ISP, Org, Port_80, Port_443, Port_8000, Port_8080, Port_3000\n2. **Configure Google Sheets credentials** in both the trigger and update nodes\n3. **Update the document ID** in the Google Sheets Trigger and both Update nodes to point to your spreadsheet\n4. **Test the workflow** by adding an IP address to your sheet and verifying the automation runs\n\n## How to customize the workflow\n\n- **Modify port list**: Edit the \"Edit Fields\" node to scan different ports by changing the ports array\n- **Add more geolocation fields**: The ip-api.com response includes additional fields like timezone, zip code, and AS number\n- **Change trigger frequency**: Adjust the polling interval in the Google Sheets Trigger for faster or slower monitoring\n- **Add notifications**: Insert Slack, email, or webhook nodes to alert when specific conditions are detected\n- **Filter results**: Add IF nodes to process only certain IP ranges or geolocation criteria",
  "featuredImage": "/data/workflows/8674/8674.webp",
  "author": {
    "id": 101,
    "slug": "iranserver",
    "name": "IranServer.com",
    "avatar": ""
  },
  "categories": [
    "SecOps"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 430,
  "downloads": 43,
  "createdAt": "2025-09-17T10:57:30.604Z",
  "updatedAt": "2026-01-16T08:57:07.998Z",
  "publishedAt": "2025-09-17T10:57:30.604Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8674",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "IP geolocation & HTTP port scanning with Google Sheets",
    "workflowName": "IP geolocation & HTTP port scanning with Google Sheets",
    "description": "# Automate IP geolocation and HTTP port scanning with Google Sheets trigger\n\nThis n8n template automatically enriches IP addresses with geolocation data and performs HTTP port scanning when new IPs are added to a Google Sheets document. Perfect for network monitoring, security research, or maintaining an IP intelligence database.\n\n## Who's it for\n\nNetwork administrators, security researchers, and IT professionals who need to:\n- Track IP geolocation information automatically\n- Monitor HTTP service availability across multiple ports\n- Maintain centralized IP intelligence in spreadsheets\n- Automate repetitive network reconnaissance tasks\n\n## How it works\n\nThe workflow triggers whenever a new row containing an IP address is added to your Google Sheet. It then:\n\n1. **Fetches geolocation data** using the ip-api.com service to get country, city, coordinates, ISP, and organization information\n2. **Updates the spreadsheet** with the geolocation details\n3. **Scans common HTTP ports** (80, 443, 8080, 8000, 3000) to check service availability\n4. **Records port status** back to the same spreadsheet row, showing which services are accessible\n\nThe workflow handles both successful connections and various error conditions, providing a comprehensive view of each IP's network profile.\n\n## Requirements\n\n- **Google Sheets API access** - for reading triggers and updating data\n- **Google Sheets document** with at least an \"IP\" column header\n\n## How to set up\n\n1. **Create a Google Sheet** with columns: IP, Country, City, Lat, Lon, ISP, Org, Port_80, Port_443, Port_8000, Port_8080, Port_3000\n2. **Configure Google Sheets credentials** in both the trigger and update nodes\n3. **Update the document ID** in the Google Sheets Trigger and both Update nodes to point to your spreadsheet\n4. **Test the workflow** by adding an IP address to your sheet and verifying the automation runs\n\n## How to customize the workflow\n\n- **Modify port list**: Edit the \"Edit Fields\" node to scan different ports by changing the ports array\n- **Add more geolocation fields**: The ip-api.com response includes additional fields like timezone, zip code, and AS number\n- **Change trigger frequency**: Adjust the polling interval in the Google Sheets Trigger for faster or slower monitoring\n- **Add notifications**: Insert Slack, email, or webhook nodes to alert when specific conditions are detected\n- **Filter results**: Add IF nodes to process only certain IP ranges or geolocation criteria",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Google Sheets Trigger",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Update_IP_Info_row",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Update_HTTP_Ports_State",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "CheckHttpPort",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "PutAll_in_OneItem",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "GetIP_Info",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    }
  ]
}