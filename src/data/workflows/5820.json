{
  "id": 5820,
  "slug": "5820",
  "title": "Automatic Gmail categorization and labeling with AI",
  "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n## Who is this for?\n\nIf your inbox is full of unread emails, this workflow is for you.  \nInstead of reading through them one by one, let AI do the sorting.  \nIt reads your emails and flags only what needs action.\n\n## What does it solve?\n\nThis workflow reads your unread Gmail emails and uses AI to decide what’s important — and what’s not.\nIt labels emails that need your attention, identifies receipts, and trashes everything else.\nNo more manual reading. Just an inbox that uses AI to take care of itself.\n\n## How it works\n\n1. Every hour, the workflow runs automatically.\n2. It searches for unread emails in your Gmail inbox.\n3. For each email:\n   - It extracts the content and sends it to OpenAI.\n4. The AI returns one of four labels: `Action`, `Receipt`, `Informational` or `Spam`.\n5. Based on the label:\n   - Emails are marked with the appropriate label.\n   - Or moved to trash it is `spam`.\n6. It marks the email as read once processed.\n\n## How to set up?\n\n1. Connect these services in your n8n credentials:\n   - Gmail (OAuth2)\n   - OpenAI (API key)\n2. Create the Gmail labels:\n   - In your Gmail account, create these labels exactly as written:  \n     `Action`, `Receipt`, and `Informational`  \n   - The workflow will apply these labels based on AI classification.\n\n## How to customize this workflow to your needs\n\n- Change the AI prompt to detect more types of emails like `Meeting` or `Newsletter`.\n- Add more branches to the Switch node to apply custom logic.\n- Change the schedule to fit your workflow.\nBy default, it runs every hour, but you can update this in the Schedule Trigger node.\n\n\n\n",
  "featuredImage": "/data/workflows/5820/5820.webp",
  "author": {
    "id": 101,
    "slug": "mattxchong",
    "name": "Matt Chong | n8n Creator",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 4897,
  "downloads": 489,
  "createdAt": "2025-07-09T12:31:25.807Z",
  "updatedAt": "2026-01-16T08:41:34.101Z",
  "publishedAt": "2025-07-09T12:31:25.807Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5820",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automatic Gmail categorization and labeling with AI",
    "workflowName": "Automatic Gmail categorization and labeling with AI",
    "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n## Who is this for?\n\nIf your inbox is full of unread emails, this workflow is for you.  \nInstead of reading through them one by one, let AI do the sorting.  \nIt reads your emails and flags only what needs action.\n\n## What does it solve?\n\nThis workflow reads your unread Gmail emails and uses AI to decide what’s important — and what’s not.\nIt labels emails that need your attention, identifies receipts, and trashes everything else.\nNo more manual reading. Just an inbox that uses AI to take care of itself.\n\n## How it works\n\n1. Every hour, the workflow runs automatically.\n2. It searches for unread emails in your Gmail inbox.\n3. For each email:\n   - It extracts the content and sends it to OpenAI.\n4. The AI returns one of four labels: `Action`, `Receipt`, `Informational` or `Spam`.\n5. Based on the label:\n   - Emails are marked with the appropriate label.\n   - Or moved to trash it is `spam`.\n6. It marks the email as read once processed.\n\n## How to set up?\n\n1. Connect these services in your n8n credentials:\n   - Gmail (OAuth2)\n   - OpenAI (API key)\n2. Create the Gmail labels:\n   - In your Gmail account, create these labels exactly as written:  \n     `Action`, `Receipt`, and `Informational`  \n   - The workflow will apply these labels based on AI classification.\n\n## How to customize this workflow to your needs\n\n- Change the AI prompt to detect more types of emails like `Meeting` or `Newsletter`.\n- Add more branches to the Switch node to apply custom logic.\n- Change the schedule to fit your workflow.\nBy default, it runs every hour, but you can update this in the Schedule Trigger node.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get All Unread Messages",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "OpenAI Fall Back Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Delete email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Mark email as read",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Add label \"Receipt\" to email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Add label \"Action\" to email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Add label \"Informational\" to email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    }
  ]
}