{
  "id": 6295,
  "slug": "6295",
  "title": "Dynamic website assistant with DeepSeek AI, Pinecone Vectorstore & site-based routing",
  "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n## üöÄ Overview  \nThis workflow enables a powerful AI-driven virtual assistant that dynamically responds to website queries using **webhook input**, **Pinecone vector search**, and **OpenAI agents** ‚Äî all smartly routed based on the source website.\n\n## üîß How It Works  \n\n1. **Webhook Trigger**  \n   The workflow starts with a `Webhook` node that receives query parameters:\n   - `query`: The user's question  \n   - `userId`: Unique user identifier  \n   - `site`: Website identifier (e.g., test_site)  \n   - `page`: Page identifier (e.g., homepage, pricing)  \n\n2. **Smart Routing**  \n   A `Switch` node directs the request to the correct AI agent based on the `site` value. Each AI agent uses:\n   - OpenAI GPT-4/3.5 model  \n   - Pinecone vector store for context-aware answers  \n   - SQL-based memory for consistent multi-turn conversation  \n\n3. **Contextual AI Agent**  \n   Each agent is customized per website using:\n   - Site-specific Pinecone namespaces  \n   - Predefined system prompts to stay in scope  \n   - Webhook context including `page`, `site`, and `userId`  \n\n4. **Final Response**  \n   The response is sent back to the originating website using the `Respond to Webhook` node.\n\n## üß† Use Case  \nIdeal for multi-site platforms that want to serve **tailored AI chat experiences** per domain or page ‚Äî whether it‚Äôs support, content discovery, or interactive agents.\n\n## ‚úÖ Highlights  \n- üß† Vector search using Pinecone for contextual responses  \n- üîÄ Website-aware logic with `Switch` node routing  \n- üîê No hardcoded API keys  \n- üß© Modular agents for scalable multi-site support  \n",
  "featuredImage": "/data/workflows/6295/6295.webp",
  "author": {
    "id": 101,
    "slug": "moosa",
    "name": "moosa",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 548,
  "downloads": 54,
  "createdAt": "2025-07-23T02:16:05.019Z",
  "updatedAt": "2026-01-16T08:44:17.481Z",
  "publishedAt": "2025-07-23T02:16:05.019Z",
  "nodes": 33,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6295",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Dynamic website assistant with DeepSeek AI, Pinecone Vectorstore & site-based routing",
    "workflowName": "Dynamic website assistant with DeepSeek AI, Pinecone Vectorstore & site-based routing",
    "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n## üöÄ Overview  \nThis workflow enables a powerful AI-driven virtual assistant that dynamically responds to website queries using **webhook input**, **Pinecone vector search**, and **OpenAI agents** ‚Äî all smartly routed based on the source website.\n\n## üîß How It Works  \n\n1. **Webhook Trigger**  \n   The workflow starts with a `Webhook` node that receives query parameters:\n   - `query`: The user's question  \n   - `userId`: Unique user identifier  \n   - `site`: Website identifier (e.g., test_site)  \n   - `page`: Page identifier (e.g., homepage, pricing)  \n\n2. **Smart Routing**  \n   A `Switch` node directs the request to the correct AI agent based on the `site` value. Each AI agent uses:\n   - OpenAI GPT-4/3.5 model  \n   - Pinecone vector store for context-aware answers  \n   - SQL-based memory for consistent multi-turn conversation  \n\n3. **Contextual AI Agent**  \n   Each agent is customized per website using:\n   - Site-specific Pinecone namespaces  \n   - Predefined system prompts to stay in scope  \n   - Webhook context including `page`, `site`, and `userId`  \n\n4. **Final Response**  \n   The response is sent back to the originating website using the `Respond to Webhook` node.\n\n## üß† Use Case  \nIdeal for multi-site platforms that want to serve **tailored AI chat experiences** per domain or page ‚Äî whether it‚Äôs support, content discovery, or interactive agents.\n\n## ‚úÖ Highlights  \n- üß† Vector search using Pinecone for contextual responses  \n- üîÄ Website-aware logic with `Switch` node routing  \n- üîê No hardcoded API keys  \n- üß© Modular agents for scalable multi-site support",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenRouter Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store5",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings Cohere",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store6",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings Cohere6",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store7",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings Cohere7",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store9",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings Cohere9",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store10",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings Cohere10",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.4"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Postgres Chat Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenRouter Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store8",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings Cohere8",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Respond to Webhook1",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.4"
    },
    {
      "name": "AI Agent for groton",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "AI Agent1 ghostwritingpartner",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Postgres Chat Memory2",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenRouter Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store11",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings Cohere11",
      "type": "@n8n/n8n-nodes-langchain.embeddingsCohere",
      "role": "embeddingsCohere",
      "configDescription": "Version 1"
    },
    {
      "name": "Respond to Webhook2",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.4"
    },
    {
      "name": "AI Agent ebook-wr",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}