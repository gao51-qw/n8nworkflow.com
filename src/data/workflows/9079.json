{
  "id": 9079,
  "slug": "9079",
  "title": "End-to-end Ai blog research and writer with Gemini AI, Supabase and Nano-Banana",
  "description": "# Blog Research and Writer n8n Workflow - Ai Blog Writer\n\n**Fully automated blog creation system using n8n + AI Agents + Image Generation**\n\n[Example Blog](https://livesume.com/blog/building-personal-brand-social-media-guide)\n\n## Overview\n\nThis workflow automates the entire blog creation pipeline—from topic research to final publication. Three specialized AI agents collaborate to produce publication-ready blog posts with custom images, all saved directly to your Supabase database.\n\n## How It Works\n\n### 1. **Research Agent** (Topic Discovery)\n- **Triggers**: Runs on schedule (default: daily at 4 AM)\n- **Process**:\n  - Fetches existing blog titles from Supabase to avoid duplicates\n  - Uses Google Search + RSS feeds to identify trending topics in your niche\n  - Scrapes competitor content to find content gaps\n  - Generates detailed topic briefs with SEO keywords, search intent, and differentiation angles\n- **Output**: Comprehensive research document with SERP analysis and content strategy\n\n### 2. **Writer Agent** (Content Creation)\n- **Triggers**: Receives research from Agent 1\n- **Process**:\n  - Writes full blog article based on research brief\n  - Follows strict SEO and readability guidelines (no AI fluff, natural tone, actionable content)\n  - Structures content with proper HTML markup\n  - Includes key sections: hook, takeaways, frameworks, FAQs, CTAs\n  - Places image placeholders with mock URLs (`https://db.com/image_1`, etc.)\n- **Output**: Complete JSON object with title, slug, excerpt, tags, category, and full HTML content\n\n### 3. **Image Prompt Writer** (Visual Generation)\n- **Triggers**: Receives blog content from Agent 2\n- **Process**:\n  - Analyzes blog content to determine number and type of images needed\n  - Generates detailed 150-word prompts for each image (feature image + content images)\n  - Creates prompts optimized for Nano-Banana image model\n  - Names each image descriptively for SEO\n- **Output**: Structured prompts for 3-6 images per blog post\n\n### 4. **Image Generation Pipeline**\n- **Process**:\n  - Loops through each image prompt\n  - Generates images via Nano-Banana API (Wavespeed.ai)\n  - Downloads and converts images to PNG\n  - Uploads to Supabase storage bucket\n  - Generates permanent signed URLs\n  - Replaces mock URLs in HTML with real image URLs\n- **Output**: Blog HTML with all images embedded\n\n### 5. **Publication**\n- Final blog post saved to Supabase `blogs` table as draft\n- Ready for immediate publishing or review\n\n## Key Features\n\n✅ **Duplicate Prevention**: Checks existing blogs before researching new topics  \n✅ **SEO Optimized**: Natural language, proper heading structure, keyword integration  \n✅ **Human-Like Writing**: No robotic phrases, varied sentence structure, actionable advice  \n✅ **Custom Images**: Generated specifically for each blog's content  \n✅ **Fully Structured**: JSON output with all metadata (tags, category, excerpt, etc.)  \n✅ **Error Handling**: Automatic retries with wait periods between agent calls  \n✅ **Tool Integration**: Google Search, URL scraping, RSS feeds for research\n\n## Setup Requirements\n\n### 1. **API Keys Needed**\n- **Google Gemini API**: For Gemini 2.5 Pro/Flash models (content generation/writing)\n- **Groq API (optional)**: For Kimi-K2-Instruct model (research/writing)\n- **Serper.dev API**: For Google Search (2,500 free searches/month)\n- **Wavespeed.ai API**: For Nano-Banana image generation\n- **Supabase Account**: For database and image storage\n\n### 2. **Supabase Setup**\n- Create `blogs` table with fields:\n  - `title`, `slug`, `excerpt`, `category`, `tags`, `featured_image`, `status`, `featured`, `content`\n- Create storage bucket for blog images\n- Configure bucket as public or use signed URLs\n\n### 3. **Workflow Configuration**\n\n**Update these placeholders:**\n\n- **RSS Feed URLs**: Replace `[your website's rss.xml]` with your site's RSS feed\n- **Storage URLs**: Update Supabase storage paths in \"Upload object\" and \"Generate presigned URL\" nodes\n- **API Keys**: Add your credentials to all HTTP Request nodes\n- **Niche/Brand**: Customize Research Agent system prompt with your industry keywords\n- **Writing Style**: Adjust Writer Agent prompt for your brand voice\n\n## Customization Options\n\n### Change Image Provider\nReplace the \"nano banana\" node with:\n- Gemini Imagen 3/4\n- DALL-E 3\n- Midjourney API\n- Any Wavespeed.ai model\n\n### Adjust Schedule\nModify \"Schedule Trigger\" to run:\n- Multiple times daily\n- Specific days of week\n- On-demand via webhook\n\n### Alternative Research Tools\nReplace Serper.dev with:\n- Perplexity API (included as alternative node)\n- Custom web scraping\n- Different search providers\n\n## Output Format\n\n```json\n{\n  \"title\": \"Your SEO-Optimized Title\",\n  \"slug\": \"your-seo-optimized-title\",\n  \"excerpt\": \"Compelling 2-3 sentence summary with key benefits.\",\n  \"category\": \"Your Category\",\n  \"tags\": [\"tag1\", \"tag2\", \"tag3\", \"tag4\"],\n  \"author_name\": \"Your Team Name\",\n  \"featured\": false,\n  \"status\": \"draft\",\n  \"content\": \"<article>...complete HTML with embedded images...</article>\"\n}\n```\n\n## Performance Notes\n\n- **Average runtime**: 15-25 minutes per blog post\n- **Cost per post**: ~$0.10-0.30 (depending on API usage)\n- **Image generation**: 10-15 seconds per image with Nano-Banana\n- **Retry logic**: Automatically handles API timeouts with 5-15 minute wait periods\n\n## Best Practices\n\n1. **Review Before Publishing**: Workflow saves as \"draft\" status for human review\n2. **Monitor API Limits**: Track Serper.dev searches and image generation quotas\n3. **Test Custom Prompts**: Adjust Research/Writer prompts to match your brand\n4. **Image Quality**: Review generated images; regenerate if needed\n5. **SEO Validation**: Check slugs and meta descriptions before going live\n\n## Workflow Architecture\n\n**3 Main Phases:**\n1. Research → Writer → Image Prompts (Sequential AI Agent chain)\n2. Image Generation → Upload → URL Replacement (Loop-based processing)\n3. Final Assembly → Database Insert (Single save operation)\n\n**Error Handling:**\n- Wait nodes between agents prevent rate limiting\n- Retry logic on agent failures (max 2 retries)\n- Conditional checks ensure content quality before proceeding\n\n---\n\n**Result**: Hands-free blog publishing that maintains quality while saving 3-5 hours per post.",
  "featuredImage": "/data/workflows/9079/9079.webp",
  "author": {
    "id": 101,
    "slug": "asadtech",
    "name": "Muhammad Asadullah",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1171,
  "downloads": 117,
  "createdAt": "2025-09-29T17:15:05.051Z",
  "updatedAt": "2026-01-16T08:58:56.102Z",
  "publishedAt": "2025-09-29T17:15:05.051Z",
  "nodes": 51,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9079",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "End-to-end Ai blog research and writer with Gemini AI, Supabase and Nano-Banana",
    "workflowName": "End-to-end Ai blog research and writer with Gemini AI, Supabase and Nano-Banana",
    "description": "# Blog Research and Writer n8n Workflow - Ai Blog Writer\n\n**Fully automated blog creation system using n8n + AI Agents + Image Generation**\n\n[Example Blog](https://livesume.com/blog/building-personal-brand-social-media-guide)\n\n## Overview\n\nThis workflow automates the entire blog creation pipeline—from topic research to final publication. Three specialized AI agents collaborate to produce publication-ready blog posts with custom images, all saved directly to your Supabase database.\n\n## How It Works\n\n### 1. **Research Agent** (Topic Discovery)\n- **Triggers**: Runs on schedule (default: daily at 4 AM)\n- **Process**:\n  - Fetches existing blog titles from Supabase to avoid duplicates\n  - Uses Google Search + RSS feeds to identify trending topics in your niche\n  - Scrapes competitor content to find content gaps\n  - Generates detailed topic briefs with SEO keywords, search intent, and differentiation angles\n- **Output**: Comprehensive research document with SERP analysis and content strategy\n\n### 2. **Writer Agent** (Content Creation)\n- **Triggers**: Receives research from Agent 1\n- **Process**:\n  - Writes full blog article based on research brief\n  - Follows strict SEO and readability guidelines (no AI fluff, natural tone, actionable content)\n  - Structures content with proper HTML markup\n  - Includes key sections: hook, takeaways, frameworks, FAQs, CTAs\n  - Places image placeholders with mock URLs (`https://db.com/image_1`, etc.)\n- **Output**: Complete JSON object with title, slug, excerpt, tags, category, and full HTML content\n\n### 3. **Image Prompt Writer** (Visual Generation)\n- **Triggers**: Receives blog content from Agent 2\n- **Process**:\n  - Analyzes blog content to determine number and type of images needed\n  - Generates detailed 150-word prompts for each image (feature image + content images)\n  - Creates prompts optimized for Nano-Banana image model\n  - Names each image descriptively for SEO\n- **Output**: Structured prompts for 3-6 images per blog post\n\n### 4. **Image Generation Pipeline**\n- **Process**:\n  - Loops through each image prompt\n  - Generates images via Nano-Banana API (Wavespeed.ai)\n  - Downloads and converts images to PNG\n  - Uploads to Supabase storage bucket\n  - Generates permanent signed URLs\n  - Replaces mock URLs in HTML with real image URLs\n- **Output**: Blog HTML with all images embedded\n\n### 5. **Publication**\n- Final blog post saved to Supabase `blogs` table as draft\n- Ready for immediate publishing or review\n\n## Key Features\n\n✅ **Duplicate Prevention**: Checks existing blogs before researching new topics  \n✅ **SEO Optimized**: Natural language, proper heading structure, keyword integration  \n✅ **Human-Like Writing**: No robotic phrases, varied sentence structure, actionable advice  \n✅ **Custom Images**: Generated specifically for each blog's content  \n✅ **Fully Structured**: JSON output with all metadata (tags, category, excerpt, etc.)  \n✅ **Error Handling**: Automatic retries with wait periods between agent calls  \n✅ **Tool Integration**: Google Search, URL scraping, RSS feeds for research\n\n## Setup Requirements\n\n### 1. **API Keys Needed**\n- **Google Gemini API**: For Gemini 2.5 Pro/Flash models (content generation/writing)\n- **Groq API (optional)**: For Kimi-K2-Instruct model (research/writing)\n- **Serper.dev API**: For Google Search (2,500 free searches/month)\n- **Wavespeed.ai API**: For Nano-Banana image generation\n- **Supabase Account**: For database and image storage\n\n### 2. **Supabase Setup**\n- Create `blogs` table with fields:\n  - `title`, `slug`, `excerpt`, `category`, `tags`, `featured_image`, `status`, `featured`, `content`\n- Create storage bucket for blog images\n- Configure bucket as public or use signed URLs\n\n### 3. **Workflow Configuration**\n\n**Update these placeholders:**\n\n- **RSS Feed URLs**: Replace `[your website's rss.xml]` with your site's RSS feed\n- **Storage URLs**: Update Supabase storage paths in \"Upload object\" and \"Generate presigned URL\" nodes\n- **API Keys**: Add your credentials to all HTTP Request nodes\n- **Niche/Brand**: Customize Research Agent system prompt with your industry keywords\n- **Writing Style**: Adjust Writer Agent prompt for your brand voice\n\n## Customization Options\n\n### Change Image Provider\nReplace the \"nano banana\" node with:\n- Gemini Imagen 3/4\n- DALL-E 3\n- Midjourney API\n- Any Wavespeed.ai model\n\n### Adjust Schedule\nModify \"Schedule Trigger\" to run:\n- Multiple times daily\n- Specific days of week\n- On-demand via webhook\n\n### Alternative Research Tools\nReplace Serper.dev with:\n- Perplexity API (included as alternative node)\n- Custom web scraping\n- Different search providers\n\n## Output Format\n\n```json\n{\n  \"title\": \"Your SEO-Optimized Title\",\n  \"slug\": \"your-seo-optimized-title\",\n  \"excerpt\": \"Compelling 2-3 sentence summary with key benefits.\",\n  \"category\": \"Your Category\",\n  \"tags\": [\"tag1\", \"tag2\", \"tag3\", \"tag4\"],\n  \"author_name\": \"Your Team Name\",\n  \"featured\": false,\n  \"status\": \"draft\",\n  \"content\": \"<article>...complete HTML with embedded images...</article>\"\n}\n```\n\n## Performance Notes\n\n- **Average runtime**: 15-25 minutes per blog post\n- **Cost per post**: ~$0.10-0.30 (depending on API usage)\n- **Image generation**: 10-15 seconds per image with Nano-Banana\n- **Retry logic**: Automatically handles API timeouts with 5-15 minute wait periods\n\n## Best Practices\n\n1. **Review Before Publishing**: Workflow saves as \"draft\" status for human review\n2. **Monitor API Limits**: Track Serper.dev searches and image generation quotas\n3. **Test Custom Prompts**: Adjust Research/Writer prompts to match your brand\n4. **Image Quality**: Review generated images; regenerate if needed\n5. **SEO Validation**: Check slugs and meta descriptions before going live\n\n## Workflow Architecture\n\n**3 Main Phases:**\n1. Research → Writer → Image Prompts (Sequential AI Agent chain)\n2. Image Generation → Upload → URL Replacement (Loop-based processing)\n3. Final Assembly → Database Insert (Single save operation)\n\n**Error Handling:**\n- Wait nodes between agents prevent rate limiting\n- Retry logic on agent failures (max 2 retries)\n- Conditional checks ensure content quality before proceeding\n\n---\n\n**Result**: Hands-free blog publishing that maintains quality while saving 3-5 hours per post.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Groq Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "role": "lmChatGroq",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "RSS Read",
      "type": "n8n-nodes-base.rssFeedReadTool",
      "role": "rssFeedReadTool",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Create a row",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Agent1",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Groq Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "role": "lmChatGroq",
      "configDescription": "Version 1"
    },
    {
      "name": "RSS Read1",
      "type": "n8n-nodes-base.rssFeedReadTool",
      "role": "rssFeedReadTool",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Google Gemini Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Google Gemini Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Information Extractor",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "role": "informationExtractor",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Google Gemini Chat Model4",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Generate an image",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "role": "googleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Upload object",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Generate presigned URL",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "all_images",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "html_content",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Wait2",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "RSS Read2",
      "type": "n8n-nodes-base.rssFeedReadTool",
      "role": "rssFeedReadTool",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get many rows",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Code2",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "imagen4",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "gemini2.5flash",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Google search",
      "type": "n8n-nodes-base.httpRequestTool",
      "role": "httpRequestTool",
      "configDescription": "Version 4.2"
    },
    {
      "name": "URL Scraper",
      "type": "n8n-nodes-base.httpRequestTool",
      "role": "httpRequestTool",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Message a model in Perplexity",
      "type": "n8n-nodes-base.perplexityTool",
      "role": "perplexityTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "download image",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Edit Image (only for changing to png)",
      "type": "n8n-nodes-base.editImage",
      "role": "editImage",
      "configDescription": "Version 1"
    },
    {
      "name": "Message a model (image name writer)",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "role": "googleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "nano banana",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Edit Fields (set image prompt and name)",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "final image url",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "imbed images in html",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "API Keys",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}