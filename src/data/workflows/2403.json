{
  "id": 2403,
  "slug": "2403",
  "title": "Create snapshot of Contabo VPS instances on a daily basis",
  "description": "### Workflow: Snapshot Contabo\n\n#### **How it Works**\nThis workflow automates daily backups (snapshots) of VPS instances hosted on Contabo. Each day at midnight, it checks for existing snapshots and ensures that only the latest backups are retained by removing older ones. It provides a seamless, hands-off backup process to keep your data secure.\n\n#### **Setup Steps**\nSetting up this workflow is quick, typically taking about 10-15 minutes. The essential part of the setup is providing the necessary credentials, which you can easily retrieve from your Contabo control panel.\n\n1. **Import the Workflow:** Download and upload the workflow JSON into n8n.\n2. **Configure Credentials:** Add `CLIENT_ID`, `CLIENT_SECRET`, `API_USER`, and `API_PASSWORD` in the credential node.\n3. **Activate the Workflow:** Enable it to run automatically at midnight every day.\n\n#### **Flow Overview**\n- **Schedule Trigger (00:00 daily):** Automatically initiates the workflow.\n- **Formatted Date:** Prepares a timestamp for naming the snapshot.\n- **List Snapshots:** Verifies if an existing snapshot is available for each VPS.\n- **Conditional Logic:** \n  - **No Snapshot?** Proceeds to create a new one.\n  - **Snapshot Found?** Deletes the old snapshot before creating a new one.\n\n#### **Key Points**\n- **Snapshot Retention:** Old snapshots are deleted to ensure only the latest backups are stored.\n- **Unique Identifiers:** UUIDs are used to track and guarantee unique operations.\n\n",
  "featuredImage": "/data/workflows/2403/2403.webp",
  "author": {
    "id": 101,
    "slug": "dubcom",
    "name": "DUBCOM",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 2424,
  "downloads": 242,
  "createdAt": "2024-09-05T19:31:46.542Z",
  "updatedAt": "2026-01-16T08:24:30.678Z",
  "publishedAt": "2024-09-05T19:31:46.542Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2403",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create snapshot of Contabo VPS instances on a daily basis",
    "workflowName": "Create snapshot of Contabo VPS instances on a daily basis",
    "description": "### Workflow: Snapshot Contabo\n\n#### **How it Works**\nThis workflow automates daily backups (snapshots) of VPS instances hosted on Contabo. Each day at midnight, it checks for existing snapshots and ensures that only the latest backups are retained by removing older ones. It provides a seamless, hands-off backup process to keep your data secure.\n\n#### **Setup Steps**\nSetting up this workflow is quick, typically taking about 10-15 minutes. The essential part of the setup is providing the necessary credentials, which you can easily retrieve from your Contabo control panel.\n\n1. **Import the Workflow:** Download and upload the workflow JSON into n8n.\n2. **Configure Credentials:** Add `CLIENT_ID`, `CLIENT_SECRET`, `API_USER`, and `API_PASSWORD` in the credential node.\n3. **Activate the Workflow:** Enable it to run automatically at midnight every day.\n\n#### **Flow Overview**\n- **Schedule Trigger (00:00 daily):** Automatically initiates the workflow.\n- **Formatted Date:** Prepares a timestamp for naming the snapshot.\n- **List Snapshots:** Verifies if an existing snapshot is available for each VPS.\n- **Conditional Logic:** \n  - **No Snapshot?** Proceeds to create a new one.\n  - **Snapshot Found?** Deletes the old snapshot before creating a new one.\n\n#### **Key Points**\n- **Snapshot Retention:** Old snapshots are deleted to ensure only the latest backups are stored.\n- **Unique Identifiers:** UUIDs are used to track and guarantee unique operations.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Set snapshot attributes",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Credential",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Authorization",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "List instances",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "UUID",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "TRACE ID",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "List snapshots",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "UUID1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "get Date & Time",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Delete existing snapshot",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Create a new snapshot",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Create a new snapshot1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "UUID2",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "UUID3",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "UUID4",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Formatted Date",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Whether snapshot there is no snapshot",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "set snapshot attributes",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    }
  ]
}