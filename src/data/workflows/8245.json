{
  "id": 8245,
  "slug": "8245",
  "title": "Build a RAG knowledge chatbot with OpenAI, Google Drive, and Supabase",
  "description": "## üöÄ Build Your Own Knowledge Chatbot Using Google Drive\n\nCreate a smart chatbot that answers questions using your Google Drive PDFs‚Äîperfect for support, internal docs, education, or research.\n\n## üõ†Ô∏è Quick Setup Guide**\n### Step 1: Prerequisites\n\n- n8n instance (cloud or self-hosted)\n- Google Drive account (with PDFs)\n- Supabase account (vector database)\n- OpenAI API key\n- PostgreSQL database (for chat memory) else remove the node\n\n### Step 2: Supabase Setup\n- Create supabase account (its free)\n- Create a project\n- Copy the sql and paste it in supabase sql editor\n\n```SQL \n-- Enable the pgvector extension to work with embedding vectors\ncreate extension vector;\n\n-- Create a table to store your documents\ncreate table documents (\n  id bigserial primary key,\n  content text, -- corresponds to Document.pageContent\n  metadata jsonb, -- corresponds to Document.metadata\n  embedding vector(1536) -- 1536 works for OpenAI embeddings, change if needed\n);\n\n-- Create a function to search for documents\ncreate function match_documents (\n  query_embedding vector(1536),\n  match_count int default null,\n  filter jsonb DEFAULT '{}'\n) returns table (\n  id bigint,\n  content text,\n  metadata jsonb,\n  similarity float\n)\nlanguage plpgsql\nas $$\n#variable_conflict use_column\nbegin\n  return query\n  select\n    id,\n    content,\n    metadata,\n    1 - (documents.embedding &lt;=&gt; query_embedding) as similarity\n  from documents\n  where metadata @&gt; filter\n  order by documents.embedding &lt;=&gt; query_embedding\n  limit match_count;\nend;\n$$;\n```\n\n### Step 3: Import & Configure n8n Workflow\n\n- Import this template into n8n\n- Add credentials: \n  - OpenAI API key \n  - Google Drive OAuth2\n  - Supabase URL & service key\n  - PostgreSQL connection\n - Set your Google Drive folder ID in triggers\n\n### Step 4: Test & Use\n\n- Add a PDF to your Drive folder ‚Üí check Supabase for new entries\n- Start the workflow and chat ‚Üí ask questions about your documents. \"*What can you help me with?*\"\n- Multi-turn chat ‚Üí context is maintained per user\n\n## ‚ö° Features\n\n- Auto-syncs new/updated PDFs from Google Drive\n- Extracts, chunks, and vectorizes text\n- Finds relevant info and answers questions\n- Maintains chat history per user\n\n\n## üìù Troubleshooting\n- Check folder permissions & IDs if no docs found\n- Verify API keys & Supabase setup for errors\n- Ensure PostgreSQL is connected for chat memory\n\nTags: RAG, Chatbot, Google Drive, Supabase, OpenAI, n8n\nSetup Time: ~20 minutes",
  "featuredImage": "/data/workflows/8245/8245.webp",
  "author": {
    "id": 101,
    "slug": "bbz",
    "name": "Babish Shrestha",
    "avatar": ""
  },
  "categories": [
    "Internal Wiki",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 934,
  "downloads": 93,
  "createdAt": "2025-09-04T09:40:09.556Z",
  "updatedAt": "2026-01-16T08:54:55.113Z",
  "publishedAt": "2025-09-04T09:40:09.556Z",
  "nodes": 20,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8245",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build a RAG knowledge chatbot with OpenAI, Google Drive, and Supabase",
    "workflowName": "Build a RAG knowledge chatbot with OpenAI, Google Drive, and Supabase",
    "description": "## üöÄ Build Your Own Knowledge Chatbot Using Google Drive\n\nCreate a smart chatbot that answers questions using your Google Drive PDFs‚Äîperfect for support, internal docs, education, or research.\n\n## üõ†Ô∏è Quick Setup Guide**\n### Step 1: Prerequisites\n\n- n8n instance (cloud or self-hosted)\n- Google Drive account (with PDFs)\n- Supabase account (vector database)\n- OpenAI API key\n- PostgreSQL database (for chat memory) else remove the node\n\n### Step 2: Supabase Setup\n- Create supabase account (its free)\n- Create a project\n- Copy the sql and paste it in supabase sql editor\n\n```SQL \n-- Enable the pgvector extension to work with embedding vectors\ncreate extension vector;\n\n-- Create a table to store your documents\ncreate table documents (\n  id bigserial primary key,\n  content text, -- corresponds to Document.pageContent\n  metadata jsonb, -- corresponds to Document.metadata\n  embedding vector(1536) -- 1536 works for OpenAI embeddings, change if needed\n);\n\n-- Create a function to search for documents\ncreate function match_documents (\n  query_embedding vector(1536),\n  match_count int default null,\n  filter jsonb DEFAULT '{}'\n) returns table (\n  id bigint,\n  content text,\n  metadata jsonb,\n  similarity float\n)\nlanguage plpgsql\nas $$\n#variable_conflict use_column\nbegin\n  return query\n  select\n    id,\n    content,\n    metadata,\n    1 - (documents.embedding &lt;=&gt; query_embedding) as similarity\n  from documents\n  where metadata @&gt; filter\n  order by documents.embedding &lt;=&gt; query_embedding\n  limit match_count;\nend;\n$$;\n```\n\n### Step 3: Import & Configure n8n Workflow\n\n- Import this template into n8n\n- Add credentials: \n  - OpenAI API key \n  - Google Drive OAuth2\n  - Supabase URL & service key\n  - PostgreSQL connection\n - Set your Google Drive folder ID in triggers\n\n### Step 4: Test & Use\n\n- Add a PDF to your Drive folder ‚Üí check Supabase for new entries\n- Start the workflow and chat ‚Üí ask questions about your documents. \"*What can you help me with?*\"\n- Multi-turn chat ‚Üí context is maintained per user\n\n## ‚ö° Features\n\n- Auto-syncs new/updated PDFs from Google Drive\n- Extracts, chunks, and vectorizes text\n- Finds relevant info and answers questions\n- Maintains chat history per user\n\n\n## üìù Troubleshooting\n- Check folder permissions & IDs if no docs found\n- Verify API keys & Supabase setup for errors\n- Ensure PostgreSQL is connected for chat memory\n\nTags: RAG, Chatbot, Google Drive, Supabase, OpenAI, n8n\nSetup Time: ~20 minutes",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Complete Setup Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "File Updated",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Set File ID",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Recursive Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "File Created",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Delete a row",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Download the file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "RAG Vector store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1.3"
    },
    {
      "name": "RAG AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Embeddings OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    }
  ]
}