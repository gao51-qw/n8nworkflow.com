{
  "id": 10900,
  "slug": "10900",
  "title": "Generate LinkedIn carousel images from text with Mistral AI & S3 Storage",
  "description": "# AI Carousel Caption & Template Editor Workflow\n\n## Overview\nThis workflow is a caption-only carousel text generator built in n8n. It turns any raw LinkedIn post or text input into 3 short, slide-ready title + subtext captions and renders those captions onto image templates. Output is a single aggregated response with markdown image embeds and download links.\n\n---\n\n## Workflow Structure\n- **Input:** Chat UI trigger accepts text and optional template selection.  \n- **Core AI:** Agent cleans input and returns structured JSON with 3 caption pairs.  \n- **Template Rendering:** Edit Image nodes render title and subtext on chosen templates.  \n- **Storage:** Rendered images uploaded to S3.  \n- **Aggregate Output:** Aggregate node builds final markdown response with embeds and download links.\n\n---\n\n## Chat Trigger (Frontend)\n- **Trigger:** `When chat message received`  \n  - UI accepts plain text post.  \n  - `allowFileUploads` optional for template images.  \n  - SessionId preserved for context.\n\n## AI Agent (Core)\n- **Node name:** `AI Agent`  \n- **Model:** `Mistral Cloud Chat Model` (mistral-small-latest)  \n- **Behavior:**  \n  - Clean input (remove stray formatting like `\\n` and `**` but keep emojis).  \n  - Produce exactly one JSON object with fields: `postclean`, `title1`, `subtext1`, `title2`, `subtext2`, `title3`, `subtext3`.  \n  - Titles must be short (max 5 words). Subtext 1 or 2 short sentences, max 7 words per line if possible.  \n  - Agent must return valid JSON to be parsed by the Structured Output Parser.\n\n## Structured Output Parser\n- **Node name:** `Structured Output Parser`  \n- Validates agent JSON and prevents downstream errors. If parsing fails, stop and surface error.\n\n## Normalize Title Nodes\n- **Nodes:** `normalize title,name 1`, `normalize title,name 2`, `normalize title,name 3` (and optional 4)  \n- Map parsed output into node fields: `title`, `subtext`, `safeName` (safe filename for exports).\n\n## Template Images\n- **Source:** Google Drive template PNGs (download via `Google Drive` nodes) or provided upload.  \n- Keep templates high resolution and consistent aspect ratio.\n\n## Edit Image Nodes (Render Captions)\n- **Nodes:** `Edit Image 1`, `Edit Image2`, `Edit Image3`, `Edit Image3` (or `Edit Image3`/`Edit Image4` as available)  \n- MultiStep operations render:\n  - Title text (font, size, position)  \n  - Subtext (font, size, position)  \n- This is where caption text is added to the template.\n\n## Upload to S3\n- **Nodes:** `S3`  \n- Upload rendered images to `bucketname` using `safeName` filenames. Confirm public access or use signed URLs.\n\n## Get S3 URLs and Aggregate\n- **Nodes:** `get s3 url image 1`, `get s3 url image 2`, `get s3 url image 3`, `get s3 url image 4`  \n- **Merge + Aggregate:** `Merge1` and `Aggregate` collect image items.  \n- **Output Format:** `output format` builds a single markdown message:\n  - Inline image embeds `![image](&lt;s3-url&gt;)`  \n  - Download links per image.\n\n---\n\n## Integrations Used\n| Service | Purpose | Credential |\n|---------|---------|-----------|\n| Mistral Cloud | AI agent model | `Mistral account` |\n| Google Drive | Template image storage | `Google Drive account ` |\n| S3 | Store rendered images and serve links | `Supabase account ` |\n| n8n Core | Flow control, parsing, image editing | Native |\n\n---\n\n## Agent System Prompt Summary\n&gt; You are a data formatter and banner caption creator. Clean the user input (remove stray newlines and markup but keep emojis). Return a single JSON object with `postclean`, `title1/subtext1`, `title2/subtext2`, `title3/subtext3`. Titles must be short (max 5 words). Subtext should be 1 to 2 short sentences, useful and value adding. Respond only with JSON.\n\n---\n\n## Key Features\n-  Caption only output: 3 short slide-ready caption pairs.  \n-  Structured JSON output enforced by a parser for reliability.  \n-  Renders captions onto image templates using Edit Image nodes.  \n-  Uploads images to S3 and returns markdown embeds plus download links.  \n-  Template editable: swap Google Drive background templates or upload your own.  \n-  Zero guess formatting: agent must produce parseable JSON to avoid downstream failures.\n\n---\n\n## Summary\nA compact n8n workflow that converts raw LinkedIn text into a caption-only carousel with rendered images. It enforces tight caption rules, validates AI JSON, places captions on templates, uploads images, and returns a single ready-to-post markdown payload.\n\n---\n\n### Need Help or More Workflows?\nWe can wire this into your account, replace templates, or customize fonts, positions, and export options.  \n We can help you set it up for free — from connecting credentials to deploying it live.\n\nContact: [shilpa.raju@digitalbiz.tech](mailto:shilpa.raju@digitalbiz.tech)  \nWebsite: [https://www.digitalbiz.tech](https://www.digitalbiz.tech)  \nLinkedIn: [https://www.linkedin.com/company/digital-biz-tech/](https://www.linkedin.com/company/digital-biz-tech/)   \nYou can also DM us on LinkedIn for any help.",
  "featuredImage": "/data/workflows/10900/10900.webp",
  "author": {
    "id": 101,
    "slug": "dbt",
    "name": "DIGITAL BIZ TECH",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 127,
  "downloads": 12,
  "createdAt": "2025-11-17T05:06:54.929Z",
  "updatedAt": "2026-01-16T09:06:46.407Z",
  "publishedAt": "2025-11-17T05:06:54.929Z",
  "nodes": 37,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10900",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate LinkedIn carousel images from text with Mistral AI & S3 Storage",
    "workflowName": "Generate LinkedIn carousel images from text with Mistral AI & S3 Storage",
    "description": "# AI Carousel Caption & Template Editor Workflow\n\n## Overview\nThis workflow is a caption-only carousel text generator built in n8n. It turns any raw LinkedIn post or text input into 3 short, slide-ready title + subtext captions and renders those captions onto image templates. Output is a single aggregated response with markdown image embeds and download links.\n\n---\n\n## Workflow Structure\n- **Input:** Chat UI trigger accepts text and optional template selection.  \n- **Core AI:** Agent cleans input and returns structured JSON with 3 caption pairs.  \n- **Template Rendering:** Edit Image nodes render title and subtext on chosen templates.  \n- **Storage:** Rendered images uploaded to S3.  \n- **Aggregate Output:** Aggregate node builds final markdown response with embeds and download links.\n\n---\n\n## Chat Trigger (Frontend)\n- **Trigger:** `When chat message received`  \n  - UI accepts plain text post.  \n  - `allowFileUploads` optional for template images.  \n  - SessionId preserved for context.\n\n## AI Agent (Core)\n- **Node name:** `AI Agent`  \n- **Model:** `Mistral Cloud Chat Model` (mistral-small-latest)  \n- **Behavior:**  \n  - Clean input (remove stray formatting like `\\n` and `**` but keep emojis).  \n  - Produce exactly one JSON object with fields: `postclean`, `title1`, `subtext1`, `title2`, `subtext2`, `title3`, `subtext3`.  \n  - Titles must be short (max 5 words). Subtext 1 or 2 short sentences, max 7 words per line if possible.  \n  - Agent must return valid JSON to be parsed by the Structured Output Parser.\n\n## Structured Output Parser\n- **Node name:** `Structured Output Parser`  \n- Validates agent JSON and prevents downstream errors. If parsing fails, stop and surface error.\n\n## Normalize Title Nodes\n- **Nodes:** `normalize title,name 1`, `normalize title,name 2`, `normalize title,name 3` (and optional 4)  \n- Map parsed output into node fields: `title`, `subtext`, `safeName` (safe filename for exports).\n\n## Template Images\n- **Source:** Google Drive template PNGs (download via `Google Drive` nodes) or provided upload.  \n- Keep templates high resolution and consistent aspect ratio.\n\n## Edit Image Nodes (Render Captions)\n- **Nodes:** `Edit Image 1`, `Edit Image2`, `Edit Image3`, `Edit Image3` (or `Edit Image3`/`Edit Image4` as available)  \n- MultiStep operations render:\n  - Title text (font, size, position)  \n  - Subtext (font, size, position)  \n- This is where caption text is added to the template.\n\n## Upload to S3\n- **Nodes:** `S3`  \n- Upload rendered images to `bucketname` using `safeName` filenames. Confirm public access or use signed URLs.\n\n## Get S3 URLs and Aggregate\n- **Nodes:** `get s3 url image 1`, `get s3 url image 2`, `get s3 url image 3`, `get s3 url image 4`  \n- **Merge + Aggregate:** `Merge1` and `Aggregate` collect image items.  \n- **Output Format:** `output format` builds a single markdown message:\n  - Inline image embeds `![image](&lt;s3-url&gt;)`  \n  - Download links per image.\n\n---\n\n## Integrations Used\n| Service | Purpose | Credential |\n|---------|---------|-----------|\n| Mistral Cloud | AI agent model | `Mistral account` |\n| Google Drive | Template image storage | `Google Drive account ` |\n| S3 | Store rendered images and serve links | `Supabase account ` |\n| n8n Core | Flow control, parsing, image editing | Native |\n\n---\n\n## Agent System Prompt Summary\n&gt; You are a data formatter and banner caption creator. Clean the user input (remove stray newlines and markup but keep emojis). Return a single JSON object with `postclean`, `title1/subtext1`, `title2/subtext2`, `title3/subtext3`. Titles must be short (max 5 words). Subtext should be 1 to 2 short sentences, useful and value adding. Respond only with JSON.\n\n---\n\n## Key Features\n-  Caption only output: 3 short slide-ready caption pairs.  \n-  Structured JSON output enforced by a parser for reliability.  \n-  Renders captions onto image templates using Edit Image nodes.  \n-  Uploads images to S3 and returns markdown embeds plus download links.  \n-  Template editable: swap Google Drive background templates or upload your own.  \n-  Zero guess formatting: agent must produce parseable JSON to avoid downstream failures.\n\n---\n\n## Summary\nA compact n8n workflow that converts raw LinkedIn text into a caption-only carousel with rendered images. It enforces tight caption rules, validates AI JSON, places captions on templates, uploads images, and returns a single ready-to-post markdown payload.\n\n---\n\n### Need Help or More Workflows?\nWe can wire this into your account, replace templates, or customize fonts, positions, and export options.  \n We can help you set it up for free — from connecting credentials to deploying it live.\n\nContact: [shilpa.raju@digitalbiz.tech](mailto:shilpa.raju@digitalbiz.tech)  \nWebsite: [https://www.digitalbiz.tech](https://www.digitalbiz.tech)  \nLinkedIn: [https://www.linkedin.com/company/digital-biz-tech/](https://www.linkedin.com/company/digital-biz-tech/)   \nYou can also DM us on LinkedIn for any help.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Mistral Cloud Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatMistralCloud",
      "role": "lmChatMistralCloud",
      "configDescription": "Version 1"
    },
    {
      "name": "S32",
      "type": "n8n-nodes-base.s3",
      "role": "s3",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "S3",
      "type": "n8n-nodes-base.s3",
      "role": "s3",
      "configDescription": "Version 1"
    },
    {
      "name": "S34",
      "type": "n8n-nodes-base.s3",
      "role": "s3",
      "configDescription": "Version 1"
    },
    {
      "name": "S35",
      "type": "n8n-nodes-base.s3",
      "role": "s3",
      "configDescription": "Version 1"
    },
    {
      "name": "Edit Image3",
      "type": "n8n-nodes-base.editImage",
      "role": "editImage",
      "configDescription": "Version 1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note21",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note22",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note23",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "normalize title,name 1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "normalize title,name 2",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "normalize title,name 3",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "normalize title,name 4",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Google Drive get image 1",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Google Drive (get image template)",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Google Drive (get image template)3",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Google Drive (get image template)4",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Edit Image 1",
      "type": "n8n-nodes-base.editImage",
      "role": "editImage",
      "configDescription": "Version 1"
    },
    {
      "name": "Edit Image2",
      "type": "n8n-nodes-base.editImage",
      "role": "editImage",
      "configDescription": "Version 1"
    },
    {
      "name": "get s3 url image 1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "get s3 url image 2",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "get s3 url image 3",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "get s3 url image 4",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "output format",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}