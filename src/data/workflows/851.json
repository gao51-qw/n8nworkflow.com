{
  "id": 851,
  "slug": "851",
  "title": "Detect web visitors country by IP address with uProc",
  "description": "Do you want to know where a web visitor lives? \n\nThis workflow enriches any lead by IP address using the uProc.io [**Location By IP address tool**](https://app.uproc.io/#/tools/processor/get/location/by-ip) and sends an email in Spanish or English depending on the detected web visitor country.\n\n![workflow-screenshot](fileId:353)\n\nYou need to add your credentials (Email and API Key - real -) located at [**Integration section**](https://app.uproc.io/#/settings/integration) to n8n.\n\nNode \"Create IP and Email Item\" can be replaced by any other supported service with IP and Email values, like Mailchimp, Calendly, or MySQL.\n\nThe \"uProc\" node returns the location of the provided IP address. \n\n\"If\" node checks if the web visitor country code belongs to Spain (ES Isocode). If positive, we use the Spanish language in our emails. Otherwise, we will use the English language in our communications.\n\nDepending on the detected country code, we use the Amazon SES node to send the customized email adapted to the right language.",
  "featuredImage": "/data/workflows/851/851.webp",
  "author": {
    "id": 101,
    "slug": "mcolomer",
    "name": "Miquel Colomer",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 992,
  "downloads": 99,
  "createdAt": "2020-12-28T09:18:06.470Z",
  "updatedAt": "2026-01-16T08:20:09.908Z",
  "publishedAt": "2020-12-28T09:18:06.470Z",
  "nodes": 6,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/851",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Detect web visitors country by IP address with uProc",
    "workflowName": "Detect web visitors country by IP address with uProc",
    "description": "Do you want to know where a web visitor lives? \n\nThis workflow enriches any lead by IP address using the uProc.io [**Location By IP address tool**](https://app.uproc.io/#/tools/processor/get/location/by-ip) and sends an email in Spanish or English depending on the detected web visitor country.\n\n![workflow-screenshot](fileId:353)\n\nYou need to add your credentials (Email and API Key - real -) located at [**Integration section**](https://app.uproc.io/#/settings/integration) to n8n.\n\nNode \"Create IP and Email Item\" can be replaced by any other supported service with IP and Email values, like Mailchimp, Calendly, or MySQL.\n\nThe \"uProc\" node returns the location of the provided IP address. \n\n\"If\" node checks if the web visitor country code belongs to Spain (ES Isocode). If positive, we use the Spanish language in our emails. Otherwise, we will use the English language in our communications.\n\nDepending on the detected country code, we use the Amazon SES node to send the customized email adapted to the right language.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "On clicking 'execute'",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Location By IP",
      "type": "n8n-nodes-base.uproc",
      "role": "uproc",
      "configDescription": "Version 1"
    },
    {
      "name": "User in Spain?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Create IP and Email Item",
      "type": "n8n-nodes-base.functionItem",
      "role": "functionItem",
      "configDescription": "Version 1"
    },
    {
      "name": "Send English Email",
      "type": "n8n-nodes-base.awsSes",
      "role": "awsSes",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Spanish Email",
      "type": "n8n-nodes-base.awsSes",
      "role": "awsSes",
      "configDescription": "Version 1"
    }
  ]
}