{
  "id": 4064,
  "slug": "4064",
  "title": "Automated daily workflow backup to GitHub",
  "description": "This workflow provides a robust solution for automatically backing up all your n8n workflows to a designated GitHub repository on a daily basis. By leveraging the n8n API and GitHub API, it ensures your workflows are version-controlled and securely stored, safeguarding against data loss and facilitating disaster recovery.\n\n### How it works\n\nThe automation follows these key steps:\n\n1.  **Scheduled trigger**: The workflow is initiated automatically every day at a pre-configured time.\n2.  **List existing backups**: It first connects to your GitHub repository to retrieve a list of already backed-up workflow files. This helps in determining whether a workflow's backup file needs to be created or updated.\n3.  **Retrieve n8n workflows**: The workflow then fetches all current workflows directly from your n8n instance using the n8n REST API.\n4.  **Process and prepare**: Each retrieved workflow is individually processed. Its data is converted into JSON format. This JSON content is then encoded to base64, a format suitable for GitHub API file operations.\n5.  **Commit to GitHub**: For each n8n workflow:\n    * A standardized filename is generated (e.g., `workflow-name-tag.json`).\n    * The workflow checks if a file with this name already exists in the GitHub repository (based on the list fetched in step 2).\n    * **If the file exists**: It updates the existing file with the latest version of the workflow.\n    * **If it's a new workflow (file doesn't exist)**: A new file is created in the repository.\n    * Each commit is timestamped for clarity.\n\nThis process ensures that you always have an up-to-date version of all your n8n workflows stored securely in your GitHub version control system, providing peace of mind and a reliable backup history.\n\n### Pre-requisites\n\nBefore you can use this template, please ensure you have the following:\n\n* An active n8n instance (self-hosted or cloud).\n* A GitHub account.\n* A GitHub repository created where you want to store the workflow backups.\n* A GitHub Personal Access Token with `repo` scope (or fine-grained token with read/write access to the specific backup repository). This token will be used for GitHub API authentication.\n* n8n API credentials (API key) for your n8n instance.\n\n### Set up steps\n\nSetting up this workflow should take approximately 10-15 minutes if you have your credentials ready.\n\n1.  **Import the template**: Import this workflow into your n8n instance.\n2.  **Configure n8n API credentials**:\n    * Locate the \"Retrieve workflows\" node.\n    * In the \"Credentials\" section for \"n8n API\", create new credentials (or select existing ones).\n    * Enter your n8n instance URL and your n8n API Key (you can create your n8n api key in the settings of your n8n instance)\n3.  **Configure GitHub credentials**:\n    * Locate the \"List files from repo\" node (and subsequently \"Update file\" / \"Upload file\" nodes which will use the same credential).\n    * In the \"Credentials\" section for \"GitHub API\", create new credentials.\n    * Select OAuth2/Personal Access Token authentication method.\n    * Enter the GitHub Personal Access Token you generated as per the pre-requisites.\n4.  **Specify repository details**:\n    * In the \"List files from repo\", \"Update file\", and \"Upload file\" GitHub nodes:\n        * Set the `Owner`: Your GitHub username or organization name.\n        * Set the `Repository`: The name of your GitHub repository dedicated to backups.\n        * Set the `Branch` (e.g., `main` or `master`) where backups should be stored.\n        * (Optional) Specify a `Path` within the repository if you want backups in a specific folder (e.g., `n8n_backups/`). Leave blank to store in the root.\n5.  **Adjust schedule (Optional)**:\n    * Select the \"Schedule Trigger\" node.\n    * Modify the trigger interval (e.g., change the time of day or frequency) as needed. By default, it's set for a daily run.\n6.  **Activate the workflow**: Save and activate the workflow.\n\n### Explanation of nodes\n\nHere's a detailed breakdown of each node used in this workflow:\n\n* **Schedule trigger**\n    * **Type**: `n8n-nodes-base.scheduleTrigger`\n    * **Purpose**: This node automatically starts the workflow based on a defined schedule (e.g., daily at midnight).\n* **List files from repo**\n    * **Type**: `n8n-nodes-base.github`\n    * **Purpose**: Connects to your specified GitHub repository and lists all files, primarily to check for existing workflow backups.\n* **Aggregate**\n    * **Type**: `n8n-nodes-base.aggregate`\n    * **Purpose**: Consolidates the list of file names obtained from the \"List files from repo\" node into a single item for easier lookup later in the \"Check if file exists\" node.\n* **Retrieve workflows**\n    * **Type**: `n8n-nodes-base.n8n`\n    * **Purpose**: Uses the n8n API to fetch a list of all workflows currently present in your n8n instance.\n* **Json file**\n    * **Type**: `n8n-nodes-base.convertToFile`\n    * **Purpose**: Takes the data of each workflow (retrieved by the \"Retrieve workflows\" node) and converts it into a structured JSON file format.\n* **To base64**\n    * **Type**: `n8n-nodes-base.extractFromFile`\n    * **Purpose**: Converts the binary content of the JSON file (from the \"Json file\" node) into a base64 encoded string. This encoding is required by the GitHub API for file content.\n* **Commit date & file name**\n    * **Type**: `n8n-nodes-base.set`\n    * **Purpose**: Prepares metadata for the GitHub commit. It generates:\n        * `commitDate`: The current date and time for the commit message.\n        * `fileName`: A standardized file name for the workflow backup (e.g., `my-workflow-vps-backups.json`), typically using the workflow's name and its first tag.\n* **Check if file exists**\n    * **Type**: `n8n-nodes-base.if`\n    * **Purpose**: A conditional node. It checks if the `fileName` (generated by \"Commit date & file name\") is present in the list of files aggregated by the \"Aggregate\" node. This determines if the workflow backup already exists in GitHub.\n* **Update file**\n    * **Type**: `n8n-nodes-base.github`\n    * **Purpose**: If the \"Check if file exists\" node determines the file *does* exist, this node updates that existing file in your GitHub repository with the latest workflow content (base64 encoded) and a commit message.\n* **Upload file**\n    * **Type**: `n8n-nodes-base.github`\n    * **Purpose**: If the \"Check if file exists\" node determines the file *does not* exist, this node creates and uploads a new file to your GitHub repository with the workflow content and a commit message.\n\n### Customization\n\nHere are a few ways you can customize this template to better fit your needs:\n\n* **Backup path**: In the GitHub nodes (\"List files from repo\", \"Update file\", \"Upload file\"), you can specify a `Path` parameter to store backups in a specific folder within your repository (e.g., `workflows/` or `daily_backups/`).\n* **Filename convention**: Modify the \"Commit date & file name\" node (specifically the expression for `fileName`) to change how backup files are named. For example, you might want to include the workflow ID or a different date format.\n* **Commit messages**: Customize the commit messages in the \"Update file\" and \"Upload file\" GitHub nodes to include more specific information if needed.\n* **Error handling**: Consider adding error handling branches (e.g., using the \"Error Trigger\" node or checking for node execution failures) to notify you if a backup fails for any reason.\n* **Filtering workflows**: If you only want to back up specific workflows (e.g., those with a particular tag or name pattern), you can add a \"Filter\" node after \"Retrieve workflows\" to include only the desired workflows in the backup process.\n* **Backup frequency**: Adjust the \"Schedule Trigger\" node to change how often the backup runs (e.g., hourly, weekly, or on specific days).\n\n\nTemplate was created in n8n `v1.92.2`",
  "featuredImage": "/data/workflows/4064/4064.webp",
  "author": {
    "id": 101,
    "slug": "hugop",
    "name": "Hugo",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 8595,
  "downloads": 859,
  "createdAt": "2025-05-15T02:33:44.721Z",
  "updatedAt": "2026-01-16T08:32:52.220Z",
  "publishedAt": "2025-05-15T02:33:44.721Z",
  "nodes": 13,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4064",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated daily workflow backup to GitHub",
    "workflowName": "Automated daily workflow backup to GitHub",
    "description": "This workflow provides a robust solution for automatically backing up all your n8n workflows to a designated GitHub repository on a daily basis. By leveraging the n8n API and GitHub API, it ensures your workflows are version-controlled and securely stored, safeguarding against data loss and facilitating disaster recovery.\n\n### How it works\n\nThe automation follows these key steps:\n\n1.  **Scheduled trigger**: The workflow is initiated automatically every day at a pre-configured time.\n2.  **List existing backups**: It first connects to your GitHub repository to retrieve a list of already backed-up workflow files. This helps in determining whether a workflow's backup file needs to be created or updated.\n3.  **Retrieve n8n workflows**: The workflow then fetches all current workflows directly from your n8n instance using the n8n REST API.\n4.  **Process and prepare**: Each retrieved workflow is individually processed. Its data is converted into JSON format. This JSON content is then encoded to base64, a format suitable for GitHub API file operations.\n5.  **Commit to GitHub**: For each n8n workflow:\n    * A standardized filename is generated (e.g., `workflow-name-tag.json`).\n    * The workflow checks if a file with this name already exists in the GitHub repository (based on the list fetched in step 2).\n    * **If the file exists**: It updates the existing file with the latest version of the workflow.\n    * **If it's a new workflow (file doesn't exist)**: A new file is created in the repository.\n    * Each commit is timestamped for clarity.\n\nThis process ensures that you always have an up-to-date version of all your n8n workflows stored securely in your GitHub version control system, providing peace of mind and a reliable backup history.\n\n### Pre-requisites\n\nBefore you can use this template, please ensure you have the following:\n\n* An active n8n instance (self-hosted or cloud).\n* A GitHub account.\n* A GitHub repository created where you want to store the workflow backups.\n* A GitHub Personal Access Token with `repo` scope (or fine-grained token with read/write access to the specific backup repository). This token will be used for GitHub API authentication.\n* n8n API credentials (API key) for your n8n instance.\n\n### Set up steps\n\nSetting up this workflow should take approximately 10-15 minutes if you have your credentials ready.\n\n1.  **Import the template**: Import this workflow into your n8n instance.\n2.  **Configure n8n API credentials**:\n    * Locate the \"Retrieve workflows\" node.\n    * In the \"Credentials\" section for \"n8n API\", create new credentials (or select existing ones).\n    * Enter your n8n instance URL and your n8n API Key (you can create your n8n api key in the settings of your n8n instance)\n3.  **Configure GitHub credentials**:\n    * Locate the \"List files from repo\" node (and subsequently \"Update file\" / \"Upload file\" nodes which will use the same credential).\n    * In the \"Credentials\" section for \"GitHub API\", create new credentials.\n    * Select OAuth2/Personal Access Token authentication method.\n    * Enter the GitHub Personal Access Token you generated as per the pre-requisites.\n4.  **Specify repository details**:\n    * In the \"List files from repo\", \"Update file\", and \"Upload file\" GitHub nodes:\n        * Set the `Owner`: Your GitHub username or organization name.\n        * Set the `Repository`: The name of your GitHub repository dedicated to backups.\n        * Set the `Branch` (e.g., `main` or `master`) where backups should be stored.\n        * (Optional) Specify a `Path` within the repository if you want backups in a specific folder (e.g., `n8n_backups/`). Leave blank to store in the root.\n5.  **Adjust schedule (Optional)**:\n    * Select the \"Schedule Trigger\" node.\n    * Modify the trigger interval (e.g., change the time of day or frequency) as needed. By default, it's set for a daily run.\n6.  **Activate the workflow**: Save and activate the workflow.\n\n### Explanation of nodes\n\nHere's a detailed breakdown of each node used in this workflow:\n\n* **Schedule trigger**\n    * **Type**: `n8n-nodes-base.scheduleTrigger`\n    * **Purpose**: This node automatically starts the workflow based on a defined schedule (e.g., daily at midnight).\n* **List files from repo**\n    * **Type**: `n8n-nodes-base.github`\n    * **Purpose**: Connects to your specified GitHub repository and lists all files, primarily to check for existing workflow backups.\n* **Aggregate**\n    * **Type**: `n8n-nodes-base.aggregate`\n    * **Purpose**: Consolidates the list of file names obtained from the \"List files from repo\" node into a single item for easier lookup later in the \"Check if file exists\" node.\n* **Retrieve workflows**\n    * **Type**: `n8n-nodes-base.n8n`\n    * **Purpose**: Uses the n8n API to fetch a list of all workflows currently present in your n8n instance.\n* **Json file**\n    * **Type**: `n8n-nodes-base.convertToFile`\n    * **Purpose**: Takes the data of each workflow (retrieved by the \"Retrieve workflows\" node) and converts it into a structured JSON file format.\n* **To base64**\n    * **Type**: `n8n-nodes-base.extractFromFile`\n    * **Purpose**: Converts the binary content of the JSON file (from the \"Json file\" node) into a base64 encoded string. This encoding is required by the GitHub API for file content.\n* **Commit date & file name**\n    * **Type**: `n8n-nodes-base.set`\n    * **Purpose**: Prepares metadata for the GitHub commit. It generates:\n        * `commitDate`: The current date and time for the commit message.\n        * `fileName`: A standardized file name for the workflow backup (e.g., `my-workflow-vps-backups.json`), typically using the workflow's name and its first tag.\n* **Check if file exists**\n    * **Type**: `n8n-nodes-base.if`\n    * **Purpose**: A conditional node. It checks if the `fileName` (generated by \"Commit date & file name\") is present in the list of files aggregated by the \"Aggregate\" node. This determines if the workflow backup already exists in GitHub.\n* **Update file**\n    * **Type**: `n8n-nodes-base.github`\n    * **Purpose**: If the \"Check if file exists\" node determines the file *does* exist, this node updates that existing file in your GitHub repository with the latest workflow content (base64 encoded) and a commit message.\n* **Upload file**\n    * **Type**: `n8n-nodes-base.github`\n    * **Purpose**: If the \"Check if file exists\" node determines the file *does not* exist, this node creates and uploads a new file to your GitHub repository with the workflow content and a commit message.\n\n### Customization\n\nHere are a few ways you can customize this template to better fit your needs:\n\n* **Backup path**: In the GitHub nodes (\"List files from repo\", \"Update file\", \"Upload file\"), you can specify a `Path` parameter to store backups in a specific folder within your repository (e.g., `workflows/` or `daily_backups/`).\n* **Filename convention**: Modify the \"Commit date & file name\" node (specifically the expression for `fileName`) to change how backup files are named. For example, you might want to include the workflow ID or a different date format.\n* **Commit messages**: Customize the commit messages in the \"Update file\" and \"Upload file\" GitHub nodes to include more specific information if needed.\n* **Error handling**: Consider adding error handling branches (e.g., using the \"Error Trigger\" node or checking for node execution failures) to notify you if a backup fails for any reason.\n* **Filtering workflows**: If you only want to back up specific workflows (e.g., those with a particular tag or name pattern), you can add a \"Filter\" node after \"Retrieve workflows\" to include only the desired workflows in the backup process.\n* **Backup frequency**: Adjust the \"Schedule Trigger\" node to change how often the backup runs (e.g., hourly, weekly, or on specific days).\n\n\nTemplate was created in n8n `v1.92.2`",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Retrieve workflows",
      "type": "n8n-nodes-base.n8n",
      "role": "n8n",
      "configDescription": "Version 1"
    },
    {
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "List files from repo",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Update file",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Upload file",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Check if file exists",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Json file",
      "type": "n8n-nodes-base.convertToFile",
      "role": "convertToFile",
      "configDescription": "Version 1.1"
    },
    {
      "name": "To base64",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Commit date & file name",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}