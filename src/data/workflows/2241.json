{
  "id": 2241,
  "slug": "2241",
  "title": "Unsubscribe Mautic contacts from automated unsubscribe emails",
  "description": "## Who is this for?\nThis template is designed for businesses and organizations that use Mautic for email marketing and want to automate the process of removing contacts from specific segments when they receive an unsubscribe request via email.\n\n## What problem is this workflow solving? / use case\nMany email recipients, especially those who are less tech-savvy, may not follow the standard unsubscribe link provided in emails. Instead, for example in Gmail, they click the \"Unsubscribe\" button in the Gmail web interface, which in turn sends an email with a consistent format, these emails contain the word unsubscribe in the 'To' field using the following structure:\n\n**hello+unsubscribe_6629823aa976f053068426@example.com**\n\nThis workflow automates the process of identifying such unsubscribe emails and removing the contact from the relevant Mautic segments, ensuring compliance with unsubscribe requests and maintaining a clean mailing list.\n\n## What this workflow does\n\n- Monitors a Gmail account for incoming emails.\n- Identifies unsubscribe emails based on specific patterns in the \"To\" field (e.g., containing the word \"unsubscribe\").\n- Retrieves the contact's ID from Mautic based on the email address.\n- Removes the contact from the specified \"newsletter\" segment in Mautic.\n- Adds the contact to the \"unsubscribed\" segment in Mautic.\n- Sends a confirmation email to the contact, acknowledging their unsubscribe request.\n\n## Setup\n\n1. Configure your email address and unsubscribe message in the \"Edit Fields\" node.\n2. Set your credentials in the Gmail trigger and in the Mautic nodes.\n2. Set the segments for the \"newsletter\" and \"unsubscribed\" in the Mautic nodes.\n3. Make sure your n8n installation has a public endpoint for your Gmail trigger to work correctly.\n4. Deploy the workflow.\n\n## How to customize this workflow to your needs\n\n- Adjust the conditions for identifying unsubscribe emails based on your specific requirements.\n- Modify the segments or actions taken in Mautic according to your desired behavior.\n- Customize the confirmation email message and sender details.\n\n**Note:** This workflow assumes a consistent structure for unsubscribe emails, where the \"From\" field contains the word \"unsubscribe\" using the \"+\" sign. If your email provider follows a different convention, adjust the conditions in the \"Is automated unsubscribe?\" node accordingly.",
  "featuredImage": "/data/workflows/2241/2241.webp",
  "author": {
    "id": 101,
    "slug": "aficiomaquinas",
    "name": "Victor Gonzalez",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1395,
  "downloads": 139,
  "createdAt": "2024-04-26T02:43:17.522Z",
  "updatedAt": "2026-01-16T08:23:41.898Z",
  "publishedAt": "2024-04-26T02:43:17.522Z",
  "nodes": 16,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2241",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Unsubscribe Mautic contacts from automated unsubscribe emails",
    "workflowName": "Unsubscribe Mautic contacts from automated unsubscribe emails",
    "description": "## Who is this for?\nThis template is designed for businesses and organizations that use Mautic for email marketing and want to automate the process of removing contacts from specific segments when they receive an unsubscribe request via email.\n\n## What problem is this workflow solving? / use case\nMany email recipients, especially those who are less tech-savvy, may not follow the standard unsubscribe link provided in emails. Instead, for example in Gmail, they click the \"Unsubscribe\" button in the Gmail web interface, which in turn sends an email with a consistent format, these emails contain the word unsubscribe in the 'To' field using the following structure:\n\n**hello+unsubscribe_6629823aa976f053068426@example.com**\n\nThis workflow automates the process of identifying such unsubscribe emails and removing the contact from the relevant Mautic segments, ensuring compliance with unsubscribe requests and maintaining a clean mailing list.\n\n## What this workflow does\n\n- Monitors a Gmail account for incoming emails.\n- Identifies unsubscribe emails based on specific patterns in the \"To\" field (e.g., containing the word \"unsubscribe\").\n- Retrieves the contact's ID from Mautic based on the email address.\n- Removes the contact from the specified \"newsletter\" segment in Mautic.\n- Adds the contact to the \"unsubscribed\" segment in Mautic.\n- Sends a confirmation email to the contact, acknowledging their unsubscribe request.\n\n## Setup\n\n1. Configure your email address and unsubscribe message in the \"Edit Fields\" node.\n2. Set your credentials in the Gmail trigger and in the Mautic nodes.\n2. Set the segments for the \"newsletter\" and \"unsubscribed\" in the Mautic nodes.\n3. Make sure your n8n installation has a public endpoint for your Gmail trigger to work correctly.\n4. Deploy the workflow.\n\n## How to customize this workflow to your needs\n\n- Adjust the conditions for identifying unsubscribe emails based on your specific requirements.\n- Modify the segments or actions taken in Mautic according to your desired behavior.\n- Customize the confirmation email message and sender details.\n\n**Note:** This workflow assumes a consistent structure for unsubscribe emails, where the \"From\" field contains the word \"unsubscribe\" using the \"+\" sign. If your email provider follows a different convention, adjust the conditions in the \"Is automated unsubscribe?\" node accordingly.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Gmail Trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "role": "gmailTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Is automated unsubscribe?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Add to unsubscribed segment",
      "type": "n8n-nodes-base.mautic",
      "role": "mautic",
      "configDescription": "Version 1"
    },
    {
      "name": "Remove newsletter segment",
      "type": "n8n-nodes-base.mautic",
      "role": "mautic",
      "configDescription": "Version 1"
    },
    {
      "name": "Reply Unsubscribe Message",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2"
    },
    {
      "name": "Add to Do Not Contact List",
      "type": "n8n-nodes-base.mautic",
      "role": "mautic",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Email from 'From' Field",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Unique Email Addresses",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get Mautic Contact ID from Email Address",
      "type": "n8n-nodes-base.mautic",
      "role": "mautic",
      "configDescription": "Version 1"
    },
    {
      "name": "If Contact Exists in Mautic",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.2"
    }
  ]
}