{
  "id": 2342,
  "slug": "2342",
  "title": "Handling appointment leads and follow-up with Twilio, Cal.com and AI",
  "description": "This n8n workflow builds an appointment scheduling AI agent which can\n* Take enquiries from prospective customers and help them book an appointment by checking appointment availability\n* Where no appointment is booked, the Agent is able to send follow-up messages to re-engage leads.\n* After an appointment is booked, the agent is able reschedule or even cancel the booking for the user without human intervention.\n\nFor small outfits, this workflow could contribute the necessary \"man-power\" required to increase business sales.\n\nThe sample Airtable can be found here: https://airtable.com/appO2nHiT9XPuGrjN/shroSFT2yjf87XAox\n\n**2024-10-22** Updated to Cal.com API v2.\n\n## How it works\n\n* The customer sends an enquiry via SMS to trigger our workflow. For this trigger, we'll use a Twilio webhook.\n* The prospective or existing customer's number is logged in an Airtable Base which we'll be using to track all our enquries.\n* Next, the message is sent to our AI Agent who can reply to the user and decide if an appointment booking can be made. The reply is made via SMS using Twilio.\n* A scheduled trigger which runs every day, checks our chat logs for a list of prospective customers who have yet to book an appointment but still show interest.\n* This list is sent to our AI Agent to formulate a personalised follow-up message to each lead and ask them if they want to continue with the booking.\n* The follow-up interaction is logged so as to not to send too many messages to the customer.\n\n## Requirements\n* A Twilio account to receive customer messages.\n* An Airtable account and Base to use as our datastore for enquiries.\n* Cal.com account to use as our scheduling service.\n* OpenAI account for our AI model.\n\n## Customising this workflow\n\nNot using Airtable? Swap this out for your CRM of choice such as hubspot or your own service.\n\nNot using Cal.com? Swap this out for API-enabled services such as Acuity Scheduling or your own service.",
  "featuredImage": "/data/workflows/2342/2342.webp",
  "author": {
    "id": 101,
    "slug": "jimleuk",
    "name": "Jimleuk",
    "avatar": ""
  },
  "categories": [
    "Lead Nurturing",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 27733,
  "downloads": 2773,
  "createdAt": "2024-07-11T11:02:06.795Z",
  "updatedAt": "2026-01-16T08:24:08.149Z",
  "publishedAt": "2024-07-11T11:02:06.795Z",
  "nodes": 36,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2342",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Handling appointment leads and follow-up with Twilio, Cal.com and AI",
    "workflowName": "Handling appointment leads and follow-up with Twilio, Cal.com and AI",
    "description": "This n8n workflow builds an appointment scheduling AI agent which can\n* Take enquiries from prospective customers and help them book an appointment by checking appointment availability\n* Where no appointment is booked, the Agent is able to send follow-up messages to re-engage leads.\n* After an appointment is booked, the agent is able reschedule or even cancel the booking for the user without human intervention.\n\nFor small outfits, this workflow could contribute the necessary \"man-power\" required to increase business sales.\n\nThe sample Airtable can be found here: https://airtable.com/appO2nHiT9XPuGrjN/shroSFT2yjf87XAox\n\n**2024-10-22** Updated to Cal.com API v2.\n\n## How it works\n\n* The customer sends an enquiry via SMS to trigger our workflow. For this trigger, we'll use a Twilio webhook.\n* The prospective or existing customer's number is logged in an Airtable Base which we'll be using to track all our enquries.\n* Next, the message is sent to our AI Agent who can reply to the user and decide if an appointment booking can be made. The reply is made via SMS using Twilio.\n* A scheduled trigger which runs every day, checks our chat logs for a list of prospective customers who have yet to book an appointment but still show interest.\n* This list is sent to our AI Agent to formulate a personalised follow-up message to each lead and ask them if they want to continue with the booking.\n* The follow-up interaction is logged so as to not to send too many messages to the customer.\n\n## Requirements\n* A Twilio account to receive customer messages.\n* An Airtable account and Base to use as our datastore for enquiries.\n* Cal.com account to use as our scheduling service.\n* OpenAI account for our AI model.\n\n## Customising this workflow\n\nNot using Airtable? Swap this out for your CRM of choice such as hubspot or your own service.\n\nNot using Cal.com? Swap this out for API-enabled services such as Acuity Scheduling or your own service.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Twilio Trigger",
      "type": "n8n-nodes-base.twilioTrigger",
      "role": "twilioTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Find Follow-Up Candidates",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Send Follow Up Message",
      "type": "n8n-nodes-base.twilio",
      "role": "twilio",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Update Follow-Up Count and Date",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Create/Update Session",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get Existing Chat Session",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Every 24hrs",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send Reply",
      "type": "n8n-nodes-base.twilio",
      "role": "twilio",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Confirmation",
      "type": "n8n-nodes-base.twilio",
      "role": "twilio",
      "configDescription": "Version 1"
    },
    {
      "name": "User Request STOP",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Check For Command  Words",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Auto-fixing Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "role": "outputParserAutofixing",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Follow Up Message",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.4"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Availability",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Existing Booking",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Find Existing Booking",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Reschedule Booking",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Cancel Booking",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Create a Booking",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Appointment Scheduling Agent1",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.6"
    }
  ]
}