{
  "id": 5733,
  "slug": "5733",
  "title": "Secure user emails with AES-256 encryption and verification system",
  "description": "# üîê Email Encryption Masterclass\n*Professional-Grade AES-256 Data Protection for n8n*\n\n## How It Works\n\nThis comprehensive workflow demonstrates enterprise-level email encryption using industry-standard AES-256-CBC encryption. Perfect for organizations handling sensitive customer data who need to comply with GDPR, HIPAA, or other data protection regulations.\n\n**The workflow processes data in three secure stages:**\n\n1. **Sample Data Generation** - Creates test user records with emails for demonstration\n2. **Email Encryption** - Applies AES-256-CBC encryption with unique initialization vectors (IVs) for each record\n3. **Verification System** - Decrypts and validates the encrypted data to ensure integrity\n\nEach email address is encrypted with a randomly generated IV, making every encryption unique even for identical email addresses. The system includes comprehensive error handling and provides detailed processing status for audit trails.\n\n## Key Features\n\n‚úÖ **Military-Grade Security**: AES-256-CBC encryption with unique IVs\n‚úÖ **Compliance Ready**: Built for GDPR, HIPAA, and SOX requirements  \n‚úÖ **Batch Processing**: Handles large datasets efficiently\n‚úÖ **Error Handling**: Graceful failure management with detailed logging\n‚úÖ **Verification System**: Built-in decryption validation\n‚úÖ **Audit Trail**: Complete processing timestamps and status tracking\n‚úÖ **Production Ready**: Includes security best practices and key management guidance\n\n## Setup Steps\n\n### 1. Import the Workflow\n- Download the JSON file\n- In n8n, go to **Workflows** ‚Üí **Import from File**\n- Select the downloaded JSON file\n- Click **Import**\n\n### 2. Configure Security Settings\n- Open the **Encrypt Emails** node\n- Replace the default secret key with your own 32-character secure key:\n  ```javascript\n  const secret = 'your_32_character_secret_key_here!';\n  ```\n- **Important**: In production, use environment variables for the secret key\n\n### 3. Set Up Sample Data (Optional)\n- The workflow includes sample user data for testing\n- Replace with your actual data source (database, API, CSV, etc.)\n- Ensure your data has an `email` field\n\n### 4. Test the Workflow\n- Click **Execute workflow** to run the complete process\n- Review the encrypted results in each node\n- Verify that emails are properly encrypted and can be decrypted\n\n### 5. Production Deployment\n- **Remove** the `originalEmail` field from output (line 45 in Encrypt Emails node)\n- Store your secret key in environment variables\n- Set up proper key rotation schedule\n- Configure monitoring and alerting for failed encryptions\n\n## Security Best Practices Included\n\nüîí **Unique IVs**: Every encryption uses a fresh random initialization vector\nüîí **Proper Key Length**: Enforces 32-byte keys for AES-256\nüîí **Error Isolation**: Failed encryptions don't break the entire batch\nüîí **No Key Exposure**: Secret keys are never logged or stored in output\nüîí **Verification Loop**: Ensures encrypted data can be successfully decrypted\n\n## Use Cases\n\n- **Customer Data Protection**: Encrypt email addresses in CRM systems\n- **Compliance Requirements**: Meet GDPR, HIPAA, SOX data protection mandates\n- **Data Warehouse Security**: Protect PII in analytics databases\n- **Secure Data Transfer**: Encrypt sensitive data before API transmission\n- **Audit Preparation**: Demonstrate proper data protection controls\n\n\n\n---\n\n*This workflow represents years of cybersecurity expertise condensed into a ready-to-use automation solution. Perfect for developers, security professionals, and compliance teams who need reliable data encryption.*",
  "featuredImage": "/data/workflows/5733/5733.webp",
  "author": {
    "id": 101,
    "slug": "dae221",
    "name": "David Olusola",
    "avatar": ""
  },
  "categories": [
    "SecOps"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 143,
  "downloads": 14,
  "createdAt": "2025-07-07T04:26:25.713Z",
  "updatedAt": "2026-01-16T08:41:08.718Z",
  "publishedAt": "2025-07-07T04:26:25.713Z",
  "nodes": 6,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5733",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Secure user emails with AES-256 encryption and verification system",
    "workflowName": "Secure user emails with AES-256 encryption and verification system",
    "description": "# üîê Email Encryption Masterclass\n*Professional-Grade AES-256 Data Protection for n8n*\n\n## How It Works\n\nThis comprehensive workflow demonstrates enterprise-level email encryption using industry-standard AES-256-CBC encryption. Perfect for organizations handling sensitive customer data who need to comply with GDPR, HIPAA, or other data protection regulations.\n\n**The workflow processes data in three secure stages:**\n\n1. **Sample Data Generation** - Creates test user records with emails for demonstration\n2. **Email Encryption** - Applies AES-256-CBC encryption with unique initialization vectors (IVs) for each record\n3. **Verification System** - Decrypts and validates the encrypted data to ensure integrity\n\nEach email address is encrypted with a randomly generated IV, making every encryption unique even for identical email addresses. The system includes comprehensive error handling and provides detailed processing status for audit trails.\n\n## Key Features\n\n‚úÖ **Military-Grade Security**: AES-256-CBC encryption with unique IVs\n‚úÖ **Compliance Ready**: Built for GDPR, HIPAA, and SOX requirements  \n‚úÖ **Batch Processing**: Handles large datasets efficiently\n‚úÖ **Error Handling**: Graceful failure management with detailed logging\n‚úÖ **Verification System**: Built-in decryption validation\n‚úÖ **Audit Trail**: Complete processing timestamps and status tracking\n‚úÖ **Production Ready**: Includes security best practices and key management guidance\n\n## Setup Steps\n\n### 1. Import the Workflow\n- Download the JSON file\n- In n8n, go to **Workflows** ‚Üí **Import from File**\n- Select the downloaded JSON file\n- Click **Import**\n\n### 2. Configure Security Settings\n- Open the **Encrypt Emails** node\n- Replace the default secret key with your own 32-character secure key:\n  ```javascript\n  const secret = 'your_32_character_secret_key_here!';\n  ```\n- **Important**: In production, use environment variables for the secret key\n\n### 3. Set Up Sample Data (Optional)\n- The workflow includes sample user data for testing\n- Replace with your actual data source (database, API, CSV, etc.)\n- Ensure your data has an `email` field\n\n### 4. Test the Workflow\n- Click **Execute workflow** to run the complete process\n- Review the encrypted results in each node\n- Verify that emails are properly encrypted and can be decrypted\n\n### 5. Production Deployment\n- **Remove** the `originalEmail` field from output (line 45 in Encrypt Emails node)\n- Store your secret key in environment variables\n- Set up proper key rotation schedule\n- Configure monitoring and alerting for failed encryptions\n\n## Security Best Practices Included\n\nüîí **Unique IVs**: Every encryption uses a fresh random initialization vector\nüîí **Proper Key Length**: Enforces 32-byte keys for AES-256\nüîí **Error Isolation**: Failed encryptions don't break the entire batch\nüîí **No Key Exposure**: Secret keys are never logged or stored in output\nüîí **Verification Loop**: Ensures encrypted data can be successfully decrypted\n\n## Use Cases\n\n- **Customer Data Protection**: Encrypt email addresses in CRM systems\n- **Compliance Requirements**: Meet GDPR, HIPAA, SOX data protection mandates\n- **Data Warehouse Security**: Protect PII in analytics databases\n- **Secure Data Transfer**: Encrypt sensitive data before API transmission\n- **Audit Preparation**: Demonstrate proper data protection controls\n\n\n\n---\n\n*This workflow represents years of cybersecurity expertise condensed into a ready-to-use automation solution. Perfect for developers, security professionals, and compliance teams who need reliable data encryption.*",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking \"Test workflow\"",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sample Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Encrypt Emails",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Verify Encryption",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}