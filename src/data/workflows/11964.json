{
  "id": 11964,
  "slug": "11964",
  "title": "Schedule and auto-post images to Instagram with Google Sheets, Drive and AI captions",
  "description": "## **Description**\nThis n8n workflow automatically publishes posts to Instagram Business accounts and Facebook Pages using Google Sheets as your content calendar. You schedule posts in the sheet, and n8n processes them, uploads media (if any), posts via Meta‚Äôs Graph API, and updates the sheet with success/failure. \nn8n\n\n### **How it Works**\nGoogle Sheets rows marked ‚ÄúPending‚Äù and due for publishing are picked up by a scheduled trigger. Posts are then routed to the proper social platforms and published via Meta‚Äôs Graph API. Finally, n8n writes back the publish status and timestamp to the sheet. \nn8n\n\n### **üß† Step-by-Step**\n**1Ô∏è‚É£ Scheduled Trigger**\n\nThe workflow automatically checks Google Sheets at fixed intervals (e.g., every 15 min) for posts that are ready (status = Pending, publish time reached).\n\n**2Ô∏è‚É£ Config & Credentials**\nStore reusable settings including:\n\n- Google Sheets ID & Sheet name\n- Meta App credentials (App ID, App Secret)\n- Access token for Meta Graph API\n- Instagram Business Account ID\n- Facebook Page ID\n\nThese configs make the workflow modular and secure.\n\n**3Ô∏è‚É£ Setup: Create a Meta (Facebook) App**\nTo post via the Graph API, you must first set up a Meta developer app:\n\nüîó Create App (Meta for Developers):\nGo here to start:\nhttps://developers.facebook.com/docs/development/create-an-app/\n\nSteps:\n\n- Log in at Meta for Developers.\n- Click Create App and choose Business as the app type. \n- Facebook Developers\n- Add a name and contact email.\n- In the app dashboard, Add Product ‚Üí choose Instagram Graph API and Facebook Login. \n\nüìå After creation, your app will have an App ID and App Secret in Settings ‚Üí Basic ‚Äî save both for n8n. \n\n**4Ô∏è‚É£ Link Accounts & Get IDs**\nBefore publishing you need:\n\n- Instagram Business account (not a personal account)\n- Facebook Page linked to that Instagram account\n\nLink them in Facebook Page settings ‚Üí Linked Accounts.\n\nThen, generate an access token with permissions (instagram_basic, pages_show_list, etc.) using the Graph API Explorer and your new Meta app. \n\nFrom the token response or via Graph API calls, extract:\n\n- Facebook Page ID\n- Instagram Business Account ID\n\nThese go into your n8n nodes for publishing. \n\n**5Ô∏è‚É£ Fetch & Filter Posts**\nRead rows from Google Sheets and filter those ready to publish (status = Pending, scheduled time reached).\n\n**6Ô∏è‚É£ Image Handling**\nIf an image link is present, download or retrieve it (Google Drive or external URL). If not, continue with a text-only post.\n\n**7Ô∏è‚É£ Platform Routing**\nRoute the post to:\n- Instagram publishing branch\n- Facebook publishing branch\n(or both depending on the sheet‚Äôs platform column)\n\n**8Ô∏è‚É£ Posting via Meta Graph API**\n**Instagram**\n- Use Graph API endpoints to create and publish media containers and then make the publish call. \n\n**Facebook**\n- Use Graph API to post to the Facebook Page feed (via /feed or /photos endpoint). \n\n**9Ô∏è‚É£ Update Sheet Status**\nAfter each attempt, update Google Sheets with:\n- Status (Success/Fail)\n- Published timestamp\n",
  "featuredImage": "/data/workflows/11964/11964.webp",
  "author": {
    "id": 101,
    "slug": "jamesdinakar",
    "name": "Dinakar Selvakumar",
    "avatar": ""
  },
  "categories": [
    "Social Media",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 209,
  "downloads": 20,
  "createdAt": "2025-12-19T16:54:05.550Z",
  "updatedAt": "2026-01-16T09:10:48.785Z",
  "publishedAt": "2025-12-19T16:54:05.550Z",
  "nodes": 23,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11964",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Schedule and auto-post images to Instagram with Google Sheets, Drive and AI captions",
    "workflowName": "Schedule and auto-post images to Instagram with Google Sheets, Drive and AI captions",
    "description": "## **Description**\nThis n8n workflow automatically publishes posts to Instagram Business accounts and Facebook Pages using Google Sheets as your content calendar. You schedule posts in the sheet, and n8n processes them, uploads media (if any), posts via Meta‚Äôs Graph API, and updates the sheet with success/failure. \nn8n\n\n### **How it Works**\nGoogle Sheets rows marked ‚ÄúPending‚Äù and due for publishing are picked up by a scheduled trigger. Posts are then routed to the proper social platforms and published via Meta‚Äôs Graph API. Finally, n8n writes back the publish status and timestamp to the sheet. \nn8n\n\n### **üß† Step-by-Step**\n**1Ô∏è‚É£ Scheduled Trigger**\n\nThe workflow automatically checks Google Sheets at fixed intervals (e.g., every 15 min) for posts that are ready (status = Pending, publish time reached).\n\n**2Ô∏è‚É£ Config & Credentials**\nStore reusable settings including:\n\n- Google Sheets ID & Sheet name\n- Meta App credentials (App ID, App Secret)\n- Access token for Meta Graph API\n- Instagram Business Account ID\n- Facebook Page ID\n\nThese configs make the workflow modular and secure.\n\n**3Ô∏è‚É£ Setup: Create a Meta (Facebook) App**\nTo post via the Graph API, you must first set up a Meta developer app:\n\nüîó Create App (Meta for Developers):\nGo here to start:\nhttps://developers.facebook.com/docs/development/create-an-app/\n\nSteps:\n\n- Log in at Meta for Developers.\n- Click Create App and choose Business as the app type. \n- Facebook Developers\n- Add a name and contact email.\n- In the app dashboard, Add Product ‚Üí choose Instagram Graph API and Facebook Login. \n\nüìå After creation, your app will have an App ID and App Secret in Settings ‚Üí Basic ‚Äî save both for n8n. \n\n**4Ô∏è‚É£ Link Accounts & Get IDs**\nBefore publishing you need:\n\n- Instagram Business account (not a personal account)\n- Facebook Page linked to that Instagram account\n\nLink them in Facebook Page settings ‚Üí Linked Accounts.\n\nThen, generate an access token with permissions (instagram_basic, pages_show_list, etc.) using the Graph API Explorer and your new Meta app. \n\nFrom the token response or via Graph API calls, extract:\n\n- Facebook Page ID\n- Instagram Business Account ID\n\nThese go into your n8n nodes for publishing. \n\n**5Ô∏è‚É£ Fetch & Filter Posts**\nRead rows from Google Sheets and filter those ready to publish (status = Pending, scheduled time reached).\n\n**6Ô∏è‚É£ Image Handling**\nIf an image link is present, download or retrieve it (Google Drive or external URL). If not, continue with a text-only post.\n\n**7Ô∏è‚É£ Platform Routing**\nRoute the post to:\n- Instagram publishing branch\n- Facebook publishing branch\n(or both depending on the sheet‚Äôs platform column)\n\n**8Ô∏è‚É£ Posting via Meta Graph API**\n**Instagram**\n- Use Graph API endpoints to create and publish media containers and then make the publish call. \n\n**Facebook**\n- Use Graph API to post to the Facebook Page feed (via /feed or /photos endpoint). \n\n**9Ô∏è‚É£ Update Sheet Status**\nAfter each attempt, update Google Sheets with:\n- Status (Success/Fail)\n- Published timestamp",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Daily Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Workflow Configuration",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get Next Scheduled Post",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Check If Post Found",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Download Image from Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Prepare AI Context",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Generate Caption and Hashtags",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    },
    {
      "name": "Post to Instagram",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Update Sheet - Posted",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Update Sheet - Failed",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "No More Posts",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Check Post Success",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Search files and folders",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "6b. Wait for Container Processing",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get Public URL From Facebook",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Upload Image to Facebook",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Get Access Token from Facebook",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Publish Post to Instagram",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "üìÖ WORKFLOW START",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "üîê AUTHENTICATION",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "ü§ñ AI CONTENT GENERATION",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "ü§ñ AI CONTENT GENERATION1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}