{
  "id": 4753,
  "slug": "4753",
  "title": "‚ôªÔ∏è AI multi-stop planner for circular logistics with GPT-4o & Open Route API",
  "description": "***Tags**: AI Agent, Supply Chain, Logistics, Circular Economy, Route Planning, Transportation, GPS API*\n\n### Context\n\nHi! I‚Äôm [Samir](https://samirsaci.com) ‚Äî a Supply Chain Engineer and Data Scientist based in Paris, and founder of [LogiGreen Consulting](https://logi-green.com).\n\nI help logistics teams reduce operational workload and errors by combining **AI automation**, **route optimisation APIs**, and **workflow automation**.\n\nThis workflow is part of a **circular economy project**, where stores return **reusable packaging** (bins, crates, containers) to a central warehouse.\n\n&gt; Let's create circular economies with AI-powered automation using n8n!\n\nüì¨ For business inquiries, you can find me on [LinkedIn](https://www.linkedin.com/in/samir-saci)\n\n### Who is this template for?\n\nThis workflow is designed for logistics teams participating in **circular economy loops**.\n\nLet us imagine your transportation company receives this **pickup request**:\n\n[![Example of Results](https://www.samirsaci.com/content/images/2025/06/image-15.png)](https://bit.ly/playlist-n8n-supplyscience)\n\nThe two **AI Agent nodes** connected to **Openroute Service API** will process the information and reply with the **detailed route plan**.\n\n[![Workflow](https://www.samirsaci.com/content/images/2025/06/image-16.png)](https://bit.ly/playlist-n8n-supplyscience)\n\nThe results include **driving time** and the **optimal sequence** of stops generated by the multi-stop optimization endpoint of the API.\n\n### How does it work?\n\nThis workflow automates the end-to-end processing of **multi-stop pickup requests for reusable packaging**:\n\n- üì® Gmail Trigger listens for collection request emails  \n- üß† AI Agent parses the email into structured data (store ID, address, date)  \n- üìç Each stop is geocoded into GPS coordinates  \n- üó∫Ô∏è OpenRouteService **optimizes the stop sequence** using truck-specific routing  \n- üìÑ A second AI Agent formats a **confirmation email in HTML** with the ordered pickup plan  \n- üìß The reply is sent back with all details including duration and route\n\n### Steps:\n\n1. üíå Trigger on a new Gmail message  \n2. üß† Extract data using AI Agent (e.g., stores, addresses, times)  \n3. üìë Store raw and processed data in Google Sheets  \n4. üìç Enrich with GPS coordinates  \n5. üöö Optimize route using OpenRouteService (truck profile)  \n6. üìÑ Format the confirmation using an AI Agent  \n7. üì¨ Send reply to requester with route and timing\n\n[![workflow](https://www.samirsaci.com/content/images/size/w1000/2025/06/image-14.png)](https://bit.ly/playlist-n8n-supplyscience)\n\n### What do I need to get started?\n\nYou‚Äôll need:\n\n- A **Gmail account** to receive collection requests  \n- A **Google Sheet** to store and review data  \n- A free [OpenRouteService API key](https://openrouteservice.org/dev/#/signup)  \n- Access to OpenAI for using AI Agent nodes  \n- Sample pickup request emails to test\n\n### Next Steps\n\nüóíÔ∏è Use the sticky notes inside the n8n canvas to:\n\n- Plug in your Gmail and OpenRouteService credentials  \n- Try with a sample store collection email  \n- Validate the confirmation format and route accuracy\n\n### üì∫ Learn More with n8n Tutorials \n\nGet hands-on experience with automation through my comprehensive **n8n tutorial playlist**, featuring 18+ complete, step-by-step videos and ready-to-use templates.\n\n[![n8n Playlist](https://www.samirsaci.com/content/images/size/w1600/2025/11/image-9.png)](https://bit.ly/playlist-n8n-supplyscience)\n\n\n*This template was built using n8n v1.93.0*  \n*Submitted: June 7, 2025*",
  "featuredImage": "/data/workflows/4753/4753.webp",
  "author": {
    "id": 101,
    "slug": "samirsaci",
    "name": "Samir Saci",
    "avatar": ""
  },
  "categories": [
    "Miscellaneous",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1378,
  "downloads": 137,
  "createdAt": "2025-06-07T08:20:33.015Z",
  "updatedAt": "2026-01-16T08:36:02.253Z",
  "publishedAt": "2025-06-07T08:20:33.015Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4753",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "‚ôªÔ∏è AI multi-stop planner for circular logistics with GPT-4o & Open Route API",
    "workflowName": "‚ôªÔ∏è AI multi-stop planner for circular logistics with GPT-4o & Open Route API",
    "description": "***Tags**: AI Agent, Supply Chain, Logistics, Circular Economy, Route Planning, Transportation, GPS API*\n\n### Context\n\nHi! I‚Äôm [Samir](https://samirsaci.com) ‚Äî a Supply Chain Engineer and Data Scientist based in Paris, and founder of [LogiGreen Consulting](https://logi-green.com).\n\nI help logistics teams reduce operational workload and errors by combining **AI automation**, **route optimisation APIs**, and **workflow automation**.\n\nThis workflow is part of a **circular economy project**, where stores return **reusable packaging** (bins, crates, containers) to a central warehouse.\n\n&gt; Let's create circular economies with AI-powered automation using n8n!\n\nüì¨ For business inquiries, you can find me on [LinkedIn](https://www.linkedin.com/in/samir-saci)\n\n### Who is this template for?\n\nThis workflow is designed for logistics teams participating in **circular economy loops**.\n\nLet us imagine your transportation company receives this **pickup request**:\n\n[![Example of Results](https://www.samirsaci.com/content/images/2025/06/image-15.png)](https://bit.ly/playlist-n8n-supplyscience)\n\nThe two **AI Agent nodes** connected to **Openroute Service API** will process the information and reply with the **detailed route plan**.\n\n[![Workflow](https://www.samirsaci.com/content/images/2025/06/image-16.png)](https://bit.ly/playlist-n8n-supplyscience)\n\nThe results include **driving time** and the **optimal sequence** of stops generated by the multi-stop optimization endpoint of the API.\n\n### How does it work?\n\nThis workflow automates the end-to-end processing of **multi-stop pickup requests for reusable packaging**:\n\n- üì® Gmail Trigger listens for collection request emails  \n- üß† AI Agent parses the email into structured data (store ID, address, date)  \n- üìç Each stop is geocoded into GPS coordinates  \n- üó∫Ô∏è OpenRouteService **optimizes the stop sequence** using truck-specific routing  \n- üìÑ A second AI Agent formats a **confirmation email in HTML** with the ordered pickup plan  \n- üìß The reply is sent back with all details including duration and route\n\n### Steps:\n\n1. üíå Trigger on a new Gmail message  \n2. üß† Extract data using AI Agent (e.g., stores, addresses, times)  \n3. üìë Store raw and processed data in Google Sheets  \n4. üìç Enrich with GPS coordinates  \n5. üöö Optimize route using OpenRouteService (truck profile)  \n6. üìÑ Format the confirmation using an AI Agent  \n7. üì¨ Send reply to requester with route and timing\n\n[![workflow](https://www.samirsaci.com/content/images/size/w1000/2025/06/image-14.png)](https://bit.ly/playlist-n8n-supplyscience)\n\n### What do I need to get started?\n\nYou‚Äôll need:\n\n- A **Gmail account** to receive collection requests  \n- A **Google Sheet** to store and review data  \n- A free [OpenRouteService API key](https://openrouteservice.org/dev/#/signup)  \n- Access to OpenAI for using AI Agent nodes  \n- Sample pickup request emails to test\n\n### Next Steps\n\nüóíÔ∏è Use the sticky notes inside the n8n canvas to:\n\n- Plug in your Gmail and OpenRouteService credentials  \n- Try with a sample store collection email  \n- Validate the confirmation format and route accuracy\n\n### üì∫ Learn More with n8n Tutorials \n\nGet hands-on experience with automation through my comprehensive **n8n tutorial playlist**, featuring 18+ complete, step-by-step videos and ready-to-use templates.\n\n[![n8n Playlist](https://www.samirsaci.com/content/images/size/w1600/2025/11/image-9.png)](https://bit.ly/playlist-n8n-supplyscience)\n\n\n*This template was built using n8n v1.93.0*  \n*Submitted: June 7, 2025*",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Gmail Trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "role": "gmailTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AI Agent Parser",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Record Email Content",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "5 sec",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Query Open Route API Pickup",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Save Pickup GPS",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "GPS Pickup",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Collect Coordinates",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Request Open Route API",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Collect Shipment Information",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AI Agent Reply",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Reply",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Split by Address",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Job",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Jobs Mapping",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Format Jobs",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Split Jobs",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge Sequence with coordinates",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Format GPS Coordinates",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Save Sequence & Duration",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Format Schedule",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    }
  ]
}