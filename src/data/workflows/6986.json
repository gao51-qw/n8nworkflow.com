{
  "id": 6986,
  "slug": "6986",
  "title": "Enrich company domains with business data using Perplexity AI and Google Sheets",
  "description": "This workflow automatically enriches company domain lists with comprehensive business information using Perplexity AI's research capabilities and organizes the data in Google Sheets for easy analysis and use.\n\n## Who's it for\n- **Sales teams** building prospect databases with accurate contact information\n- **Marketing professionals** researching target companies for campaigns\n- **Business development teams** gathering competitive intelligence\n- **Data analysts** enriching existing company datasets\n- **Researchers** collecting business information for market analysis\n\n## How it works\nThe workflow reads unprocessed company domains from a Google Sheets document, processes them in batches of 10 using Perplexity AI to research detailed business information, then saves the enriched data back to the spreadsheet. It focuses on German addresses but can be customized for any region.\n\n## What it does\n1. **Fetches unprocessed domains** - Reads company domains from Google Sheets that haven't been processed yet\n2. **Batches for efficiency** - Groups domains into batches of 10 to optimize API costs and performance\n3. **AI-powered research** - Uses Perplexity AI to find comprehensive business data for each company\n4. **Parses structured data** - Converts AI responses into clean, structured JSON format\n5. **Updates spreadsheet** - Saves enriched data and marks domains as processed to prevent duplicates\n\n## Requirements\n- **Perplexity AI API key** ([Get one here](https://www.perplexity.ai/))\n- **Google Sheets API access** (OAuth2 credentials)\n- **Google Sheets template** - Make a copy of [this template](https://docs.google.com/spreadsheets/d/1bdK8xskt-qfLlDwdzolM0zFyo9KxZ-HHpTVxcEw3ZMY/edit?usp=sharing)\n\n## How to set up\n1. **Make a copy** of the template Google Sheet and update the document ID in both Google Sheets nodes\n2. **Configure Perplexity AI credentials** in the HTTP Request node\n3. **Set up Google Sheets OAuth2** authentication\n4. **Add your company domains** to the \"domain\" column in the Data tab\n5. **Leave the \"processed\" column empty** for new domains\n6. **Run the workflow** using the manual trigger\n\n## How to customize the workflow\n- **Change target region**: Modify the AI prompt to research addresses in different countries\n- **Adjust batch size**: Change the batch size in the \"Batch Process Domains\" node (smaller batches = lower costs)\n- **Add custom fields**: Extend the AI prompt and Google Sheets mapping to include additional data points\n- **Automate execution**: Replace Manual Trigger with Schedule Trigger for regular processing\n- **Filter criteria**: Modify the Google Sheets filter to process specific subsets of domains\n\n## Output data includes\n- Complete company address (street, city, state, postal code, country)\n- International phone number format\n- Latest employee count and annual revenue (USD)\n- Industry classification\n- LinkedIn company URL\n- Reliable source URL for verification\n- Processing status tracking",
  "featuredImage": "/data/workflows/6986/6986.webp",
  "author": {
    "id": 101,
    "slug": "n8nstein",
    "name": "Naveen Choudhary",
    "avatar": ""
  },
  "categories": [
    "Lead Generation",
    "AI Summarization"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 446,
  "downloads": 44,
  "createdAt": "2025-08-04T22:52:50.130Z",
  "updatedAt": "2026-01-16T08:47:58.933Z",
  "publishedAt": "2025-08-04T22:52:50.130Z",
  "nodes": 9,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6986",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Enrich company domains with business data using Perplexity AI and Google Sheets",
    "workflowName": "Enrich company domains with business data using Perplexity AI and Google Sheets",
    "description": "This workflow automatically enriches company domain lists with comprehensive business information using Perplexity AI's research capabilities and organizes the data in Google Sheets for easy analysis and use.\n\n## Who's it for\n- **Sales teams** building prospect databases with accurate contact information\n- **Marketing professionals** researching target companies for campaigns\n- **Business development teams** gathering competitive intelligence\n- **Data analysts** enriching existing company datasets\n- **Researchers** collecting business information for market analysis\n\n## How it works\nThe workflow reads unprocessed company domains from a Google Sheets document, processes them in batches of 10 using Perplexity AI to research detailed business information, then saves the enriched data back to the spreadsheet. It focuses on German addresses but can be customized for any region.\n\n## What it does\n1. **Fetches unprocessed domains** - Reads company domains from Google Sheets that haven't been processed yet\n2. **Batches for efficiency** - Groups domains into batches of 10 to optimize API costs and performance\n3. **AI-powered research** - Uses Perplexity AI to find comprehensive business data for each company\n4. **Parses structured data** - Converts AI responses into clean, structured JSON format\n5. **Updates spreadsheet** - Saves enriched data and marks domains as processed to prevent duplicates\n\n## Requirements\n- **Perplexity AI API key** ([Get one here](https://www.perplexity.ai/))\n- **Google Sheets API access** (OAuth2 credentials)\n- **Google Sheets template** - Make a copy of [this template](https://docs.google.com/spreadsheets/d/1bdK8xskt-qfLlDwdzolM0zFyo9KxZ-HHpTVxcEw3ZMY/edit?usp=sharing)\n\n## How to set up\n1. **Make a copy** of the template Google Sheet and update the document ID in both Google Sheets nodes\n2. **Configure Perplexity AI credentials** in the HTTP Request node\n3. **Set up Google Sheets OAuth2** authentication\n4. **Add your company domains** to the \"domain\" column in the Data tab\n5. **Leave the \"processed\" column empty** for new domains\n6. **Run the workflow** using the manual trigger\n\n## How to customize the workflow\n- **Change target region**: Modify the AI prompt to research addresses in different countries\n- **Adjust batch size**: Change the batch size in the \"Batch Process Domains\" node (smaller batches = lower costs)\n- **Add custom fields**: Extend the AI prompt and Google Sheets mapping to include additional data points\n- **Automate execution**: Replace Manual Trigger with Schedule Trigger for regular processing\n- **Filter criteria**: Modify the Google Sheets filter to process specific subsets of domains\n\n## Output data includes\n- Complete company address (street, city, state, postal code, country)\n- International phone number format\n- Latest employee count and annual revenue (USD)\n- Industry classification\n- LinkedIn company URL\n- Reliable source URL for verification\n- Processing status tracking",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Unprocessed Domains",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Batch Process Domains",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Perplexity AI Research",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Parse AI Response",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Save Enriched Data",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}