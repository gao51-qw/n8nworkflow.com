{
  "id": 4625,
  "slug": "4625",
  "title": "Extract competitor SERP rankings from Google Search to Sheets with Bright Data",
  "description": "## üîç Extract Competitor SERP Rankings from Google Search to Sheets with Bright Data\nThis template requires a self-hosted n8n instance to run.\n\nA comprehensive n8n automation that extracts competitor data from Google search results for specific keywords and target countries, automatically saving structured data to Google Sheets for competitive analysis and market research.\n\n---\n\n## üìã Overview\nThis workflow provides a professional competitor analysis solution that identifies ranking websites for specific search terms across different countries. Perfect for SEO research, competitive intelligence, market analysis, and content strategy planning. The system uses Bright Data's SERP API for accurate search result extraction and advanced HTML parsing for detailed competitor information.\n\n### Who is this for?\n* SEO professionals conducting competitive analysis\n* Digital marketers researching market landscapes\n* Business analysts studying competitor positioning\n* Content strategists analyzing competitor content approaches\n* Market researchers tracking competitive intelligence across regions\n\n### What problem is this workflow solving?\n* Extracting competitor data from Google search results\n* Processing multiple keywords across different countries\n* Organizing results in a structured, analyzable format\n* Eliminating manual copy-paste work\n* Ensuring consistent data collection methodology\n\n### What this workflow does\n1. **Manual Trigger:** Starts the workflow execution\n2. **Get Keywords from Sheet:** Fetches keywords and target countries from Google Sheets\n3. **URL Encode Keywords:** Converts keywords to URL-safe format\n4. **Process Keywords in Batches:** Handles multiple keywords sequentially\n5. **Fetch Google Search Results:** Uses Bright Data SERP API to scrape HTML\n6. **Extract Competitor Data from HTML:** Parses HTML to extract competitor details\n7. **Save Competitor Results to Sheet:** Stores structured data in Google Sheets\n8. **Wait to Avoid Rate Limits:** Implements 30-second delays between requests\n\n### Output Data Points\n\n| Field            | Description                        | Example                                     |\n| :--------------- | :--------------------------------- | :------------------------------------------ |\n| Keyword          | Original search term               | digital marketing services                  |\n| Target Country   | Geographic target                  | US                                          |\n| websiteName      | Domain/company name                | hubspot                                     |\n| websiteUrl       | Complete website URL               | https://www.hubspot.com/marketing           |\n| websiteTitle     | Page title from search results     | Digital Marketing Software & Tools          |\n| websiteDescription | Meta description/snippet           | Grow your business with HubSpot's digital marketing tools... |\n\n---\n\n## ‚öôÔ∏è Setup\n\n### Prerequisites\n* n8n instance (self-hosted)\n* Google account with Sheets access\n* Bright Data account with SERP API access\n\n### Google Sheet Structure\n\nThis workflow utilizes two Google Sheets: one for **input keywords** and one for **outputting competitor data**.\n\n#### Input Sheet: \"Keywords\"\nThis sheet should contain the keywords and target countries for your search queries.\n\n| Column Header  | Data Type | Description                                        | Example         |\n| :------------- | :-------- | :------------------------------------------------- | :-------------- |\n| **Keyword** | Text      | The search term you want to analyze.               | digital marketing |\n| **Country** | Text      | The 2-letter ISO country code for the target region of the search (e.g., US, GB, DE). | US              |\n\n#### Output Sheet: \"Competitor Results\"\nThis sheet will be populated automatically by the workflow with the extracted competitor data.\n\n| Column Header      | Data Type | Description                                                                         | Example                                          |\n| :----------------- | :-------- | :---------------------------------------------------------------------------------- | :----------------------------------------------- |\n| **Keyword** | Text      | The original search term used for the query.                                        | digital marketing services                       |\n| **Target Country** | Text      | The 2-letter ISO country code of the search results.                                | US                                               |\n| **websiteName** | Text      | The name of the website or domain found in the search results.                      | hubspot                                          |\n| **websiteUrl** | URL       | The full URL of the website or page found in the search results.                    | https://www.hubspot.com/marketing                |\n| **websiteTitle** | Text      | The title of the page as displayed in the Google search results.                    | Digital Marketing Software & Tools               |\n| **websiteDescription** | Text      | The meta description or snippet text displayed under the title in search results. | Grow your business with HubSpot's digital marketing tools... |\n\n### Step-by-Step Setup\n1. **Import the Workflow:** Copy JSON ‚Üí n8n ‚Üí Workflows ‚Üí + Add ‚Üí Import from JSON\n2. **Configure Bright Data Credentials:**\n    * Credential Type: HTTP Header Auth\n    * Header Name: Authorization\n    * Header Value: `Bearer YOUR_API_TOKEN`\n3. **Configure Google Sheets:**\n    * Create two new Google Sheets as described above: one named \"Keywords\" (for input) and one named \"Competitor Results\" (for output).\n    * Set up Google Sheets OAuth2 credentials within n8n.\n4. **Update Workflow Settings:**\n    * Replace placeholders: `YOUR_GOOGLE_SHEET_ID` (for both input and output sheets), `YOUR_BRIGHTDATA_CREDENTIAL_ID`.\n    * Ensure correct sheet/tab names are selected in the Google Sheets nodes.\n5. **Test & Activate:** Add test data to your \"Keywords\" sheet ‚Üí Execute workflow ‚Üí Verify output in your \"Competitor Results\" sheet.\n\n---\n\n## üõ† How to Customize\n* **Add More Data Points:** Modify the JavaScript code in the \"Extract Competitor Data from HTML\" node to parse and extract additional information from the HTML.\n* **Custom Filtering:** Implement logic to exclude specific domains, filter results by title length, or other criteria.\n* **Expand Geographic Coverage:** Add more 2-letter ISO country codes to the Bright Data SERP API call to broaden your competitive analysis.\n* **Batch Processing:** Adjust the settings in the \"Process Keywords in Batches\" node to optimize for your Bright Data plan and desired execution speed.\n* **Rate Limiting:** Modify the \"Wait\" node (default: 30 seconds) to increase or decrease the delay between requests based on API limits or performance needs.\n\n---\n\n## üìä Use Cases & Examples\n* **SEO Competitive Analysis:** Identify top-ranking competitors for your target keywords and analyze their strategies.\n* **Market Entry Research:** Understand the competitive landscape in new geographic regions before expanding.\n* **Content Strategy Planning:** Analyze competitor page titles and meta descriptions for inspiration and to identify content gaps.\n* **International Market Research:** Compare search engine results and competitor positioning across different countries.\n\n---\n\n## üìà Performance & Limits\n* **Single Keyword:** 30‚Äì60 seconds per keyword.\n* **Batch of 10 Keywords:** Typically takes 5‚Äì10 minutes.\n* **Large Lists (50+ Keywords):** Expect execution times of 30‚Äì60 minutes or more, depending on batching and rate limits.\n* **Success Rate:** Generally 95%+ for data extraction.\n* **Data Accuracy:** Typically 98%+ for extracted fields.\n* **API Calls:** 1 Bright Data SERP API call per keyword, plus multiple Google Sheets writes per execution.\n* **Rate Limit:** A 30-second delay between requests is recommended to prevent exceeding API limits.\n\n---\n\n## üß∞ Troubleshooting\n* **Bright Data API error:** Double-check your API token, ensure you have sufficient credits, and confirm SERP API access is enabled on your Bright Data account.\n* **No keywords found:** Verify the Google Sheet ID and ensure the column headers in your \"Keywords\" sheet precisely match the specifications (e.g., \"Keyword\", \"Country\").\n* **Google Sheets permission denied:** Re-authenticate your Google Sheets credentials within n8n and check that the correct sharing settings are applied to your sheets.\n* **No results extracted:** Review the JavaScript parsing logic in the \"Extract Competitor Data from HTML\" node. Also, verify the validity of your keywords and target countries.\n* **Loop not processing all:** Check the batch settings in the \"Process Keywords in Batches\" node and ensure all connections within the loop are correctly configured.\n\n---\n\n## ü§ù Support & Community\n* **n8n Forum:** &lt;https://community.n8n.io&gt;\n* **n8n Docs:** &lt;https://docs.n8n.io&gt;\n* **Bright Data Support:** Access support directly via your Bright Data dashboard.\n* **GitHub Issues:** Report any bugs or suggest new features on the n8n GitHub repository.\n\n---\n\n## üéØ Final Notes\nThis workflow provides a comprehensive foundation for competitor research and market analysis. Customize it to fit your specific industry needs and competitive intelligence requirements.\n\n---\n\n**Please note that this template uses Community Nodes. Ensure you understand the risks before using community nodes.**",
  "featuredImage": "/data/workflows/4625/4625.webp",
  "author": {
    "id": 101,
    "slug": "dvirsharon",
    "name": "Dvir Sharon",
    "avatar": ""
  },
  "categories": [
    "Market Research"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 741,
  "downloads": 74,
  "createdAt": "2025-06-03T15:35:08.168Z",
  "updatedAt": "2026-01-16T08:35:23.628Z",
  "publishedAt": "2025-06-03T15:35:08.168Z",
  "nodes": 12,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4625",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Extract competitor SERP rankings from Google Search to Sheets with Bright Data",
    "workflowName": "Extract competitor SERP rankings from Google Search to Sheets with Bright Data",
    "description": "## üîç Extract Competitor SERP Rankings from Google Search to Sheets with Bright Data\nThis template requires a self-hosted n8n instance to run.\n\nA comprehensive n8n automation that extracts competitor data from Google search results for specific keywords and target countries, automatically saving structured data to Google Sheets for competitive analysis and market research.\n\n---\n\n## üìã Overview\nThis workflow provides a professional competitor analysis solution that identifies ranking websites for specific search terms across different countries. Perfect for SEO research, competitive intelligence, market analysis, and content strategy planning. The system uses Bright Data's SERP API for accurate search result extraction and advanced HTML parsing for detailed competitor information.\n\n### Who is this for?\n* SEO professionals conducting competitive analysis\n* Digital marketers researching market landscapes\n* Business analysts studying competitor positioning\n* Content strategists analyzing competitor content approaches\n* Market researchers tracking competitive intelligence across regions\n\n### What problem is this workflow solving?\n* Extracting competitor data from Google search results\n* Processing multiple keywords across different countries\n* Organizing results in a structured, analyzable format\n* Eliminating manual copy-paste work\n* Ensuring consistent data collection methodology\n\n### What this workflow does\n1. **Manual Trigger:** Starts the workflow execution\n2. **Get Keywords from Sheet:** Fetches keywords and target countries from Google Sheets\n3. **URL Encode Keywords:** Converts keywords to URL-safe format\n4. **Process Keywords in Batches:** Handles multiple keywords sequentially\n5. **Fetch Google Search Results:** Uses Bright Data SERP API to scrape HTML\n6. **Extract Competitor Data from HTML:** Parses HTML to extract competitor details\n7. **Save Competitor Results to Sheet:** Stores structured data in Google Sheets\n8. **Wait to Avoid Rate Limits:** Implements 30-second delays between requests\n\n### Output Data Points\n\n| Field            | Description                        | Example                                     |\n| :--------------- | :--------------------------------- | :------------------------------------------ |\n| Keyword          | Original search term               | digital marketing services                  |\n| Target Country   | Geographic target                  | US                                          |\n| websiteName      | Domain/company name                | hubspot                                     |\n| websiteUrl       | Complete website URL               | https://www.hubspot.com/marketing           |\n| websiteTitle     | Page title from search results     | Digital Marketing Software & Tools          |\n| websiteDescription | Meta description/snippet           | Grow your business with HubSpot's digital marketing tools... |\n\n---\n\n## ‚öôÔ∏è Setup\n\n### Prerequisites\n* n8n instance (self-hosted)\n* Google account with Sheets access\n* Bright Data account with SERP API access\n\n### Google Sheet Structure\n\nThis workflow utilizes two Google Sheets: one for **input keywords** and one for **outputting competitor data**.\n\n#### Input Sheet: \"Keywords\"\nThis sheet should contain the keywords and target countries for your search queries.\n\n| Column Header  | Data Type | Description                                        | Example         |\n| :------------- | :-------- | :------------------------------------------------- | :-------------- |\n| **Keyword** | Text      | The search term you want to analyze.               | digital marketing |\n| **Country** | Text      | The 2-letter ISO country code for the target region of the search (e.g., US, GB, DE). | US              |\n\n#### Output Sheet: \"Competitor Results\"\nThis sheet will be populated automatically by the workflow with the extracted competitor data.\n\n| Column Header      | Data Type | Description                                                                         | Example                                          |\n| :----------------- | :-------- | :---------------------------------------------------------------------------------- | :----------------------------------------------- |\n| **Keyword** | Text      | The original search term used for the query.                                        | digital marketing services                       |\n| **Target Country** | Text      | The 2-letter ISO country code of the search results.                                | US                                               |\n| **websiteName** | Text      | The name of the website or domain found in the search results.                      | hubspot                                          |\n| **websiteUrl** | URL       | The full URL of the website or page found in the search results.                    | https://www.hubspot.com/marketing                |\n| **websiteTitle** | Text      | The title of the page as displayed in the Google search results.                    | Digital Marketing Software & Tools               |\n| **websiteDescription** | Text      | The meta description or snippet text displayed under the title in search results. | Grow your business with HubSpot's digital marketing tools... |\n\n### Step-by-Step Setup\n1. **Import the Workflow:** Copy JSON ‚Üí n8n ‚Üí Workflows ‚Üí + Add ‚Üí Import from JSON\n2. **Configure Bright Data Credentials:**\n    * Credential Type: HTTP Header Auth\n    * Header Name: Authorization\n    * Header Value: `Bearer YOUR_API_TOKEN`\n3. **Configure Google Sheets:**\n    * Create two new Google Sheets as described above: one named \"Keywords\" (for input) and one named \"Competitor Results\" (for output).\n    * Set up Google Sheets OAuth2 credentials within n8n.\n4. **Update Workflow Settings:**\n    * Replace placeholders: `YOUR_GOOGLE_SHEET_ID` (for both input and output sheets), `YOUR_BRIGHTDATA_CREDENTIAL_ID`.\n    * Ensure correct sheet/tab names are selected in the Google Sheets nodes.\n5. **Test & Activate:** Add test data to your \"Keywords\" sheet ‚Üí Execute workflow ‚Üí Verify output in your \"Competitor Results\" sheet.\n\n---\n\n## üõ† How to Customize\n* **Add More Data Points:** Modify the JavaScript code in the \"Extract Competitor Data from HTML\" node to parse and extract additional information from the HTML.\n* **Custom Filtering:** Implement logic to exclude specific domains, filter results by title length, or other criteria.\n* **Expand Geographic Coverage:** Add more 2-letter ISO country codes to the Bright Data SERP API call to broaden your competitive analysis.\n* **Batch Processing:** Adjust the settings in the \"Process Keywords in Batches\" node to optimize for your Bright Data plan and desired execution speed.\n* **Rate Limiting:** Modify the \"Wait\" node (default: 30 seconds) to increase or decrease the delay between requests based on API limits or performance needs.\n\n---\n\n## üìä Use Cases & Examples\n* **SEO Competitive Analysis:** Identify top-ranking competitors for your target keywords and analyze their strategies.\n* **Market Entry Research:** Understand the competitive landscape in new geographic regions before expanding.\n* **Content Strategy Planning:** Analyze competitor page titles and meta descriptions for inspiration and to identify content gaps.\n* **International Market Research:** Compare search engine results and competitor positioning across different countries.\n\n---\n\n## üìà Performance & Limits\n* **Single Keyword:** 30‚Äì60 seconds per keyword.\n* **Batch of 10 Keywords:** Typically takes 5‚Äì10 minutes.\n* **Large Lists (50+ Keywords):** Expect execution times of 30‚Äì60 minutes or more, depending on batching and rate limits.\n* **Success Rate:** Generally 95%+ for data extraction.\n* **Data Accuracy:** Typically 98%+ for extracted fields.\n* **API Calls:** 1 Bright Data SERP API call per keyword, plus multiple Google Sheets writes per execution.\n* **Rate Limit:** A 30-second delay between requests is recommended to prevent exceeding API limits.\n\n---\n\n## üß∞ Troubleshooting\n* **Bright Data API error:** Double-check your API token, ensure you have sufficient credits, and confirm SERP API access is enabled on your Bright Data account.\n* **No keywords found:** Verify the Google Sheet ID and ensure the column headers in your \"Keywords\" sheet precisely match the specifications (e.g., \"Keyword\", \"Country\").\n* **Google Sheets permission denied:** Re-authenticate your Google Sheets credentials within n8n and check that the correct sharing settings are applied to your sheets.\n* **No results extracted:** Review the JavaScript parsing logic in the \"Extract Competitor Data from HTML\" node. Also, verify the validity of your keywords and target countries.\n* **Loop not processing all:** Check the batch settings in the \"Process Keywords in Batches\" node and ensure all connections within the loop are correctly configured.\n\n---\n\n## ü§ù Support & Community\n* **n8n Forum:** &lt;https://community.n8n.io&gt;\n* **n8n Docs:** &lt;https://docs.n8n.io&gt;\n* **Bright Data Support:** Access support directly via your Bright Data dashboard.\n* **GitHub Issues:** Report any bugs or suggest new features on the n8n GitHub repository.\n\n---\n\n## üéØ Final Notes\nThis workflow provides a comprehensive foundation for competitor research and market analysis. Customize it to fit your specific industry needs and competitive intelligence requirements.\n\n---\n\n**Please note that this template uses Community Nodes. Ensure you understand the risks before using community nodes.**",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking 'Execute workflow'",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Keywords from Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "URL Encode Keywords",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Process Keywords in Batches",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Fetch Google Search Results",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Extract Competitor Data from HTML",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Workflow Start",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Read Keywords",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Encode Keywords",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Batch Processing",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch SERP Data",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Data (Placeholder)",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}