{
  "id": 4926,
  "slug": "4926",
  "title": "Automate salon appointment management with WhatsApp, GPT & Google Calendar",
  "description": "# ðŸ¤–Multi-Agent AI WhatsApp Bot for Service Businesses\n\nTransform your salon/service business with this streamlined WhatsApp automation system featuring Claude integration, zero-setup database management, and intelligent conversation handling.\n\n## How it works\n\n- **Claude MCP Integration** - Direct connection to Claude Sonnet 4 via Model Context Protocol\n- **Streamlined 2-Agent System** - Booking Agent and Admin Agent (simplified from 5 for better reliability)\n- **GPT-5 Mini Primary** with Gemini 2.5 Flash backup for cost-effective processing\n- **Multi-Media Support** - Handles text, voice (Whisper transcription), images, and PDFs with cost extraction\n- **Smart Acknowledgments** - \"One moment...\", \"Let me check availability...\" during processing\n- **Rate Limiting & Spam Protection** - Configurable limits (default: 100 msg/hour) with professional UX\n\n## Zero-Setup Database Management\n\n- **Autonomous Airtable Creation** - Bot creates all necessary tables automatically\n- **Complete CRUD Operations** - Create, edit, delete services and settings via WhatsApp\n- **Dynamic Business Configuration** - Modify hours, pricing, services conversationally\n- **Friend Booking Support** - \"Book for my friend Sarah\" functionality\n\n## Set up steps\n\n- **WhatsApp Business API** setup (detailed instructions included)\n- **Airtable Base ID** extraction (store in Redis or hardcode - recommended)\n- **Google Calendar** integration for scheduling\n- **Redis** for caching, rate limiting, and conversation memory\n- **MCP Server** deployment for Claude integration\n- **Whatsapp** for notifications\n\n## Key Features\n\n- **Booking Limit Control** - Default 6 appointments per customer (configurable in workflow)\n- **Service Name Matching** - GPT-5 Nano workflow for cost-optimized service recognition\n- **24-Hour Advance Reminders** - Automatic WhatsApp reminders sent at 8 PM\n- **Conversation Memory** maintains context across interactions\n- **Error Resilience** with backup models and graceful failure handling\n\nPerfect for salons, spas, clinics, consulting services, or any appointment-based business. Complete business setup happens through conversational commands - no manual database configuration required.",
  "featuredImage": "/data/workflows/4926/4926.webp",
  "author": {
    "id": 101,
    "slug": "denisholc7",
    "name": "Denis",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 5138,
  "downloads": 513,
  "createdAt": "2025-06-13T18:07:44.956Z",
  "updatedAt": "2026-01-16T08:36:57.083Z",
  "publishedAt": "2025-06-13T18:07:44.956Z",
  "nodes": 71,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4926",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate salon appointment management with WhatsApp, GPT & Google Calendar",
    "workflowName": "Automate salon appointment management with WhatsApp, GPT & Google Calendar",
    "description": "# ðŸ¤–Multi-Agent AI WhatsApp Bot for Service Businesses\n\nTransform your salon/service business with this streamlined WhatsApp automation system featuring Claude integration, zero-setup database management, and intelligent conversation handling.\n\n## How it works\n\n- **Claude MCP Integration** - Direct connection to Claude Sonnet 4 via Model Context Protocol\n- **Streamlined 2-Agent System** - Booking Agent and Admin Agent (simplified from 5 for better reliability)\n- **GPT-5 Mini Primary** with Gemini 2.5 Flash backup for cost-effective processing\n- **Multi-Media Support** - Handles text, voice (Whisper transcription), images, and PDFs with cost extraction\n- **Smart Acknowledgments** - \"One moment...\", \"Let me check availability...\" during processing\n- **Rate Limiting & Spam Protection** - Configurable limits (default: 100 msg/hour) with professional UX\n\n## Zero-Setup Database Management\n\n- **Autonomous Airtable Creation** - Bot creates all necessary tables automatically\n- **Complete CRUD Operations** - Create, edit, delete services and settings via WhatsApp\n- **Dynamic Business Configuration** - Modify hours, pricing, services conversationally\n- **Friend Booking Support** - \"Book for my friend Sarah\" functionality\n\n## Set up steps\n\n- **WhatsApp Business API** setup (detailed instructions included)\n- **Airtable Base ID** extraction (store in Redis or hardcode - recommended)\n- **Google Calendar** integration for scheduling\n- **Redis** for caching, rate limiting, and conversation memory\n- **MCP Server** deployment for Claude integration\n- **Whatsapp** for notifications\n\n## Key Features\n\n- **Booking Limit Control** - Default 6 appointments per customer (configurable in workflow)\n- **Service Name Matching** - GPT-5 Nano workflow for cost-optimized service recognition\n- **24-Hour Advance Reminders** - Automatic WhatsApp reminders sent at 8 PM\n- **Conversation Memory** maintains context across interactions\n- **Error Resilience** with backup models and graceful failure handling\n\nPerfect for salons, spas, clinics, consulting services, or any appointment-based business. Complete business setup happens through conversational commands - no manual database configuration required.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "role": "whatsAppTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Not supported",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Input type",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Set Initial Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Set Processing Lock",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get Current Processing Lock",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Am I the Processor?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Pop All Batched Messages",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Delete Message List",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Delete Processing Lock",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Push",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Is User Text Message?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Is Audio Message?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Combine Messages",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Rate Limiter",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Check Limit",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Check Rate Limited",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Redis Hourly",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Increment Counter Hourly",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Mesage?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Send Rate Limit Email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Send User Message",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Owner Message",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Is Owner?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Execute Airtable Agent",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Download Image",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Analyze Image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Download Audio",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Transcribe Audio",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Download File",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Get File Url",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Only PDF File",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Incorrect format",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Text",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Audio",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "File",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get Image Url",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Audio Url",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "cancel_agent",
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "role": "agentTool",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Image",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Send Message",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Limit Reached?",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get many events",
      "type": "n8n-nodes-base.googleCalendar",
      "role": "googleCalendar",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Booking Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Redis Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryRedisChat",
      "role": "memoryRedisChat",
      "configDescription": "Version 1.5"
    },
    {
      "name": "send_acknowledgement",
      "type": "n8n-nodes-base.whatsAppTool",
      "role": "whatsAppTool",
      "configDescription": "Version 1"
    },
    {
      "name": "nail-salon-booking-mcp",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Calculate Tomorrow",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get Schedule Events",
      "type": "n8n-nodes-base.googleCalendar",
      "role": "googleCalendar",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Format Reminder Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Client Reminder",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "gpt-5-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "gemini-2.5-flash",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    }
  ]
}