{
  "id": 4685,
  "slug": "4685",
  "title": "Lead generation automate on LinkedIn - personalisation, enrichment",
  "description": "# **üîß Workflow Summary**\n\nThis system automates LinkedIn lead generation and enrichment in six clear stages:\n\n**1. Lead Collection (via Apollo.io)**\n- Automatically pulls leads based on keywords, roles, or industries using Apollo‚Äôs API.\n- Captures name, job title, company, and LinkedIn profile URL.\n- You can kick off the workflow via form, webhook, WhatsApp, Telegram, or any other custom trigger that passes search parameters.\n\n**2. LinkedIn Username Extraction**\n- Extracts usernames from LinkedIn profile URLs using a script step.\n- These usernames are required for further enrichment using [RapidAPI](RapidAPI).\n\n**3. Email Retrieval (via Apollo.io User ID)**\n- Fetches verified work email using the Apollo User ID.\n- Email validity is double-checked using [www.mails.so](www) filtering out undeliverable or inactive emails by checking MX records and deliverability.\n\n**4. Profile Summary (via LinkedIn API on RapidAPI)**\n- Enriches lead data by pulling bio/summary details to understand their background and expertise.\n\n**5. Activity Insights (Posts & Reposts)**\n- Collects recent posts or reposts to help craft personalised messages based on what they‚Äôre currently engaging with.\n\n**6. Leads Sheet Update**\n- All data is written into a Google Sheet.\n- New columns are populated dynamically without erasing existing data.\n\n‚∏ª\n\n## ‚úÖ Smart Retry Logic\n\nEach workflow is equipped with a fail-safe system:\n- Tracks status per row: ‚úÖ done, ‚ùå failed, ‚è≥ pending\n- Failed rows are automatically retried after a custom delay (e.g., 2 weeks).\n- Ensures minimal drop-offs and complete data coverage.\n\n\n\n## üìä Google Sheets Setup\n\nMake a copy of the following:\n- Template 1: [Apollo Leads Scraper & Enrichment](sd)\n- Template 2: [Final Enriched Leads](link) \n\nThe system appends data (like emails, bios, activity) step by step.\n\n\n\n\n## üîê API Credentials Needed\n\n**1. Apollo API**\n- Sign up and generate API key at [Apollo Developer Portal](Apollo Developer Portal)\n- Be sure to enable the ‚ÄúMaster API Key‚Äù toggle so the same key works for all endpoints.\n\n**2. LinkedIn Data API (via RapidAPI)**\n- Subscribe at [RapidAPI - LinkedIn Data](link)\n- Use your key in the `x-rapidapi-key`\n header.\n\n**3. Mails.so API**\n- Get [your API Key](link) from mails.so dashboard\n\n## üõ†Ô∏è Troubleshooting ‚Äì LinkedIn Lead Machine\n\n**‚úÖ Common Mistakes & Fixes**\n\n**1. API Keys Not Working**\n- Make sure API keys for Apollo, RapidAPI, and mails.so are correct.\n- Apollo ‚ÄúMaster API Key‚Äù must be enabled.\n- Keys should be saved as Generic Credentials in n8n.\n\n**2. Leads Not Found**\n- Check if the search query (keyword/job title) is too narrow.\n- Apollo might return empty results if the filters are incorrect.\n\n**3. LinkedIn URLs Missing or Invalid**\n- Ensure Apollo is returning valid LinkedIn URLs.\n- Improper URLs will cause username extraction and enrichment steps to fail.\n\n**4. Emails Not Coming Through**\n- Apollo may not have verified emails for all leads.\n- mails.so might reject invalid or expired email addresses.\n\n**5. Google Sheet Not Updating**\n- Make sure the Google Sheet is shared with the right Google account (linked to n8n).\n- Check if the column names match and data isn‚Äôt blocked due to formatting.\n\n**6. Status Columns Not Changing**\n- Each row must have done, failed, or pending in the status column.\n- If the status doesn‚Äôt update, the retry logic won‚Äôt trigger.\n\n**7. RapidAPI Not Returning Data**\n- Double-check if username is present and valid.\n- Make sure the RapidAPI plan is active and within limits.\n\n**8. Workflow Not Running**\n- Check if the trigger node (form, webhook, etc.) is connected and active.\n- Make sure you‚Äôre passing the required inputs (keyword, role, etc.).\n\n------------\n\nNeed Help? Contact [www.KrupalPatel.com](KrupalPatel.com) for support and custom workflow development",
  "featuredImage": "/data/workflows/4685/4685.webp",
  "author": {
    "id": 101,
    "slug": "krupalpatel",
    "name": "Krupal Patel",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 14504,
  "downloads": 1450,
  "createdAt": "2025-06-05T10:57:25.716Z",
  "updatedAt": "2026-01-16T08:35:40.585Z",
  "publishedAt": "2025-06-05T10:57:25.716Z",
  "nodes": 55,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4685",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Lead generation automate on LinkedIn - personalisation, enrichment",
    "workflowName": "Lead generation automate on LinkedIn - personalisation, enrichment",
    "description": "# **üîß Workflow Summary**\n\nThis system automates LinkedIn lead generation and enrichment in six clear stages:\n\n**1. Lead Collection (via Apollo.io)**\n- Automatically pulls leads based on keywords, roles, or industries using Apollo‚Äôs API.\n- Captures name, job title, company, and LinkedIn profile URL.\n- You can kick off the workflow via form, webhook, WhatsApp, Telegram, or any other custom trigger that passes search parameters.\n\n**2. LinkedIn Username Extraction**\n- Extracts usernames from LinkedIn profile URLs using a script step.\n- These usernames are required for further enrichment using [RapidAPI](RapidAPI).\n\n**3. Email Retrieval (via Apollo.io User ID)**\n- Fetches verified work email using the Apollo User ID.\n- Email validity is double-checked using [www.mails.so](www) filtering out undeliverable or inactive emails by checking MX records and deliverability.\n\n**4. Profile Summary (via LinkedIn API on RapidAPI)**\n- Enriches lead data by pulling bio/summary details to understand their background and expertise.\n\n**5. Activity Insights (Posts & Reposts)**\n- Collects recent posts or reposts to help craft personalised messages based on what they‚Äôre currently engaging with.\n\n**6. Leads Sheet Update**\n- All data is written into a Google Sheet.\n- New columns are populated dynamically without erasing existing data.\n\n‚∏ª\n\n## ‚úÖ Smart Retry Logic\n\nEach workflow is equipped with a fail-safe system:\n- Tracks status per row: ‚úÖ done, ‚ùå failed, ‚è≥ pending\n- Failed rows are automatically retried after a custom delay (e.g., 2 weeks).\n- Ensures minimal drop-offs and complete data coverage.\n\n\n\n## üìä Google Sheets Setup\n\nMake a copy of the following:\n- Template 1: [Apollo Leads Scraper & Enrichment](sd)\n- Template 2: [Final Enriched Leads](link) \n\nThe system appends data (like emails, bios, activity) step by step.\n\n\n\n\n## üîê API Credentials Needed\n\n**1. Apollo API**\n- Sign up and generate API key at [Apollo Developer Portal](Apollo Developer Portal)\n- Be sure to enable the ‚ÄúMaster API Key‚Äù toggle so the same key works for all endpoints.\n\n**2. LinkedIn Data API (via RapidAPI)**\n- Subscribe at [RapidAPI - LinkedIn Data](link)\n- Use your key in the `x-rapidapi-key`\n header.\n\n**3. Mails.so API**\n- Get [your API Key](link) from mails.so dashboard\n\n## üõ†Ô∏è Troubleshooting ‚Äì LinkedIn Lead Machine\n\n**‚úÖ Common Mistakes & Fixes**\n\n**1. API Keys Not Working**\n- Make sure API keys for Apollo, RapidAPI, and mails.so are correct.\n- Apollo ‚ÄúMaster API Key‚Äù must be enabled.\n- Keys should be saved as Generic Credentials in n8n.\n\n**2. Leads Not Found**\n- Check if the search query (keyword/job title) is too narrow.\n- Apollo might return empty results if the filters are incorrect.\n\n**3. LinkedIn URLs Missing or Invalid**\n- Ensure Apollo is returning valid LinkedIn URLs.\n- Improper URLs will cause username extraction and enrichment steps to fail.\n\n**4. Emails Not Coming Through**\n- Apollo may not have verified emails for all leads.\n- mails.so might reject invalid or expired email addresses.\n\n**5. Google Sheet Not Updating**\n- Make sure the Google Sheet is shared with the right Google account (linked to n8n).\n- Check if the column names match and data isn‚Äôt blocked due to formatting.\n\n**6. Status Columns Not Changing**\n- Each row must have done, failed, or pending in the status column.\n- If the status doesn‚Äôt update, the retry logic won‚Äôt trigger.\n\n**7. RapidAPI Not Returning Data**\n- Double-check if username is present and valid.\n- Make sure the RapidAPI plan is active and within limits.\n\n**8. Workflow Not Running**\n- Check if the trigger node (form, webhook, etc.) is connected and active.\n- Make sure you‚Äôre passing the required inputs (keyword, role, etc.).\n\n------------\n\nNeed Help? Contact [www.KrupalPatel.com](KrupalPatel.com) for support and custom workflow development",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Google Sheets Trigger2",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Clean Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Add Linkedin Username",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Get Pending Username Row",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Add Email Address",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Mark Invalid Email",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Confirm Email Validity",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Pending Email Statuses",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Google Sheets Trigger3",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Profile Posts",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get About Profile",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Pending About and Posts Rows",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Clean Profile Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Google Sheets Trigger4",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Pending About and Posts Rows1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Clean Posts Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Sheets Trigger5",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger2",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "get invalid email rows",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update_to_pending",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "get_failed_profile_summary_rows",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update_to_pending1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Schedule Trigger3",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "get_failed_posts_summary_rows1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Posts AI Summarizer",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "AI Profile Summarizer",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Update Profile Summary",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Update Posts Summary",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Get Completely Enriched Profiles",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update_to_unscraped",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Append to Enriched Leads Database",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update status to failed",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Stringify Profile Data1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Stringify Posts Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Schedule Trigger1",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Generate Leads with Apollo.io1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Add Leads to Google Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Email from Apollo11",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Limit1",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Sheets Trigger",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}