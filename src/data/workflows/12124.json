{
  "id": 12124,
  "slug": "12124",
  "title": "Automate unified marketing reports with Google Analytics, Google Ads, Meta Ads & HubSpot",
  "description": "## How it works\nThis workflow runs on scheduled weekly and monthly triggers to generate unified marketing performance reports. It processes multiple websites by collecting analytics data, paid ads performance, and CRM leads, then calculates KPIs and insights automatically. The workflow sends structured reports via email and stores historical data in Google Sheets. It ensures consistent reporting without manual effort.\n\n## Step-by-step\n- **Step 1: Trigger & report type detection**\n  - **Schedule Trigger2** – Triggers the workflow weekly at a predefined time.\n  - **Schedule Trigger3** – Triggers the workflow monthly at a predefined time.\n  - **check month and week1** – Identifies whether the run is weekly or monthly and sets flags.\n  - **Set Websites and Campaings1** – Defines websites, GA4 property IDs, and mapped ad campaigns.\n  - **Expand Websites1** – Expands the website array into individual website items.\n  - **Attach Run Flags1** – Attaches weekly or monthly flags to each website record.\n\n- **Step 2: Website & ads data processing**\n  - **Loop Websites1** – Iterates through each website independently.\n  - **Get a report** – Fetches website traffic and engagement metrics from analytics.\n  - **Get many campaigns** – Retrieves Google Ads campaign data.\n  - **Fetch Meta Ads** – Fetches Meta Ads performance data via API.\n  - **Filter Google Ads By Website1** – Filters Google Ads campaigns by website.\n  - **Filter Meta Ads By Website1** – Filters Meta Ads campaigns by website.\n  - **Merge1** – Merges analytics, Google Ads, and Meta Ads datasets.\n  - **Build Website Dataset1** – Builds a unified dataset per website.\n  - **Calculate KPIs & Campaign Insights1** – Calculates spend, CTR, CPA, CPL, conversions, and performance insights.\n  - **Append or update row in sheet2** – Stores website-level marketing metrics in Google Sheets.\n\n- **Step 2.1: Marketing report generation**\n  - **Prepare Report Data2** – Combines all website datasets into a unified report object.\n  - **Switch** – Routes execution based on weekly or monthly report type.\n  - **Send Weekly Marketing report2** – Sends the weekly marketing performance email.\n  - **Send Monthly Marketing Report2** – Sends the monthly marketing performance email.\n\n- **Step 3: HubSpot lead analysis**\n  - **Fetch1** – Fetches leads from HubSpot CRM.\n  - **Filter Hubspot Leads** – Filters leads based on weekly or monthly time range.\n  - **Summarize Hubspot Leads** – Aggregates lead status and lifecycle metrics.\n  - **Prepare Report Data3** – Prepares CRM summary data for reporting.\n- **Step 3.1: CRM reporting & storage**\n  - **Switch3** – Routes CRM reporting by report type.\n  - **Send Weekly Marketing report3** – Sends the weekly CRM summary email.\n  - **Send Monthly Marketing Report3** – Sends the monthly CRM summary email.\n  - **Code in JavaScript1** – Transforms CRM data for storage.\n  - **Append or update row in sheet3** – Stores CRM lead performance data in Google Sheets.\n  - **Switch3** – Routes CRM reporting by report type.\n  - **Send Weekly Marketing report3** – Sends the weekly CRM summary email.\n  - **Send Monthly Marketing Report3** – Sends the monthly CRM summary email.\n  - **Code in JavaScript1** – Transforms CRM data for storage.\n  - **Append or update row in sheet3** – Stores CRM lead performance data in Google Sheets.\n\n## Why use this?\n- Automates complex weekly and monthly marketing reporting.\n- Unifies website analytics, ad platforms, and CRM data in one flow.\n- Delivers consistent KPI calculations and insights every run.\n- Maintains historical performance logs in Google Sheets.\n- Scales easily across multiple websites and campaigns.\n",
  "featuredImage": "/data/workflows/12124/12124.webp",
  "author": {
    "id": 101,
    "slug": "itechnotion",
    "name": "Avkash Kakdiya",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 401,
  "downloads": 40,
  "createdAt": "2025-12-25T06:24:43.915Z",
  "updatedAt": "2026-01-16T09:11:28.267Z",
  "publishedAt": "2025-12-25T06:24:43.915Z",
  "nodes": 35,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/12124",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate unified marketing reports with Google Analytics, Google Ads, Meta Ads & HubSpot",
    "workflowName": "Automate unified marketing reports with Google Analytics, Google Ads, Meta Ads & HubSpot",
    "description": "## How it works\nThis workflow runs on scheduled weekly and monthly triggers to generate unified marketing performance reports. It processes multiple websites by collecting analytics data, paid ads performance, and CRM leads, then calculates KPIs and insights automatically. The workflow sends structured reports via email and stores historical data in Google Sheets. It ensures consistent reporting without manual effort.\n\n## Step-by-step\n- **Step 1: Trigger & report type detection**\n  - **Schedule Trigger2** – Triggers the workflow weekly at a predefined time.\n  - **Schedule Trigger3** – Triggers the workflow monthly at a predefined time.\n  - **check month and week1** – Identifies whether the run is weekly or monthly and sets flags.\n  - **Set Websites and Campaings1** – Defines websites, GA4 property IDs, and mapped ad campaigns.\n  - **Expand Websites1** – Expands the website array into individual website items.\n  - **Attach Run Flags1** – Attaches weekly or monthly flags to each website record.\n\n- **Step 2: Website & ads data processing**\n  - **Loop Websites1** – Iterates through each website independently.\n  - **Get a report** – Fetches website traffic and engagement metrics from analytics.\n  - **Get many campaigns** – Retrieves Google Ads campaign data.\n  - **Fetch Meta Ads** – Fetches Meta Ads performance data via API.\n  - **Filter Google Ads By Website1** – Filters Google Ads campaigns by website.\n  - **Filter Meta Ads By Website1** – Filters Meta Ads campaigns by website.\n  - **Merge1** – Merges analytics, Google Ads, and Meta Ads datasets.\n  - **Build Website Dataset1** – Builds a unified dataset per website.\n  - **Calculate KPIs & Campaign Insights1** – Calculates spend, CTR, CPA, CPL, conversions, and performance insights.\n  - **Append or update row in sheet2** – Stores website-level marketing metrics in Google Sheets.\n\n- **Step 2.1: Marketing report generation**\n  - **Prepare Report Data2** – Combines all website datasets into a unified report object.\n  - **Switch** – Routes execution based on weekly or monthly report type.\n  - **Send Weekly Marketing report2** – Sends the weekly marketing performance email.\n  - **Send Monthly Marketing Report2** – Sends the monthly marketing performance email.\n\n- **Step 3: HubSpot lead analysis**\n  - **Fetch1** – Fetches leads from HubSpot CRM.\n  - **Filter Hubspot Leads** – Filters leads based on weekly or monthly time range.\n  - **Summarize Hubspot Leads** – Aggregates lead status and lifecycle metrics.\n  - **Prepare Report Data3** – Prepares CRM summary data for reporting.\n- **Step 3.1: CRM reporting & storage**\n  - **Switch3** – Routes CRM reporting by report type.\n  - **Send Weekly Marketing report3** – Sends the weekly CRM summary email.\n  - **Send Monthly Marketing Report3** – Sends the monthly CRM summary email.\n  - **Code in JavaScript1** – Transforms CRM data for storage.\n  - **Append or update row in sheet3** – Stores CRM lead performance data in Google Sheets.\n  - **Switch3** – Routes CRM reporting by report type.\n  - **Send Weekly Marketing report3** – Sends the weekly CRM summary email.\n  - **Send Monthly Marketing Report3** – Sends the monthly CRM summary email.\n  - **Code in JavaScript1** – Transforms CRM data for storage.\n  - **Append or update row in sheet3** – Stores CRM lead performance data in Google Sheets.\n\n## Why use this?\n- Automates complex weekly and monthly marketing reporting.\n- Unifies website analytics, ad platforms, and CRM data in one flow.\n- Delivers consistent KPI calculations and insights every run.\n- Maintains historical performance logs in Google Sheets.\n- Scales easily across multiple websites and campaigns.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger2",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Schedule Trigger3",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "check month and week1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Set Websites and Campaings1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Loop Websites1",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Send Weekly Marketing report2",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Send Monthly Marketing Report2",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Expand Websites1",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Attach Run Flags1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Filter Google Ads By Website1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Filter Meta Ads By Website1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Build Website Dataset1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Merge1",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Calculate KPIs & Campaign Insights1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Filter Hubspot Leads",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Summarize Hubspot Leads",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Prepare Report Data2",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Weekly Marketing report3",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Switch3",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Send Monthly Marketing Report3",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Prepare Report Data3",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Append or update row in sheet2",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Code in JavaScript1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Append or update row in sheet3",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Get a report",
      "type": "n8n-nodes-base.googleAnalytics",
      "role": "googleAnalytics",
      "configDescription": "Version 2"
    },
    {
      "name": "Get many campaigns",
      "type": "n8n-nodes-base.googleAds",
      "role": "googleAds",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Meta Ads",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Fetch1",
      "type": "n8n-nodes-base.hubspot",
      "role": "hubspot",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}