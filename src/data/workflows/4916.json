{
  "id": 4916,
  "slug": "4916",
  "title": "Transform images with AI prompts using FLUX Kontext, Google Sheets and Drive",
  "description": "This workflow automates the generation of **AI-enhanced, contextualized images using FLUX Kontext**, based on prompts stored in a Google Sheet. The generated images are then **saved to Google Drive**, and their URLs are written back to the spreadsheet for easy access.\n\n---\n\n### Example\n\n**Image**:\n![image](https://n3wstorage.b-cdn.net/n3witalia/model.jpg)\n\n**Prompt**:\nThe girl is lying on the bed and sleeping\n\n**Result**:\n![image](https://n3wstorage.b-cdn.net/n3witalia/flux_output.jpeg)\n\n---\n\n### **Perfect for E-commerce and Social Media**\n\nThis workflow is especially useful for **e-commerce businesses**:\n\n* Generate **product images with dynamic backgrounds** based on the use-case or season.\n* Create **contextual marketing visuals** for ads, newsletters, or product pages.\n* Scale visual content creation without the need for manual design work.\n\n\n---\n\n### **How It Works**  \n\n- **Trigger**: The workflow can be started manually (via \"Test workflow\") or scheduled at regular intervals (e.g., every 5 minutes) using the \"Schedule Trigger\" node.  \n- **Data Fetch**: The \"Get new image\" node retrieves a row from a Google Sheet where the \"RESULT\" column is empty. It extracts the prompt, image URL, output format, and aspect ratio for processing.  \n- **Image Generation**: The \"Create Image\" node sends a request to the FLUX Kontext API (fal.run) with the provided parameters to generate a new AI-contextualized image.  \n- **Status Check**: The workflow waits 60 seconds (\"Wait 60 sec.\" node) before checking the status of the image generation request via the \"Get status\" node. If the status is \"COMPLETED,\" it proceeds; otherwise, it loops back to wait.  \n- **Result Handling**: Once completed, the \"Get Image Url\" node fetches the generated image URL, which is then downloaded (\"Get Image File\"), uploaded to Google Drive (\"Upload Image\"), and the Google Sheet is updated with the result (\"Update result\").  \n\n---  \n\n### **Set Up Steps**  \nTo configure this workflow, follow these steps:  \n\n1. **Google Sheet Setup**:  \n   - Create a Google Sheet with columns for **PROMPT**, **IMAGE URL**, **ASPECT RATIO**, **OUTPUT FORMAT**, and **RESULT** (leave this empty).  \n   - Link the sheet in the \"Get new image\" and \"Update result\" nodes.  \n\n2. **API Key Configuration**:  \n   - Sign up at [fal.ai](https://fal.ai/) to obtain an API key.  \n   - In the \"Create Image\" node, set the **Header Auth** with:  \n     - **Name**: `Authorization`  \n     - **Value**: `Key YOURAPIKEY`  \n\n3. **Google Drive Setup**:  \n   - Specify the target folder ID in the \"Upload Image\" node where generated images will be saved.  \n\n4. **Schedule Trigger (Optional)**:  \n   - Adjust the \"Schedule Trigger\" node to run the workflow at desired intervals (e.g., every 5 minutes).  \n\n5. **Test Execution**:  \n   - Run the workflow manually via the \"Test workflow\" node to verify all steps function correctly.  \n\nOnce configured, the workflow will automatically process pending prompts, generate images, and update the Google Sheet with results.\n\n---\n\n### **Need help customizing?**  \n[Contact me](mailto:info@n3w.it) for consulting and support or add me on [Linkedin](https://www.linkedin.com/in/davideboizza/). ",
  "featuredImage": "/data/workflows/4916/4916.webp",
  "author": {
    "id": 101,
    "slug": "n3witalia",
    "name": "Davide",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 2051,
  "downloads": 205,
  "createdAt": "2025-06-13T08:19:08.504Z",
  "updatedAt": "2026-01-16T08:36:54.068Z",
  "publishedAt": "2025-06-13T08:19:08.504Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4916",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Transform images with AI prompts using FLUX Kontext, Google Sheets and Drive",
    "workflowName": "Transform images with AI prompts using FLUX Kontext, Google Sheets and Drive",
    "description": "This workflow automates the generation of **AI-enhanced, contextualized images using FLUX Kontext**, based on prompts stored in a Google Sheet. The generated images are then **saved to Google Drive**, and their URLs are written back to the spreadsheet for easy access.\n\n---\n\n### Example\n\n**Image**:\n![image](https://n3wstorage.b-cdn.net/n3witalia/model.jpg)\n\n**Prompt**:\nThe girl is lying on the bed and sleeping\n\n**Result**:\n![image](https://n3wstorage.b-cdn.net/n3witalia/flux_output.jpeg)\n\n---\n\n### **Perfect for E-commerce and Social Media**\n\nThis workflow is especially useful for **e-commerce businesses**:\n\n* Generate **product images with dynamic backgrounds** based on the use-case or season.\n* Create **contextual marketing visuals** for ads, newsletters, or product pages.\n* Scale visual content creation without the need for manual design work.\n\n\n---\n\n### **How It Works**  \n\n- **Trigger**: The workflow can be started manually (via \"Test workflow\") or scheduled at regular intervals (e.g., every 5 minutes) using the \"Schedule Trigger\" node.  \n- **Data Fetch**: The \"Get new image\" node retrieves a row from a Google Sheet where the \"RESULT\" column is empty. It extracts the prompt, image URL, output format, and aspect ratio for processing.  \n- **Image Generation**: The \"Create Image\" node sends a request to the FLUX Kontext API (fal.run) with the provided parameters to generate a new AI-contextualized image.  \n- **Status Check**: The workflow waits 60 seconds (\"Wait 60 sec.\" node) before checking the status of the image generation request via the \"Get status\" node. If the status is \"COMPLETED,\" it proceeds; otherwise, it loops back to wait.  \n- **Result Handling**: Once completed, the \"Get Image Url\" node fetches the generated image URL, which is then downloaded (\"Get Image File\"), uploaded to Google Drive (\"Upload Image\"), and the Google Sheet is updated with the result (\"Update result\").  \n\n---  \n\n### **Set Up Steps**  \nTo configure this workflow, follow these steps:  \n\n1. **Google Sheet Setup**:  \n   - Create a Google Sheet with columns for **PROMPT**, **IMAGE URL**, **ASPECT RATIO**, **OUTPUT FORMAT**, and **RESULT** (leave this empty).  \n   - Link the sheet in the \"Get new image\" and \"Update result\" nodes.  \n\n2. **API Key Configuration**:  \n   - Sign up at [fal.ai](https://fal.ai/) to obtain an API key.  \n   - In the \"Create Image\" node, set the **Header Auth** with:  \n     - **Name**: `Authorization`  \n     - **Value**: `Key YOURAPIKEY`  \n\n3. **Google Drive Setup**:  \n   - Specify the target folder ID in the \"Upload Image\" node where generated images will be saved.  \n\n4. **Schedule Trigger (Optional)**:  \n   - Adjust the \"Schedule Trigger\" node to run the workflow at desired intervals (e.g., every 5 minutes).  \n\n5. **Test Execution**:  \n   - Run the workflow manually via the \"Test workflow\" node to verify all steps function correctly.  \n\nOnce configured, the workflow will automatically process pending prompts, generate images, and update the Google Sheet with results.\n\n---\n\n### **Need help customizing?**  \n[Contact me](mailto:info@n3w.it) for consulting and support or add me on [Linkedin](https://www.linkedin.com/in/davideboizza/).",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Get status",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Wait 60 sec.",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Completed?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Update result",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Image Url",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Upload Image",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Create Image",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get new image",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Get Image File",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}