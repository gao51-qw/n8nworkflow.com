{
  "id": 11807,
  "slug": "11807",
  "title": "Enhance customer support with RAG-powered AI",
  "description": "This workflow automates customer support across multiple channels (Email, Live Chat, WhatsApp, Slack, Discord) using AI-powered responses enhanced with Retrieval Augmented Generation (RAG) and your product documentation. It intelligently handles incoming queries, provides instant and context-aware answers, and escalates complex or negative-sentiment cases to your human support team. All interactions are logged and categorized for easy tracking and reporting.\n\n---\n\n## Key Features\n\n- **Omnichannel Support:** Handles customer queries from Email, Live Chat, WhatsApp, Slack, and Discord.\n- **AI-Powered Answers:** Uses RAG to generate accurate, context-aware responses based on your product documentation.\n- **Automatic Escalation:** Detects low-confidence or negative-sentiment cases and escalates them to your human support team.\n- **Conversation Logging:** Automatically logs and categorizes all conversations for future analysis.\n- **Weekly Reporting:** Sends automated weekly summaries and metrics to your support team.\n\n---\n\n## How It Works\n\n1. **Trigger:** The workflow starts when a new message is received on any supported channel.\n2. **Normalization:** Incoming messages are normalized into a common format for unified processing.\n3. **Context Management:** Conversation history is fetched and merged with the new query for better AI context.\n4. **AI Response:** The workflow uses RAG to generate a response, referencing your product documentation.\n5. **Confidence & Sentiment Analysis:** The response is scored for confidence and sentiment.\n6. **Escalation Logic:** If the response is low-confidence or negative, the workflow escalates the case to your support team and creates a ticket.\n7. **Response Delivery:** The answer (or escalation notice) is sent back to the customer on the original channel.\n8. **Logging & Reporting:** All interactions are logged, categorized, and included in weekly reports.\n\n---\n\n## Configuration\n\n1. **Connect Your Channels:** Set up triggers for each channel you want to support (Email, Webhook, WhatsApp, Slack, Discord).\n2. **Add Your Documentation:** Integrate your product documentation source (e.g., Google Docs, Notion, or a knowledge base) for the RAG model.\n3. **Configure AI Model:** Set your preferred AI provider and model (e.g., OpenAI, Azure OpenAI, etc.).\n4. **Set Escalation Rules:** Adjust confidence thresholds and escalation logic to fit your support workflow.\n5. **Integrate Support Tools:** Connect your ticketing system (e.g., Zendesk) and reporting tools (e.g., Google Sheets, Slack).\n6. **Test the Workflow:** Send test queries from each channel to ensure correct routing, AI responses, and escalation.\n\n---\n\n## Use Cases\n\n- Provide instant, accurate answers to customer questions 24/7.\n- Reduce manual workload for your support team by automating common queries.\n- Ensure complex or sensitive cases are quickly escalated to human agents.\n- Gain insights into support trends with automated logging and weekly reports.\n\n---\n\n## Requirements\n\n- n8n version 2.0.2 or later\n- Accounts and credentials for your chosen channels and AI provider\n- Access to your product documentation in a supported format\n\n---\n\n## Notes\n\n- Please review and customize the workflow to fit your company’s privacy and data handling policies.\n- For best results, keep your product documentation up to date and well-structured.",
  "featuredImage": "/data/workflows/11807/11807.webp",
  "author": {
    "id": 101,
    "slug": "tuguidragos",
    "name": "Țugui Dragoș",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 559,
  "downloads": 55,
  "createdAt": "2025-12-15T00:09:52.569Z",
  "updatedAt": "2026-01-16T09:10:11.093Z",
  "publishedAt": "2025-12-15T00:09:52.569Z",
  "nodes": 61,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11807",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Enhance customer support with RAG-powered AI",
    "workflowName": "Enhance customer support with RAG-powered AI",
    "description": "This workflow automates customer support across multiple channels (Email, Live Chat, WhatsApp, Slack, Discord) using AI-powered responses enhanced with Retrieval Augmented Generation (RAG) and your product documentation. It intelligently handles incoming queries, provides instant and context-aware answers, and escalates complex or negative-sentiment cases to your human support team. All interactions are logged and categorized for easy tracking and reporting.\n\n---\n\n## Key Features\n\n- **Omnichannel Support:** Handles customer queries from Email, Live Chat, WhatsApp, Slack, and Discord.\n- **AI-Powered Answers:** Uses RAG to generate accurate, context-aware responses based on your product documentation.\n- **Automatic Escalation:** Detects low-confidence or negative-sentiment cases and escalates them to your human support team.\n- **Conversation Logging:** Automatically logs and categorizes all conversations for future analysis.\n- **Weekly Reporting:** Sends automated weekly summaries and metrics to your support team.\n\n---\n\n## How It Works\n\n1. **Trigger:** The workflow starts when a new message is received on any supported channel.\n2. **Normalization:** Incoming messages are normalized into a common format for unified processing.\n3. **Context Management:** Conversation history is fetched and merged with the new query for better AI context.\n4. **AI Response:** The workflow uses RAG to generate a response, referencing your product documentation.\n5. **Confidence & Sentiment Analysis:** The response is scored for confidence and sentiment.\n6. **Escalation Logic:** If the response is low-confidence or negative, the workflow escalates the case to your support team and creates a ticket.\n7. **Response Delivery:** The answer (or escalation notice) is sent back to the customer on the original channel.\n8. **Logging & Reporting:** All interactions are logged, categorized, and included in weekly reports.\n\n---\n\n## Configuration\n\n1. **Connect Your Channels:** Set up triggers for each channel you want to support (Email, Webhook, WhatsApp, Slack, Discord).\n2. **Add Your Documentation:** Integrate your product documentation source (e.g., Google Docs, Notion, or a knowledge base) for the RAG model.\n3. **Configure AI Model:** Set your preferred AI provider and model (e.g., OpenAI, Azure OpenAI, etc.).\n4. **Set Escalation Rules:** Adjust confidence thresholds and escalation logic to fit your support workflow.\n5. **Integrate Support Tools:** Connect your ticketing system (e.g., Zendesk) and reporting tools (e.g., Google Sheets, Slack).\n6. **Test the Workflow:** Send test queries from each channel to ensure correct routing, AI responses, and escalation.\n\n---\n\n## Use Cases\n\n- Provide instant, accurate answers to customer questions 24/7.\n- Reduce manual workload for your support team by automating common queries.\n- Ensure complex or sensitive cases are quickly escalated to human agents.\n- Gain insights into support trends with automated logging and weekly reports.\n\n---\n\n## Requirements\n\n- n8n version 2.0.2 or later\n- Accounts and credentials for your chosen channels and AI provider\n- Access to your product documentation in a supported format\n\n---\n\n## Notes\n\n- Please review and customize the workflow to fit your company’s privacy and data handling policies.\n- For best results, keep your product documentation up to date and well-structured.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Workflow Configuration",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Email Trigger (IMAP)",
      "type": "n8n-nodes-base.emailReadImap",
      "role": "emailReadImap",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Webhook Trigger (Live Chat)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "role": "whatsAppTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Slack Trigger (Mentions)",
      "type": "n8n-nodes-base.slackTrigger",
      "role": "slackTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Discord Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Normalize Payload",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Preprocess Query",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "OpenAI Chat Model (RAG)",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model (Sentiment)",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model (Escalation)",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Sentiment Analysis",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Confidence Scoring",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Check Confidence Threshold",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Check Sentiment",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Escalation Needed?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Business Hours Check",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Channel Router",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Format Email Response",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Send Email Reply",
      "type": "n8n-nodes-base.emailSend",
      "role": "emailSend",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Escalation Reasoning",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Prepare Ticket Object",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Create Zendesk Ticket",
      "type": "n8n-nodes-base.zendesk",
      "role": "zendesk",
      "configDescription": "Version 1"
    },
    {
      "name": "Update Zendesk Ticket",
      "type": "n8n-nodes-base.zendesk",
      "role": "zendesk",
      "configDescription": "Version 1"
    },
    {
      "name": "Escalation Alert to Support Team",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Auto-Categorization",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Log Conversation to Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Weekly Maintenance Schedule",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Fetch Weekly Metrics",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Supabase Vector Insert",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Embeddings (Insert)",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Conversation History Manager",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "New vs Existing Conversation",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Human Takeover Detection",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Log Conversation to Zendesk",
      "type": "n8n-nodes-base.zendesk",
      "role": "zendesk",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Weekly Summary",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Check Message Scope",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Document Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "RAG Support Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    },
    {
      "name": "Fetch Conversation History",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Merge History with Query",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Format Webhook Response",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Format WhatsApp Response",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Format Discord Response",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Format Slack Response",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "End Workflow",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Prepare Metrics for Vector Insert",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}