{
  "id": 8548,
  "slug": "8548",
  "title": "Extract & process invoices with Gemini AI, Google Sheets & Gmail notifications",
  "description": "# **AI-Powered Invoice Extraction & Automation System Workflow**\n\n## Aim\n\nThe aim of the **Invoice Data Automation** workflow is to streamline invoice processing by extracting, validating, and storing invoice details automatically. It uses AI to read invoices (from images/PDFs), structures the data in JSON, checks for missing or duplicate entries, and records the information in a Google Sheet while also uploading the original invoice to Google Drive. Additionally, it sends email notifications for successful entries, duplicates, or missing fields.\n\n## Goal\n\nThe goal is to:\n\n* Allow users to upload invoice images/files via chat.\n* Extract invoice data using AI and format it into a structured JSON.\n* Validate mandatory fields like `invoice_id`, `shop_name`, `date`, `Total`, and `items`.\n* Check if the invoice already exists in the Google Sheet.\n* Append new invoices to Google Sheets and upload the original file to Google Drive.\n* Notify the user via email about success, duplicates, or errors.\n\nThis ensures that invoices are processed *accurately, efficiently, and securely* with minimal manual effort.\n\n## Requirements\n\nThe workflow relies on specific components and configurations:\n\n### n8n Platform\n\nThe automation is built and hosted on **n8n**, which orchestrates the entire workflow.\n\n### Node Requirements\n\n1. **When chat message received** – Triggers the workflow when a user submits an invoice.\n2. **Analyze image1** – Uses Google Gemini Vision AI to extract invoice data from the uploaded file.\n3. **AI Agent1 + Google Gemini Chat Model1** – Restructures the extracted data into strict JSON format.\n4. **Make data in JSON structure format** – Prepares and organizes the structured output.\n5. **Get data** – Looks up the Google Sheet to check if the invoice already exists.\n6. **check if Data exist or not in table** – Decides whether to process as new data or duplicate.\n7. **New data add using payload / Check Mandatory fields** – Ensures invoice JSON is valid and complete.\n8. **If – check missing field** – Branches based on whether mandatory fields are present.\n9. **no missing field – new data add using payload 2** – Passes only verified invoices forward.\n10. **Append data to sheet** – Saves invoice data in Google Sheets.\n11. **Upload invoice to drive** – Uploads the original invoice file to Google Drive.\n12. **Send successful email** – Notifies the user of successful entry.\n13. **Duplicate entry send mail** – Alerts the user if the invoice already exists.\n14. **Send missing field error on mail** – Sends an error email if mandatory fields are missing.\n\n### Credentials\n\n* **Google Gemini (PaLM) API** – For AI-based invoice data extraction and formatting.\n* **Google Sheets API** – For storing structured invoice records.\n* **Google Drive API** – For uploading original invoices.\n* **Gmail API** – For sending success, duplicate, and error notifications.\n\n### Input Requirements\n\n* Invoice file (Image or PDF).\n\n### Output\n\n* Structured invoice data in **Google Sheets**.\n* Original invoice stored in **Google Drive**.\n* Notifications sent via **Gmail** (success, duplicate, or error).\n\n## API Usage\n\n* **Google Gemini (PaLM API):**\n  Used in *Analyze image1* and *AI Agent1* to extract and structure invoice data. It ensures fields like `invoice_id`, `shop_name`, `date`, and `items` are clearly formatted.\n\n* **Google Sheets API:**\n  Used in *Get data* and *Append data to sheet* nodes to validate duplicates and store new invoices.\n\n* **Google Drive API:**\n  Used in *Upload invoice to drive* to securely store the original uploaded invoice file.\n\n* **Gmail API:**\n  Used in *Send successful email, Duplicate entry send mail, Send missing field error on mail* to notify users about the status of invoice processing.\n\n## Workflow Summary\n\nThe **Invoice Data Automation** workflow automates the entire process of invoice handling by:\n\n1. Receiving invoice uploads via chat.\n2. Extracting invoice details with AI (Google Gemini).\n3. Structuring and validating the data in JSON format.\n4. Checking Google Sheets for duplicates.\n5. Appending new invoices to the sheet and uploading originals to Google Drive.\n6. Sending email notifications to keep the user updated on the process outcome.\n\nThis end-to-end automation ensures invoices are handled with *speed, accuracy, and transparency*, reducing manual work and eliminating common errors in invoice management.\n",
  "featuredImage": "/data/workflows/8548/8548.webp",
  "author": {
    "id": 101,
    "slug": "theyashsisodiya",
    "name": "Yashraj singh sisodiya",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 556,
  "downloads": 55,
  "createdAt": "2025-09-13T04:28:51.407Z",
  "updatedAt": "2026-01-16T08:56:25.611Z",
  "publishedAt": "2025-09-13T04:28:51.407Z",
  "nodes": 32,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8548",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Extract & process invoices with Gemini AI, Google Sheets & Gmail notifications",
    "workflowName": "Extract & process invoices with Gemini AI, Google Sheets & Gmail notifications",
    "description": "# **AI-Powered Invoice Extraction & Automation System Workflow**\n\n## Aim\n\nThe aim of the **Invoice Data Automation** workflow is to streamline invoice processing by extracting, validating, and storing invoice details automatically. It uses AI to read invoices (from images/PDFs), structures the data in JSON, checks for missing or duplicate entries, and records the information in a Google Sheet while also uploading the original invoice to Google Drive. Additionally, it sends email notifications for successful entries, duplicates, or missing fields.\n\n## Goal\n\nThe goal is to:\n\n* Allow users to upload invoice images/files via chat.\n* Extract invoice data using AI and format it into a structured JSON.\n* Validate mandatory fields like `invoice_id`, `shop_name`, `date`, `Total`, and `items`.\n* Check if the invoice already exists in the Google Sheet.\n* Append new invoices to Google Sheets and upload the original file to Google Drive.\n* Notify the user via email about success, duplicates, or errors.\n\nThis ensures that invoices are processed *accurately, efficiently, and securely* with minimal manual effort.\n\n## Requirements\n\nThe workflow relies on specific components and configurations:\n\n### n8n Platform\n\nThe automation is built and hosted on **n8n**, which orchestrates the entire workflow.\n\n### Node Requirements\n\n1. **When chat message received** – Triggers the workflow when a user submits an invoice.\n2. **Analyze image1** – Uses Google Gemini Vision AI to extract invoice data from the uploaded file.\n3. **AI Agent1 + Google Gemini Chat Model1** – Restructures the extracted data into strict JSON format.\n4. **Make data in JSON structure format** – Prepares and organizes the structured output.\n5. **Get data** – Looks up the Google Sheet to check if the invoice already exists.\n6. **check if Data exist or not in table** – Decides whether to process as new data or duplicate.\n7. **New data add using payload / Check Mandatory fields** – Ensures invoice JSON is valid and complete.\n8. **If – check missing field** – Branches based on whether mandatory fields are present.\n9. **no missing field – new data add using payload 2** – Passes only verified invoices forward.\n10. **Append data to sheet** – Saves invoice data in Google Sheets.\n11. **Upload invoice to drive** – Uploads the original invoice file to Google Drive.\n12. **Send successful email** – Notifies the user of successful entry.\n13. **Duplicate entry send mail** – Alerts the user if the invoice already exists.\n14. **Send missing field error on mail** – Sends an error email if mandatory fields are missing.\n\n### Credentials\n\n* **Google Gemini (PaLM) API** – For AI-based invoice data extraction and formatting.\n* **Google Sheets API** – For storing structured invoice records.\n* **Google Drive API** – For uploading original invoices.\n* **Gmail API** – For sending success, duplicate, and error notifications.\n\n### Input Requirements\n\n* Invoice file (Image or PDF).\n\n### Output\n\n* Structured invoice data in **Google Sheets**.\n* Original invoice stored in **Google Drive**.\n* Notifications sent via **Gmail** (success, duplicate, or error).\n\n## API Usage\n\n* **Google Gemini (PaLM API):**\n  Used in *Analyze image1* and *AI Agent1* to extract and structure invoice data. It ensures fields like `invoice_id`, `shop_name`, `date`, and `items` are clearly formatted.\n\n* **Google Sheets API:**\n  Used in *Get data* and *Append data to sheet* nodes to validate duplicates and store new invoices.\n\n* **Google Drive API:**\n  Used in *Upload invoice to drive* to securely store the original uploaded invoice file.\n\n* **Gmail API:**\n  Used in *Send successful email, Duplicate entry send mail, Send missing field error on mail* to notify users about the status of invoice processing.\n\n## Workflow Summary\n\nThe **Invoice Data Automation** workflow automates the entire process of invoice handling by:\n\n1. Receiving invoice uploads via chat.\n2. Extracting invoice details with AI (Google Gemini).\n3. Structuring and validating the data in JSON format.\n4. Checking Google Sheets for duplicates.\n5. Appending new invoices to the sheet and uploading originals to Google Drive.\n6. Sending email notifications to keep the user updated on the process outcome.\n\nThis end-to-end automation ensures invoices are handled with *speed, accuracy, and transparency*, reducing manual work and eliminating common errors in invoice management.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Analyze image1",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "role": "googleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Agent1",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Google Gemini Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Get data",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Make data in json structure format",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "check if Data exist or not in table",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Upload invoice to drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "no missing field - new data add using payload 2 ",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "If -  check missing field",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Send missing field error on mail",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Duplicate entry send mail",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "New data add using payload",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Append data to sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Check Mandatory fields",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send successful email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}