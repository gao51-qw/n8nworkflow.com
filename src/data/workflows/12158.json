{
  "id": 12158,
  "slug": "12158",
  "title": "Automate demand forecasting & inventory ordering with AI, MySQL & optimal supplier selection",
  "description": "This workflow streamlines the entire inventory replenishment process by leveraging AI for demand forecasting and intelligent logic for supplier selection. It aggregates data from multiple sources‚ÄîPOS systems, weather forecasts, SNS trends, and historical sales‚Äîto predict future demand. Based on these predictions, it calculates shortages, requests quotes from multiple suppliers, selects the optimal vendor based on cost and lead time, and executes the order automatically.\n\n\n## üöÄ Who is this for?\n- **Retail & E-commerce Managers** aiming to minimize stockouts and reduce overstock.\n- **Supply Chain Operations** looking to automate procurement and vendor selection.\n- **Data Analysts** wanting to integrate external factors (weather, trends) into inventory planning.\n\n\n## üí° How it works\n1.  **Data Aggregation**: Fetches data from POS systems, MySQL (historical sales), OpenWeatherMap (weather), and SNS trend APIs.\n2.  **AI Forecasting**: Formats the data and sends it to an AI prediction API to forecast demand for the next 7 days.\n3.  **Shortage Calculation**: Compares the forecast against current stock and safety stock to determine necessary order quantities.\n4.  **Supplier Optimization**: For items needing replenishment, the workflow requests quotes from multiple suppliers (A, B, C) in parallel. It selects the best supplier based on the lowest total cost within a 7-day lead time.\n5.  **Execution & Logging**: Places the order via API, updates the inventory system, and logs the transaction to MySQL.\n6.  **Anomaly Detection**: If the AI's confidence score is low, it skips the auto-order and sends an alert to **Slack** for manual review.\n\n\n## ‚öôÔ∏è Setup steps\n1.  **Configure Credentials**: Set up credentials for **MySQL** and **Slack** in n8n.\n2.  **API Keys**: You will need an API key for **OpenWeatherMap** (or a similar service).\n3.  **Update Endpoints**: The HTTP Request nodes use placeholder URLs (e.g., `pos-api.example.com`, `ai-prediction-api.example.com`). Replace these with your actual internal APIs, ERP endpoints, or AI service (like OpenAI).\n4.  **Database Prep**: Ensure your MySQL database has a table named `forecast_order_log` to store the order history.\n5.  **Schedule**: The workflow is set to run daily at 03:00. Adjust the **Schedule Trigger** node as needed.\n\n\n## üìã Requirements\n- **n8n** (Self-hosted or Cloud)\n- **MySQL** database\n- **Slack** workspace\n- External APIs for POS, Inventory, and Supplier communication (or mock endpoints for testing).",
  "featuredImage": "/data/workflows/12158/12158.webp",
  "author": {
    "id": 101,
    "slug": "riorio",
    "name": "sato rio",
    "avatar": ""
  },
  "categories": [
    "Engineering",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 130,
  "downloads": 13,
  "createdAt": "2025-12-26T08:56:10.158Z",
  "updatedAt": "2026-01-16T09:11:35.973Z",
  "publishedAt": "2025-12-26T08:56:10.158Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/12158",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate demand forecasting & inventory ordering with AI, MySQL & optimal supplier selection",
    "workflowName": "Automate demand forecasting & inventory ordering with AI, MySQL & optimal supplier selection",
    "description": "This workflow streamlines the entire inventory replenishment process by leveraging AI for demand forecasting and intelligent logic for supplier selection. It aggregates data from multiple sources‚ÄîPOS systems, weather forecasts, SNS trends, and historical sales‚Äîto predict future demand. Based on these predictions, it calculates shortages, requests quotes from multiple suppliers, selects the optimal vendor based on cost and lead time, and executes the order automatically.\n\n\n## üöÄ Who is this for?\n- **Retail & E-commerce Managers** aiming to minimize stockouts and reduce overstock.\n- **Supply Chain Operations** looking to automate procurement and vendor selection.\n- **Data Analysts** wanting to integrate external factors (weather, trends) into inventory planning.\n\n\n## üí° How it works\n1.  **Data Aggregation**: Fetches data from POS systems, MySQL (historical sales), OpenWeatherMap (weather), and SNS trend APIs.\n2.  **AI Forecasting**: Formats the data and sends it to an AI prediction API to forecast demand for the next 7 days.\n3.  **Shortage Calculation**: Compares the forecast against current stock and safety stock to determine necessary order quantities.\n4.  **Supplier Optimization**: For items needing replenishment, the workflow requests quotes from multiple suppliers (A, B, C) in parallel. It selects the best supplier based on the lowest total cost within a 7-day lead time.\n5.  **Execution & Logging**: Places the order via API, updates the inventory system, and logs the transaction to MySQL.\n6.  **Anomaly Detection**: If the AI's confidence score is low, it skips the auto-order and sends an alert to **Slack** for manual review.\n\n\n## ‚öôÔ∏è Setup steps\n1.  **Configure Credentials**: Set up credentials for **MySQL** and **Slack** in n8n.\n2.  **API Keys**: You will need an API key for **OpenWeatherMap** (or a similar service).\n3.  **Update Endpoints**: The HTTP Request nodes use placeholder URLs (e.g., `pos-api.example.com`, `ai-prediction-api.example.com`). Replace these with your actual internal APIs, ERP endpoints, or AI service (like OpenAI).\n4.  **Database Prep**: Ensure your MySQL database has a table named `forecast_order_log` to store the order history.\n5.  **Schedule**: The workflow is set to run daily at 03:00. Adjust the **Schedule Trigger** node as needed.\n\n\n## üìã Requirements\n- **n8n** (Self-hosted or Cloud)\n- **MySQL** database\n- **Slack** workspace\n- External APIs for POS, Inventory, and Supplier communication (or mock endpoints for testing).",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Workflow Overview",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Group: Data Collection",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Group: Prediction",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Group: Selection",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Group: Execution",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Run Daily at 03:00",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Fetch POS Data",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Fetch Historical Sales",
      "type": "n8n-nodes-base.mySql",
      "role": "mySql",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Weather Forecast",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Fetch SNS Trends",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Fetch Inventory Master",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Merge Data 1",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Merge Data 2",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Format Prediction Dataset",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Call AI Prediction API",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Calculate Stock Shortage",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Finalize Order Qty",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Check Order Necessity",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Split by Product",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Get Quote Supplier A",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Quote Supplier B",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Quote Supplier C",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Merge Quotes",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Select Best Supplier",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Execute Auto Order",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Update Inventory System",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Save Order Log",
      "type": "n8n-nodes-base.mySql",
      "role": "mySql",
      "configDescription": "Version 1"
    },
    {
      "name": "Check Anomalies",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Slack Anomaly Alert",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.1"
    }
  ]
}