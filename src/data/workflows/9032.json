{
  "id": 9032,
  "slug": "9032",
  "title": "Generate personalized promo cards with email verification, Gmail & Google Sheets",
  "description": "# Personalized Promo Code Cards for Verified Users\n\n## Overview\nThis workflow automatically generates beautiful, personalized promotional cards with QR codes and sends them via email to verified users. Perfect for e-commerce stores, marketing campaigns, and customer engagement initiatives.\n\n## Key Features\n- **Email Verification**: Validates email addresses using Verifi Email API to prevent fraud and ensure deliverability\n- **Dynamic Promo Cards**: Generates stunning, personalized promotional cards with custom discount codes and QR codes\n- **Automated Email Delivery**: Sends professionally designed HTML emails with embedded promo card images\n- **Real-time Logging**: Tracks all promo distributions in Google Sheets for monitoring and analytics\n- **Error Handling**: Includes error path for invalid emails with admin notifications\n- **Fully Customizable**: Easy to customize card design, email template, and discount values\n\n## Workflow Process\n\n1. **Webhook Trigger**: Receives user data (name, email, promo_code, discount_value, discount_type)\n2. **Data Processing**: Formats and validates incoming data with default values\n3. **Email Verification**: Checks email validity using Verifi Email API\n4. **Validation Gateway**: Routes valid emails to generation or invalid to error path\n5. **Card Generation**: Creates personalized promo card image using HTML/CSS to Image API\n6. **Email Delivery**: Sends beautifully designed email with promo card via Gmail\n7. **Logging**: Records successful distributions in Google Sheets\n8. **Error Notification**: Sends admin alerts for failed attempts\n\n## What's Included\n\n### Beautiful Promo Card Design\n- Gradient purple background (#667eea to #764ba2)\n- Personalized greeting with customer name\n- Prominent discount display in circular badge\n- QR code for easy checkout redemption\n- Validity date clearly shown\n- Professional, mobile-responsive design\n\n### Professional Email Template\n- Engaging gradient header matching promo card\n- Highlighted promo code section with dashed border\n- Three feature icons (Easy to Use, Exclusive Deal, Limited Time)\n- Call-to-action button\n- Embedded promo card image\n- Clean footer with expiry and contact info\n\n## Required Integrations & APIs\n\n### 1. Verifi Email API\n- **Purpose**: Email verification and validation\n- **Get API Key**: https://verifi.email\n- **Setup**: Sign up â†’ Generate API key â†’ Add to workflow credentials\n\n### 2. HTML/CSS to Image API\n- **Purpose**: Convert HTML promo card to PNG image\n- **Get API Key**: https://htmlcsstoimg.com\n- **Setup**: Create account â†’ Copy API key â†’ Configure in workflow\n\n### 3. Gmail API (OAuth2)\n- **Purpose**: Send personalized promo emails\n- **Get Credentials**: https://console.cloud.google.com/\n- **Setup Steps**:\n  - Create new project\n  - Enable Gmail API\n  - Create OAuth 2.0 Client ID\n  - Add credentials to n8n\n\n### 4. Google Sheets API\n- **Purpose**: Log promo distributions for tracking\n- **Get Credentials**: https://console.cloud.google.com/\n- **Setup Steps**:\n  - Enable Google Sheets API\n  - Create Service Account (or use OAuth2)\n  - Share your Google Sheet with the service account email\n  - Add credentials to n8n\n\n## Quick Start Guide\n\n### Step 1: Import the Workflow\n1. Copy the workflow JSON\n2. Go to n8n dashboard\n3. Click \"Import from File\" or \"Import from URL\"\n4. Paste the workflow\n\n### Step 2: Configure Credentials\nSet up the following credentials in n8n:\n- Verifi Email API credentials\n- HTML/CSS to Image API credentials\n- Gmail OAuth2 credentials\n- Google Sheets credentials\n\n### Step 3: Create Google Sheet\n1. Create a new Google Sheet\n2. Add headers: Timestamp, Name, Email, Promo Code, Discount Value, Status\n3. Share with your service account (if using service account auth)\n4. Copy the Sheet ID and update in the workflow\n\n### Step 4: Customize Settings\n- **QR Code URL**: Update the checkout URL in the promo card HTML (line with YOURSTORE.com)\n- **Admin Email**: Change admin notification email in the \"Error Path\" node\n- **Validity Date**: Update expiry date in both promo card and email template\n- **Colors/Design**: Customize gradient colors and styling as needed\n\n### Step 5: Test the Workflow\n1. Activate the workflow\n2. Copy the webhook URL\n3. Send a POST request with test data:\n```json\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"promo_code\": \"SAVE20\",\n  \"discount_value\": \"20%\",\n  \"discount_type\": \"percentage\"\n}\n```\n\n## Input Parameters\n\nSend a POST request to the webhook with the following JSON body:\n\n```json\n{\n  \"name\": \"Customer Name\",           // Optional: defaults to \"Valued Customer\"\n  \"email\": \"customer@example.com\",   // Required: customer email address\n  \"promo_code\": \"SUMMER25\",          // Optional: defaults to \"WELCOME10\"\n  \"discount_value\": \"25%\",           // Optional: defaults to \"10%\"\n  \"discount_type\": \"percentage\"      // Optional: defaults to \"percentage\"\n}\n```\n\n## Use Cases\n\n### E-commerce\n- Welcome offers for new customers\n- Abandoned cart recovery with discount codes\n- Birthday/anniversary promotions\n- Loyalty rewards for repeat customers\n\n### Marketing Campaigns\n- Seasonal sale promotions\n- Referral program rewards\n- Social media contest prizes\n- Email list incentives\n\n### Customer Engagement\n- Re-engagement campaigns\n- VIP member benefits\n- Event registration perks\n- Survey completion rewards\n\n## Customization Options\n\n### Promo Card Design\n- Modify colors and gradients in the HTML/CSS\n- Change logo/emoji in the header\n- Adjust card dimensions and layout\n- Customize QR code size and styling\n- Update validity date format\n\n### Email Template\n- Change email subject line\n- Modify header text and styling\n- Add company branding/logo\n- Customize CTA button text and link\n- Update footer information\n\n### Business Logic\n- Add conditional discounts based on user tier\n- Implement time-based validity\n- Add product-specific promo codes\n- Include multiple discount tiers\n- Add custom validation rules\n\n## Monitoring & Analytics\n\nThe workflow automatically logs:\n- Timestamp of each promo distribution\n- Customer name and email\n- Promo code assigned\n- Discount value\n- Distribution status (Success/Failed)\n\nUse this data to:\n- Track campaign performance\n- Monitor redemption rates\n- Identify popular discount amounts\n- Analyze email delivery success\n- Debug failed attempts\n\n## Troubleshooting\n\n### Common Issues\n\n**Email not sending:**\n- Verify Gmail API credentials are correct\n- Check OAuth2 token hasn't expired\n- Ensure Gmail account has proper permissions\n\n**Image not generating:**\n- Confirm HTML/CSS to Image API key is valid\n- Check API usage limits haven't been exceeded\n- Verify HTML syntax is correct\n\n**Email validation failing:**\n- Ensure Verifi Email API credentials are active\n- Check API rate limits\n- Verify email format in incoming data\n\n**Google Sheets not updating:**\n- Confirm Sheet ID is correct\n- Check service account has edit permissions\n- Verify sheet name matches configuration\n\n## Pro Tips\n\n1. **Test with Invalid Emails**: Try sending to invalid emails to verify error handling works\n2. **Monitor API Limits**: Keep track of API usage to avoid hitting rate limits\n3. **A/B Test Designs**: Create multiple card variations to see which performs better\n4. **Personalize Further**: Add more custom fields like user tier, purchase history, etc.\n5. **Schedule Reports**: Create a companion workflow to send daily/weekly promo distribution reports\n\n## Performance Metrics\n\n- **Processing Time**: 30-60 seconds per request\n- **Success Rate**: 95%+ for valid email addresses\n- **Scalability**: Handles hundreds of requests per hour\n- **Error Recovery**: Automatic admin notifications for failures\n\n## Security & Privacy\n\n- Email validation prevents spam and fraud\n- No sensitive data stored in workflow\n- All API credentials encrypted in n8n\n- Google Sheets logging can be disabled if needed\n- Compliant with email marketing best practices\n\n## Best Practices\n\n1. **Email Deliverability**: Always validate emails before sending\n2. **Rate Limiting**: Implement delays for bulk sends to avoid spam filters\n3. **Personalization**: Use customer names and relevant discount amounts\n4. **Clear CTAs**: Make it easy for customers to redeem their codes\n5. **Tracking**: Monitor distribution and redemption metrics\n6. **Testing**: Always test with real emails before launching campaigns\n\n## ðŸ“„ License\n\nThis workflow template is provided as-is for use in your n8n instance. Feel free to customize and adapt to your specific needs.\n\n---\n\n## Why Use This Workflow?\n\nâœ… **Saves Time**: Automates entire promo distribution process  \nâœ… **Reduces Errors**: Email validation prevents bounce rates  \nâœ… **Professional Output**: Beautiful, branded promo cards  \nâœ… **Easy Tracking**: Real-time logging in Google Sheets  \nâœ… **Scalable**: Handles high volume campaigns  \nâœ… **Customizable**: Easy to adapt to your brand  \nâœ… **Cost-Effective**: Uses affordable or free tier APIs  \n\nPerfect for marketers, e-commerce managers, and anyone looking to automate personalized promotional campaigns!",
  "featuredImage": "/data/workflows/9032/9032.webp",
  "author": {
    "id": 101,
    "slug": "jiteshdugar",
    "name": "Jitesh Dugar",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 21,
  "downloads": 2,
  "createdAt": "2025-09-28T08:34:44.038Z",
  "updatedAt": "2026-01-16T08:58:46.357Z",
  "publishedAt": "2025-09-28T08:34:44.038Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9032",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate personalized promo cards with email verification, Gmail & Google Sheets",
    "workflowName": "Generate personalized promo cards with email verification, Gmail & Google Sheets",
    "description": "# Personalized Promo Code Cards for Verified Users\n\n## Overview\nThis workflow automatically generates beautiful, personalized promotional cards with QR codes and sends them via email to verified users. Perfect for e-commerce stores, marketing campaigns, and customer engagement initiatives.\n\n## Key Features\n- **Email Verification**: Validates email addresses using Verifi Email API to prevent fraud and ensure deliverability\n- **Dynamic Promo Cards**: Generates stunning, personalized promotional cards with custom discount codes and QR codes\n- **Automated Email Delivery**: Sends professionally designed HTML emails with embedded promo card images\n- **Real-time Logging**: Tracks all promo distributions in Google Sheets for monitoring and analytics\n- **Error Handling**: Includes error path for invalid emails with admin notifications\n- **Fully Customizable**: Easy to customize card design, email template, and discount values\n\n## Workflow Process\n\n1. **Webhook Trigger**: Receives user data (name, email, promo_code, discount_value, discount_type)\n2. **Data Processing**: Formats and validates incoming data with default values\n3. **Email Verification**: Checks email validity using Verifi Email API\n4. **Validation Gateway**: Routes valid emails to generation or invalid to error path\n5. **Card Generation**: Creates personalized promo card image using HTML/CSS to Image API\n6. **Email Delivery**: Sends beautifully designed email with promo card via Gmail\n7. **Logging**: Records successful distributions in Google Sheets\n8. **Error Notification**: Sends admin alerts for failed attempts\n\n## What's Included\n\n### Beautiful Promo Card Design\n- Gradient purple background (#667eea to #764ba2)\n- Personalized greeting with customer name\n- Prominent discount display in circular badge\n- QR code for easy checkout redemption\n- Validity date clearly shown\n- Professional, mobile-responsive design\n\n### Professional Email Template\n- Engaging gradient header matching promo card\n- Highlighted promo code section with dashed border\n- Three feature icons (Easy to Use, Exclusive Deal, Limited Time)\n- Call-to-action button\n- Embedded promo card image\n- Clean footer with expiry and contact info\n\n## Required Integrations & APIs\n\n### 1. Verifi Email API\n- **Purpose**: Email verification and validation\n- **Get API Key**: https://verifi.email\n- **Setup**: Sign up â†’ Generate API key â†’ Add to workflow credentials\n\n### 2. HTML/CSS to Image API\n- **Purpose**: Convert HTML promo card to PNG image\n- **Get API Key**: https://htmlcsstoimg.com\n- **Setup**: Create account â†’ Copy API key â†’ Configure in workflow\n\n### 3. Gmail API (OAuth2)\n- **Purpose**: Send personalized promo emails\n- **Get Credentials**: https://console.cloud.google.com/\n- **Setup Steps**:\n  - Create new project\n  - Enable Gmail API\n  - Create OAuth 2.0 Client ID\n  - Add credentials to n8n\n\n### 4. Google Sheets API\n- **Purpose**: Log promo distributions for tracking\n- **Get Credentials**: https://console.cloud.google.com/\n- **Setup Steps**:\n  - Enable Google Sheets API\n  - Create Service Account (or use OAuth2)\n  - Share your Google Sheet with the service account email\n  - Add credentials to n8n\n\n## Quick Start Guide\n\n### Step 1: Import the Workflow\n1. Copy the workflow JSON\n2. Go to n8n dashboard\n3. Click \"Import from File\" or \"Import from URL\"\n4. Paste the workflow\n\n### Step 2: Configure Credentials\nSet up the following credentials in n8n:\n- Verifi Email API credentials\n- HTML/CSS to Image API credentials\n- Gmail OAuth2 credentials\n- Google Sheets credentials\n\n### Step 3: Create Google Sheet\n1. Create a new Google Sheet\n2. Add headers: Timestamp, Name, Email, Promo Code, Discount Value, Status\n3. Share with your service account (if using service account auth)\n4. Copy the Sheet ID and update in the workflow\n\n### Step 4: Customize Settings\n- **QR Code URL**: Update the checkout URL in the promo card HTML (line with YOURSTORE.com)\n- **Admin Email**: Change admin notification email in the \"Error Path\" node\n- **Validity Date**: Update expiry date in both promo card and email template\n- **Colors/Design**: Customize gradient colors and styling as needed\n\n### Step 5: Test the Workflow\n1. Activate the workflow\n2. Copy the webhook URL\n3. Send a POST request with test data:\n```json\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"promo_code\": \"SAVE20\",\n  \"discount_value\": \"20%\",\n  \"discount_type\": \"percentage\"\n}\n```\n\n## Input Parameters\n\nSend a POST request to the webhook with the following JSON body:\n\n```json\n{\n  \"name\": \"Customer Name\",           // Optional: defaults to \"Valued Customer\"\n  \"email\": \"customer@example.com\",   // Required: customer email address\n  \"promo_code\": \"SUMMER25\",          // Optional: defaults to \"WELCOME10\"\n  \"discount_value\": \"25%\",           // Optional: defaults to \"10%\"\n  \"discount_type\": \"percentage\"      // Optional: defaults to \"percentage\"\n}\n```\n\n## Use Cases\n\n### E-commerce\n- Welcome offers for new customers\n- Abandoned cart recovery with discount codes\n- Birthday/anniversary promotions\n- Loyalty rewards for repeat customers\n\n### Marketing Campaigns\n- Seasonal sale promotions\n- Referral program rewards\n- Social media contest prizes\n- Email list incentives\n\n### Customer Engagement\n- Re-engagement campaigns\n- VIP member benefits\n- Event registration perks\n- Survey completion rewards\n\n## Customization Options\n\n### Promo Card Design\n- Modify colors and gradients in the HTML/CSS\n- Change logo/emoji in the header\n- Adjust card dimensions and layout\n- Customize QR code size and styling\n- Update validity date format\n\n### Email Template\n- Change email subject line\n- Modify header text and styling\n- Add company branding/logo\n- Customize CTA button text and link\n- Update footer information\n\n### Business Logic\n- Add conditional discounts based on user tier\n- Implement time-based validity\n- Add product-specific promo codes\n- Include multiple discount tiers\n- Add custom validation rules\n\n## Monitoring & Analytics\n\nThe workflow automatically logs:\n- Timestamp of each promo distribution\n- Customer name and email\n- Promo code assigned\n- Discount value\n- Distribution status (Success/Failed)\n\nUse this data to:\n- Track campaign performance\n- Monitor redemption rates\n- Identify popular discount amounts\n- Analyze email delivery success\n- Debug failed attempts\n\n## Troubleshooting\n\n### Common Issues\n\n**Email not sending:**\n- Verify Gmail API credentials are correct\n- Check OAuth2 token hasn't expired\n- Ensure Gmail account has proper permissions\n\n**Image not generating:**\n- Confirm HTML/CSS to Image API key is valid\n- Check API usage limits haven't been exceeded\n- Verify HTML syntax is correct\n\n**Email validation failing:**\n- Ensure Verifi Email API credentials are active\n- Check API rate limits\n- Verify email format in incoming data\n\n**Google Sheets not updating:**\n- Confirm Sheet ID is correct\n- Check service account has edit permissions\n- Verify sheet name matches configuration\n\n## Pro Tips\n\n1. **Test with Invalid Emails**: Try sending to invalid emails to verify error handling works\n2. **Monitor API Limits**: Keep track of API usage to avoid hitting rate limits\n3. **A/B Test Designs**: Create multiple card variations to see which performs better\n4. **Personalize Further**: Add more custom fields like user tier, purchase history, etc.\n5. **Schedule Reports**: Create a companion workflow to send daily/weekly promo distribution reports\n\n## Performance Metrics\n\n- **Processing Time**: 30-60 seconds per request\n- **Success Rate**: 95%+ for valid email addresses\n- **Scalability**: Handles hundreds of requests per hour\n- **Error Recovery**: Automatic admin notifications for failures\n\n## Security & Privacy\n\n- Email validation prevents spam and fraud\n- No sensitive data stored in workflow\n- All API credentials encrypted in n8n\n- Google Sheets logging can be disabled if needed\n- Compliant with email marketing best practices\n\n## Best Practices\n\n1. **Email Deliverability**: Always validate emails before sending\n2. **Rate Limiting**: Implement delays for bulk sends to avoid spam filters\n3. **Personalization**: Use customer names and relevant discount amounts\n4. **Clear CTAs**: Make it easy for customers to redeem their codes\n5. **Tracking**: Monitor distribution and redemption metrics\n6. **Testing**: Always test with real emails before launching campaigns\n\n## ðŸ“„ License\n\nThis workflow template is provided as-is for use in your n8n instance. Feel free to customize and adapt to your specific needs.\n\n---\n\n## Why Use This Workflow?\n\nâœ… **Saves Time**: Automates entire promo distribution process  \nâœ… **Reduces Errors**: Email validation prevents bounce rates  \nâœ… **Professional Output**: Beautiful, branded promo cards  \nâœ… **Easy Tracking**: Real-time logging in Google Sheets  \nâœ… **Scalable**: Handles high volume campaigns  \nâœ… **Customizable**: Easy to adapt to your brand  \nâœ… **Cost-Effective**: Uses affordable or free tier APIs  \n\nPerfect for marketers, e-commerce managers, and anyone looking to automate personalized promotional campaigns!",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Generate Promo Card Image",
      "type": "n8n-nodes-htmlcsstoimage.htmlCssToImage",
      "role": "htmlCssToImage",
      "configDescription": "Version 1"
    },
    {
      "name": "Log Promo Distribution",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Set Error Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "WEBHOOK",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Validate Email",
      "type": "n8n-nodes-verifiemail.verifiEmail",
      "role": "verifiEmail",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Validation Gateway",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Success Path",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Error Path",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}