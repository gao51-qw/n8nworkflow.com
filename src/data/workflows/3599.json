{
  "id": 3599,
  "slug": "3599",
  "title": "Log meal nutrients from Telegram to Google Sheets using an AI agent",
  "description": "## Who is this for?\n\nThis workflow is ideal for individuals focused on nutrition tracking, meal planning, or diet optimization—whether you’re a health-conscious individual, fitness coach, or developer working on a healthtech app. It also fits well for anyone who wants to capture their meal data via voice or text, without manually entering everything into a spreadsheet.\n\n## What problem is this workflow solving?\n\nManually logging meals and breaking down their nutritional content is time-consuming and often skipped. This workflow automates that process using Telegram for input, OpenAI for natural language understanding, and Google Sheets for structured tracking. It enables users to record meals by typing or sending voice messages, which are transcribed, analyzed for nutrients, and automatically stored for tracking and review.\n\n## What this workflow does\nThis n8n automation lets users send either a text or voice message to a Telegram bot describing their meal. The workflow then:\n1. Receives the Telegram message\n2. Checks if it’s a voice message\n\t•\tIf yes: Downloads the audio file and transcribes it using OpenAI\n\t•\tIf no: Uses the text input directly\n3. Sends the meal description to OpenAI to extract a structured list of ingredients and nutritional details\n4. Parses and stores the results in Google Sheets\n5. Responds via Telegram with a personalized confirmation message\n\nA testing interface also allows you to simulate prompts and view structured outputs for development or debugging.\n\n## Setup\n1. Create a Telegram bot via BotFather and note the API token.\n2. Create an empty Google Sheet and store the sheet ID in the environment.\n3. Set up your OpenAI credentials in the n8n credential manager.\n4. Customize the “List of Ingredients and Nutrients” node with your prompt if needed.\n5. (Optional) Use the “Testing” section to simulate messages and refine outputs before going live.\n\n## How to customize this workflow to your needs\n• Enhance prompts in the OpenAI node to improve the structure and accuracy of responses.\n• Add new fields in the Google Sheet and corresponding logic in the parser if you want more detail.\n• Adjust the Telegram response to provide motivational feedback, dietary tips, or summaries.\n• Upgrade to the “Pro” version mentioned in the contact section for USDA database integration and complete nutrient breakdowns.\n\nThis is a lightweight, AI-powered meal logging automation that transforms voice or text into actionable nutrition data—perfect for making healthy eating easier and more data-driven.\n\n**See my other workflows [here](https://n8n.io/creators/zeerobug/)**",
  "featuredImage": "/data/workflows/3599/3599.webp",
  "author": {
    "id": 101,
    "slug": "Pollup",
    "name": "PollupAI",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 3070,
  "downloads": 307,
  "createdAt": "2025-04-18T08:53:18.483Z",
  "updatedAt": "2026-01-16T08:30:34.281Z",
  "publishedAt": "2025-04-18T08:53:18.483Z",
  "nodes": 23,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3599",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Log meal nutrients from Telegram to Google Sheets using an AI agent",
    "workflowName": "Log meal nutrients from Telegram to Google Sheets using an AI agent",
    "description": "## Who is this for?\n\nThis workflow is ideal for individuals focused on nutrition tracking, meal planning, or diet optimization—whether you’re a health-conscious individual, fitness coach, or developer working on a healthtech app. It also fits well for anyone who wants to capture their meal data via voice or text, without manually entering everything into a spreadsheet.\n\n## What problem is this workflow solving?\n\nManually logging meals and breaking down their nutritional content is time-consuming and often skipped. This workflow automates that process using Telegram for input, OpenAI for natural language understanding, and Google Sheets for structured tracking. It enables users to record meals by typing or sending voice messages, which are transcribed, analyzed for nutrients, and automatically stored for tracking and review.\n\n## What this workflow does\nThis n8n automation lets users send either a text or voice message to a Telegram bot describing their meal. The workflow then:\n1. Receives the Telegram message\n2. Checks if it’s a voice message\n\t•\tIf yes: Downloads the audio file and transcribes it using OpenAI\n\t•\tIf no: Uses the text input directly\n3. Sends the meal description to OpenAI to extract a structured list of ingredients and nutritional details\n4. Parses and stores the results in Google Sheets\n5. Responds via Telegram with a personalized confirmation message\n\nA testing interface also allows you to simulate prompts and view structured outputs for development or debugging.\n\n## Setup\n1. Create a Telegram bot via BotFather and note the API token.\n2. Create an empty Google Sheet and store the sheet ID in the environment.\n3. Set up your OpenAI credentials in the n8n credential manager.\n4. Customize the “List of Ingredients and Nutrients” node with your prompt if needed.\n5. (Optional) Use the “Testing” section to simulate messages and refine outputs before going live.\n\n## How to customize this workflow to your needs\n• Enhance prompts in the OpenAI node to improve the structure and accuracy of responses.\n• Add new fields in the Google Sheet and corresponding logic in the parser if you want more detail.\n• Adjust the Telegram response to provide motivational feedback, dietary tips, or summaries.\n• Upgrade to the “Pro” version mentioned in the contact section for USDA database integration and complete nutrient breakdowns.\n\nThis is a lightweight, AI-powered meal logging automation that transforms voice or text into actionable nutrition data—perfect for making healthy eating easier and more data-driven.\n\n**See my other workflows [here](https://n8n.io/creators/zeerobug/)**",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Audio File",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Transcribe Recording",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Receive Telegram message",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "If it's a voice message",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Set chatInput from message",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Set chatInput from voice",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "List of Ingredients and nutrients",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Explode the list",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Add date",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Store in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Respond message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}