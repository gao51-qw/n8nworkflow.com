{
  "id": 9908,
  "slug": "9908",
  "title": "Run bulk RAG queries from CSV with Lookio",
  "description": "This template processes a CSV of questions and returns an enriched CSV with RAG-based answers produced by your **Lookio** assistant. \n\nUpload a CSV that contains a column named **Query**, and the workflow will loop through every row, call the **Lookio API**, and append a **Response** column containing the assistant's answer. \n\nIt's ideal for batch tasks like drafting RFP responses, pre-filling support replies, generating knowledge-checked summaries, or validating large lists of product/customer questions against your internal documentation.\n\n## Who is this for?\n\n* **Knowledge managers & technical writers:** Produce draft answers to large question sets using your company docs.\n* **Sales & proposal teams:** Auto-generate RFP answer drafts informed by internal docs.\n* **Support & operations teams:** Bulk-enrich FAQs or support ticket templates with authoritative responses.\n* **Automation builders:** Integrate Lookio-powered retrieval into bulk data pipelines.\n\n## What it does / What problem does this solve?\n\n* **Automates bulk queries:** Eliminates the manual process of running many individual lookups.\n* **Ensures answers are grounded:** Responses come from your uploaded documents via **Lookio**, reducing hallucinations.\n* **Produces ready-to-use output:** Delivers an enriched CSV with a new **Response** column for downstream use.\n* **Simple UX:** Users only need to upload a CSV with a **Query** column and download the resulting file.\n\n## How it works\n\n1. **Form submission:** User uploads a CSV via the **Form Trigger**.\n2. **Extract & validate:** **Extract all rows** reads the CSV and **Aggregate rows** checks for a **Query** column.\n3. **Per-row loop:** **Split Out** and **Loop Over Queries** iterate rows; **Isolate the Query column** normalizes data.\n4. **Call Lookio:** **Lookio API call** posts each query to your assistant and returns the answer.\n5. **Build output:** **Prepare output** appends **Response** values and **Generate enriched CSV** creates the downloadable file delivered by **Form ending and file download**.\n\n## Why use Lookio for high quality RAG?\n\nWhile building a native **RAG pipeline** in n8n offers granular control, achieving consistently **high-quality and reliable results** requires significant effort in data processing, chunking strategy, and retrieval logic optimization. **Lookio** is designed to address these challenges by providing a managed RAG service accessible via a simple API. \n\nIt handles the entire **backend pipeline**—from processing various document formats to employing advanced retrieval techniques—allowing you to integrate a production-ready knowledge source into your workflows. This approach lets you **focus on building your automation in n8n**, rather than managing the complexities of a RAG infrastructure.\n\n## How to set up\n\n1. **Create a Lookio assistant:** Sign up at https://www.lookio.app/, upload documents, and create an assistant.\n2. **Get credentials:** Copy your **Lookio API Key** and **Assistant ID**.\n3. **Configure the workflow nodes:**\n   * In the **Lookio API call** **HTTP Request** node, replace the **api_key** header value with your **Lookio API Key** and update **assistant_id** with your **Assistant ID** (replace placeholders like `&lt;your-lookio-api-key&gt;` and `&lt;your-assistant-id&gt;`).\n   * Ensure the **Form Trigger** is enabled and accepts a **.csv** file.\n4. **CSV format:** Ensure the input CSV has a column named **Query** (case-sensitive as configured).\n5. **Activate the workflow:** Run a test upload and download the enriched CSV.\n\n## Requirements\n\n* An n8n instance with the ability to host Forms and run workflows\n* A **Lookio** account (API Key) and an **Assistant ID**\n\n## How to take it further\n\n* **Add rate limiting / retries:** Insert error handling and delay nodes to respect API limits for large batches.\n* **Improve the speed**: You could drastically reduce the processing time by parallelizing the queries instead of doing them one after the other in the loop. For that, you could use HTTP request nodes that would trigger your sort of sub-workflow. \n* **Store results:** Add an **Airtable** or **Google Sheets** node to archive questions and responses for audit and reuse.\n* **Post-process answers:** Add an LLM node to summarize or standardize responses, or to add confidence flags.\n* **Trigger variations:** Replace the **Form Trigger** with a **Google Drive** or **Airtable** trigger to process CSVs automatically from a folder or table.",
  "featuredImage": "/data/workflows/9908/9908.webp",
  "author": {
    "id": 101,
    "slug": "duv",
    "name": "Guillaume Duvernay",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "AI RAG"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 284,
  "downloads": 28,
  "createdAt": "2025-10-19T18:09:04.469Z",
  "updatedAt": "2026-01-16T09:02:36.711Z",
  "publishedAt": "2025-10-19T18:09:04.469Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9908",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Run bulk RAG queries from CSV with Lookio",
    "workflowName": "Run bulk RAG queries from CSV with Lookio",
    "description": "This template processes a CSV of questions and returns an enriched CSV with RAG-based answers produced by your **Lookio** assistant. \n\nUpload a CSV that contains a column named **Query**, and the workflow will loop through every row, call the **Lookio API**, and append a **Response** column containing the assistant's answer. \n\nIt's ideal for batch tasks like drafting RFP responses, pre-filling support replies, generating knowledge-checked summaries, or validating large lists of product/customer questions against your internal documentation.\n\n## Who is this for?\n\n* **Knowledge managers & technical writers:** Produce draft answers to large question sets using your company docs.\n* **Sales & proposal teams:** Auto-generate RFP answer drafts informed by internal docs.\n* **Support & operations teams:** Bulk-enrich FAQs or support ticket templates with authoritative responses.\n* **Automation builders:** Integrate Lookio-powered retrieval into bulk data pipelines.\n\n## What it does / What problem does this solve?\n\n* **Automates bulk queries:** Eliminates the manual process of running many individual lookups.\n* **Ensures answers are grounded:** Responses come from your uploaded documents via **Lookio**, reducing hallucinations.\n* **Produces ready-to-use output:** Delivers an enriched CSV with a new **Response** column for downstream use.\n* **Simple UX:** Users only need to upload a CSV with a **Query** column and download the resulting file.\n\n## How it works\n\n1. **Form submission:** User uploads a CSV via the **Form Trigger**.\n2. **Extract & validate:** **Extract all rows** reads the CSV and **Aggregate rows** checks for a **Query** column.\n3. **Per-row loop:** **Split Out** and **Loop Over Queries** iterate rows; **Isolate the Query column** normalizes data.\n4. **Call Lookio:** **Lookio API call** posts each query to your assistant and returns the answer.\n5. **Build output:** **Prepare output** appends **Response** values and **Generate enriched CSV** creates the downloadable file delivered by **Form ending and file download**.\n\n## Why use Lookio for high quality RAG?\n\nWhile building a native **RAG pipeline** in n8n offers granular control, achieving consistently **high-quality and reliable results** requires significant effort in data processing, chunking strategy, and retrieval logic optimization. **Lookio** is designed to address these challenges by providing a managed RAG service accessible via a simple API. \n\nIt handles the entire **backend pipeline**—from processing various document formats to employing advanced retrieval techniques—allowing you to integrate a production-ready knowledge source into your workflows. This approach lets you **focus on building your automation in n8n**, rather than managing the complexities of a RAG infrastructure.\n\n## How to set up\n\n1. **Create a Lookio assistant:** Sign up at https://www.lookio.app/, upload documents, and create an assistant.\n2. **Get credentials:** Copy your **Lookio API Key** and **Assistant ID**.\n3. **Configure the workflow nodes:**\n   * In the **Lookio API call** **HTTP Request** node, replace the **api_key** header value with your **Lookio API Key** and update **assistant_id** with your **Assistant ID** (replace placeholders like `&lt;your-lookio-api-key&gt;` and `&lt;your-assistant-id&gt;`).\n   * Ensure the **Form Trigger** is enabled and accepts a **.csv** file.\n4. **CSV format:** Ensure the input CSV has a column named **Query** (case-sensitive as configured).\n5. **Activate the workflow:** Run a test upload and download the enriched CSV.\n\n## Requirements\n\n* An n8n instance with the ability to host Forms and run workflows\n* A **Lookio** account (API Key) and an **Assistant ID**\n\n## How to take it further\n\n* **Add rate limiting / retries:** Insert error handling and delay nodes to respect API limits for large batches.\n* **Improve the speed**: You could drastically reduce the processing time by parallelizing the queries instead of doing them one after the other in the loop. For that, you could use HTTP request nodes that would trigger your sort of sub-workflow. \n* **Store results:** Add an **Airtable** or **Google Sheets** node to archive questions and responses for audit and reuse.\n* **Post-process answers:** Add an LLM node to summarize or standardize responses, or to add confidence flags.\n* **Trigger variations:** Replace the **Form Trigger** with a **Google Drive** or **Airtable** trigger to process CSVs automatically from a folder or table.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Valid Query column?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Error message",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Isolate the Query column",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Lookio API call",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Prepare output",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Generate enriched CSV",
      "type": "n8n-nodes-base.convertToFile",
      "role": "convertToFile",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Form ending and file download",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Loop Over Queries",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Aggregate rows",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract all rows",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}