{
  "id": 9098,
  "slug": "9098",
  "title": "Product ingredient safety analyzer with Google Gemini via WhatsApp",
  "description": "# Product Ingredient Safety Analyzer with AI via WhatsApp\n\n## What does this workflow do?\n\nThis workflow creates an intelligent WhatsApp bot that analyzes product ingredients and provides instant safety assessments. Users can send either text queries (product names/brands) or images of product labels, and receive AI-powered analysis covering food, cosmetics, personal care, pharmaceuticals, and household products.\n\n## Who's it for?\n\n- **Health-conscious consumers** wanting to make informed purchasing decisions\n- **Parents** checking product safety for their children\n- **People with allergies or sensitivities** screening for harmful ingredients\n- **Beauty and skincare enthusiasts** verifying cosmetic product safety\n- **Wellness coaches or nutritionists** helping clients evaluate products\n- **Small business owners** offering product safety consultation services\n- **Eco-conscious consumers** checking for environmental toxins\n- **Anyone** looking to understand what's in their everyday products\n\n## What do you need to get started?\n\n### Required Accounts & APIs:\n- **WhatsApp Business API** - For receiving and sending messages\n- **Google Cloud Account** - For Document AI (OCR) service\n- **Google Gemini API** - For AI-powered ingredient analysis\n\n### Setup Steps:\n1. Configure WhatsApp Business API credentials\n2. Enable Google Document AI in your Google Cloud project\n3. Create a Document AI processor for OCR\n4. Set up Google Gemini API access\n5. Configure all credentials in N8N\n\n## How does this workflow work?\n\n### User Input Options:\n- **Text Messages**: Send product name/brand (e.g., \"Dove soap\", \"Coca Cola\")\n- **Images**: Upload photos of product ingredient labels\n- **Conversational**: Ask questions or request help\n\n### Processing Flow:\n\n**For Image Messages:**\n1. WhatsApp receives image message\n2. Extracts and downloads the image\n3. Converts image to Base64 format\n4. Uses Google Document AI OCR to extract text\n5. AI analyzes extracted text + user caption\n6. Returns safety assessment via WhatsApp\n\n**For Text Messages:**\n1. WhatsApp receives text query\n2. AI directly analyzes product name/ingredients\n3. Returns safety assessment via WhatsApp\n\n### AI Analysis Includes:\n- Product type identification (food, cosmetic, pharmaceutical, etc.)\n- Harmful ingredient detection (parabens, sulfates, trans fats, etc.)\n- Beneficial ingredient highlights\n- Clear safety verdict: ✅ SAFE / ⚠️ CAUTION / ❌ AVOID\n- Practical recommendations and alternatives\n\n### Response Format:\nThe AI provides concise, WhatsApp-friendly messages with:\n- Product category and type\n- Key ingredients found\n- Safety concerns with specific flags\n- Clear recommendation\n- Actionable advice\n\n## Use Cases\n\n- **Health-conscious consumers** checking food product ingredients\n- **Beauty enthusiasts** verifying cosmetic safety\n- **Parents** ensuring child product safety\n- **People with allergies** screening for harmful ingredients\n- **Eco-conscious users** checking for environmental toxins\n- **General wellness** making informed purchase decisions\n\n## Key Features\n\n- **Dual input support**: Text and image processing\n- **OCR technology**: Extracts text from product labels\n- **Multi-category analysis**: Food, cosmetics, pharmaceuticals, household items\n- **Conversational AI**: Handles greetings, help requests, unclear queries\n- **Mobile-optimized**: WhatsApp-friendly formatting\n- **Instant results**: Real-time safety assessments\n- **Educational**: Explains why ingredients are safe or harmful\n\n## Technical Highlights\n\n- **Smart routing**: Automatically detects message type (text vs image)\n- **Structured output**: JSON-formatted AI responses for reliability\n- **Product-specific criteria**: Different analysis standards per category\n- **Error handling**: Requests clearer images if OCR fails\n- **Conversational fallback**: Guides users when information is insufficient\n\n## Example Interactions\n\n**User sends image of shampoo bottle:**\n*Response:* \"Hair Care Product Analysis - Contains sulfates and parabens. ⚠️ USE WITH CAUTION. Consider sulfate-free alternatives for healthier hair.\"\n\n**User texts \"Maggi noodles\":**\n*Response:* \"Food Product Analysis - High sodium content, contains MSG and artificial colors. ❌ AVOID REGULAR CONSUMPTION. Occasional treat okay.\"\n\n**User texts \"Hi\":**\n*Response:* \"Hi! I'm your Product Safety Analyzer. Send me a product name or photo of ingredients to check safety!\"\n\n## Benefits\n\n- **Empowers informed decisions**: Know what you're consuming/using\n- **Saves research time**: Instant analysis vs manual ingredient lookup\n- **Accessible**: Works via familiar WhatsApp interface\n- **Comprehensive**: Covers multiple product categories\n- **Educational**: Learn about ingredient safety over time\n- **Convenient**: Analyze products while shopping\n\n## Notes\n\n- OCR works best with clear, well-lit images\n- AI provides general safety information, not medical advice\n- Analysis based on commonly known ingredient safety standards\n- Users should consult professionals for specific health concerns\n- Supports conversational queries for better user experience\n\n---\n",
  "featuredImage": "/data/workflows/9098/9098.webp",
  "author": {
    "id": 101,
    "slug": "rawsun007",
    "name": "Roshan Ramani",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 171,
  "downloads": 17,
  "createdAt": "2025-09-30T09:04:40.337Z",
  "updatedAt": "2026-01-16T08:58:58.679Z",
  "publishedAt": "2025-09-30T09:04:40.337Z",
  "nodes": 15,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9098",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Product ingredient safety analyzer with Google Gemini via WhatsApp",
    "workflowName": "Product ingredient safety analyzer with Google Gemini via WhatsApp",
    "description": "# Product Ingredient Safety Analyzer with AI via WhatsApp\n\n## What does this workflow do?\n\nThis workflow creates an intelligent WhatsApp bot that analyzes product ingredients and provides instant safety assessments. Users can send either text queries (product names/brands) or images of product labels, and receive AI-powered analysis covering food, cosmetics, personal care, pharmaceuticals, and household products.\n\n## Who's it for?\n\n- **Health-conscious consumers** wanting to make informed purchasing decisions\n- **Parents** checking product safety for their children\n- **People with allergies or sensitivities** screening for harmful ingredients\n- **Beauty and skincare enthusiasts** verifying cosmetic product safety\n- **Wellness coaches or nutritionists** helping clients evaluate products\n- **Small business owners** offering product safety consultation services\n- **Eco-conscious consumers** checking for environmental toxins\n- **Anyone** looking to understand what's in their everyday products\n\n## What do you need to get started?\n\n### Required Accounts & APIs:\n- **WhatsApp Business API** - For receiving and sending messages\n- **Google Cloud Account** - For Document AI (OCR) service\n- **Google Gemini API** - For AI-powered ingredient analysis\n\n### Setup Steps:\n1. Configure WhatsApp Business API credentials\n2. Enable Google Document AI in your Google Cloud project\n3. Create a Document AI processor for OCR\n4. Set up Google Gemini API access\n5. Configure all credentials in N8N\n\n## How does this workflow work?\n\n### User Input Options:\n- **Text Messages**: Send product name/brand (e.g., \"Dove soap\", \"Coca Cola\")\n- **Images**: Upload photos of product ingredient labels\n- **Conversational**: Ask questions or request help\n\n### Processing Flow:\n\n**For Image Messages:**\n1. WhatsApp receives image message\n2. Extracts and downloads the image\n3. Converts image to Base64 format\n4. Uses Google Document AI OCR to extract text\n5. AI analyzes extracted text + user caption\n6. Returns safety assessment via WhatsApp\n\n**For Text Messages:**\n1. WhatsApp receives text query\n2. AI directly analyzes product name/ingredients\n3. Returns safety assessment via WhatsApp\n\n### AI Analysis Includes:\n- Product type identification (food, cosmetic, pharmaceutical, etc.)\n- Harmful ingredient detection (parabens, sulfates, trans fats, etc.)\n- Beneficial ingredient highlights\n- Clear safety verdict: ✅ SAFE / ⚠️ CAUTION / ❌ AVOID\n- Practical recommendations and alternatives\n\n### Response Format:\nThe AI provides concise, WhatsApp-friendly messages with:\n- Product category and type\n- Key ingredients found\n- Safety concerns with specific flags\n- Clear recommendation\n- Actionable advice\n\n## Use Cases\n\n- **Health-conscious consumers** checking food product ingredients\n- **Beauty enthusiasts** verifying cosmetic safety\n- **Parents** ensuring child product safety\n- **People with allergies** screening for harmful ingredients\n- **Eco-conscious users** checking for environmental toxins\n- **General wellness** making informed purchase decisions\n\n## Key Features\n\n- **Dual input support**: Text and image processing\n- **OCR technology**: Extracts text from product labels\n- **Multi-category analysis**: Food, cosmetics, pharmaceuticals, household items\n- **Conversational AI**: Handles greetings, help requests, unclear queries\n- **Mobile-optimized**: WhatsApp-friendly formatting\n- **Instant results**: Real-time safety assessments\n- **Educational**: Explains why ingredients are safe or harmful\n\n## Technical Highlights\n\n- **Smart routing**: Automatically detects message type (text vs image)\n- **Structured output**: JSON-formatted AI responses for reliability\n- **Product-specific criteria**: Different analysis standards per category\n- **Error handling**: Requests clearer images if OCR fails\n- **Conversational fallback**: Guides users when information is insufficient\n\n## Example Interactions\n\n**User sends image of shampoo bottle:**\n*Response:* \"Hair Care Product Analysis - Contains sulfates and parabens. ⚠️ USE WITH CAUTION. Consider sulfate-free alternatives for healthier hair.\"\n\n**User texts \"Maggi noodles\":**\n*Response:* \"Food Product Analysis - High sodium content, contains MSG and artificial colors. ❌ AVOID REGULAR CONSUMPTION. Occasional treat okay.\"\n\n**User texts \"Hi\":**\n*Response:* \"Hi! I'm your Product Safety Analyzer. Send me a product name or photo of ingredients to check safety!\"\n\n## Benefits\n\n- **Empowers informed decisions**: Know what you're consuming/using\n- **Saves research time**: Instant analysis vs manual ingredient lookup\n- **Accessible**: Works via familiar WhatsApp interface\n- **Comprehensive**: Covers multiple product categories\n- **Educational**: Learn about ingredient safety over time\n- **Convenient**: Analyze products while shopping\n\n## Notes\n\n- OCR works best with clear, well-lit images\n- AI provides general safety information, not medical advice\n- Analysis based on commonly known ingredient safety standards\n- Users should consult professionals for specific health concerns\n- Supports conversational queries for better user experience\n\n---",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "role": "whatsAppTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Route By Message Type",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Get Image Media URL",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Download Image File",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Convert Image to Base64",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Text via OCR",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Analyze Image Ingredients",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Gemini Model (Image Branch)",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "JSON Parser (Image)",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send Analysis of Image",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Analyze Text Query",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Gemini Model (Text Branch)",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "JSON Parser (Text)",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send Analysis of Text",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}