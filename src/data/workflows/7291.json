{
  "id": 7291,
  "slug": "7291",
  "title": "Full-cycle invoice automation: Airtable, QuickBooks & Stripe",
  "description": "# This n8n template from [Intuz](https://www.intuz.com/) provides a complete and automated solution for full-cycle invoicing, orchestrating a seamless flow between Airtable, QuickBooks, and Stripe. \n\nThis is the ultimate sales-to-cash automation. When a deal in Airtable is marked \"Approved for Invoicing,\" this workflow intelligently syncs customer data across QuickBooks and Stripe (creating them if they don't exist), generates an official QuickBooks invoice, creates a Stripe payment link, and then updates the original Airtable record with all the new IDs and links. Eliminate manual data entry and keep your systems perfectly in sync.\n\n\n## Who's this workflow for? \n\n1. Finance, Accounting, and Operations Teams\n2. SalesOps and RevOps Teams\n3. Small Business Owners and Founders\n4. Agencies and Freelancers\n\n\n## How It Works:\n**1. Airtable Trigger & Approval Gate:** The workflow starts when a record in your Airtable base is updated. An If node immediately checks if the Status field is set to \"Approved for Invoicing.\" If not, the workflow for that item stops.\n\n**2. Customer Sync (QuickBooks & Stripe):**\n- The workflow searches for the customer in both QuickBooks and Stripe using the details from Airtable.\n- Using If nodes, it intelligently checks if the customer exists. If a customer is not found in either platform, it creates a new one. This \"find-or-create\" logic prevents duplicate records.\n\n**3. Update Airtable with IDs:** Once the customer IDs from both QuickBooks and Stripe are secured (either found or newly created), the workflow updates the original Airtable record with these new IDs for future reference.\n\n**4. Generate Financials:**\n- Stripe Payment Link: It sends an HTTP request to Stripe to create a unique, ready-to-use payment link for the specified amount.\n- QuickBooks Invoice: It fetches your product list from QuickBooks, finds the matching item from the Airtable record, and generates a formal, detailed invoice.\n\n**5. Close the Loop**: In the final step, the workflow updates the Airtable record one last time to:\n- Add the QuickBooks Invoice #.\n- Add the Stripe Payment Link.\n- Change the Status to \"Invoiced.\"\n\n\n##  Step-by-Step Setup Instructions\nThis is an advanced workflow. Follow these setup steps carefully.\n\n**1. Connect Your Credentials**\n- Airtable: Create and connect a Personal Access Token with data.records:read and data.records:write scopes.\n- QuickBooks: Connect your QuickBooks Online account using OAuth2 credentials.\n- Stripe: Connect your Stripe account using your Secret Key.\n\n**2. Airtable Base Setup (Crucial)**\nYour Airtable base must have a table with the following columns. The names must match exactly:\n\n- Deal Name (Text)\n- Client Name (Text)\n- Client Email (Email)\n- Status (Single-select with options: Draft,\n- Approved for Invoicing, Invoiced)\n- QuickBooks Customer ID (Text)\n- Stripe Customer ID (Text)\n- Stripe Payment Link (URL)\n- QuickBooks Invoice # (Text)\n- Stripe Price Id (Text - The API ID of your price in Stripe, e.g., price_123...)\n- Quantity (Number)\n- Quickbooks Product Name (Text)\n- Created (Created Time) - This is used by the trigger.\n\n**3. Configure the n8n Nodes**\n- All Airtable Nodes: In each Airtable node, select your Base and Table from the dropdown lists.\n- Get all Quickbook products (HTTP Request Node):\nYou must replace {YOUR_QUICKBOOKS_COMPANY_ID} in the URL with your actual QuickBooks Company ID (also known as a Realm ID).\n\n**4. Activate the Workflow**\nSave the workflow and toggle the Active switch to \"on\". The workflow will now trigger whenever the Created field is updated for a record in your Airtable base.\n\n\n## Customization Guidance\n- Changing the Trigger Status: If you use a different status than \"Approved for Invoicing,\" simply update the value in the \"IF - Status Check\" node.\n- Modifying Invoice Details: You can customize the Description or other line item details in the \"Create an invoice\" (QuickBooks) node by pulling more fields from your Airtable record.\n- Adding Email Notifications: To notify a customer when their invoice is ready, add a Gmail or SendGrid node after the last Airtable Update node. You can include the Stripe Payment Link and a PDF of the QuickBooks invoice directly in the email.\n- Advanced Error Handling: For a production environment, consider connecting the false output of the various IF nodes or using the .onError() workflow setting to send a Slack or email alert if a customer can't be found or an API call fails.\n\n\n## Support\nFor further support, or to develop a custom workflow, reach out to:\n\n- Website: https://www.intuz.com/services\n- Email: getstarted@intuz.com\n- LinkedIn: https://www.linkedin.com/company/intuz\n- Get Started: https://n8n.partnerlinks.io/intuz\n\n## For Custom Worflow Automation\nClick here- [Get Started](https://www.intuz.com/get-started)\n",
  "featuredImage": "/data/workflows/7291/7291.webp",
  "author": {
    "id": 101,
    "slug": "intuz",
    "name": "Intuz ",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1165,
  "downloads": 116,
  "createdAt": "2025-08-12T12:36:34.244Z",
  "updatedAt": "2026-01-16T08:49:32.744Z",
  "publishedAt": "2025-08-12T12:36:34.244Z",
  "nodes": 46,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7291",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Full-cycle invoice automation: Airtable, QuickBooks & Stripe",
    "workflowName": "Full-cycle invoice automation: Airtable, QuickBooks & Stripe",
    "description": "# This n8n template from [Intuz](https://www.intuz.com/) provides a complete and automated solution for full-cycle invoicing, orchestrating a seamless flow between Airtable, QuickBooks, and Stripe. \n\nThis is the ultimate sales-to-cash automation. When a deal in Airtable is marked \"Approved for Invoicing,\" this workflow intelligently syncs customer data across QuickBooks and Stripe (creating them if they don't exist), generates an official QuickBooks invoice, creates a Stripe payment link, and then updates the original Airtable record with all the new IDs and links. Eliminate manual data entry and keep your systems perfectly in sync.\n\n\n## Who's this workflow for? \n\n1. Finance, Accounting, and Operations Teams\n2. SalesOps and RevOps Teams\n3. Small Business Owners and Founders\n4. Agencies and Freelancers\n\n\n## How It Works:\n**1. Airtable Trigger & Approval Gate:** The workflow starts when a record in your Airtable base is updated. An If node immediately checks if the Status field is set to \"Approved for Invoicing.\" If not, the workflow for that item stops.\n\n**2. Customer Sync (QuickBooks & Stripe):**\n- The workflow searches for the customer in both QuickBooks and Stripe using the details from Airtable.\n- Using If nodes, it intelligently checks if the customer exists. If a customer is not found in either platform, it creates a new one. This \"find-or-create\" logic prevents duplicate records.\n\n**3. Update Airtable with IDs:** Once the customer IDs from both QuickBooks and Stripe are secured (either found or newly created), the workflow updates the original Airtable record with these new IDs for future reference.\n\n**4. Generate Financials:**\n- Stripe Payment Link: It sends an HTTP request to Stripe to create a unique, ready-to-use payment link for the specified amount.\n- QuickBooks Invoice: It fetches your product list from QuickBooks, finds the matching item from the Airtable record, and generates a formal, detailed invoice.\n\n**5. Close the Loop**: In the final step, the workflow updates the Airtable record one last time to:\n- Add the QuickBooks Invoice #.\n- Add the Stripe Payment Link.\n- Change the Status to \"Invoiced.\"\n\n\n##  Step-by-Step Setup Instructions\nThis is an advanced workflow. Follow these setup steps carefully.\n\n**1. Connect Your Credentials**\n- Airtable: Create and connect a Personal Access Token with data.records:read and data.records:write scopes.\n- QuickBooks: Connect your QuickBooks Online account using OAuth2 credentials.\n- Stripe: Connect your Stripe account using your Secret Key.\n\n**2. Airtable Base Setup (Crucial)**\nYour Airtable base must have a table with the following columns. The names must match exactly:\n\n- Deal Name (Text)\n- Client Name (Text)\n- Client Email (Email)\n- Status (Single-select with options: Draft,\n- Approved for Invoicing, Invoiced)\n- QuickBooks Customer ID (Text)\n- Stripe Customer ID (Text)\n- Stripe Payment Link (URL)\n- QuickBooks Invoice # (Text)\n- Stripe Price Id (Text - The API ID of your price in Stripe, e.g., price_123...)\n- Quantity (Number)\n- Quickbooks Product Name (Text)\n- Created (Created Time) - This is used by the trigger.\n\n**3. Configure the n8n Nodes**\n- All Airtable Nodes: In each Airtable node, select your Base and Table from the dropdown lists.\n- Get all Quickbook products (HTTP Request Node):\nYou must replace {YOUR_QUICKBOOKS_COMPANY_ID} in the URL with your actual QuickBooks Company ID (also known as a Realm ID).\n\n**4. Activate the Workflow**\nSave the workflow and toggle the Active switch to \"on\". The workflow will now trigger whenever the Created field is updated for a record in your Airtable base.\n\n\n## Customization Guidance\n- Changing the Trigger Status: If you use a different status than \"Approved for Invoicing,\" simply update the value in the \"IF - Status Check\" node.\n- Modifying Invoice Details: You can customize the Description or other line item details in the \"Create an invoice\" (QuickBooks) node by pulling more fields from your Airtable record.\n- Adding Email Notifications: To notify a customer when their invoice is ready, add a Gmail or SendGrid node after the last Airtable Update node. You can include the Stripe Payment Link and a PDF of the QuickBooks invoice directly in the email.\n- Advanced Error Handling: For a production environment, consider connecting the false output of the various IF nodes or using the .onError() workflow setting to send a Slack or email alert if a customer can't be found or an API call fails.\n\n\n## Support\nFor further support, or to develop a custom workflow, reach out to:\n\n- Website: https://www.intuz.com/services\n- Email: getstarted@intuz.com\n- LinkedIn: https://www.linkedin.com/company/intuz\n- Get Started: https://n8n.partnerlinks.io/intuz\n\n## For Custom Worflow Automation\nClick here- [Get Started](https://www.intuz.com/get-started)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Airtable Trigger",
      "type": "n8n-nodes-base.airtableTrigger",
      "role": "airtableTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "IF - Status Check",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "IF - Customer Exists?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge QBO Customer",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 1"
    },
    {
      "name": "Stripe - Find Customer",
      "type": "n8n-nodes-base.stripe",
      "role": "stripe",
      "configDescription": "Version 1"
    },
    {
      "name": "IF - Stripe Customer Exists?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Stripe - Create Customer",
      "type": "n8n-nodes-base.stripe",
      "role": "stripe",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge Stripe Customer",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 1"
    },
    {
      "name": "QuickBooks - Find Customer",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Create an invoice",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Create a customer",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Search records",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Exit from workflow",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "If - Stripe Customer Id",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge - Stripe Customers",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Search records by email",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Update Quickbooks and Stripe Customer Ids",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Payment Links",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get all Quickbook products",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Filter and Return product details",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Update Stripe Payment Link and Quickbooks Invoice #",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Workflow Completed",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note21",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note22",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note23",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}