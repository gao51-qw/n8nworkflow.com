{
  "id": 2197,
  "slug": "2197",
  "title": "Auto-label incoming Gmail messages with AI nodes",
  "description": "This workflow uses AI to analyze the content of every new message in Gmail and then assigns specific labels, according to the context of the email. \n\nDefault configuration of the workflow includes 3 labels:\n- ‚ÄûPartnership‚Äù - email about sponsored content or cooperation,\n- ‚ÄûInquiry‚Äù - email about products, services,\n- ‚ÄûNotification‚Äù - email that doesn't require response.\n\nYou can add or edit labels and descriptions according to your use case. \n\nüé¨ See this workflow in action [in my YouTube video](https://youtu.be/a8Dhj3Zh9vQ) about automating Gmail. \n\n## How it works?\n\nGmail trigger performs polling every minute for new messages (you can change the trigger interval according to your needs). The email content is then downloaded and forwarded to an AI chain.\n\nüí° The prompt in the AI chain node includes instructions for applying labels according to the email content - change label names and instructions to fit your use case.\n\nNext, the workflow retrieves all labels from the Gmail account and compares them with the label names returned from the AI chain. Label IDs are aggregated and applied to processed email messages.\n\n‚ö†Ô∏è Label names in the Gmail account and workflow (prompt, JSON schema) must be the same.\n\n## Set up steps\n\n1. Set credentials for Gmail and OpenAI. \n2. Add labels to your Gmail account (e.g. ‚ÄûPartnership‚Äù, ‚ÄûInquiry‚Äù and ‚ÄûNotification‚Äù).\n3. Change prompt in AI chain node (update list of label names and instructions). \n4. Change list of available labels in JSON schema in parser node. \n5. Optionally: change polling interval in Gmail trigger (by default interval is 1 minute).\n\nIf you like this workflow, please subscribe to [my YouTube channel](https://www.youtube.com/@workfloows/) and/or [my newsletter](https://workfloows.com/).\n\n\n\n",
  "featuredImage": "/data/workflows/2197/2197.webp",
  "author": {
    "id": 101,
    "slug": "workfloows",
    "name": "Oskar",
    "avatar": ""
  },
  "categories": [
    "Ticket Management",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 29994,
  "downloads": 2999,
  "createdAt": "2024-03-27T09:52:46.644Z",
  "updatedAt": "2026-01-16T08:23:31.135Z",
  "publishedAt": "2024-03-27T09:52:46.644Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2197",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Auto-label incoming Gmail messages with AI nodes",
    "workflowName": "Auto-label incoming Gmail messages with AI nodes",
    "description": "This workflow uses AI to analyze the content of every new message in Gmail and then assigns specific labels, according to the context of the email. \n\nDefault configuration of the workflow includes 3 labels:\n- ‚ÄûPartnership‚Äù - email about sponsored content or cooperation,\n- ‚ÄûInquiry‚Äù - email about products, services,\n- ‚ÄûNotification‚Äù - email that doesn't require response.\n\nYou can add or edit labels and descriptions according to your use case. \n\nüé¨ See this workflow in action [in my YouTube video](https://youtu.be/a8Dhj3Zh9vQ) about automating Gmail. \n\n## How it works?\n\nGmail trigger performs polling every minute for new messages (you can change the trigger interval according to your needs). The email content is then downloaded and forwarded to an AI chain.\n\nüí° The prompt in the AI chain node includes instructions for applying labels according to the email content - change label names and instructions to fit your use case.\n\nNext, the workflow retrieves all labels from the Gmail account and compares them with the label names returned from the AI chain. Label IDs are aggregated and applied to processed email messages.\n\n‚ö†Ô∏è Label names in the Gmail account and workflow (prompt, JSON schema) must be the same.\n\n## Set up steps\n\n1. Set credentials for Gmail and OpenAI. \n2. Add labels to your Gmail account (e.g. ‚ÄûPartnership‚Äù, ‚ÄûInquiry‚Äù and ‚ÄûNotification‚Äù).\n3. Change prompt in AI chain node (update list of label names and instructions). \n4. Change list of available labels in JSON schema in parser node. \n5. Optionally: change polling interval in Gmail trigger (by default interval is 1 minute).\n\nIf you like this workflow, please subscribe to [my YouTube channel](https://www.youtube.com/@workfloows/) and/or [my newsletter](https://workfloows.com/).",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Gmail trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "role": "gmailTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get message content",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Assign labels for message",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.5"
    },
    {
      "name": "OpenAI Chat",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "JSON Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Set label values",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get all labels",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Split out assigned labels",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge corresponding labels",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Aggregate label IDs",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Add labels to message",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    }
  ]
}