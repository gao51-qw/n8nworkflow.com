{
  "id": 6457,
  "slug": "6457",
  "title": "Remove image backgrounds with APImage AI: Airtable to Google Drive",
  "description": "# AI Background Removal Workflow\n\nThis workflow **automatically removes backgrounds** from images stored in **Airtable** using the **[APImage API ðŸ¡¥](https://apimage.org)**, then downloads and saves the processed images to **Google Drive**. Perfect for batch processing product photos, portraits, or any images that need clean, transparent backgrounds. The source (Airtable) and the storage (Google Drive) can be **changed to any service** or database you want/use.\n\n![Remove Background Images Automated AI n8n workflow.jpg](fileId:1864)\n\n## ðŸ§© Nodes Overview\n\n### 1. **Remove Background** (Manual Trigger)\nThis manual trigger starts the background removal process when clicked. \n\n**Customization Options:**\n- Replace with **Schedule Trigger** for automatic daily/weekly processing\n- Replace with **Webhook Trigger** to start via API calls  \n- Replace with **File Trigger** to process when new files are added\n\n---\n\n### 2. **Get a Record** (Airtable)\nRetrieves media files from your Airtable \"Creatives Library\" database.\n- Connects to the \"Media Files\" table in your Airtable base\n- Fetches records containing image thumbnails for processing\n- Returns all matching records with their thumbnail URLs and metadata\n\n**Required Airtable Structure:**\n- Table with image/attachment field (currently expects \"Thumbnail\" field)\n- Optional fields: File Name, Media Type, Upload Date, File Size\n\n**Customization Options:**\n- Replace with **Google Sheets**, **Notion**, or any database node\n- Add filters to process only specific records\n- Change to different tables with image URLs\n\n---\n\n### 3. **Code** (JavaScript Processing)\nProcesses Airtable records and prepares thumbnail data for background removal.\n- Extracts thumbnail URLs from each record\n- Chooses best quality thumbnail (large &gt; full &gt; original)  \n- Creates clean filenames by removing special characters\n- Adds processing metadata and timestamps\n\n**Key Features:**\n```javascript\n// Selects best thumbnail quality\nif (thumbnail.thumbnails?.large?.url) {\n  thumbnailUrl = thumbnail.thumbnails.large.url;\n}\n\n// Creates clean filename\ncleanFileName: (record.fields['File Name'] || 'unknown')\n  .replace(/[^a-zA-Z0-9]/g, '_')\n  .toLowerCase()\n```\n\n**Easy Customization for Different Databases:**\n- **Product Database**: Change field mappings to 'Product Name', 'SKU', 'Category'\n- **Portfolio Database**: Use 'Project Name', 'Client', 'Tags'  \n- **Employee Database**: Use 'Full Name', 'Department', 'Position'\n\n---\n\n### 4. **Split Out**\nConverts the array of thumbnails into individual items for parallel processing.\n- Enables processing multiple images simultaneously\n- Each item contains all thumbnail metadata for downstream nodes\n\n---\n\n### 5. **APImage API** (HTTP Request)\nCalls the APImage service to remove backgrounds from images.\n\n**API Endpoint:**\n```\nPOST https://apimage.org/api/ai-remove-background\n```\n\n**Request Configuration:**\n- **Header**: `Authorization: Bearer YOUR_API_KEY`\n- **Body**: `image_url: {{ $json.originalThumbnailUrl }}`\n\nâœ… **Setup Required:**\n1. Replace `YOUR_API_KEY` with your actual API key\n2. Get your key from [APImage Dashboard ðŸ¡¥](https://apimage.org/dashboard)\n\n---\n\n### 6. **Download** (HTTP Request)\nDownloads the processed image from APImage's servers using the returned URL.\n- Fetches the background-removed image file\n- Prepares image data for upload to storage\n\n---\n\n### 7. **Upload File** (Google Drive)\nSaves processed images to your Google Drive in a \"bg_removal\" folder.\n\n**Customization Options:**\n- Replace with **Dropbox**, **OneDrive**, **AWS S3**, or **FTP** upload\n- Create date-based folder structures\n- Use dynamic filenames with metadata\n- Upload to multiple destinations simultaneously\n\n---\n\n## âœ¨ How To Get Started\n\n1. **Set up APImage API:**\n   - Double-click the **APImage API** node\n   - Replace `YOUR_API_KEY` with your actual API key\n   - Keep the `Bearer` prefix\n\n2. **Configure Airtable:**\n   - Ensure your Airtable has a table with image attachments\n   - Update field names in the **Code** node if different from defaults\n\n3. **Test the workflow:**\n   - Click the **Remove Background** trigger node\n   - Verify images are processed and uploaded successfully\n\nðŸ”— [Get your API Key ðŸ¡¥](https://apimage.org/dashboard)\n\n---\n\n## ðŸ”§ How to Customize\n\n### **Input Customization** (Left Section)\nReplace the Airtable integration with any data source containing image URLs:\n- **Google Sheets** with product catalogs\n- **Notion** databases with image galleries  \n- **Webhooks** from external systems\n- **File system** monitoring for new uploads\n- **Database** queries for image records\n\n### **Output Customization** (Right Section)  \nModify where processed images are stored:\n- **Multiple Storage**: Upload to Google Drive + Dropbox simultaneously\n- **Database Updates**: Update original records with processed image URLs\n- **Email/Slack**: Send processed images via communication tools\n- **Website Integration**: Upload directly to WordPress, Shopify, etc.\n\n### **Processing Customization**\n- **Batch Processing**: Limit concurrent API calls\n- **Quality Control**: Add image validation before/after processing\n- **Format Conversion**: Use Sharp node for resizing or format changes\n- **Metadata Preservation**: Extract and maintain EXIF data\n\n---\n\n## ðŸ“‹ Workflow Connections\n```text\nRemove Background â†’ Get a Record â†’ Code â†’ Split Out â†’ APImage API â†’ Download â†’ Upload File\n```\n\n---\n\n## ðŸŽ¯ Perfect For\n\n- **E-commerce**: Batch process product photos for clean, professional listings\n- **Marketing Teams**: Remove backgrounds from brand assets and imagery  \n- **Photographers**: Automate background removal for portrait sessions\n- **Content Creators**: Prepare images for presentations and social media\n- **Design Agencies**: Streamline asset preparation workflows\n\n---\n\n## ðŸ“š Resources\n\n- [APImage API Documentation ðŸ¡¥](https://apimage.org/docs)\n- [Airtable API Reference ðŸ¡¥](https://airtable.com/developers/web/api/introduction)\n- [n8n Documentation ðŸ¡¥](https://docs.n8n.io)\n\n---\n\n**âš¡ Processing Speed**: Handles multiple images in parallel for fast batch processing  \n**ðŸ”’ Secure**: API keys stored safely in n8n credentials  \n**ðŸ”„ Reliable**: Built-in error handling and retry mechanisms",
  "featuredImage": "/data/workflows/6457/6457.webp",
  "author": {
    "id": 101,
    "slug": "gegenfeld",
    "name": "Gegenfeld",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 278,
  "downloads": 27,
  "createdAt": "2025-07-25T19:49:17.806Z",
  "updatedAt": "2026-01-16T08:45:04.666Z",
  "publishedAt": "2025-07-25T19:49:17.806Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6457",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Remove image backgrounds with APImage AI: Airtable to Google Drive",
    "workflowName": "Remove image backgrounds with APImage AI: Airtable to Google Drive",
    "description": "# AI Background Removal Workflow\n\nThis workflow **automatically removes backgrounds** from images stored in **Airtable** using the **[APImage API ðŸ¡¥](https://apimage.org)**, then downloads and saves the processed images to **Google Drive**. Perfect for batch processing product photos, portraits, or any images that need clean, transparent backgrounds. The source (Airtable) and the storage (Google Drive) can be **changed to any service** or database you want/use.\n\n![Remove Background Images Automated AI n8n workflow.jpg](fileId:1864)\n\n## ðŸ§© Nodes Overview\n\n### 1. **Remove Background** (Manual Trigger)\nThis manual trigger starts the background removal process when clicked. \n\n**Customization Options:**\n- Replace with **Schedule Trigger** for automatic daily/weekly processing\n- Replace with **Webhook Trigger** to start via API calls  \n- Replace with **File Trigger** to process when new files are added\n\n---\n\n### 2. **Get a Record** (Airtable)\nRetrieves media files from your Airtable \"Creatives Library\" database.\n- Connects to the \"Media Files\" table in your Airtable base\n- Fetches records containing image thumbnails for processing\n- Returns all matching records with their thumbnail URLs and metadata\n\n**Required Airtable Structure:**\n- Table with image/attachment field (currently expects \"Thumbnail\" field)\n- Optional fields: File Name, Media Type, Upload Date, File Size\n\n**Customization Options:**\n- Replace with **Google Sheets**, **Notion**, or any database node\n- Add filters to process only specific records\n- Change to different tables with image URLs\n\n---\n\n### 3. **Code** (JavaScript Processing)\nProcesses Airtable records and prepares thumbnail data for background removal.\n- Extracts thumbnail URLs from each record\n- Chooses best quality thumbnail (large &gt; full &gt; original)  \n- Creates clean filenames by removing special characters\n- Adds processing metadata and timestamps\n\n**Key Features:**\n```javascript\n// Selects best thumbnail quality\nif (thumbnail.thumbnails?.large?.url) {\n  thumbnailUrl = thumbnail.thumbnails.large.url;\n}\n\n// Creates clean filename\ncleanFileName: (record.fields['File Name'] || 'unknown')\n  .replace(/[^a-zA-Z0-9]/g, '_')\n  .toLowerCase()\n```\n\n**Easy Customization for Different Databases:**\n- **Product Database**: Change field mappings to 'Product Name', 'SKU', 'Category'\n- **Portfolio Database**: Use 'Project Name', 'Client', 'Tags'  \n- **Employee Database**: Use 'Full Name', 'Department', 'Position'\n\n---\n\n### 4. **Split Out**\nConverts the array of thumbnails into individual items for parallel processing.\n- Enables processing multiple images simultaneously\n- Each item contains all thumbnail metadata for downstream nodes\n\n---\n\n### 5. **APImage API** (HTTP Request)\nCalls the APImage service to remove backgrounds from images.\n\n**API Endpoint:**\n```\nPOST https://apimage.org/api/ai-remove-background\n```\n\n**Request Configuration:**\n- **Header**: `Authorization: Bearer YOUR_API_KEY`\n- **Body**: `image_url: {{ $json.originalThumbnailUrl }}`\n\nâœ… **Setup Required:**\n1. Replace `YOUR_API_KEY` with your actual API key\n2. Get your key from [APImage Dashboard ðŸ¡¥](https://apimage.org/dashboard)\n\n---\n\n### 6. **Download** (HTTP Request)\nDownloads the processed image from APImage's servers using the returned URL.\n- Fetches the background-removed image file\n- Prepares image data for upload to storage\n\n---\n\n### 7. **Upload File** (Google Drive)\nSaves processed images to your Google Drive in a \"bg_removal\" folder.\n\n**Customization Options:**\n- Replace with **Dropbox**, **OneDrive**, **AWS S3**, or **FTP** upload\n- Create date-based folder structures\n- Use dynamic filenames with metadata\n- Upload to multiple destinations simultaneously\n\n---\n\n## âœ¨ How To Get Started\n\n1. **Set up APImage API:**\n   - Double-click the **APImage API** node\n   - Replace `YOUR_API_KEY` with your actual API key\n   - Keep the `Bearer` prefix\n\n2. **Configure Airtable:**\n   - Ensure your Airtable has a table with image attachments\n   - Update field names in the **Code** node if different from defaults\n\n3. **Test the workflow:**\n   - Click the **Remove Background** trigger node\n   - Verify images are processed and uploaded successfully\n\nðŸ”— [Get your API Key ðŸ¡¥](https://apimage.org/dashboard)\n\n---\n\n## ðŸ”§ How to Customize\n\n### **Input Customization** (Left Section)\nReplace the Airtable integration with any data source containing image URLs:\n- **Google Sheets** with product catalogs\n- **Notion** databases with image galleries  \n- **Webhooks** from external systems\n- **File system** monitoring for new uploads\n- **Database** queries for image records\n\n### **Output Customization** (Right Section)  \nModify where processed images are stored:\n- **Multiple Storage**: Upload to Google Drive + Dropbox simultaneously\n- **Database Updates**: Update original records with processed image URLs\n- **Email/Slack**: Send processed images via communication tools\n- **Website Integration**: Upload directly to WordPress, Shopify, etc.\n\n### **Processing Customization**\n- **Batch Processing**: Limit concurrent API calls\n- **Quality Control**: Add image validation before/after processing\n- **Format Conversion**: Use Sharp node for resizing or format changes\n- **Metadata Preservation**: Extract and maintain EXIF data\n\n---\n\n## ðŸ“‹ Workflow Connections\n```text\nRemove Background â†’ Get a Record â†’ Code â†’ Split Out â†’ APImage API â†’ Download â†’ Upload File\n```\n\n---\n\n## ðŸŽ¯ Perfect For\n\n- **E-commerce**: Batch process product photos for clean, professional listings\n- **Marketing Teams**: Remove backgrounds from brand assets and imagery  \n- **Photographers**: Automate background removal for portrait sessions\n- **Content Creators**: Prepare images for presentations and social media\n- **Design Agencies**: Streamline asset preparation workflows\n\n---\n\n## ðŸ“š Resources\n\n- [APImage API Documentation ðŸ¡¥](https://apimage.org/docs)\n- [Airtable API Reference ðŸ¡¥](https://airtable.com/developers/web/api/introduction)\n- [n8n Documentation ðŸ¡¥](https://docs.n8n.io)\n\n---\n\n**âš¡ Processing Speed**: Handles multiple images in parallel for fast batch processing  \n**ðŸ”’ Secure**: API keys stored safely in n8n credentials  \n**ðŸ”„ Reliable**: Built-in error handling and retry mechanisms",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get a record",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Download",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Upload file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "APImage API",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Remove Background",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}