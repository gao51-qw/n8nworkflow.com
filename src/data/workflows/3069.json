{
  "id": 3069,
  "slug": "3069",
  "title": "Analyze Meta Ad Library Video Ads with Gemini and store results in Google Sheets",
  "description": "# Meta Ads Analyzer\n\nThis n8n template builds an automated system to scrape, analyze, and extract insights from Meta advertising content. The workflow uses AI to perform deep analysis of video ads and organize the results in a structured format.\n\n**How it works**\n* The workflow connects to Facebook's Ad Library to scrape video ads based on a specified page ID.\n* Videos are filtered by reach and processed through Google's Gemini AI to analyze their content.\n* Each video is systematically analyzed for its hook, transcript, advertising format, concept, and narrative structure.\n* Results are processed through an AI agent that structures the data into standardized fields.\n* All analysis is saved to a Google Sheet for easy access and further processing.\n\n**How to use**\nOnce you've set up your Credentials and configured the output:\n* Configure the Google Sheets connection for data output.\n* Specify the Meta Ad Library URL you want to analyze.\n* Adjust the maximum number of ads to scrape and analyze based on your needs.\n* Click \"Test Workflow\" to start the analysis process.\n\n**Requirements**\n* Apify account (for Meta Ad Library scraping)\n* Google Gemini \n* Google Sheets \n\n**Customizing this workflow**\n* Modify the AI prompts in the Settings node to extract different information from the videos.\n* Adjust the output formats in the AI Agent and Structured Output Parser nodes.\n* Change the Google Sheets mapping to match your desired output structure.\n* Increase the number of ads analyzed for more comprehensive research.",
  "featuredImage": "/data/workflows/3069/3069.webp",
  "author": {
    "id": 101,
    "slug": "danielsetzermann",
    "name": "Daniel Setzermann",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 2264,
  "downloads": 226,
  "createdAt": "2025-03-03T12:43:59.853Z",
  "updatedAt": "2026-01-16T08:27:54.836Z",
  "publishedAt": "2025-03-03T12:43:59.853Z",
  "nodes": 24,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3069",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Analyze Meta Ad Library Video Ads with Gemini and store results in Google Sheets",
    "workflowName": "Analyze Meta Ad Library Video Ads with Gemini and store results in Google Sheets",
    "description": "# Meta Ads Analyzer\n\nThis n8n template builds an automated system to scrape, analyze, and extract insights from Meta advertising content. The workflow uses AI to perform deep analysis of video ads and organize the results in a structured format.\n\n**How it works**\n* The workflow connects to Facebook's Ad Library to scrape video ads based on a specified page ID.\n* Videos are filtered by reach and processed through Google's Gemini AI to analyze their content.\n* Each video is systematically analyzed for its hook, transcript, advertising format, concept, and narrative structure.\n* Results are processed through an AI agent that structures the data into standardized fields.\n* All analysis is saved to a Google Sheet for easy access and further processing.\n\n**How to use**\nOnce you've set up your Credentials and configured the output:\n* Configure the Google Sheets connection for data output.\n* Specify the Meta Ad Library URL you want to analyze.\n* Adjust the maximum number of ads to scrape and analyze based on your needs.\n* Click \"Test Workflow\" to start the analysis process.\n\n**Requirements**\n* Apify account (for Meta Ad Library scraping)\n* Google Gemini \n* Google Sheets \n\n**Customizing this workflow**\n* Modify the AI prompts in the Settings node to extract different information from the videos.\n* Adjust the output formats in the AI Agent and Structured Output Parser nodes.\n* Change the Google Sheets mapping to match your desired output structure.\n* Increase the number of ads analyzed for more comprehensive research.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Settings",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Clean Prompt",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Store Data",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Structured Output Parsing Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Wait for Upload Processing",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Pass Values for Gemini",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Upload Video to Gemini",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Analyze Video with Gemini",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Download File",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Change Filetype to Video",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Scrape Meta Ad Library with Apify",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Pass relevant Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Calculate Runtime in Days",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sort by Reach or Days Running",
      "type": "n8n-nodes-base.sort",
      "role": "sort",
      "configDescription": "Version 1"
    },
    {
      "name": "Filter only Video Ads",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Limit Videos to Analyze",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    }
  ]
}