{
  "id": 9909,
  "slug": "9909",
  "title": "Send multi-city weather forecasts with AI-enhanced formatting from OpenWeatherMap to Gmail",
  "description": "## Overview\n\nThis workflow automates weather forecast delivery by collecting city names, fetching 5-day forecasts from OpenWeatherMap, and generating professionally formatted HTML emails using GPT-4. The AI creates condition-based color-coded reports with safety precautions and sends them via Gmail.\n\n## How It Works\n\nA form trigger collects up to three city names, which are geocoded via OpenWeatherMap API to retrieve coordinates and 5-day forecasts. \n\nJavaScript nodes process the raw weather data into daily summaries, calculating temperature ranges, precipitation levels, wind speeds, and dominant weather conditions. \n\nGPT-4 then generates professionally formatted HTML emails with condition-based color coding: The AI intelligently adds contextual safety warnings for heavy rain, extreme heat, high winds, and thunderstorms. \n\nA validation node ensures proper JSON formatting before Gmail sends the final briefing.\n\n## Use Cases\n\n• Field ops & construction crew briefings\n• Travel planning and itinerary preparation\n• Outdoor event planning & coordination\n• Logistics and transportation route planning\n• Real estate property viewing scheduling\n• Sports and recreational activity planning\n\n## Setup Requirements\n\n1) OpenWeatherMap API credentials\n2) OpenAI API key\n3) Gmail OAuth2 authentication\n\n## Need Help?\n\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\nREADME file available at https://tinyurl.com/MulticityWeatherForecast\n\n\n\n\n\n\n\n",
  "featuredImage": "/data/workflows/9909/9909.webp",
  "author": {
    "id": 101,
    "slug": "edupuganti",
    "name": "Sridevi Edupuganti",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1390,
  "downloads": 139,
  "createdAt": "2025-10-19T18:13:57.270Z",
  "updatedAt": "2026-01-16T09:02:37.226Z",
  "publishedAt": "2025-10-19T18:13:57.270Z",
  "nodes": 20,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9909",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Send multi-city weather forecasts with AI-enhanced formatting from OpenWeatherMap to Gmail",
    "workflowName": "Send multi-city weather forecasts with AI-enhanced formatting from OpenWeatherMap to Gmail",
    "description": "This workflow automates weather forecast delivery by collecting city names, fetching 5-day forecasts from OpenWeatherMap, and generating professionally formatted HTML emails using GPT-4. The AI creates condition-based color-coded reports with safety precautions and sends them via Gmail.\n\n## How It Works\n\nA form trigger collects up to three city names, which are geocoded via OpenWeatherMap API to retrieve coordinates and 5-day forecasts. \n\nJavaScript nodes process the raw weather data into daily summaries, calculating temperature ranges, precipitation levels, wind speeds, and dominant weather conditions. \n\nGPT-4 then generates professionally formatted HTML emails with condition-based color coding: The AI intelligently adds contextual safety warnings for heavy rain, extreme heat, high winds, and thunderstorms. \n\nA validation node ensures proper JSON formatting before Gmail sends the final briefing.\n\n## Use Cases\n\n• Field ops & construction crew briefings\n• Travel planning and itinerary preparation\n• Outdoor event planning & coordination\n• Logistics and transportation route planning\n• Real estate property viewing scheduling\n• Sports and recreational activity planning\n\n## Setup Requirements\n\n1) OpenWeatherMap API credentials\n2) OpenAI API key\n3) Gmail OAuth2 authentication\n\n## Need Help?\n\nJoin the [Discord](https://discord.com/invite/XPKeKXeB7d) or ask in the [Forum](https://community.n8n.io/)!\nREADME file available at https://tinyurl.com/MulticityWeatherForecast",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "JS - Validate JSON from LLM",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "GMAIL - Send Weather Briefing",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "JS - Bundle Cities for LLM",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "JS - Build Daily Summaries (5 days)",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "OpenWeatherMap (OWM) - 5 Day Forecast (by City)",
      "type": "n8n-nodes-base.openWeatherMap",
      "role": "openWeatherMap",
      "configDescription": "Version 1"
    },
    {
      "name": "JS - Pick Lat/Lon",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "SET - Carry Asked City to Forecast",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "MERGE - Pair Cities",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "HTTP - OWM Geocoding",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "JS - Normalize City Inputs",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "TRIGGER - Input City Names",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.3"
    },
    {
      "name": "LLM - AI Weather Briefing Composer",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}