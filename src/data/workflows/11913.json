{
  "id": 11913,
  "slug": "11913",
  "title": "Validate shipments & generate freight documents with GPT-4o, Google Sheets & Drive",
  "description": "## ‚úÖ What problem does this workflow solve?\n\nLogistics teams spend hours manually validating shipment data, checking compliance, generating freight documents, and emailing stakeholders. Errors in HSN codes, weights, or carrier details can lead to shipment delays, penalties, and rework.\n\nThis workflow **automates the entire shipment validation and documentation process** using AI, ensuring compliance, reducing errors, and generating professional freight documents automatically.\n\n---\n\n## ‚öôÔ∏è What does this workflow do?\n\n* Validates shipment details using AI before documentation.\n* Detects mismatches in HSN codes, weights, ports, and carrier data.\n* Automatically notifies shippers when issues are found.\n* Generates compliant freight documents in PDF format.\n* Emails shipment PDFs to both sender and receiver.\n* Stores documents securely in Google Drive.\n* Tracks shipment status and document links in Google Sheets.\n\n---\n\n## üí° Main Use Cases\n\n* Automate freight document generation for export/import shipments.\n* Perform AI-based compliance checks on shipment data.\n* Instantly flag and notify incorrect or missing shipment details.\n* Maintain a centralized audit trail of shipment documents.\n* Reduce manual validation effort and paperwork.\n\n---\n\n## üß† How It Works ‚Äì Step-by-Step\n\n### 1. Google Sheets Trigger\n\nThe workflow starts when **new shipment data** is added to a shared Google Sheet.\nEach row represents a shipment with details like:\n\n* Shipment ID\n* Shipper & Receiver information\n* Carrier details\n* Ports\n* Goods description\n* Quantity, weight, and HSN codes\n\n---\n\n### 2. AI-Powered Shipment Validation\n\nAn **AI agent (OpenAI)** validates each shipment against defined rules:\n\n* Valid HSN codes for goods\n* Export/import compliance\n* Quantity vs. weight consistency\n* Carrier name matched against an active carrier reference list\n* Proper formatting of ports and addresses\n\nThe AI returns a structured result:\n\n* `valid: true/false`\n* `reason`: Explanation of the first detected issue\n\n---\n\n### 3. Mismatch Handling (If Validation Fails)\n\nIf the shipment is **invalid**:\n\n* An email is sent to the shipper with detailed mismatch information.\n* The shipment status is updated in Google Sheets as **Mismatch_Details**.\n* No documents are generated until corrections are made.\n\n---\n\n### 4. Freight Document Generation (If Validation Passes)\n\nIf the shipment is **valid**:\n\n* A dynamic HTML shipment report is created.\n* The HTML is converted into a professional **PDF** using ConvertAPI.\n* The PDF includes:\n\n  * Shipment summary\n  * Goods information\n  * Quantity, weight, and HSN details\n\n---\n\n### 5. Email Distribution\n\nThe generated shipment PDF is automatically emailed to:\n\n* üì§ The Shipper\n* üì• The Receiver\n\nEach email includes shipment reference details and a download link.\n\n---\n\n### 6. Storage & Tracking\n\n* The shipment PDF is uploaded to a dedicated **Google Drive** folder.\n* Google Sheets is updated with:\n\n  * Shipment status (`shipment_pdf_dispatch`)\n  * Google Drive document link\n* This creates a complete audit trail for compliance and tracking.\n\n---\n\n## üóÇ Integrations Used\n\n* **Google Sheets** ‚Äì Shipment input, status tracking, carrier reference data\n* **OpenAI** ‚Äì AI-based shipment validation and compliance checks\n* **ConvertAPI** ‚Äì HTML-to-PDF freight document generation\n* **Gmail** ‚Äì Automated email notifications\n* **Google Drive** ‚Äì Secure document storage\n\n---\n\n## üë§ Who can use this?\n\nThis workflow is ideal for:\n\n* üö¢ Freight forwarders\n* üì¶ Logistics & supply chain teams\n* üè¢ Export-import companies\n* üìë Compliance and documentation teams\n\nIf your shipping process involves repetitive checks, document creation, and manual emails‚Äîthis automation can save **hours per shipment**.\n\n---\n\n## üöÄ Benefits\n\n* ‚úÖ Automated compliance validation\n* ‚úÖ Reduced shipment errors and delays\n* ‚úÖ Faster document turnaround\n* ‚úÖ Centralized storage and tracking\n* ‚úÖ Audit-ready logistics process",
  "featuredImage": "/data/workflows/11913/11913.webp",
  "author": {
    "id": 101,
    "slug": "infyom",
    "name": "InfyOm Technologies",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 69,
  "downloads": 6,
  "createdAt": "2025-12-18T05:20:24.360Z",
  "updatedAt": "2026-01-16T09:10:40.720Z",
  "publishedAt": "2025-12-18T05:20:24.360Z",
  "nodes": 23,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11913",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Validate shipments & generate freight documents with GPT-4o, Google Sheets & Drive",
    "workflowName": "Validate shipments & generate freight documents with GPT-4o, Google Sheets & Drive",
    "description": "## ‚úÖ What problem does this workflow solve?\n\nLogistics teams spend hours manually validating shipment data, checking compliance, generating freight documents, and emailing stakeholders. Errors in HSN codes, weights, or carrier details can lead to shipment delays, penalties, and rework.\n\nThis workflow **automates the entire shipment validation and documentation process** using AI, ensuring compliance, reducing errors, and generating professional freight documents automatically.\n\n---\n\n## ‚öôÔ∏è What does this workflow do?\n\n* Validates shipment details using AI before documentation.\n* Detects mismatches in HSN codes, weights, ports, and carrier data.\n* Automatically notifies shippers when issues are found.\n* Generates compliant freight documents in PDF format.\n* Emails shipment PDFs to both sender and receiver.\n* Stores documents securely in Google Drive.\n* Tracks shipment status and document links in Google Sheets.\n\n---\n\n## üí° Main Use Cases\n\n* Automate freight document generation for export/import shipments.\n* Perform AI-based compliance checks on shipment data.\n* Instantly flag and notify incorrect or missing shipment details.\n* Maintain a centralized audit trail of shipment documents.\n* Reduce manual validation effort and paperwork.\n\n---\n\n## üß† How It Works ‚Äì Step-by-Step\n\n### 1. Google Sheets Trigger\n\nThe workflow starts when **new shipment data** is added to a shared Google Sheet.\nEach row represents a shipment with details like:\n\n* Shipment ID\n* Shipper & Receiver information\n* Carrier details\n* Ports\n* Goods description\n* Quantity, weight, and HSN codes\n\n---\n\n### 2. AI-Powered Shipment Validation\n\nAn **AI agent (OpenAI)** validates each shipment against defined rules:\n\n* Valid HSN codes for goods\n* Export/import compliance\n* Quantity vs. weight consistency\n* Carrier name matched against an active carrier reference list\n* Proper formatting of ports and addresses\n\nThe AI returns a structured result:\n\n* `valid: true/false`\n* `reason`: Explanation of the first detected issue\n\n---\n\n### 3. Mismatch Handling (If Validation Fails)\n\nIf the shipment is **invalid**:\n\n* An email is sent to the shipper with detailed mismatch information.\n* The shipment status is updated in Google Sheets as **Mismatch_Details**.\n* No documents are generated until corrections are made.\n\n---\n\n### 4. Freight Document Generation (If Validation Passes)\n\nIf the shipment is **valid**:\n\n* A dynamic HTML shipment report is created.\n* The HTML is converted into a professional **PDF** using ConvertAPI.\n* The PDF includes:\n\n  * Shipment summary\n  * Goods information\n  * Quantity, weight, and HSN details\n\n---\n\n### 5. Email Distribution\n\nThe generated shipment PDF is automatically emailed to:\n\n* üì§ The Shipper\n* üì• The Receiver\n\nEach email includes shipment reference details and a download link.\n\n---\n\n### 6. Storage & Tracking\n\n* The shipment PDF is uploaded to a dedicated **Google Drive** folder.\n* Google Sheets is updated with:\n\n  * Shipment status (`shipment_pdf_dispatch`)\n  * Google Drive document link\n* This creates a complete audit trail for compliance and tracking.\n\n---\n\n## üóÇ Integrations Used\n\n* **Google Sheets** ‚Äì Shipment input, status tracking, carrier reference data\n* **OpenAI** ‚Äì AI-based shipment validation and compliance checks\n* **ConvertAPI** ‚Äì HTML-to-PDF freight document generation\n* **Gmail** ‚Äì Automated email notifications\n* **Google Drive** ‚Äì Secure document storage\n\n---\n\n## üë§ Who can use this?\n\nThis workflow is ideal for:\n\n* üö¢ Freight forwarders\n* üì¶ Logistics & supply chain teams\n* üè¢ Export-import companies\n* üìë Compliance and documentation teams\n\nIf your shipping process involves repetitive checks, document creation, and manual emails‚Äîthis automation can save **hours per shipment**.\n\n---\n\n## üöÄ Benefits\n\n* ‚úÖ Automated compliance validation\n* ‚úÖ Reduced shipment errors and delays\n* ‚úÖ Faster document turnaround\n* ‚úÖ Centralized storage and tracking\n* ‚úÖ Audit-ready logistics process",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Google Sheets Trigger",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send Shipment PDF To Sender",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Send Shipment PDF To Receiver",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get PDF",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "PDF Generate",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Set Shipment Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "If Validate",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Send Mismatch Items Details",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Update State",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Append or update row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Validate Shipment details",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Upload file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Download File",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Carrier Details",
      "type": "n8n-nodes-base.googleSheetsTool",
      "role": "googleSheetsTool",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Workflow Overview",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Data Ingestion",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "PDF Generation",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Storage & Tracking",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Error Handling",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}