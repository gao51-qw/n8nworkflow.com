{
  "id": 11967,
  "slug": "11967",
  "title": "Review GitHub pull requests and label them using OpenAI GPT-4o-mini and Slack",
  "description": "## Automate GitHub pull request reviews and labeling using OpenAI\n\n\nThis workflow automates the first line of code review for your development team. By leveraging OpenAI, it analyzes pull request diffs, assigns descriptive labels based on change size and category, posts summary comments back to GitHub, and keeps your team informed via Slack.\n\n\n## Who’s it for?\n\n\n- **DevOps Engineers** looking to standardize PR triage.\n- **Team Leads** who want to provide instant feedback to developers.\n- **Open Source Maintainers** managing high volumes of contributions.\n- **Development Teams** aiming to reduce manual overhead in code reviews.\n\n\n## How it works / What it does\n\n\n1.  **Trigger:** The workflow starts via a **GitHub PR Webhook** when a pull request is opened or synchronized.\n2.  **Data Gathering:** It extracts PR metadata and uses the **GitHub Node** and **HTTP Request Node** to fetch a list of changed files and the raw code diff.\n3.  **Analysis:** A **Code Node** categorizes the changes (e.g., size labels like `size/S` or `size/L`).\n4.  **AI Review:** The **AI Agent** (powered by **OpenAI**) analyzes the code diff to generate a quality score, summary, and specific strengths/concerns.\n5.  **Action:**\n    - The **GitHub Node** updates the PR with relevant labels.\n    - An automated review comment is posted to the PR discussion.\n    - A summary is sent to a **Slack** channel.\n6.  **Reporting:** All review data is logged into **Google Sheets** for long-term tracking and analytics.\n\n\n## Requirements\n\n\n- **GitHub Account:** OAuth credentials with repository access.\n- **OpenAI API Key:** For the Chat Model (recommends GPT-4o-mini or higher).\n- **Slack Workspace:** A bot token to post to the `#code-reviews` channel.\n- **Google Sheets:** A spreadsheet with headers matching the PR metadata.\n\n\n## How to set up\n\n\n1.  **GitHub Webhook:** Configure your GitHub repository to send \"Pull request\" events to the Webhook URL provided by this workflow.\n2.  **Credentials:** Authenticate your GitHub, OpenAI, Slack, and Google Sheets accounts in their respective nodes.\n3.  **Google Sheets:** Select your target Spreadsheet and Sheet name in the \"Log to Sheets\" node.\n4.  **Slack:** Ensure the Slack bot is invited to the channel specified in the \"Notify Slack\" node.\n\n\n## How to customize\n\n\n- **AI Prompt:** Modify the \"System Message\" in the **AI Code Reviewer** node to reflect your team's specific coding standards or preferred review tone.\n- **Labeling Logic:** Edit the \"Analyze File Changes\" node to add custom labels based on file paths (e.g., `frontend`, `documentation`).\n- **Review Logic:** Add an **If Node** after the AI analysis to only auto-approve PRs with a quality score higher than 90.",
  "featuredImage": "/data/workflows/11967/11967.webp",
  "author": {
    "id": 101,
    "slug": "yyuyayamanaka",
    "name": "yu-ya",
    "avatar": ""
  },
  "categories": [
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 32,
  "downloads": 3,
  "createdAt": "2025-12-19T18:12:21.685Z",
  "updatedAt": "2026-01-16T09:10:50.328Z",
  "publishedAt": "2025-12-19T18:12:21.685Z",
  "nodes": 22,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11967",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Review GitHub pull requests and label them using OpenAI GPT-4o-mini and Slack",
    "workflowName": "Review GitHub pull requests and label them using OpenAI GPT-4o-mini and Slack",
    "description": "## Automate GitHub pull request reviews and labeling using OpenAI\n\n\nThis workflow automates the first line of code review for your development team. By leveraging OpenAI, it analyzes pull request diffs, assigns descriptive labels based on change size and category, posts summary comments back to GitHub, and keeps your team informed via Slack.\n\n\n## Who’s it for?\n\n\n- **DevOps Engineers** looking to standardize PR triage.\n- **Team Leads** who want to provide instant feedback to developers.\n- **Open Source Maintainers** managing high volumes of contributions.\n- **Development Teams** aiming to reduce manual overhead in code reviews.\n\n\n## How it works / What it does\n\n\n1.  **Trigger:** The workflow starts via a **GitHub PR Webhook** when a pull request is opened or synchronized.\n2.  **Data Gathering:** It extracts PR metadata and uses the **GitHub Node** and **HTTP Request Node** to fetch a list of changed files and the raw code diff.\n3.  **Analysis:** A **Code Node** categorizes the changes (e.g., size labels like `size/S` or `size/L`).\n4.  **AI Review:** The **AI Agent** (powered by **OpenAI**) analyzes the code diff to generate a quality score, summary, and specific strengths/concerns.\n5.  **Action:**\n    - The **GitHub Node** updates the PR with relevant labels.\n    - An automated review comment is posted to the PR discussion.\n    - A summary is sent to a **Slack** channel.\n6.  **Reporting:** All review data is logged into **Google Sheets** for long-term tracking and analytics.\n\n\n## Requirements\n\n\n- **GitHub Account:** OAuth credentials with repository access.\n- **OpenAI API Key:** For the Chat Model (recommends GPT-4o-mini or higher).\n- **Slack Workspace:** A bot token to post to the `#code-reviews` channel.\n- **Google Sheets:** A spreadsheet with headers matching the PR metadata.\n\n\n## How to set up\n\n\n1.  **GitHub Webhook:** Configure your GitHub repository to send \"Pull request\" events to the Webhook URL provided by this workflow.\n2.  **Credentials:** Authenticate your GitHub, OpenAI, Slack, and Google Sheets accounts in their respective nodes.\n3.  **Google Sheets:** Select your target Spreadsheet and Sheet name in the \"Log to Sheets\" node.\n4.  **Slack:** Ensure the Slack bot is invited to the channel specified in the \"Notify Slack\" node.\n\n\n## How to customize\n\n\n- **AI Prompt:** Modify the \"System Message\" in the **AI Code Reviewer** node to reflect your team's specific coding standards or preferred review tone.\n- **Labeling Logic:** Edit the \"Analyze File Changes\" node to add custom labels based on file paths (e.g., `frontend`, `documentation`).\n- **Review Logic:** Add an **If Node** after the AI analysis to only auto-approve PRs with a quality score higher than 90.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Main Overview",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Intake Group",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Data Group",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Group",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Action Group",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Report Group",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "GitHub PR Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Filter PR Events",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Extract PR Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get PR Files",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch PR Diff",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Merge PR Info",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Analyze File Changes",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AI Code Reviewer",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Parse AI Review",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Add PR Labels",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Post Review Comment",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Notify Slack",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Aggregate Results",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Log to Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    }
  ]
}