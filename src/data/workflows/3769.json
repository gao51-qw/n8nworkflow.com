{
  "id": 3769,
  "slug": "3769",
  "title": "Perform SEO keyword research & insights with Ahrefs API and Gemini 1.5 Flash",
  "description": "This n8n workflow automates **SEO keyword research** by querying the **Ahrefs API** for keyword data and related keyword insights. The enriched data is then processed by an AI agent to format a response and provide valuable SEO recommendations.\n\nPerfect for **SEO specialists, content marketers, digital agencies**, and anyone looking to gain valuable insights into keyword opportunities to boost their rankings.\n\n---\n\n## ‚öôÔ∏è How This Workflow Works\n\nThis workflow guides you through the entire SEO keyword research process, from entering the initial keyword to receiving detailed insights and related keyword suggestions.\n\n### 1. üó£Ô∏è User Input (Keyword Query)\n- The user enters a **keyword** they want to research.\n- This input is captured by the **Chat Input Node**, ready for analysis.\n\n### 2. ü§ñ AI Agent (Input Verification)\n- The AI Agent reviews the keyword input for any **grammatical errors** or extra commentary.\n- If necessary, it cleans the input to ensure a seamless query to the API.\n\n### 3. üîë Ahrefs API (Keyword Data Retrieval)\n- The cleaned **keyword** is sent to the **Ahrefs Keyword Tool API**.\n- This retrieves a detailed report including metrics like **search volume**, **keyword difficulty**, and **CPC**.\n\n### 4. üí° Related Keywords Extraction (Using JavaScript Function)\n- The workflow uses a **JavaScript function** to extract main keyword data and **10 related keywords data** from the Ahrefs response.\n- You can tweak the script to adjust the number of related keywords or the level of detail you want.\n\n### 5. üß† AI Agent (Text Formatting)\n- The aggregated data, including both the main keyword and related keywords, is sent to an **AI agent**.\n- The AI agent formats the data into a concise, readable format that can be shared with the user.\n\n### 6. üì® Final Response\n- The formatted text is delivered to the user with keyword insights, recommendations, and related keyword suggestions.\n\n---\n\n## ‚úÖ Smart Retry & Error Handling\n\nEach subworkflow includes a **fail-safe mechanism** to ensure:\n\n- ‚úÖ Proper error handling for any issues with the API request.\n- üïí Failed API requests are retried after a **customizable period** (e.g., 2 hours or 1 day).\n- üí¨ **User input validation** prevents any incorrect or malformed queries from being processed.\n\n---\n\n## üìã Ahrefs API Setup\n\nTo use this workflow, you‚Äôll need to set up your Ahrefs API credentials:\n\n### üîë Ahrefs API\n- Sign up for an Ahrefs account and get your key here: [Ahrefs Keyword Tool API](https://rapidapi.com/environmentn1t21r5/api/ahrefs-keyword-tool)\n- Once signed up, you'll receive an API key, which you‚Äôll use in the `x-rapidapi-key` header in n8n.\n- Ensure you check the **Ahrefs Keyword Tool API documentation** for more details on available parameters.\n\n---\n\n## üì• How to Import This Workflow\n\n1. Copy the json code.\n2. Open your n8n instance.\n3. Open a new workflow.\n4. Paste anywhere inside the workflow.\n5. Voila.\n\n---\n\n## üõ†Ô∏è Customization Options\n\n- Adjust the **number of related keywords** extracted (default is 10).\n- Customize the **AI agent response** formatting or add specific recommendations for users.\n- Modify the JavaScript function to **extract different metrics** from the Ahrefs API.\n\n---\n\n## üß™ Use Case Example\n\nTrying to optimize your blog post around a specific keyword?\n\n1. Query a broad keyword, like **‚ÄúSEO tips‚Äù**.\n2. Get related keyword data and **search volume insights**.\n3. Use the AI agent to provide **keyword recommendations** and additional topics to target.\n4. üí• Boost your content strategy with fresh keywords and relevant search data!",
  "featuredImage": "/data/workflows/3769/3769.webp",
  "author": {
    "id": 101,
    "slug": "mjomba",
    "name": "Joseph",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 6587,
  "downloads": 658,
  "createdAt": "2025-04-28T08:09:05.096Z",
  "updatedAt": "2026-01-16T08:31:23.045Z",
  "publishedAt": "2025-04-28T08:09:05.096Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3769",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Perform SEO keyword research & insights with Ahrefs API and Gemini 1.5 Flash",
    "workflowName": "Perform SEO keyword research & insights with Ahrefs API and Gemini 1.5 Flash",
    "description": "This n8n workflow automates **SEO keyword research** by querying the **Ahrefs API** for keyword data and related keyword insights. The enriched data is then processed by an AI agent to format a response and provide valuable SEO recommendations.\n\nPerfect for **SEO specialists, content marketers, digital agencies**, and anyone looking to gain valuable insights into keyword opportunities to boost their rankings.\n\n---\n\n## ‚öôÔ∏è How This Workflow Works\n\nThis workflow guides you through the entire SEO keyword research process, from entering the initial keyword to receiving detailed insights and related keyword suggestions.\n\n### 1. üó£Ô∏è User Input (Keyword Query)\n- The user enters a **keyword** they want to research.\n- This input is captured by the **Chat Input Node**, ready for analysis.\n\n### 2. ü§ñ AI Agent (Input Verification)\n- The AI Agent reviews the keyword input for any **grammatical errors** or extra commentary.\n- If necessary, it cleans the input to ensure a seamless query to the API.\n\n### 3. üîë Ahrefs API (Keyword Data Retrieval)\n- The cleaned **keyword** is sent to the **Ahrefs Keyword Tool API**.\n- This retrieves a detailed report including metrics like **search volume**, **keyword difficulty**, and **CPC**.\n\n### 4. üí° Related Keywords Extraction (Using JavaScript Function)\n- The workflow uses a **JavaScript function** to extract main keyword data and **10 related keywords data** from the Ahrefs response.\n- You can tweak the script to adjust the number of related keywords or the level of detail you want.\n\n### 5. üß† AI Agent (Text Formatting)\n- The aggregated data, including both the main keyword and related keywords, is sent to an **AI agent**.\n- The AI agent formats the data into a concise, readable format that can be shared with the user.\n\n### 6. üì® Final Response\n- The formatted text is delivered to the user with keyword insights, recommendations, and related keyword suggestions.\n\n---\n\n## ‚úÖ Smart Retry & Error Handling\n\nEach subworkflow includes a **fail-safe mechanism** to ensure:\n\n- ‚úÖ Proper error handling for any issues with the API request.\n- üïí Failed API requests are retried after a **customizable period** (e.g., 2 hours or 1 day).\n- üí¨ **User input validation** prevents any incorrect or malformed queries from being processed.\n\n---\n\n## üìã Ahrefs API Setup\n\nTo use this workflow, you‚Äôll need to set up your Ahrefs API credentials:\n\n### üîë Ahrefs API\n- Sign up for an Ahrefs account and get your key here: [Ahrefs Keyword Tool API](https://rapidapi.com/environmentn1t21r5/api/ahrefs-keyword-tool)\n- Once signed up, you'll receive an API key, which you‚Äôll use in the `x-rapidapi-key` header in n8n.\n- Ensure you check the **Ahrefs Keyword Tool API documentation** for more details on available parameters.\n\n---\n\n## üì• How to Import This Workflow\n\n1. Copy the json code.\n2. Open your n8n instance.\n3. Open a new workflow.\n4. Paste anywhere inside the workflow.\n5. Voila.\n\n---\n\n## üõ†Ô∏è Customization Options\n\n- Adjust the **number of related keywords** extracted (default is 10).\n- Customize the **AI agent response** formatting or add specific recommendations for users.\n- Modify the JavaScript function to **extract different metrics** from the Ahrefs API.\n\n---\n\n## üß™ Use Case Example\n\nTrying to optimize your blog post around a specific keyword?\n\n1. Query a broad keyword, like **‚ÄúSEO tips‚Äù**.\n2. Get related keyword data and **search volume insights**.\n3. Use the AI agent to provide **keyword recommendations** and additional topics to target.\n4. üí• Boost your content strategy with fresh keywords and relevant search data!",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Keyword Data Response Formatter",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Keyword Query Extraction & Cleaning Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Extract Main Keyword & 10 related Keyword data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Aggregate Keyword Data",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Ahrefs Keyword API Request",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    }
  ]
}