{
  "id": 7066,
  "slug": "7066",
  "title": "Create multi-step reasoning AI agents with GPT-4 and reusable thinking tools",
  "description": "Unlock a new level of sophistication for your AI agents with this template. While the native n8n **Think Tool** is great for giving an agent an internal monologue, it's limited to one instance. This workflow provides a clever solution using a sub-workflow to create **multiple, custom thinking tools**, each with its own specific purpose.\n\nThis template provides the foundation for building agents that can plan, act, and then reflect on their actions before proceeding. Instead of just reacting, your agent can now follow a structured, multi-step reasoning process that you design, leading to more reliable and powerful automations.\n\n## **Who is this for?**\n\n* **AI and automation developers:** Anyone looking to build complex, multi-tool agents that require robust logic and planning capabilities.\n* **LangChain enthusiasts:** Users familiar with advanced agent concepts like ReAct (Reason-Act) will find this a practical way to implement similar frameworks in n8n.\n* **Problem solvers:** If your current agent struggles with complex tasks, giving it distinct steps for planning and reflection can dramatically improve its performance.\n\n## **What problem does this solve?**\n\n* **Bypasses the single \"Think Tool\" limit:** The core of this template is a technique that allows you to add as many distinct thinking steps to your agent as you need.\n* **Enables complex reasoning:** You can design a structured thought process for your agent, such as \"Plan the entire process,\" \"Execute Step 1,\" and \"Reflect on the result,\" making it behave more intelligently.\n* **Improves agent reliability and debugging:** By forcing the agent to write down its thoughts at different stages, you can easily see its line of reasoning, making it less prone to errors and much easier to debug when things go wrong.\n* **Provides a blueprint for sophisticated AI:** This is not just a simple tool; it's a foundational framework for building state-of-the-art AI agents that can handle more nuanced and multi-step tasks.\n\n## **How it works**\n\n1.  **The re-usable \"Thinking Space\":** The magic of this template is a simple sub-workflow that does nothing but receive text. This workflow acts as a reusable \"scratchpad.\"\n2.  **Creating custom thinking tools:** In the main workflow, we use the **Tool (Workflow)** node to call this \"scratchpad\" sub-workflow multiple times. We give each of these tools a unique name (e.g., `Initial thoughts`, `Additional thoughts`).\n3.  **The power of descriptions:** The key is the **description** you give each of these tool nodes. This description tells the agent *when* and *how* it should use that specific thinking step. For example, the `Initial thoughts` tool is described as the place to create a plan at the start of a task.\n4.  **Orchestration via system prompt:** The main **AI Agent's** system prompt acts as the conductor, instructing the agent on the overall process and telling it about its new thinking abilities (e.g., \"Always start by using the `Initial thoughts` tool to make a plan...\").\n5.  **A practical example:** This template includes two thinking tools to demonstrate a \"Plan and Reflect\" cycle, but you can add many more to fit your needs.\n\n## **Setup**\n\n1.  **Add your own \"action\" tools:** This template provides the *thinking framework*. To make it useful, you need to give the agent something to do. Add your own tools to the **AI Agent**, such as a web search tool, a database lookup, or an API call.\n2.  **Customize the thinking tools:** Edit the **description** of the existing `Initial thoughts` and `Additional thoughts` tools. Make them relevant to the new action tools you've added. For example, \"Plan which of the web search or database tools to use.\"\n3.  **Update the agent's brain:** Modify the **system prompt** in the main **AI Agent** node. Tell it about the new action tools you've added and how it should use your customized thinking tools to complete its tasks.\n4.  **Connect your AI model:** Select the **OpenAI Chat Model** node and add your credentials.\n\n\n## **Taking it further**\n\n* **Create more granular thinking steps:** Add more thinking tools for different stages of a process, like a \"Hypothesize a solution\" tool, a \"Verify assumptions\" tool, or a \"Final answer check\" tool.\n* **Customize the thought process:** You can change *how* the agent thinks by editing the prompt inside the `fromAI('Thoughts', ...)` field within each tool. You could ask for thoughts in a specific format, like bullet points or a JSON object.\n* **Change the workflow trigger:** Switch the chat trigger for a Telegram trigger, email, Slack, whatever you need for your use case!\n* **Integrate with memory:** For even more power, combine this framework with a long-term memory solution, allowing the agent to reflect on its thoughts from past conversations.",
  "featuredImage": "/data/workflows/7066/7066.webp",
  "author": {
    "id": 101,
    "slug": "duv",
    "name": "Guillaume Duvernay",
    "avatar": ""
  },
  "categories": [
    "Engineering",
    "AI Chatbot"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 1918,
  "downloads": 191,
  "createdAt": "2025-08-06T18:34:55.389Z",
  "updatedAt": "2026-01-16T08:48:26.770Z",
  "publishedAt": "2025-08-06T18:34:55.389Z",
  "nodes": 11,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7066",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create multi-step reasoning AI agents with GPT-4 and reusable thinking tools",
    "workflowName": "Create multi-step reasoning AI agents with GPT-4 and reusable thinking tools",
    "description": "Unlock a new level of sophistication for your AI agents with this template. While the native n8n **Think Tool** is great for giving an agent an internal monologue, it's limited to one instance. This workflow provides a clever solution using a sub-workflow to create **multiple, custom thinking tools**, each with its own specific purpose.\n\nThis template provides the foundation for building agents that can plan, act, and then reflect on their actions before proceeding. Instead of just reacting, your agent can now follow a structured, multi-step reasoning process that you design, leading to more reliable and powerful automations.\n\n## **Who is this for?**\n\n* **AI and automation developers:** Anyone looking to build complex, multi-tool agents that require robust logic and planning capabilities.\n* **LangChain enthusiasts:** Users familiar with advanced agent concepts like ReAct (Reason-Act) will find this a practical way to implement similar frameworks in n8n.\n* **Problem solvers:** If your current agent struggles with complex tasks, giving it distinct steps for planning and reflection can dramatically improve its performance.\n\n## **What problem does this solve?**\n\n* **Bypasses the single \"Think Tool\" limit:** The core of this template is a technique that allows you to add as many distinct thinking steps to your agent as you need.\n* **Enables complex reasoning:** You can design a structured thought process for your agent, such as \"Plan the entire process,\" \"Execute Step 1,\" and \"Reflect on the result,\" making it behave more intelligently.\n* **Improves agent reliability and debugging:** By forcing the agent to write down its thoughts at different stages, you can easily see its line of reasoning, making it less prone to errors and much easier to debug when things go wrong.\n* **Provides a blueprint for sophisticated AI:** This is not just a simple tool; it's a foundational framework for building state-of-the-art AI agents that can handle more nuanced and multi-step tasks.\n\n## **How it works**\n\n1.  **The re-usable \"Thinking Space\":** The magic of this template is a simple sub-workflow that does nothing but receive text. This workflow acts as a reusable \"scratchpad.\"\n2.  **Creating custom thinking tools:** In the main workflow, we use the **Tool (Workflow)** node to call this \"scratchpad\" sub-workflow multiple times. We give each of these tools a unique name (e.g., `Initial thoughts`, `Additional thoughts`).\n3.  **The power of descriptions:** The key is the **description** you give each of these tool nodes. This description tells the agent *when* and *how* it should use that specific thinking step. For example, the `Initial thoughts` tool is described as the place to create a plan at the start of a task.\n4.  **Orchestration via system prompt:** The main **AI Agent's** system prompt acts as the conductor, instructing the agent on the overall process and telling it about its new thinking abilities (e.g., \"Always start by using the `Initial thoughts` tool to make a plan...\").\n5.  **A practical example:** This template includes two thinking tools to demonstrate a \"Plan and Reflect\" cycle, but you can add many more to fit your needs.\n\n## **Setup**\n\n1.  **Add your own \"action\" tools:** This template provides the *thinking framework*. To make it useful, you need to give the agent something to do. Add your own tools to the **AI Agent**, such as a web search tool, a database lookup, or an API call.\n2.  **Customize the thinking tools:** Edit the **description** of the existing `Initial thoughts` and `Additional thoughts` tools. Make them relevant to the new action tools you've added. For example, \"Plan which of the web search or database tools to use.\"\n3.  **Update the agent's brain:** Modify the **system prompt** in the main **AI Agent** node. Tell it about the new action tools you've added and how it should use your customized thinking tools to complete its tasks.\n4.  **Connect your AI model:** Select the **OpenAI Chat Model** node and add your credentials.\n\n\n## **Taking it further**\n\n* **Create more granular thinking steps:** Add more thinking tools for different stages of a process, like a \"Hypothesize a solution\" tool, a \"Verify assumptions\" tool, or a \"Final answer check\" tool.\n* **Customize the thought process:** You can change *how* the agent thinks by editing the prompt inside the `fromAI('Thoughts', ...)` field within each tool. You could ask for thoughts in a specific format, like bullet points or a JSON object.\n* **Change the workflow trigger:** Switch the chat trigger for a Telegram trigger, email, Slack, whatever you need for your use case!\n* **Integrate with memory:** For even more power, combine this framework with a long-term memory solution, allowing the agent to reflect on its thoughts from past conversations.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Initial thoughts",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "role": "toolWorkflow",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Additional thoughts",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "role": "toolWorkflow",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Thinking sub-workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "role": "executeWorkflowTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}