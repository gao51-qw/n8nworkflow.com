{
  "id": 11439,
  "slug": "11439",
  "title": "Forex & gold trading signal handler for MT5 using webhooks (telegram/discord)",
  "description": "# MT5 Trading Signal Handler\nMetatrader5 and N8N Integration for Forex and Gold Trading via Webhooks for discord and telegram\n\nThis n8n template demonstrates a workflow that bridges AI workflows which can be used to communicate directly to a trading platform/broker like metatrader 5\n\n## Use cases are many:\n\nTry automating TradingView alerts into live MT5 trades, building a custom trading bot that sends trade execution signals to MT5 via webhooks, or creating a centralized signal management system for multiple trading strategies these features are just the beggining!\n\n## Good to know\n\n* **Always test on demo accounts first** - start with 1-2% risk before considering any live deployment\n* This workflow uses **unauthenticated webhook endpoints by default** - you must add authentication (API keys, OAuth) before any production use\n* Signals are stored in **n8n's in-memory static data** - they will be lost if n8n restarts unless you implement persistent storage\n* **MT5 WebRequest whitelist required** - you must add all webhook URLs to MT5's allowed URLs list (Tools → Options → Expert Advisors)\n* The workflow requires a **custom MT5 Expert Advisor (EA)** that polls the GET endpoint every 5 seconds to fetch pending signals\n* This is designed for **local machine or private VPS deployment only** - not suitable for public cloud without significant security hardening\n* **No automatic signal expiration** - old signals will accumulate without manual cleanup or additional workflow logic\n* Compatible with standard MT5 brokers that support automated trading and WebRequest functionality\n\n## How it works\n\n* **Signal Reception**: The \"Receive Signal (POST)\" webhook accepts trading signals containing asset, entry price, stop loss, take profit, and risk percentage, then passes them to the \"Store Signal\" Code node\n* **Signal Storage**: The Code node creates a unique signal ID with timestamp, stores it in n8n's workflow static data with \"pending\" status, and returns a success response with the signal ID\n* **Queue Polling**: The \"Get Pending Signals (GET)\" webhook is polled every 5 seconds by your MT5 Expert Advisor to check for new signals\n* **Signal Retrieval**: The \"Fetch Pending Signals\" Code node filters all stored signals to return only those with \"pending\" status as a JSON array\n* **Market Orders**: The \"Market Order (POST)\" webhook accepts instant-execution orders with direction (BUY/SELL), risk percentage, and stop loss in pips, calculating SL/TP prices automatically\n* **Limit Orders**: The \"Limit Order (POST)\" webhook handles pending orders with specific entry prices, converting pip-based SL/TP into actual price levels for both standard and JPY pairs\n* **Trade Confirmation**: After the MT5 EA executes a trade, it sends the signal ID to the \"Confirm Signal Processed (POST)\" webhook, which marks the signal as \"processed\" and removes it from the pending queue\n* **Emergency Cleanup**: The \"Clear all signals (POST)\" webhook provides a reset function to remove all signals from the queue, useful for testing or when signals get stuck\n\n## How to use\n\n* Import this workflow into your n8n instance and activate it by toggling the switch in the top-right corner\n* Copy all webhook URLs from each Webhook node (click the node to view the production URL)\n* Configure your MT5 Expert Advisor with the correct webhook URLs (SIGNAL_URL for GET requests, CONFIRM_URL for POST confirmations)\n* Add all webhook URLs to MT5's WebRequest whitelist (Tools → Options → Expert Advisors → \"Allow WebRequest for listed URL\")\n* Restart MT5 after adding URLs to the whitelist to ensure they're loaded properly\n* Test the workflow by sending a test signal using curl or Postman: `curl -X POST http://127.0.0.1:5678/webhook/mt5-signal -H \"Content-Type: application/json\" -d \"{\\\"asset\\\": \\\"EURUSD\\\", \\\"risk\\\": 2, \\\"entry\\\": 1.0850, \\\"sl\\\": 1.0830, \\\"tp\\\": 1.0900}\"`\n* Verify the signal appears when checking the GET endpoint: `curl http://127.0.0.1:5678/webhook/mt5-signals`\n* Attach the MT5 EA to any chart (the symbol doesn't matter - it monitors all symbols) and enable Auto Trading in MT5\n* Monitor the MT5 Experts log to confirm the EA is polling every 5 seconds and executing trades correctly\n\n## Requirements\n\n* **n8n instance** running locally or on a private VPS (version 1.x recommended)\n* **MetaTrader 5 terminal** installed with a demo or live account logged in\n* **Custom MT5 Expert Advisor** compiled and loaded (MQL5 code that polls the webhook and executes trades)\n* **Auto Trading enabled** in MT5 (Tools → Options → Expert Advisors → \"Allow Algorithmic Trading\")\n* **WebRequest permissions** configured in MT5 for all webhook URLs\n* Basic understanding of **REST APIs, webhooks, and trading concepts** (orders, SL/TP, position sizing)\n\n## Customising this workflow\n\n* Add **authentication middleware** to all webhook endpoints using HTTP Authentication or custom API keys for security\n* Implement **persistent storage** by replacing static data with a database node (PostgreSQL, MySQL) or external storage service\n* Create an **automatic signal cleanup workflow** that runs on a schedule to delete processed signals older than 24 hours\n* Add **notification nodes** (Telegram, Discord, Email) to alert you when trades are executed or errors occur\n* Implement **position size validation** in the Code nodes to cap maximum lot sizes or risk percentages\n* Create an **asset whitelist** by adding validation logic to only accept signals for approved trading instruments\n* Add **duplicate signal detection** to prevent the same signal from being processed multiple times\n* Build a **signal analytics dashboard** by logging all signals to a database and visualizing execution metrics\n* Try a popular use-case such as connecting this to a TradingView webhook to automate Pine Script strategy alerts directly into MT5 trades!\n* Add tags for certain setups and or magic numbers for easier journaling later on\n\n### Purchasing this N8N workflow comes with the AI trading assistant workflow too so it is sold together and vice versa as well along with the MQL code for the ExpertAdvisor listener all for the price of 120 usd total\n\n## Questions?\n\nIf you have questions or need help with this workflow, feel free to reach out:\n\n* elijahmamuri@gmail.com\n* elijahfxtrading@gmail.com\n\n---\n\n**Important Disclaimer**: This workflow is provided for educational purposes and demo account testing only. It demonstrates technical concepts for signal routing and automation architecture. Always test thoroughly on demo accounts, implement proper security measures, and understand that automated trading involves substantial risk. No warranties, financial advice, or guarantees are provided. See the full disclaimer in the workflow sticky notes for complete terms.\n\n",
  "featuredImage": "/data/workflows/11439/11439.webp",
  "author": {
    "id": 101,
    "slug": "elijahbuilds-ai",
    "name": "Cj Elijah Garay",
    "avatar": ""
  },
  "categories": [
    "Crypto Trading"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 197,
  "downloads": 19,
  "createdAt": "2025-12-02T19:35:29.788Z",
  "updatedAt": "2026-01-16T09:08:41.908Z",
  "publishedAt": "2025-12-02T19:35:29.788Z",
  "nodes": 27,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11439",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Forex & gold trading signal handler for MT5 using webhooks (telegram/discord)",
    "workflowName": "Forex & gold trading signal handler for MT5 using webhooks (telegram/discord)",
    "description": "# MT5 Trading Signal Handler\nMetatrader5 and N8N Integration for Forex and Gold Trading via Webhooks for discord and telegram\n\nThis n8n template demonstrates a workflow that bridges AI workflows which can be used to communicate directly to a trading platform/broker like metatrader 5\n\n## Use cases are many:\n\nTry automating TradingView alerts into live MT5 trades, building a custom trading bot that sends trade execution signals to MT5 via webhooks, or creating a centralized signal management system for multiple trading strategies these features are just the beggining!\n\n## Good to know\n\n* **Always test on demo accounts first** - start with 1-2% risk before considering any live deployment\n* This workflow uses **unauthenticated webhook endpoints by default** - you must add authentication (API keys, OAuth) before any production use\n* Signals are stored in **n8n's in-memory static data** - they will be lost if n8n restarts unless you implement persistent storage\n* **MT5 WebRequest whitelist required** - you must add all webhook URLs to MT5's allowed URLs list (Tools → Options → Expert Advisors)\n* The workflow requires a **custom MT5 Expert Advisor (EA)** that polls the GET endpoint every 5 seconds to fetch pending signals\n* This is designed for **local machine or private VPS deployment only** - not suitable for public cloud without significant security hardening\n* **No automatic signal expiration** - old signals will accumulate without manual cleanup or additional workflow logic\n* Compatible with standard MT5 brokers that support automated trading and WebRequest functionality\n\n## How it works\n\n* **Signal Reception**: The \"Receive Signal (POST)\" webhook accepts trading signals containing asset, entry price, stop loss, take profit, and risk percentage, then passes them to the \"Store Signal\" Code node\n* **Signal Storage**: The Code node creates a unique signal ID with timestamp, stores it in n8n's workflow static data with \"pending\" status, and returns a success response with the signal ID\n* **Queue Polling**: The \"Get Pending Signals (GET)\" webhook is polled every 5 seconds by your MT5 Expert Advisor to check for new signals\n* **Signal Retrieval**: The \"Fetch Pending Signals\" Code node filters all stored signals to return only those with \"pending\" status as a JSON array\n* **Market Orders**: The \"Market Order (POST)\" webhook accepts instant-execution orders with direction (BUY/SELL), risk percentage, and stop loss in pips, calculating SL/TP prices automatically\n* **Limit Orders**: The \"Limit Order (POST)\" webhook handles pending orders with specific entry prices, converting pip-based SL/TP into actual price levels for both standard and JPY pairs\n* **Trade Confirmation**: After the MT5 EA executes a trade, it sends the signal ID to the \"Confirm Signal Processed (POST)\" webhook, which marks the signal as \"processed\" and removes it from the pending queue\n* **Emergency Cleanup**: The \"Clear all signals (POST)\" webhook provides a reset function to remove all signals from the queue, useful for testing or when signals get stuck\n\n## How to use\n\n* Import this workflow into your n8n instance and activate it by toggling the switch in the top-right corner\n* Copy all webhook URLs from each Webhook node (click the node to view the production URL)\n* Configure your MT5 Expert Advisor with the correct webhook URLs (SIGNAL_URL for GET requests, CONFIRM_URL for POST confirmations)\n* Add all webhook URLs to MT5's WebRequest whitelist (Tools → Options → Expert Advisors → \"Allow WebRequest for listed URL\")\n* Restart MT5 after adding URLs to the whitelist to ensure they're loaded properly\n* Test the workflow by sending a test signal using curl or Postman: `curl -X POST http://127.0.0.1:5678/webhook/mt5-signal -H \"Content-Type: application/json\" -d \"{\\\"asset\\\": \\\"EURUSD\\\", \\\"risk\\\": 2, \\\"entry\\\": 1.0850, \\\"sl\\\": 1.0830, \\\"tp\\\": 1.0900}\"`\n* Verify the signal appears when checking the GET endpoint: `curl http://127.0.0.1:5678/webhook/mt5-signals`\n* Attach the MT5 EA to any chart (the symbol doesn't matter - it monitors all symbols) and enable Auto Trading in MT5\n* Monitor the MT5 Experts log to confirm the EA is polling every 5 seconds and executing trades correctly\n\n## Requirements\n\n* **n8n instance** running locally or on a private VPS (version 1.x recommended)\n* **MetaTrader 5 terminal** installed with a demo or live account logged in\n* **Custom MT5 Expert Advisor** compiled and loaded (MQL5 code that polls the webhook and executes trades)\n* **Auto Trading enabled** in MT5 (Tools → Options → Expert Advisors → \"Allow Algorithmic Trading\")\n* **WebRequest permissions** configured in MT5 for all webhook URLs\n* Basic understanding of **REST APIs, webhooks, and trading concepts** (orders, SL/TP, position sizing)\n\n## Customising this workflow\n\n* Add **authentication middleware** to all webhook endpoints using HTTP Authentication or custom API keys for security\n* Implement **persistent storage** by replacing static data with a database node (PostgreSQL, MySQL) or external storage service\n* Create an **automatic signal cleanup workflow** that runs on a schedule to delete processed signals older than 24 hours\n* Add **notification nodes** (Telegram, Discord, Email) to alert you when trades are executed or errors occur\n* Implement **position size validation** in the Code nodes to cap maximum lot sizes or risk percentages\n* Create an **asset whitelist** by adding validation logic to only accept signals for approved trading instruments\n* Add **duplicate signal detection** to prevent the same signal from being processed multiple times\n* Build a **signal analytics dashboard** by logging all signals to a database and visualizing execution metrics\n* Try a popular use-case such as connecting this to a TradingView webhook to automate Pine Script strategy alerts directly into MT5 trades!\n* Add tags for certain setups and or magic numbers for easier journaling later on\n\n### Purchasing this N8N workflow comes with the AI trading assistant workflow too so it is sold together and vice versa as well along with the MQL code for the ExpertAdvisor listener all for the price of 120 usd total\n\n## Questions?\n\nIf you have questions or need help with this workflow, feel free to reach out:\n\n* elijahmamuri@gmail.com\n* elijahfxtrading@gmail.com\n\n---\n\n**Important Disclaimer**: This workflow is provided for educational purposes and demo account testing only. It demonstrates technical concepts for signal routing and automation architecture. Always test thoroughly on demo accounts, implement proper security measures, and understand that automated trading involves substantial risk. No warranties, financial advice, or guarantees are provided. See the full disclaimer in the workflow sticky notes for complete terms.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Receive Signal (POST)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Store Signal",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond to POST",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Pending Signals (GET)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Pending Signals",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Return Signals",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Confirm Signal Processed (POST)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Mark as Processed",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Confirm Response",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "clear all signals",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Clear all signals (POST)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Market Order (POST)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "market order code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.4"
    },
    {
      "name": "Limit Order (POST)",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "limit order code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond to Limit Order",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.4"
    },
    {
      "name": "confirm signals are cleared",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}