{
  "id": 4609,
  "slug": "4609",
  "title": "Automatic workflow & credentials backup to GitHub with change detection",
  "description": "**This n8n workflow template uses community nodes and is only compatible with the self-hosted version of n8n.** \n\n**Title:** n8n Credentials and Workflows Backup on Change Detection\n\n**Purpose:**\nNever lose track of your n8n changes again! This workflow smartly backs up all your workflows and credentials, automatically detects any changes using hash comparison, and pushes updates to GitHub—but only when something has actually changed. Set your own interval and stop cluttering your repo with redundant commits.\n\n[Walkthrough Video on YouTube](https://www.youtube.com/watch?v=jWLavvtbnhY)\n\n![image.png](fileId:1432)\n\n---\n\n**Trigger:**\n\n* **Schedule Trigger**: Executes the entire process at a user-defined interval. No need to worry about traceability or managing countless backups, as the workflow only commits changes when a difference is detected.\n\n![image.png](fileId:1433)\n\n---\n\n**Workflow Backup Process:**\n\n1. **Set Workflow Path**: Defines the local backup file path for workflows.\n2. **Get Old Workflow Hash**: Executes a helper workflow to retrieve the previous hash.\n3. **Execute Workflow Backup**: Runs `n8n export:workflow` to export all workflows to the defined file path.\n4. **Get New Workflow Hash**: Executes a helper workflow to generate the new hash from the exported file.\n5. **Compare Hashes (If Workflow Updated)**: Checks if the new hash differs from the old one.\n6. **If Updated:**\n\n   * **Read Workflow Data** → **Extract Text** → **Push to GitHub**: Reads, extracts, and commits the updated workflow JSON to GitHub under a timestamped filename.\n\n---\n\n**Credential Backup Process:**\n\n1. **Set Credential Path**: Defines the local backup file path for credentials.\n2. **Get Old Credential Hash**: Executes a helper workflow to retrieve the previous hash.\n3. **Execute Credential Backup**: Runs `n8n export:credentials` to export all credentials.\n4. **Get New Credential Hash**: Executes a helper workflow to generate the new hash from the exported file.\n5. **Compare Hashes (If Credential Updated)**: Checks for changes.\n6. **If Updated:**\n\n   * **Read Credential Data** → **Extract Text** → **Push to GitHub**: Commits the new credentials JSON to GitHub if changes are found.\n\n---\n\n**Hash Generator (Helper Flow):**\nUsed in both workflow and credential backup paths:\n\n* **Read File** → **Extract Text** → **Hash Data**\n* Outputs SHA-256 hash used for comparison\n\n---\n\n**GitHub Integration:**\n\n* Commits are created with ISO timestamp in the filename and message.\n* Repository: `https://github.com/your-github-name/n8n-onchange-bachup`\n* File paths: `backups/WorkFlow Backup -timestamp-.json` and `backups/Credential Backup -timestamp-.json`\n\n---\n\n**Change Detection Logic:**\n\n* Only commits files when hash changes are detected (i.e., actual content change).\n* Avoids unnecessary GitHub commits and storage use.\n\n**Error Handling:**\n\n* GitHub nodes are set to continue workflow execution on error, avoiding full process interruption.\n",
  "featuredImage": "/data/workflows/4609/4609.webp",
  "author": {
    "id": 101,
    "slug": "hamed-nickmehr",
    "name": "Hamed Nickmehr",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 5255,
  "downloads": 525,
  "createdAt": "2025-06-02T22:30:28.990Z",
  "updatedAt": "2026-01-16T08:35:19.372Z",
  "publishedAt": "2025-06-02T22:30:28.990Z",
  "nodes": 21,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4609",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automatic workflow & credentials backup to GitHub with change detection",
    "workflowName": "Automatic workflow & credentials backup to GitHub with change detection",
    "description": "**This n8n workflow template uses community nodes and is only compatible with the self-hosted version of n8n.** \n\n**Title:** n8n Credentials and Workflows Backup on Change Detection\n\n**Purpose:**\nNever lose track of your n8n changes again! This workflow smartly backs up all your workflows and credentials, automatically detects any changes using hash comparison, and pushes updates to GitHub—but only when something has actually changed. Set your own interval and stop cluttering your repo with redundant commits.\n\n[Walkthrough Video on YouTube](https://www.youtube.com/watch?v=jWLavvtbnhY)\n\n![image.png](fileId:1432)\n\n---\n\n**Trigger:**\n\n* **Schedule Trigger**: Executes the entire process at a user-defined interval. No need to worry about traceability or managing countless backups, as the workflow only commits changes when a difference is detected.\n\n![image.png](fileId:1433)\n\n---\n\n**Workflow Backup Process:**\n\n1. **Set Workflow Path**: Defines the local backup file path for workflows.\n2. **Get Old Workflow Hash**: Executes a helper workflow to retrieve the previous hash.\n3. **Execute Workflow Backup**: Runs `n8n export:workflow` to export all workflows to the defined file path.\n4. **Get New Workflow Hash**: Executes a helper workflow to generate the new hash from the exported file.\n5. **Compare Hashes (If Workflow Updated)**: Checks if the new hash differs from the old one.\n6. **If Updated:**\n\n   * **Read Workflow Data** → **Extract Text** → **Push to GitHub**: Reads, extracts, and commits the updated workflow JSON to GitHub under a timestamped filename.\n\n---\n\n**Credential Backup Process:**\n\n1. **Set Credential Path**: Defines the local backup file path for credentials.\n2. **Get Old Credential Hash**: Executes a helper workflow to retrieve the previous hash.\n3. **Execute Credential Backup**: Runs `n8n export:credentials` to export all credentials.\n4. **Get New Credential Hash**: Executes a helper workflow to generate the new hash from the exported file.\n5. **Compare Hashes (If Credential Updated)**: Checks for changes.\n6. **If Updated:**\n\n   * **Read Credential Data** → **Extract Text** → **Push to GitHub**: Commits the new credentials JSON to GitHub if changes are found.\n\n---\n\n**Hash Generator (Helper Flow):**\nUsed in both workflow and credential backup paths:\n\n* **Read File** → **Extract Text** → **Hash Data**\n* Outputs SHA-256 hash used for comparison\n\n---\n\n**GitHub Integration:**\n\n* Commits are created with ISO timestamp in the filename and message.\n* Repository: `https://github.com/your-github-name/n8n-onchange-bachup`\n* File paths: `backups/WorkFlow Backup -timestamp-.json` and `backups/Credential Backup -timestamp-.json`\n\n---\n\n**Change Detection Logic:**\n\n* Only commits files when hash changes are detected (i.e., actual content change).\n* Avoids unnecessary GitHub commits and storage use.\n\n**Error Handling:**\n\n* GitHub nodes are set to continue workflow execution on error, avoiding full process interruption.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get New Workflow Hash",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Old Workflow Hash",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Read Workflow Data",
      "type": "n8n-nodes-base.readWriteFile",
      "role": "readWriteFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Workflow Path",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Execute Workflow Backup",
      "type": "n8n-nodes-base.executeCommand",
      "role": "executeCommand",
      "configDescription": "Version 1"
    },
    {
      "name": "Read File",
      "type": "n8n-nodes-base.readWriteFile",
      "role": "readWriteFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Data",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Hash Data",
      "type": "n8n-nodes-base.crypto",
      "role": "crypto",
      "configDescription": "Version 1"
    },
    {
      "name": "Hash Maker",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "role": "executeWorkflowTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Extract Workflow Data",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "GitHub Workflow Backup",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get New Credential Hash",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Old Credential Hash",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Read Credential Data",
      "type": "n8n-nodes-base.readWriteFile",
      "role": "readWriteFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Credential Path",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Execute Credential Backup",
      "type": "n8n-nodes-base.executeCommand",
      "role": "executeCommand",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Credential Data",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "GitHub Credential Backup",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1.1"
    },
    {
      "name": "If Workflow Updated",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If Credential Updated",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    }
  ]
}