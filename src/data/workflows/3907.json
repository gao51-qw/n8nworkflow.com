{
  "id": 3907,
  "slug": "3907",
  "title": "Generate riddle shorts & post on YouTube with Sonnet 3.5, Pinecone & Creatomate",
  "description": "This workflow allows you to generate riddle-themed vertical videos (9:16), render them using Creatomate, and upload them directly to YouTube ‚Äî all automatically. It's optimized for low-cost operation while still integrating AI and automation at key stages.\n\nHere is a sample: [https://youtube.com/shorts/svhgti9L6Fw?feature=share](https://youtube.com/shorts/svhgti9L6Fw?feature=share)\n\n---\n\n### üîÑ Workflow Overview\n\nThis is a **schedule-triggered** workflow that:\n\n1. **Generates riddles with answers** using an AI agent.\n2. **Checks Pinecone** vector store to avoid repeating riddles.\n3. **Inserts new riddles** into Pinecone under a namespace structured by `month/year` for easier indexing.\n4. **Fetches an unused music track URL** for video background.\n5. **Generates a video** using Creatomate with the riddles and audio.\n6. **Uploads the video to YouTube** via a custom HTTP request with OAuth.\n7. **Updates the worksheet and riddle numbering**, and notifies via email.\n\n---\n\n### üîó Integration Guide\n\n#### üîé Pinecone Setup\n\n* You need an active Pinecone account with an index created.\n* The vector index should be accessible from n8n.\n* Follow \\[n8n's Pinecone Node Documentation] for help setting up credentials and connecting.\n\n#### üìù Google Sheet Setup\n\n1. Open the sheets template provided in the Gumroad documentation pdf.\n2. Make a copy to your Google Drive.\n3. Set up the required credentials in n8n and link the Google Sheets node to your new copy.\n\n#### üéß Audio Tracks\n\n* Get copyright-free tracks from [Royalty Free Music Library](https://royaltyfreemusiclibrary.com/).\n* Ensure files are in `.mp3` format for compatibility.\n\n#### üéûÔ∏è Background Videos (Optional)\n\n* For optional background visuals, use free stock videos from [Pexels](https://www.pexels.com/videos/).\n\n---\n\n### üí° Creatomate Setup\n\n1. Create a Creatomate account at \\[creatomate.com].\n2. Create a **9:16 aspect ratio** template.\n3. Press **F12** to open the source editor.\n4. Download the Creatomate JSON file from the Gumroad page and paste its contents into the source editor.\n5. Refresh the page and click **\"Use Template\" &gt; API Integration**.\n6. Copy the **cURL**.\n7. From the cURL, extract your `Bearer Token` and `Template ID`.\n8. Paste them in the respective fields in the `Creatomate Render Node` inside n8n.\n\n---\n\n### üìâ YouTube Upload Configuration\n\n1. Inside n8n, set up a **YouTube OAuth credential**.\n2. Search for \"YouTube\" in the credentials list and select the OAuth type.\n3. Use the Custom HTTP Request node with `multipart/form-data` to upload the video using:\n\n   * Title (e.g., \"Riddles4U #001\")\n   * Description\n   * Video file binary\n   * Category ID (find ID here: [https://gist.github.com/dgp/1b24bf2961521bd75d6c](https://gist.github.com/dgp/1b24bf2961521bd75d6c))\n\n---\n\n### üîÑ Workflow Logic Detail\n\n1. **Riddle Generation**\n\n   * Checks Pinecone vector store for existing riddles (to avoid duplicates).\n   * Generates 4 new riddles with answers.\n   * Stores them in Pinecone under `month/year` namespace.\n   * Extracts a numbered title for current riddle post (e.g., Riddles4U #001).\n   * Prepares next riddle title counter (but only updates after YouTube post succeeds).\n\n2. **Track URL Fetching**\n\n   * Pulls the first unused track from Google Sheets.\n\n3. **Render & Upload**\n\n   * Sends the riddles + track to Creatomate for rendering.\n   * Fetches binary video and uploads it directly to YouTube via HTTP.\n   * Note: For video source url, I downloaded a video, uploaded it to drive and used that video drive link. You can add a new sheet and rotate videos too, although youtube likes consistency in shorts so I think it is best to have one very beautiful and calm background video then change to a new one after some months or when you generate like 50 shorts. \n\n\n4. **Post Actions**\n\n   * Sends email with YouTube video link.\n   * Marks used audio row as \"used\".\n   * Updates to next riddle title.\n   * If all tracks have been used, resets them to \"unused\".\n\n---\n\n### üöÄ Customization Ideas\n\n* Add AI-generated voiceover to the riddles.\n* Replace riddles with trivia, quotes, or jokes.\n* Integrate TikTok or Instagram upload APIs for multichannel publishing.\n\n---\n\n### ‚úâÔ∏è Support\n\nRefer to the **comprehensive setup guide** included in the Gumroad download folder to configure your template, credentials, and API keys correctly.\n\nThis is a beginner-friendly, low-cost automation you can build on for more advanced content pipelines. Happy building!\n\nYou can find me on [twitter](https://x.com/juppfy) and via [email](mailto:joseph@uppfy.com) incase you need any custom n8n workflows or wanna chat.\n",
  "featuredImage": "/data/workflows/3907/3907.webp",
  "author": {
    "id": 101,
    "slug": "mjomba",
    "name": "Joseph",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 914,
  "downloads": 91,
  "createdAt": "2025-05-06T17:37:42.403Z",
  "updatedAt": "2026-01-16T08:32:06.824Z",
  "publishedAt": "2025-05-06T17:37:42.403Z",
  "nodes": 32,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3907",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate riddle shorts & post on YouTube with Sonnet 3.5, Pinecone & Creatomate",
    "workflowName": "Generate riddle shorts & post on YouTube with Sonnet 3.5, Pinecone & Creatomate",
    "description": "This workflow allows you to generate riddle-themed vertical videos (9:16), render them using Creatomate, and upload them directly to YouTube ‚Äî all automatically. It's optimized for low-cost operation while still integrating AI and automation at key stages.\n\nHere is a sample: [https://youtube.com/shorts/svhgti9L6Fw?feature=share](https://youtube.com/shorts/svhgti9L6Fw?feature=share)\n\n---\n\n### üîÑ Workflow Overview\n\nThis is a **schedule-triggered** workflow that:\n\n1. **Generates riddles with answers** using an AI agent.\n2. **Checks Pinecone** vector store to avoid repeating riddles.\n3. **Inserts new riddles** into Pinecone under a namespace structured by `month/year` for easier indexing.\n4. **Fetches an unused music track URL** for video background.\n5. **Generates a video** using Creatomate with the riddles and audio.\n6. **Uploads the video to YouTube** via a custom HTTP request with OAuth.\n7. **Updates the worksheet and riddle numbering**, and notifies via email.\n\n---\n\n### üîó Integration Guide\n\n#### üîé Pinecone Setup\n\n* You need an active Pinecone account with an index created.\n* The vector index should be accessible from n8n.\n* Follow \\[n8n's Pinecone Node Documentation] for help setting up credentials and connecting.\n\n#### üìù Google Sheet Setup\n\n1. Open the sheets template provided in the Gumroad documentation pdf.\n2. Make a copy to your Google Drive.\n3. Set up the required credentials in n8n and link the Google Sheets node to your new copy.\n\n#### üéß Audio Tracks\n\n* Get copyright-free tracks from [Royalty Free Music Library](https://royaltyfreemusiclibrary.com/).\n* Ensure files are in `.mp3` format for compatibility.\n\n#### üéûÔ∏è Background Videos (Optional)\n\n* For optional background visuals, use free stock videos from [Pexels](https://www.pexels.com/videos/).\n\n---\n\n### üí° Creatomate Setup\n\n1. Create a Creatomate account at \\[creatomate.com].\n2. Create a **9:16 aspect ratio** template.\n3. Press **F12** to open the source editor.\n4. Download the Creatomate JSON file from the Gumroad page and paste its contents into the source editor.\n5. Refresh the page and click **\"Use Template\" &gt; API Integration**.\n6. Copy the **cURL**.\n7. From the cURL, extract your `Bearer Token` and `Template ID`.\n8. Paste them in the respective fields in the `Creatomate Render Node` inside n8n.\n\n---\n\n### üìâ YouTube Upload Configuration\n\n1. Inside n8n, set up a **YouTube OAuth credential**.\n2. Search for \"YouTube\" in the credentials list and select the OAuth type.\n3. Use the Custom HTTP Request node with `multipart/form-data` to upload the video using:\n\n   * Title (e.g., \"Riddles4U #001\")\n   * Description\n   * Video file binary\n   * Category ID (find ID here: [https://gist.github.com/dgp/1b24bf2961521bd75d6c](https://gist.github.com/dgp/1b24bf2961521bd75d6c))\n\n---\n\n### üîÑ Workflow Logic Detail\n\n1. **Riddle Generation**\n\n   * Checks Pinecone vector store for existing riddles (to avoid duplicates).\n   * Generates 4 new riddles with answers.\n   * Stores them in Pinecone under `month/year` namespace.\n   * Extracts a numbered title for current riddle post (e.g., Riddles4U #001).\n   * Prepares next riddle title counter (but only updates after YouTube post succeeds).\n\n2. **Track URL Fetching**\n\n   * Pulls the first unused track from Google Sheets.\n\n3. **Render & Upload**\n\n   * Sends the riddles + track to Creatomate for rendering.\n   * Fetches binary video and uploads it directly to YouTube via HTTP.\n   * Note: For video source url, I downloaded a video, uploaded it to drive and used that video drive link. You can add a new sheet and rotate videos too, although youtube likes consistency in shorts so I think it is best to have one very beautiful and calm background video then change to a new one after some months or when you generate like 50 shorts. \n\n\n4. **Post Actions**\n\n   * Sends email with YouTube video link.\n   * Marks used audio row as \"used\".\n   * Updates to next riddle title.\n   * If all tracks have been used, resets them to \"unused\".\n\n---\n\n### üöÄ Customization Ideas\n\n* Add AI-generated voiceover to the riddles.\n* Replace riddles with trivia, quotes, or jokes.\n* Integrate TikTok or Instagram upload APIs for multichannel publishing.\n\n---\n\n### ‚úâÔ∏è Support\n\nRefer to the **comprehensive setup guide** included in the Gumroad download folder to configure your template, credentials, and API keys correctly.\n\nThis is a beginner-friendly, low-cost automation you can build on for more advanced content pipelines. Happy building!\n\nYou can find me on [twitter](https://x.com/juppfy) and via [email](mailto:joseph@uppfy.com) incase you need any custom n8n workflows or wanna chat.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Anthropic Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "role": "lmChatAnthropic",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Recursive Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Riddle generation AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Vector Store to Find Previous Riddles",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Fetch Audio From Sheet (Ensuring Rotation)",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Insert Riddles to Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Convert Riddles JSON to 1 Text item for Vector Insertion",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Fetch Current Shorts Title (Numbered)",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Calculate Next Shorts Title Number (To update at the end)",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Render Youtube Short",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Youtube Upload HTTP request Setup",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Get Binary for Rendered Short",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Upload Binary to Youtube HTTP",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Send Notification with YouTube link",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Update Audio Used Status",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Update Next Shorts title",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Check if all audio tracks have been used",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "get all track rows",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update all track rows back to unused",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}