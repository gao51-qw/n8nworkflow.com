{
  "id": 9440,
  "slug": "9440",
  "title": "Create a WhatsApp chatbot with GPT-4o, Whisper transcription and Redis buffer",
  "description": "üë• Who's it for\nThis workflow is perfect for businesses or individuals who want to automate WhatsApp conversations üí¨ with an intelligent AI chatbot that can handle text, voice notes üéµ, and images üñºÔ∏è. No advanced coding required!\nü§ñ What it does\nIt automatically receives WhatsApp messages through WasenderAPI, intelligently buffers consecutive messages to avoid fragmented responses, processes multimedia content (transcribing audio and analyzing images with AI), and responds naturally using GPT-4o mini with conversation memory. All while protecting your WhatsApp account from being banned.\n‚öôÔ∏è How it works\n\nüì± Webhook Trigger ‚Äì Receives new messages from WasenderAPI\nüóÉÔ∏è Redis Buffer System ‚Äì Groups consecutive messages intelligently (7-second window)\nüîÄ Content Classifier ‚Äì Routes messages by type (text, audio, or image)\nüéµ Audio Processing ‚Äì Decrypts and transcribes voice notes using OpenAI Whisper\nüñºÔ∏è Image Analysis ‚Äì Decrypts and analyzes images with GPT-4O Vision\nüß† AI Agent (GPT-4o mini) ‚Äì Generates intelligent responses with 10-message memory\n‚è±Ô∏è Anti-Ban Wait ‚Äì 6-second delay to simulate human typing\nüì§ Message Sender ‚Äì Delivers response back to WhatsApp user\n\nüìã Requirements\n\nWasenderAPI account with connected WhatsApp number : https://wasenderapi.com/\n\nRedis database (free tier works fine)\nOpenAI API key with access to GPT-4o mini and Whisper\nn8n's AI Agent, LangChain, and Redis nodes\n\nüõ†Ô∏è How to set up\n\nCreate your WasenderAPI account and connect a WhatsApp number\nSet up a free Redis database and get connection credentials\nConfigure OpenAI API key in n8n credentials\nReplace the WasenderAPI Bearer token in \"Get the audio\", \"Get the photo\", and \"Send Message to User\" nodes\nChange the Manual Trigger to a Webhook and configure it in WasenderAPI\nCustomize the AI Agent prompt to match your business needs\nAdjust wait times if needed (default: 6 seconds for responses, 7 seconds for buffer)\nSave and activate the workflow ‚úÖ\n\nüé® How to customize\n\nModify the AI Agent prompt to change bot personality and instructions\nAdjust buffer wait time (7 seconds) for faster/slower message grouping\nChange response delay (6 seconds) based on your use case , its recomendable 30 seconds.\nAdd more content types (documents, videos) by extending the Switch Type node\nConfigure conversation memory window (default: 10 messages)",
  "featuredImage": "/data/workflows/9440/9440.webp",
  "author": {
    "id": 101,
    "slug": "bossa",
    "name": "Jose Bossa",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 698,
  "downloads": 69,
  "createdAt": "2025-10-09T21:04:23.357Z",
  "updatedAt": "2026-01-16T09:00:32.608Z",
  "publishedAt": "2025-10-09T21:04:23.357Z",
  "nodes": 35,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9440",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create a WhatsApp chatbot with GPT-4o, Whisper transcription and Redis buffer",
    "workflowName": "Create a WhatsApp chatbot with GPT-4o, Whisper transcription and Redis buffer",
    "description": "üë• Who's it for\nThis workflow is perfect for businesses or individuals who want to automate WhatsApp conversations üí¨ with an intelligent AI chatbot that can handle text, voice notes üéµ, and images üñºÔ∏è. No advanced coding required!\nü§ñ What it does\nIt automatically receives WhatsApp messages through WasenderAPI, intelligently buffers consecutive messages to avoid fragmented responses, processes multimedia content (transcribing audio and analyzing images with AI), and responds naturally using GPT-4o mini with conversation memory. All while protecting your WhatsApp account from being banned.\n‚öôÔ∏è How it works\n\nüì± Webhook Trigger ‚Äì Receives new messages from WasenderAPI\nüóÉÔ∏è Redis Buffer System ‚Äì Groups consecutive messages intelligently (7-second window)\nüîÄ Content Classifier ‚Äì Routes messages by type (text, audio, or image)\nüéµ Audio Processing ‚Äì Decrypts and transcribes voice notes using OpenAI Whisper\nüñºÔ∏è Image Analysis ‚Äì Decrypts and analyzes images with GPT-4O Vision\nüß† AI Agent (GPT-4o mini) ‚Äì Generates intelligent responses with 10-message memory\n‚è±Ô∏è Anti-Ban Wait ‚Äì 6-second delay to simulate human typing\nüì§ Message Sender ‚Äì Delivers response back to WhatsApp user\n\nüìã Requirements\n\nWasenderAPI account with connected WhatsApp number : https://wasenderapi.com/\n\nRedis database (free tier works fine)\nOpenAI API key with access to GPT-4o mini and Whisper\nn8n's AI Agent, LangChain, and Redis nodes\n\nüõ†Ô∏è How to set up\n\nCreate your WasenderAPI account and connect a WhatsApp number\nSet up a free Redis database and get connection credentials\nConfigure OpenAI API key in n8n credentials\nReplace the WasenderAPI Bearer token in \"Get the audio\", \"Get the photo\", and \"Send Message to User\" nodes\nChange the Manual Trigger to a Webhook and configure it in WasenderAPI\nCustomize the AI Agent prompt to match your business needs\nAdjust wait times if needed (default: 6 seconds for responses, 7 seconds for buffer)\nSave and activate the workflow ‚úÖ\n\nüé® How to customize\n\nModify the AI Agent prompt to change bot personality and instructions\nAdjust buffer wait time (7 seconds) for faster/slower message grouping\nChange response delay (6 seconds) based on your use case , its recomendable 30 seconds.\nAdd more content types (documents, videos) by extending the Switch Type node\nConfigure conversation memory window (default: 10 messages)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Wait3",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "No Operation, do nothing3",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Switch Type",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Transcribe a recording",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Audio Content",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Analyze image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Image Content",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Text Content",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Chat Input",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Code in JavaScript",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Message to User",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get the audio",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Download the audio",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Get the photo",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Redis",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Redis1",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Redis2",
      "type": "n8n-nodes-base.redis",
      "role": "redis",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Set fields1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "When clicking 'Execute workflow'",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}