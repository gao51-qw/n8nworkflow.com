{
  "id": 10179,
  "slug": "10179",
  "title": "Build a complete email CRM with Google Sheets & MailerSend",
  "description": "## ‚úâÔ∏è Automate MailerSend Email (Google Sheets)\n\n---\n\n### üåê Overview\nThis workflow converts **Google Sheets into a full Email CRM** ‚Äî no HubSpot or Customer.io needed!  \nIt automates segmentation, sending, validation, and delivery tracking using:\n\n‚úÖ Google Sheets ‚Üí CDP + Email Performance DB  \n‚úÖ MailerSend ‚Üí Email Template Delivery  \n‚úÖ n8n ‚Üí Automation + Logic + Scheduling\n\nIt automatically:\n‚Ä¢ Reads subscribers from a selected segment sheet  \n‚Ä¢ Validates email + checks for disposable domains  \n‚Ä¢ Sends a MailerSend email template  \n‚Ä¢ Updates send status + delivery result in Sheets\n\nPerfect for onboarding emails, promo campaigns, retention flows, newsletters & more!\n\n---\n\n### ‚úÖ Key Features\n‚Ä¢ üéØ Unlimited audience segments  \n‚Ä¢ üö´ Deduplication system per execution  \n‚Ä¢ üõ°Ô∏è Disposable email filtering  \n‚Ä¢ üîÑ Automatic recurring runs (every 30 minutes)  \n‚Ä¢ üß© Template-based personalization (name, codes, journey)  \n‚Ä¢ üìä Real-time delivery tracking + analytics-ready data  \n‚Ä¢ üîê Zero CRM vendor lock-in  \n\n---\n\n### üìä Database Sheets (Google Sheets Required)\n\nUse this database template:  \nüîó https://docs.google.com/spreadsheets/d/17KqltP-NqchPhZV7gk6QToqCZX6IiA5EBkDCBNsIX_0/edit?usp=sharing\n\n| Sheet Name | Purpose | Required Fields |\n|-----------|---------|----------------|\n| `template` | Campaign configuration | Id, template_name, journey, type, type_template_id, discount_code |\n| `segment1` / `segment2` | Audience lists | user_id, email, first_name, number |\n| `transaction` | Status + results history | user_id, status, sent_result, sent_at, template_name |\n\n### transaction\n| CreatedAt                        | UpdatedAt                        | user_id         | email                   | number      | first_name | status     | database_id | type  | template_id | type_template_id   | template_name   | journey | discount_code | gift_code |\n|----------------------------------|----------------------------------|-----------------|------------------------|-------------|------------|------------|-------------|------|-------------|-------------------|-----------------|---------|---------------|-----------|\n| 2025-10-25T13:11:41.567-04:00    | 2025-10-25T13:11:41.567-04:00    | uid_0000000001  | nimasalimi42@gmail.com | 9362000000  | Liam       | 1-sending  | segment1    | email | 1           | v28xxl2sq8dg785k  | SMS-TEST        | Test    | disxxx        |           |\n| 2025-10-25T13:11:41.567-04:00    | 2025-10-25T13:11:41.567-04:00    | uid_0000000002  | user2@gmail.com        | 9362000001  | Noah       | 1-sending  | segment1    | email | 1           | v28xxl2sq8dg785k  | SMS-TEST        | Test    | disxxx        |           |\n| 2025-10-25T13:11:41.567-04:00    | 2025-10-25T13:11:41.567-04:00    | uid_0000000003  | user3@gmail.com        | 9362000002  | Oliver     | 1-sending  | segment1    | email | 1           | v28xxl2sq8dg785k  | SMS-TEST        | Test    | disxxx        |           |\n\n## template\n| Id | template_name              | journey        | database_id | type  | type_template_id   | discount_code | gift_code |\n|----|---------------------------|----------------|-------------|------|-------------------|---------------|-----------|\n| 3  | Order-Confirmation        | Order          | segment3    | email | v28xxl2sq8dg785k  | discount2     |           |\n| 4  | Shipping-Notification     | Notification   | segment4    | email | v28xxl2sq8dg785c  | discount3     |           |\n| 5  | Add-to-Cart-day1          | Add-to-Car     | segment5    | email | v28xxl2sq8dg785d  | discount4     |           |\n| 6  | Welcome-New-Customer      | Welcome        | segment6    | email | v28xxl2sq8dg785s  | discount5     |           |\n| 7  | Churn-Pro-Plan            | Churn          | segment7    | email | v28xxl2sq8dg785g  | proxc         |           |\n| 8  | Churn-Pro-Plan-1day-ago   | Churn          | segment8    | email | v28xxl2sq8dg785h  |               | shipx     |\n\n## segment1\n| user_id         | email                   | number        | first_name | database_id |\n|-----------------|-------------------------|--------------|------------|-------------|\n| uid_0000000001  | nimasalimi42@gmail.com  | 09362000000  | Liam       | segment1    |\n| uid_0000000002  | user2@gmail.com         | 09362000001  | Noah       | segment1    |\n| uid_0000000003  | user3@gmail.com         | 09362000002  | Oliver     | segment1    |\n| uid_0000000004  | user4@gmail.com         | 09362000003  | Elijah     | segment1    |\n| uid_0000000005  | user5@gmail.com         | 09362000004  | James      | segment1    |\n\n\nüìå Add more segments simply by creating new sheets (segment3, segment4...)  \nüìå Change campaign by updating `template_id` in Setup Flow node  \n\n---\n\n### üë§ Who‚Äôs it for?\n‚Ä¢ Ecommerce email retention teams  \n‚Ä¢ SaaS CRM automation operators  \n‚Ä¢ Digital marketing & lifecycle pros  \n‚Ä¢ Agencies running multi-brand campaigns  \n‚Ä¢ No-code builders who want scalable CRM logic\n\n---\n\n### ‚öôÔ∏è Automations Included\n\n#### Flow 1 ‚Äî Insert Users (Triggered on schedule)\n‚Ä¢ Pull users from selected segment tab  \n‚Ä¢ Insert into transaction sheet  \n‚Ä¢ Status: `0-processing` ‚Üí `1-sending`  \n‚Ä¢ Prevent duplicate sending ‚úÖ\n\n#### Flow 2 ‚Äî Send Emails (Runs every 30 min)\n‚Ä¢ Selects ‚Äúready‚Äù users (`1-sending`)  \n‚Ä¢ Checks:\n  - Missing email ‚Üí `3-no-email`\n  - Disposable ‚Üí `4-disposal-email`\n‚Ä¢ Sends via MailerSend template ID in sheet  \n‚Ä¢ Updates status ‚Üí `2-sent` + message result\n\nüéØ Your entire CRM sending logic runs automatically every day\n\n---\n\n### üß† Personalization Support\nAvailable merge-fields:\n‚Ä¢ `first_name`  \n‚Ä¢ `discount_code`  \n‚Ä¢ `gift_code`  \n(Modify jsonBody to add more!)\n\n---\n\n### üîê MailerSend Setup Required\nInside MailerSend node:\n- Replace ‚Äúinfo@example.com‚Äù with your verified sender email ‚úÖ\n\nYou must:\n‚úî Verify domain  \n‚úî Approve sender email  \n‚úî Copy correct template ID ‚Üí Google Sheet  \n\n---\n\n### üí° Optional Enhancements\n‚Ä¢ Slack alerts for failed sends  \n‚Ä¢ Connect Looker Studio for dashboards  \n‚Ä¢ Add SMS / WhatsApp parallel flows  \n‚Ä¢ A/B test templates by duplicating rows  \n‚Ä¢ Add AI for subject optimization or copy rewrite\n\n---\n\n### üì∫ Connect With Me\nMore workflows, CRM strategy & AI marketing automation üëá  \nLinkedIn: https://linkedin.com/in/nima-salimi-a655a6231  \n\nFollow & ‚≠êÔ∏è this template if it helped you üöÄ\n",
  "featuredImage": "/data/workflows/10179/10179.webp",
  "author": {
    "id": 101,
    "slug": "salimi",
    "name": "Nima Salimi",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 116,
  "downloads": 11,
  "createdAt": "2025-10-25T18:46:38.370Z",
  "updatedAt": "2026-01-16T09:03:51.504Z",
  "publishedAt": "2025-10-25T18:46:38.370Z",
  "nodes": 34,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10179",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build a complete email CRM with Google Sheets & MailerSend",
    "workflowName": "Build a complete email CRM with Google Sheets & MailerSend",
    "description": "## ‚úâÔ∏è Automate MailerSend Email (Google Sheets)\n\n---\n\n### üåê Overview\nThis workflow converts **Google Sheets into a full Email CRM** ‚Äî no HubSpot or Customer.io needed!  \nIt automates segmentation, sending, validation, and delivery tracking using:\n\n‚úÖ Google Sheets ‚Üí CDP + Email Performance DB  \n‚úÖ MailerSend ‚Üí Email Template Delivery  \n‚úÖ n8n ‚Üí Automation + Logic + Scheduling\n\nIt automatically:\n‚Ä¢ Reads subscribers from a selected segment sheet  \n‚Ä¢ Validates email + checks for disposable domains  \n‚Ä¢ Sends a MailerSend email template  \n‚Ä¢ Updates send status + delivery result in Sheets\n\nPerfect for onboarding emails, promo campaigns, retention flows, newsletters & more!\n\n---\n\n### ‚úÖ Key Features\n‚Ä¢ üéØ Unlimited audience segments  \n‚Ä¢ üö´ Deduplication system per execution  \n‚Ä¢ üõ°Ô∏è Disposable email filtering  \n‚Ä¢ üîÑ Automatic recurring runs (every 30 minutes)  \n‚Ä¢ üß© Template-based personalization (name, codes, journey)  \n‚Ä¢ üìä Real-time delivery tracking + analytics-ready data  \n‚Ä¢ üîê Zero CRM vendor lock-in  \n\n---\n\n### üìä Database Sheets (Google Sheets Required)\n\nUse this database template:  \nüîó https://docs.google.com/spreadsheets/d/17KqltP-NqchPhZV7gk6QToqCZX6IiA5EBkDCBNsIX_0/edit?usp=sharing\n\n| Sheet Name | Purpose | Required Fields |\n|-----------|---------|----------------|\n| `template` | Campaign configuration | Id, template_name, journey, type, type_template_id, discount_code |\n| `segment1` / `segment2` | Audience lists | user_id, email, first_name, number |\n| `transaction` | Status + results history | user_id, status, sent_result, sent_at, template_name |\n\n### transaction\n| CreatedAt                        | UpdatedAt                        | user_id         | email                   | number      | first_name | status     | database_id | type  | template_id | type_template_id   | template_name   | journey | discount_code | gift_code |\n|----------------------------------|----------------------------------|-----------------|------------------------|-------------|------------|------------|-------------|------|-------------|-------------------|-----------------|---------|---------------|-----------|\n| 2025-10-25T13:11:41.567-04:00    | 2025-10-25T13:11:41.567-04:00    | uid_0000000001  | nimasalimi42@gmail.com | 9362000000  | Liam       | 1-sending  | segment1    | email | 1           | v28xxl2sq8dg785k  | SMS-TEST        | Test    | disxxx        |           |\n| 2025-10-25T13:11:41.567-04:00    | 2025-10-25T13:11:41.567-04:00    | uid_0000000002  | user2@gmail.com        | 9362000001  | Noah       | 1-sending  | segment1    | email | 1           | v28xxl2sq8dg785k  | SMS-TEST        | Test    | disxxx        |           |\n| 2025-10-25T13:11:41.567-04:00    | 2025-10-25T13:11:41.567-04:00    | uid_0000000003  | user3@gmail.com        | 9362000002  | Oliver     | 1-sending  | segment1    | email | 1           | v28xxl2sq8dg785k  | SMS-TEST        | Test    | disxxx        |           |\n\n## template\n| Id | template_name              | journey        | database_id | type  | type_template_id   | discount_code | gift_code |\n|----|---------------------------|----------------|-------------|------|-------------------|---------------|-----------|\n| 3  | Order-Confirmation        | Order          | segment3    | email | v28xxl2sq8dg785k  | discount2     |           |\n| 4  | Shipping-Notification     | Notification   | segment4    | email | v28xxl2sq8dg785c  | discount3     |           |\n| 5  | Add-to-Cart-day1          | Add-to-Car     | segment5    | email | v28xxl2sq8dg785d  | discount4     |           |\n| 6  | Welcome-New-Customer      | Welcome        | segment6    | email | v28xxl2sq8dg785s  | discount5     |           |\n| 7  | Churn-Pro-Plan            | Churn          | segment7    | email | v28xxl2sq8dg785g  | proxc         |           |\n| 8  | Churn-Pro-Plan-1day-ago   | Churn          | segment8    | email | v28xxl2sq8dg785h  |               | shipx     |\n\n## segment1\n| user_id         | email                   | number        | first_name | database_id |\n|-----------------|-------------------------|--------------|------------|-------------|\n| uid_0000000001  | nimasalimi42@gmail.com  | 09362000000  | Liam       | segment1    |\n| uid_0000000002  | user2@gmail.com         | 09362000001  | Noah       | segment1    |\n| uid_0000000003  | user3@gmail.com         | 09362000002  | Oliver     | segment1    |\n| uid_0000000004  | user4@gmail.com         | 09362000003  | Elijah     | segment1    |\n| uid_0000000005  | user5@gmail.com         | 09362000004  | James      | segment1    |\n\n\nüìå Add more segments simply by creating new sheets (segment3, segment4...)  \nüìå Change campaign by updating `template_id` in Setup Flow node  \n\n---\n\n### üë§ Who‚Äôs it for?\n‚Ä¢ Ecommerce email retention teams  \n‚Ä¢ SaaS CRM automation operators  \n‚Ä¢ Digital marketing & lifecycle pros  \n‚Ä¢ Agencies running multi-brand campaigns  \n‚Ä¢ No-code builders who want scalable CRM logic\n\n---\n\n### ‚öôÔ∏è Automations Included\n\n#### Flow 1 ‚Äî Insert Users (Triggered on schedule)\n‚Ä¢ Pull users from selected segment tab  \n‚Ä¢ Insert into transaction sheet  \n‚Ä¢ Status: `0-processing` ‚Üí `1-sending`  \n‚Ä¢ Prevent duplicate sending ‚úÖ\n\n#### Flow 2 ‚Äî Send Emails (Runs every 30 min)\n‚Ä¢ Selects ‚Äúready‚Äù users (`1-sending`)  \n‚Ä¢ Checks:\n  - Missing email ‚Üí `3-no-email`\n  - Disposable ‚Üí `4-disposal-email`\n‚Ä¢ Sends via MailerSend template ID in sheet  \n‚Ä¢ Updates status ‚Üí `2-sent` + message result\n\nüéØ Your entire CRM sending logic runs automatically every day\n\n---\n\n### üß† Personalization Support\nAvailable merge-fields:\n‚Ä¢ `first_name`  \n‚Ä¢ `discount_code`  \n‚Ä¢ `gift_code`  \n(Modify jsonBody to add more!)\n\n---\n\n### üîê MailerSend Setup Required\nInside MailerSend node:\n- Replace ‚Äúinfo@example.com‚Äù with your verified sender email ‚úÖ\n\nYou must:\n‚úî Verify domain  \n‚úî Approve sender email  \n‚úî Copy correct template ID ‚Üí Google Sheet  \n\n---\n\n### üí° Optional Enhancements\n‚Ä¢ Slack alerts for failed sends  \n‚Ä¢ Connect Looker Studio for dashboards  \n‚Ä¢ Add SMS / WhatsApp parallel flows  \n‚Ä¢ A/B test templates by duplicating rows  \n‚Ä¢ Add AI for subject optimization or copy rewrite\n\n---\n\n### üì∫ Connect With Me\nMore workflows, CRM strategy & AI marketing automation üëá  \nLinkedIn: https://linkedin.com/in/nima-salimi-a655a6231  \n\nFollow & ‚≠êÔ∏è this template if it helped you üöÄ",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Setup Flow",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Map Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Filter Template",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.1"
    },
    {
      "name": "IF Template Parameters OK",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.1"
    },
    {
      "name": "IF user_id is not empty",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Remove Duplicates",
      "type": "n8n-nodes-base.removeDuplicates",
      "role": "removeDuplicates",
      "configDescription": "Version 2"
    },
    {
      "name": "IF Type Email",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Schedule Trigger1",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "If email is not empty",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Disposal Check",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get user_id from cdp",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Add records By Status Processing",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Insert Data By Status Processing",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Change Status to Sending",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Insert Data By Status Sending",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "No Email Update",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Disposal Email Update",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Update Status: 2-Sent",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Get all flow templates from Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send an template HTML Mailerlite",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}