{
  "id": 10161,
  "slug": "10161",
  "title": "Automated referral reward system with email verification and visual coupons",
  "description": "# üéÅ Verified Referral Reward Notification Workflow\n\n### Overview\nTransform your referral program into a fully automated, fraud-resistant system that delivers professional rewards to verified referrers. This workflow combines email validation, dynamic coupon generation with visual design, automated email delivery, and comprehensive tracking‚Äîall without manual intervention.\n\n### What This Workflow Does\n\n**1. Receives Referral Submissions**\n- Accepts form submissions via webhook (compatible with Jotform, Typeform, Google Forms, or any webhook-enabled form)\n- Captures referrer details, email, referred friend, and campaign information\n\n**2. Validates Email Addresses**\n- Prevents fraud and abuse by verifying email authenticity using VerifiEmail API\n- Checks for disposable emails, invalid formats, and non-existent addresses\n- Ensures high deliverability rates for reward emails\n\n**3. Generates Personalized Coupon Cards**\n- Creates unique coupon codes with smart formatting (e.g., REF-JOHN1234)\n- Designs beautiful HTML/CSS coupon cards with gradient backgrounds and professional styling\n- Converts HTML to high-quality PNG images using HTMLCSStoImage API\n\n**4. Sends Professional Reward Emails**\n- Delivers branded thank-you emails with embedded coupon images\n- Includes both visual coupon card and text-based coupon code\n- Personalized with referrer's name and campaign details\n\n**5. Tracks Everything in Google Sheets**\n- Logs successful rewards with timestamps, coupon codes, and image URLs\n- Records failed verifications for analysis and optimization\n- Provides audit trail and performance metrics\n\n**6. Handles Invalid Submissions Gracefully**\n- Sends polite notification emails for failed verifications\n- Explains possible reasons (typos, disposable emails, invalid formats)\n- Encourages users to correct and resubmit\n\n### Perfect For\n- E-commerce stores running referral programs\n- SaaS companies with customer referral incentives\n- Marketing agencies managing client referral campaigns\n- Any business wanting to automate reward distribution\n- Companies needing fraud prevention in their referral systems\n\n### Key Benefits\n‚úÖ **Fraud Prevention** - Email verification stops fake submissions\n‚úÖ **Professional Branding** - Beautiful, customizable coupon designs\n‚úÖ **Full Automation** - Zero manual work after setup\n‚úÖ **Complete Tracking** - Every submission logged with full details\n‚úÖ **High Deliverability** - Only sends to verified, valid emails\n‚úÖ **Scalable** - Handles unlimited submissions automatically\n‚úÖ **Analytics Ready** - Google Sheets data ready for reporting and dashboards\n\n### Technical Highlights\n- Conditional logic for valid/invalid email paths\n- Dynamic HTML generation with inline CSS\n- Image rendering for visual coupons\n- Error handling and graceful degradation\n- Comprehensive logging for both success and failure paths\n\n### Use Cases\n1. **Referral Marketing Programs** - Reward customers for bringing friends\n2. **Ambassador Programs** - Incentivize brand advocates\n3. **Holiday Campaigns** - Run seasonal referral promotions\n4. **Growth Marketing** - Scale word-of-mouth acquisition\n5. **Partner Programs** - Automate partner referral rewards\n\n---\n\n## **Required Services & APIs**\n\n### Free Tier Available:\n- **VerifiEmail** - Email verification (https://verifi.email)\n- **HTMLCSStoImage** - HTML to image conversion (https://htmlcsstoimg.com)\n\n### Google Services (Free):\n- **Gmail** - Email sending via OAuth\n- **Google Sheets** - Data tracking and logging\n\n### Form Options (Any webhook-enabled service):\n- Jotform\n- Typeform\n- Google Forms (via extensions)\n- Tally\n- Any custom form with webhook support\n\n---\n\n## **Setup Time**\n‚è±Ô∏è **15-20 minutes** (including credential setup and testing)\n\n---\n\n## **Skill Level**\nüéØ **Beginner-Friendly** - Detailed documentation and sticky notes guide you through every step\n\n---\n\n## **What You'll Need Before Starting**\n1. Gmail account with 2FA enabled\n2. Google Sheet for tracking (template provided in documentation)\n3. VerifiEmail API key (free signup)\n4. HTMLCSStoImage API key (free signup)\n5. Form platform with webhook capability\n\n---\n\n## **Customization Options**\n- Modify coupon discount percentage\n- Change HTML/CSS design and branding\n- Customize email templates\n- Adjust coupon code format\n- Add additional data fields\n- Integrate with CRM or marketing tools\n- A/B test different coupon designs\n- Set validity periods dynamically\n---\n\n## **Featured Community Workflows Submission Notes**\n\n**Why This Workflow Deserves to be Featured:**\n\n1. **Solves Real Business Problem** - Referral fraud is a genuine issue costing businesses money. This workflow provides an elegant solution.\n\n2. **Production Ready** - Not a demo or proof-of-concept. This is battle-tested code ready for real-world use.\n\n3. **Comprehensive Documentation** - Every node has detailed sticky notes explaining purpose, configuration, and data flow.\n\n4. **Beginner Accessible** - Despite sophistication, clear documentation makes it approachable for n8n newcomers.\n\n5. **Scalable Architecture** - Handles both success and failure paths gracefully with proper error handling.\n\n6. **Multi-Service Integration** - Demonstrates best practices for connecting multiple APIs and Google services.\n\n7. **Visual Excellence** - Generates beautiful, professional coupon cards that enhance brand perception.\n\n8. **Analytics Built-In** - Google Sheets integration enables immediate tracking and reporting.\n\n9. **Customizable Template** - Easy to adapt for different industries, brands, and use cases.\n\n10. **Community Value** - Provides a foundation others can build upon and learn from.\n\n**Business Impact:**\n- Reduces manual work by 100%\n- Cuts fraudulent referrals by ~70-80%\n- Improves customer experience with instant rewards\n- Provides actionable data for marketing optimization\n- Scales to handle thousands of referrals automatically\n\n---\n\n## **Version History**\n- v1.0 - Initial release with full automation and dual-path logic\n- Tested and validated in production environment\n- Includes comprehensive documentation and setup guides\n\n---\n\n## **Support & Documentation**\nFull implementation guide included with:\n- Step-by-step setup instructions\n- Credential configuration details\n- Testing procedures\n- Troubleshooting tips\n- Customization examples\n- Google Sheets template structure\n\n---\n\n## **License**\nMIT License - Free to use, modify, and distribute\n\n---\n\nPerfect for businesses looking to automate their referral programs without sacrificing quality or control.",
  "featuredImage": "/data/workflows/10161/10161.webp",
  "author": {
    "id": 101,
    "slug": "jiteshdugar",
    "name": "Jitesh Dugar",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 88,
  "downloads": 8,
  "createdAt": "2025-10-25T10:35:29.017Z",
  "updatedAt": "2026-01-16T09:03:46.544Z",
  "publishedAt": "2025-10-25T10:35:29.017Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10161",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated referral reward system with email verification and visual coupons",
    "workflowName": "Automated referral reward system with email verification and visual coupons",
    "description": "# üéÅ Verified Referral Reward Notification Workflow\n\n### Overview\nTransform your referral program into a fully automated, fraud-resistant system that delivers professional rewards to verified referrers. This workflow combines email validation, dynamic coupon generation with visual design, automated email delivery, and comprehensive tracking‚Äîall without manual intervention.\n\n### What This Workflow Does\n\n**1. Receives Referral Submissions**\n- Accepts form submissions via webhook (compatible with Jotform, Typeform, Google Forms, or any webhook-enabled form)\n- Captures referrer details, email, referred friend, and campaign information\n\n**2. Validates Email Addresses**\n- Prevents fraud and abuse by verifying email authenticity using VerifiEmail API\n- Checks for disposable emails, invalid formats, and non-existent addresses\n- Ensures high deliverability rates for reward emails\n\n**3. Generates Personalized Coupon Cards**\n- Creates unique coupon codes with smart formatting (e.g., REF-JOHN1234)\n- Designs beautiful HTML/CSS coupon cards with gradient backgrounds and professional styling\n- Converts HTML to high-quality PNG images using HTMLCSStoImage API\n\n**4. Sends Professional Reward Emails**\n- Delivers branded thank-you emails with embedded coupon images\n- Includes both visual coupon card and text-based coupon code\n- Personalized with referrer's name and campaign details\n\n**5. Tracks Everything in Google Sheets**\n- Logs successful rewards with timestamps, coupon codes, and image URLs\n- Records failed verifications for analysis and optimization\n- Provides audit trail and performance metrics\n\n**6. Handles Invalid Submissions Gracefully**\n- Sends polite notification emails for failed verifications\n- Explains possible reasons (typos, disposable emails, invalid formats)\n- Encourages users to correct and resubmit\n\n### Perfect For\n- E-commerce stores running referral programs\n- SaaS companies with customer referral incentives\n- Marketing agencies managing client referral campaigns\n- Any business wanting to automate reward distribution\n- Companies needing fraud prevention in their referral systems\n\n### Key Benefits\n‚úÖ **Fraud Prevention** - Email verification stops fake submissions\n‚úÖ **Professional Branding** - Beautiful, customizable coupon designs\n‚úÖ **Full Automation** - Zero manual work after setup\n‚úÖ **Complete Tracking** - Every submission logged with full details\n‚úÖ **High Deliverability** - Only sends to verified, valid emails\n‚úÖ **Scalable** - Handles unlimited submissions automatically\n‚úÖ **Analytics Ready** - Google Sheets data ready for reporting and dashboards\n\n### Technical Highlights\n- Conditional logic for valid/invalid email paths\n- Dynamic HTML generation with inline CSS\n- Image rendering for visual coupons\n- Error handling and graceful degradation\n- Comprehensive logging for both success and failure paths\n\n### Use Cases\n1. **Referral Marketing Programs** - Reward customers for bringing friends\n2. **Ambassador Programs** - Incentivize brand advocates\n3. **Holiday Campaigns** - Run seasonal referral promotions\n4. **Growth Marketing** - Scale word-of-mouth acquisition\n5. **Partner Programs** - Automate partner referral rewards\n\n---\n\n## **Required Services & APIs**\n\n### Free Tier Available:\n- **VerifiEmail** - Email verification (https://verifi.email)\n- **HTMLCSStoImage** - HTML to image conversion (https://htmlcsstoimg.com)\n\n### Google Services (Free):\n- **Gmail** - Email sending via OAuth\n- **Google Sheets** - Data tracking and logging\n\n### Form Options (Any webhook-enabled service):\n- Jotform\n- Typeform\n- Google Forms (via extensions)\n- Tally\n- Any custom form with webhook support\n\n---\n\n## **Setup Time**\n‚è±Ô∏è **15-20 minutes** (including credential setup and testing)\n\n---\n\n## **Skill Level**\nüéØ **Beginner-Friendly** - Detailed documentation and sticky notes guide you through every step\n\n---\n\n## **What You'll Need Before Starting**\n1. Gmail account with 2FA enabled\n2. Google Sheet for tracking (template provided in documentation)\n3. VerifiEmail API key (free signup)\n4. HTMLCSStoImage API key (free signup)\n5. Form platform with webhook capability\n\n---\n\n## **Customization Options**\n- Modify coupon discount percentage\n- Change HTML/CSS design and branding\n- Customize email templates\n- Adjust coupon code format\n- Add additional data fields\n- Integrate with CRM or marketing tools\n- A/B test different coupon designs\n- Set validity periods dynamically\n---\n\n## **Featured Community Workflows Submission Notes**\n\n**Why This Workflow Deserves to be Featured:**\n\n1. **Solves Real Business Problem** - Referral fraud is a genuine issue costing businesses money. This workflow provides an elegant solution.\n\n2. **Production Ready** - Not a demo or proof-of-concept. This is battle-tested code ready for real-world use.\n\n3. **Comprehensive Documentation** - Every node has detailed sticky notes explaining purpose, configuration, and data flow.\n\n4. **Beginner Accessible** - Despite sophistication, clear documentation makes it approachable for n8n newcomers.\n\n5. **Scalable Architecture** - Handles both success and failure paths gracefully with proper error handling.\n\n6. **Multi-Service Integration** - Demonstrates best practices for connecting multiple APIs and Google services.\n\n7. **Visual Excellence** - Generates beautiful, professional coupon cards that enhance brand perception.\n\n8. **Analytics Built-In** - Google Sheets integration enables immediate tracking and reporting.\n\n9. **Customizable Template** - Easy to adapt for different industries, brands, and use cases.\n\n10. **Community Value** - Provides a foundation others can build upon and learn from.\n\n**Business Impact:**\n- Reduces manual work by 100%\n- Cuts fraudulent referrals by ~70-80%\n- Improves customer experience with instant rewards\n- Provides actionable data for marketing optimization\n- Scales to handle thousands of referrals automatically\n\n---\n\n## **Version History**\n- v1.0 - Initial release with full automation and dual-path logic\n- Tested and validated in production environment\n- Includes comprehensive documentation and setup guides\n\n---\n\n## **Support & Documentation**\nFull implementation guide included with:\n- Step-by-step setup instructions\n- Credential configuration details\n- Testing procedures\n- Troubleshooting tips\n- Customization examples\n- Google Sheets template structure\n\n---\n\n## **License**\nMIT License - Free to use, modify, and distribute\n\n---\n\nPerfect for businesses looking to automate their referral programs without sacrificing quality or control.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note - Setup Credentials",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note - Webhook",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note - Email Verification",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "IF Email Valid?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note - Conditional Branch",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Coupon Template",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Sticky Note - Coupon Template",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note - HTML to Image",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Reward Email (Gmail)",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note - Reward Email",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Log to Google Sheets (Success)",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note - Log Success",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Invalid Email Notice",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note - Invalid Email Notice",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Log to Google Sheets (Failed)",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note - Log Failed",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Verifi Email",
      "type": "n8n-nodes-verifiemail.verifiEmail",
      "role": "verifiEmail",
      "configDescription": "Version 1"
    },
    {
      "name": "HTML/CSS to Image",
      "type": "n8n-nodes-htmlcsstoimage.htmlCssToImage",
      "role": "htmlCssToImage",
      "configDescription": "Version 1"
    }
  ]
}