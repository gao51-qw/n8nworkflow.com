{
  "id": 11989,
  "slug": "11989",
  "title": "Publish Google Docs to WordPress with advance RankMath SEO & Gemini analysis",
  "description": "![GoogleDocs_Wordpress.png](fileId:3794)\n\n## Who is this for?\nThis workflow is designed for **Content Marketing Teams, Agencies**, and **Professional Editors** who prefer writing in **Google Docs** but need a seamless way to publish to **WordPress**.\n\nUnlike generic \"AI Writers\" that generate content from scratch (which often fails AI detection), this workflow focuses on \"**Document Ops**\"—automating the tedious task of moving, cleaning, and optimizing existing human-written content.\n## Why use this workflow? (The SEO Advantage)\nMost automation templates leave your SEO score at **0/100** because they fail to map RankMath metadata. This workflow hits the ground running with an immediate **65-70/100 RankMath Score**.\n\nBy using a **Gemini AI Agent** to analyze your content and mapping it to hidden RankMath API fields, it automatically passes these critical checks:\n\n- ✅ **Focus Keyword in SEO Title**: AI automatically inserts the target keyword at the beginning.\n- ✅ **Focus Keyword in Meta Description**: AI crafts a compelling description containing the keyword.\n- ✅ **Focus Keyword in URL**: AI generates a clean, short, keyword-rich slug.\n- ✅ **Focus Keyword at the Start**: The workflow intelligently injects a \"hook\" sentence containing the keyword at the very top of your post.\n- ✅ **Content Length**: Preserves your original long-form content.\n## How it works\n1. **Monitors Google Drive:** Watches for new HTML/Doc files in a specific \"Drafts\" folder.\n2. **Cleans Content**: Sanitizes raw HTML from Google Docs (removing messy styles and tags).\n3. **Smart Duplicate Check**: Checks if the post already exists on WordPress (via slug) to decide whether to **Create** a new draft or **Update** an existing one.\n4. **AI Analysis (Gemini)**: Extracts the best Focus Keyword, SEO Title, and Meta Description from your content.\n5. **RankMath Integration**: Pushes these SEO values directly into **RankMath's custom meta keys**.\n6. **Archiving**: Moves processed files to a \"Published\" folder to keep your Drive organized.\n## Critical Prerequisites (Must Read)\nTo allow n8n to update RankMath SEO data and prevent `401 Unauthorized errors`, you **MUST** add a helper snippet to your WordPress site.\n\n1. Access your WordPress files via FTP/File Manager.\n2. Navigate to `wp-content/mu-plugins/` (Create the `folder mu-plugins` if it doesn't exist).\n3. Create a file named `n8n-rankmath-helper.php` and paste the following code:\n```\n&lt;?php\n/*\nPlugin Name: n8n RankMath & Auth Helper\nDescription: Fixes Basic Auth Header for n8n and exposes RankMath meta keys to REST API.\n*/\n\n// 1. Fix Authorization Header (Solves 401 Errors on Apache/LiteSpeed)\nadd_filter('wp_is_application_passwords_available', '__return_true');\nif ( !function_exists('aiops_enable_basic_auth') ) {\n    function aiops_enable_basic_auth() {\n        if ( isset( $_SERVER['HTTP_AUTHORIZATION'] ) ) {\n            $auth = $_SERVER['HTTP_AUTHORIZATION'];\n            if ( strpos( $auth, 'Basic ' ) === 0 ) {\n                list( $username, $password ) = explode( ':', base64_decode( substr( $auth, 6 ) ) );\n                $_SERVER['PHP_AUTH_USER'] = $username;\n                $_SERVER['PHP_AUTH_PW']   = $password;\n            }\n        }\n    }\n    add_action('init', 'aiops_enable_basic_auth');\n}\n\n// 2. Expose RankMath Meta Keys to REST API\nadd_action( 'rest_api_init', function () {\n    $meta_keys = [\n        'rank_math_title',\n        'rank_math_description',\n        'rank_math_focus_keyword',\n        'rank_math_robots',\n        'rank_math_canonical_url'\n    ];\n\n    foreach ( $meta_keys as $meta_key ) {\n        register_meta( 'post', $meta_key, [\n            'show_in_rest' =&gt; true,\n            'single'       =&gt; true,\n            'type'         =&gt; 'string',\n            'auth_callback' =&gt; function() { return current_user_can( 'edit_posts' ); }\n        ] );\n    }\n});\n?&gt;;\n```\n\n## How to set up\n**1. Configure Credentials:**\n\n- **Google Drive OAuth2** (Drive scopes).\n- **Google Gemini (PaLM)** API Key.\n- **WordPress**: Connect using **Application Passwords** (Users &gt; Profile &gt; Application Passwords).\n\n**2. Global Configuration (First Node):**\n\n- Open the node named `CONFIG - Edit Settings Here`.\n- **wp_base_url**: Enter your site URL (e.g., `https://your-site.com` - no trailing slash).\n- **drive_published_folder_id**: Enter the ID of the Google Drive folder where you want to move published files.\n\n**3. Trigger Setup:**\n\n- Open the `Google Drive Trigger` node.\n- Select your specific **\"Drafts\" folder** in the Folder to Watch field.\n## Future Roadmap\nWe are actively improving this template. Upcoming V2 will feature:\n\n**AI Featured Image Generation**: Auto-create branded thumbnails.\n\n**Content Illustrations**: Auto-insert relevant images into the body content.\n## Need Help or Want to Customize This?\nContact me for consulting and support: \n**Email**: cuongnguyen@aiops.vn",
  "featuredImage": "/data/workflows/11989/11989.webp",
  "author": {
    "id": 101,
    "slug": "cuongnguyen",
    "name": "Cuong Nguyen",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 51,
  "downloads": 5,
  "createdAt": "2025-12-20T16:55:20.541Z",
  "updatedAt": "2026-01-16T09:10:54.604Z",
  "publishedAt": "2025-12-20T16:55:20.541Z",
  "nodes": 24,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11989",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Publish Google Docs to WordPress with advance RankMath SEO & Gemini analysis",
    "workflowName": "Publish Google Docs to WordPress with advance RankMath SEO & Gemini analysis",
    "description": "![GoogleDocs_Wordpress.png](fileId:3794)\n\n## Who is this for?\nThis workflow is designed for **Content Marketing Teams, Agencies**, and **Professional Editors** who prefer writing in **Google Docs** but need a seamless way to publish to **WordPress**.\n\nUnlike generic \"AI Writers\" that generate content from scratch (which often fails AI detection), this workflow focuses on \"**Document Ops**\"—automating the tedious task of moving, cleaning, and optimizing existing human-written content.\n## Why use this workflow? (The SEO Advantage)\nMost automation templates leave your SEO score at **0/100** because they fail to map RankMath metadata. This workflow hits the ground running with an immediate **65-70/100 RankMath Score**.\n\nBy using a **Gemini AI Agent** to analyze your content and mapping it to hidden RankMath API fields, it automatically passes these critical checks:\n\n- ✅ **Focus Keyword in SEO Title**: AI automatically inserts the target keyword at the beginning.\n- ✅ **Focus Keyword in Meta Description**: AI crafts a compelling description containing the keyword.\n- ✅ **Focus Keyword in URL**: AI generates a clean, short, keyword-rich slug.\n- ✅ **Focus Keyword at the Start**: The workflow intelligently injects a \"hook\" sentence containing the keyword at the very top of your post.\n- ✅ **Content Length**: Preserves your original long-form content.\n## How it works\n1. **Monitors Google Drive:** Watches for new HTML/Doc files in a specific \"Drafts\" folder.\n2. **Cleans Content**: Sanitizes raw HTML from Google Docs (removing messy styles and tags).\n3. **Smart Duplicate Check**: Checks if the post already exists on WordPress (via slug) to decide whether to **Create** a new draft or **Update** an existing one.\n4. **AI Analysis (Gemini)**: Extracts the best Focus Keyword, SEO Title, and Meta Description from your content.\n5. **RankMath Integration**: Pushes these SEO values directly into **RankMath's custom meta keys**.\n6. **Archiving**: Moves processed files to a \"Published\" folder to keep your Drive organized.\n## Critical Prerequisites (Must Read)\nTo allow n8n to update RankMath SEO data and prevent `401 Unauthorized errors`, you **MUST** add a helper snippet to your WordPress site.\n\n1. Access your WordPress files via FTP/File Manager.\n2. Navigate to `wp-content/mu-plugins/` (Create the `folder mu-plugins` if it doesn't exist).\n3. Create a file named `n8n-rankmath-helper.php` and paste the following code:\n```\n&lt;?php\n/*\nPlugin Name: n8n RankMath & Auth Helper\nDescription: Fixes Basic Auth Header for n8n and exposes RankMath meta keys to REST API.\n*/\n\n// 1. Fix Authorization Header (Solves 401 Errors on Apache/LiteSpeed)\nadd_filter('wp_is_application_passwords_available', '__return_true');\nif ( !function_exists('aiops_enable_basic_auth') ) {\n    function aiops_enable_basic_auth() {\n        if ( isset( $_SERVER['HTTP_AUTHORIZATION'] ) ) {\n            $auth = $_SERVER['HTTP_AUTHORIZATION'];\n            if ( strpos( $auth, 'Basic ' ) === 0 ) {\n                list( $username, $password ) = explode( ':', base64_decode( substr( $auth, 6 ) ) );\n                $_SERVER['PHP_AUTH_USER'] = $username;\n                $_SERVER['PHP_AUTH_PW']   = $password;\n            }\n        }\n    }\n    add_action('init', 'aiops_enable_basic_auth');\n}\n\n// 2. Expose RankMath Meta Keys to REST API\nadd_action( 'rest_api_init', function () {\n    $meta_keys = [\n        'rank_math_title',\n        'rank_math_description',\n        'rank_math_focus_keyword',\n        'rank_math_robots',\n        'rank_math_canonical_url'\n    ];\n\n    foreach ( $meta_keys as $meta_key ) {\n        register_meta( 'post', $meta_key, [\n            'show_in_rest' =&gt; true,\n            'single'       =&gt; true,\n            'type'         =&gt; 'string',\n            'auth_callback' =&gt; function() { return current_user_can( 'edit_posts' ); }\n        ] );\n    }\n});\n?&gt;;\n```\n\n## How to set up\n**1. Configure Credentials:**\n\n- **Google Drive OAuth2** (Drive scopes).\n- **Google Gemini (PaLM)** API Key.\n- **WordPress**: Connect using **Application Passwords** (Users &gt; Profile &gt; Application Passwords).\n\n**2. Global Configuration (First Node):**\n\n- Open the node named `CONFIG - Edit Settings Here`.\n- **wp_base_url**: Enter your site URL (e.g., `https://your-site.com` - no trailing slash).\n- **drive_published_folder_id**: Enter the ID of the Google Drive folder where you want to move published files.\n\n**3. Trigger Setup:**\n\n- Open the `Google Drive Trigger` node.\n- Select your specific **\"Drafts\" folder** in the Folder to Watch field.\n## Future Roadmap\nWe are actively improving this template. Upcoming V2 will feature:\n\n**AI Featured Image Generation**: Auto-create branded thumbnails.\n\n**Content Illustrations**: Auto-insert relevant images into the body content.\n## Need Help or Want to Customize This?\nContact me for consulting and support: \n**Email**: cuongnguyen@aiops.vn",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "HTTP Request (Export HTML)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Code (Extract Body)",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Code (Prepare Metadata)",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "HTTP Request (WP - Find Post by Slug)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Merge (Meta + FindResult)",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "IF (Found Post?)",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.3"
    },
    {
      "name": "HTTP Request: WP - Create Post",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "HTTP Request - WP Update Post",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "SET - SEO Input",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "GEMINI - SEO JSON",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "role": "googleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "CODE - Parse & QA SEO",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "HTTP - WP Update SEO (RankMath)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "CODE - Build WP Payload",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "HTTP - WP Get Post (Verify)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "MERGE - Attach postId",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Google Drive - Move to Published",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Google Drive Trigger",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "CONFIG - Edit Settings Here",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}