{
  "id": 7713,
  "slug": "7713",
  "title": "Personalized cold email generator with Supabase, Smartlead & Google Gemini AI",
  "description": "# n8n Workflow: AI-Personalized Email Outreach (Smartlead)\n\n## üîÑ Purpose\nThis workflow **automates cold email campaigns** by:\n- Fetching leads\n- Generating hyper-personalized email content using AI\n- Sending emails via Smartlead API\n- Logging campaign activity into Google Sheets\n\n---\n\n## üß© Workflow Structure\n\n1. **Schedule Trigger**\n   - Starts the workflow automatically at scheduled intervals.\n   - Ensures continuous campaign execution.\n\n2. **Get Leads**\n   - Fetches lead data (name, email, company, role, industry).\n   - Serves as the input for personalization.\n\n3. **Loop Over Leads**\n   - Processes each lead one by one.\n   - Maintains individualized email generation.\n\n4. **Aggregate Lead Data**\n   - Collects and formats lead attributes.\n   - Prepares structured input for the AI model.\n\n5. **Basic LLM Chain #1**\n   - Generates **personalized snippets/openers** using AI.\n   - Tailored based on company, role, and industry.\n\n6. **Update Row (Google Sheets)**\n   - Saves AI outputs (snippets) for tracking and QA.\n\n7. **Basic LLM Chain #2**\n   - Expands snippet into a **full personalized email draft**.\n   - Includes subject line + email body.\n\n8. **Information Extractor**\n   - Extracts structured fields from AI output:\n     - Subject\n     - Greeting\n     - Call-to-Action (CTA)\n     - Closing\n\n9. **Update Row (Google Sheets)**\n   - Stores finalized draft in Google Sheets.\n   - Provides visibility and audit trail.\n\n10. **Code**\n    - Formats email into Smartlead-compatible payload.\n    - Maps fields like subject, body, and recipient details.\n\n11. **Smartlead API Request**\n    - Sends the personalized email through Smartlead.\n    - Returns message ID and delivery status.\n\n12. **Basic LLM Chain #3 (Optional)**\n    - Generates **follow-up versions** for multi-step campaigns.\n    - Ensures varied engagement over time.\n\n13. **Information Extractor (Follow-ups)**\n    - Structures follow-up emails into ready-to-send format.\n\n14. **Update Row (Google Sheets)**\n    - Updates campaign logs with:\n      - Smartlead send status\n      - Message IDs\n      - AI personalization notes\n\n---\n\n## ‚öôÔ∏è Data Flow Summary\n\n- **Trigger** ‚Üí Runs workflow  \n- **Get Leads** ‚Üí Fetch lead records  \n- **LLM Personalization** ‚Üí Create openers + full emails  \n- **Google Sheets** ‚Üí Save drafts & logs  \n- **Smartlead API** ‚Üí Send personalized email  \n- **Follow-ups** ‚Üí Generate and log structured follow-up messages  \n\n---\n\n## üìä Use Case\n- Automates **hyper-personalized cold email outreach** at scale.  \n- Uses AI to improve response rates with contextual personalization.  \n- Provides full visibility by saving drafts and send logs in Google Sheets.  \n- Integrates seamlessly with Smartlead for sending and tracking.  \n",
  "featuredImage": "/data/workflows/7713/7713.webp",
  "author": {
    "id": 101,
    "slug": "rahiuppal",
    "name": "Rahi Uppal",
    "avatar": ""
  },
  "categories": [
    "Lead Nurturing",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 633,
  "downloads": 63,
  "createdAt": "2025-08-21T17:11:16.010Z",
  "updatedAt": "2026-01-16T08:51:58.980Z",
  "publishedAt": "2025-08-21T17:11:16.010Z",
  "nodes": 26,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7713",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Personalized cold email generator with Supabase, Smartlead & Google Gemini AI",
    "workflowName": "Personalized cold email generator with Supabase, Smartlead & Google Gemini AI",
    "description": "# n8n Workflow: AI-Personalized Email Outreach (Smartlead)\n\n## üîÑ Purpose\nThis workflow **automates cold email campaigns** by:\n- Fetching leads\n- Generating hyper-personalized email content using AI\n- Sending emails via Smartlead API\n- Logging campaign activity into Google Sheets\n\n---\n\n## üß© Workflow Structure\n\n1. **Schedule Trigger**\n   - Starts the workflow automatically at scheduled intervals.\n   - Ensures continuous campaign execution.\n\n2. **Get Leads**\n   - Fetches lead data (name, email, company, role, industry).\n   - Serves as the input for personalization.\n\n3. **Loop Over Leads**\n   - Processes each lead one by one.\n   - Maintains individualized email generation.\n\n4. **Aggregate Lead Data**\n   - Collects and formats lead attributes.\n   - Prepares structured input for the AI model.\n\n5. **Basic LLM Chain #1**\n   - Generates **personalized snippets/openers** using AI.\n   - Tailored based on company, role, and industry.\n\n6. **Update Row (Google Sheets)**\n   - Saves AI outputs (snippets) for tracking and QA.\n\n7. **Basic LLM Chain #2**\n   - Expands snippet into a **full personalized email draft**.\n   - Includes subject line + email body.\n\n8. **Information Extractor**\n   - Extracts structured fields from AI output:\n     - Subject\n     - Greeting\n     - Call-to-Action (CTA)\n     - Closing\n\n9. **Update Row (Google Sheets)**\n   - Stores finalized draft in Google Sheets.\n   - Provides visibility and audit trail.\n\n10. **Code**\n    - Formats email into Smartlead-compatible payload.\n    - Maps fields like subject, body, and recipient details.\n\n11. **Smartlead API Request**\n    - Sends the personalized email through Smartlead.\n    - Returns message ID and delivery status.\n\n12. **Basic LLM Chain #3 (Optional)**\n    - Generates **follow-up versions** for multi-step campaigns.\n    - Ensures varied engagement over time.\n\n13. **Information Extractor (Follow-ups)**\n    - Structures follow-up emails into ready-to-send format.\n\n14. **Update Row (Google Sheets)**\n    - Updates campaign logs with:\n      - Smartlead send status\n      - Message IDs\n      - AI personalization notes\n\n---\n\n## ‚öôÔ∏è Data Flow Summary\n\n- **Trigger** ‚Üí Runs workflow  \n- **Get Leads** ‚Üí Fetch lead records  \n- **LLM Personalization** ‚Üí Create openers + full emails  \n- **Google Sheets** ‚Üí Save drafts & logs  \n- **Smartlead API** ‚Üí Send personalized email  \n- **Follow-ups** ‚Üí Generate and log structured follow-up messages  \n\n---\n\n## üìä Use Case\n- Automates **hyper-personalized cold email outreach** at scale.  \n- Uses AI to improve response rates with contextual personalization.  \n- Provides full visibility by saving drafts and send logs in Google Sheets.  \n- Integrates seamlessly with Smartlead for sending and tracking.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Google Gemini Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Basic LLM Chain5",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.5"
    },
    {
      "name": "Information Extractor2",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "role": "informationExtractor",
      "configDescription": "Version 1"
    },
    {
      "name": "If7",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Aggregate5",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Basic LLM Chain6",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.5"
    },
    {
      "name": "Information Extractor3",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "role": "informationExtractor",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Loop Over Items1",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Aggregate6",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Aggregate7",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Loop Over Items9",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Aggregate8",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Basic LLM Chain7",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.5"
    },
    {
      "name": "Google Gemini Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model4",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model6",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "smatlead-create-campaign",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "smartlead-add-leads-to-campaign",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get many rows",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Update a row",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Update a row1",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Update a row2",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    }
  ]
}