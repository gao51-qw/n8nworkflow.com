{
  "id": 9437,
  "slug": "9437",
  "title": "Course recommendation system for surveys with data tables and GPT-4.1-Mini",
  "description": "Use the **n8n Data Tables** feature to store, retrieve, and analyze survey results â€” then let OpenAI automatically recommend the most relevant course for each respondent.\n\n---\n\n## ğŸ§  What this workflow does\nThis workflow demonstrates how to use **n8nâ€™s built-in Data Tables** to create an internal recommendation system powered by AI.\n\nIt:\n- Collects **survey responses** through a Form Trigger  \n- Saves responses to a **Data Table** called `Survey Responses`  \n- Fetches a list of available courses from another **Data Table** called `Courses`  \n- Passes both Data Tables into an **OpenAI Chat Agent**, which selects the most relevant course  \n- Returns a structured recommendation with:\n  - `course`: the course title  \n  - `reasoning`: why it was selected  \n\n&gt; **Trigger:** Form submission (manual or public link)\n\n---\n\n## ğŸ‘¥ Who itâ€™s for\nPerfect for educators, training managers, or anyone wanting to use **n8n Data Tables** as a lightweight internal database â€” ideal for AI-driven recommendations, onboarding workflows, or content personalization.\n\n---\n\n## âš™ï¸ How to set it up\n### 1ï¸âƒ£ Create your **n8n Data Tables**\nThis workflow uses **two Data Tables** â€” both created directly inside n8n.\n\n#### ğŸ§¾ Table 1: `Survey Responses`\nColumns:\n- `Name`\n- `Q1` â€” Where did you learn about n8n?\n- `Q2` â€” What is your experience with n8n?\n- `Q3` â€” What kind of automations do you need help with?\n\nTo create:\n1. Add a **Data Table node** to your workflow.  \n2. From the list, click **â€œCreate New Data Table.â€**  \n3. Name it **Survey Responses** and add the columns above.\n\n---\n\n#### ğŸ“š Table 2: `Courses`\nColumns:\n- `Course`\n- `Description`\n\nTo create:\n1. Add another **Data Table node**.  \n2. Click **â€œCreate New Data Table.â€**  \n3. Name it **Courses** and create the columns above.  \n4. Copy course data from this Google Sheet:  \n   ğŸ‘‰ https://docs.google.com/spreadsheets/d/1Y0Q0CnqN0w47c5nCpbA1O3sn0mQaKXPhql2Bc1UeiFY/edit?usp=sharing\n\nThis **Courses Data Table** is where youâ€™ll store all available learning paths or programs for the AI to compare against survey inputs.\n\n---\n\n### 2ï¸âƒ£ Connect OpenAI\n1. Go to [OpenAI Platform](https://platform.openai.com/api-keys)  \n2. Create an API key  \n3. In n8n, open **Credentials â†’ OpenAI API** and paste your key  \n4. The workflow uses the **gpt-4.1-mini** model via the LangChain integration\n\n---\n\n## ğŸ§© Key Nodes Used\n| Node | Purpose | n8n Feature |\n|------|----------|-------------|\n| **Form Trigger** | Collect survey responses | Forms |\n| **Data Table (Upsert)** | Stores results in `Survey Responses` | **Data Tables** |\n| **Data Table (Get)** | Retrieves `Courses` | **Data Tables** |\n| **Aggregate + Set** | Combines and formats table data | Core nodes |\n| **OpenAI Chat Model (LangChain Agent)** | Analyzes responses and courses | AI |\n| **Structured Output Parser** | Returns structured JSON output | LangChain |\n\n---\n\n## ğŸ’¡ Tips for customization\n- Add more **Data Table columns** (e.g., email, department, experience years)  \n- Use another **Data Table** to store AI recommendations or performance results  \n- Modify the **Agent system message** to customize how AI chooses courses  \n- Send recommendations via **Email**, **Slack**, or **Google Sheets**\n\n---\n\n## ğŸ§¾ Why Data Tables?\nThis workflow shows how **n8nâ€™s Data Tables** can act as your internal database:\n- Create and manage tables directly inside n8n  \n- No external integrations needed  \n- Store structured data for AI prompts  \n- Share tables across multiple workflows  \n\nAll user data and course content are stored securely and natively in **n8n Cloud or Self-Hosted** environments.\n\n---\n\n## ğŸ“¬ Contact  \nNeed help customizing this (e.g., expanding Data Tables, connecting multiple surveys, or automating follow-ups)?  \n\n- ğŸ“§ **robert@ynteractive.com**  \n- ğŸ”— **[Robert Breen](https://www.linkedin.com/in/robert-breen-29429625/)**  \n- ğŸŒ **[ynteractive.com](https://ynteractive.com)**\n",
  "featuredImage": "/data/workflows/9437/9437.webp",
  "author": {
    "id": 101,
    "slug": "rbreen",
    "name": "Robert Breen",
    "avatar": ""
  },
  "categories": [
    "Lead Generation",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 3374,
  "downloads": 337,
  "createdAt": "2025-10-09T18:58:45.739Z",
  "updatedAt": "2026-01-16T09:00:30.907Z",
  "publishedAt": "2025-10-09T18:58:45.739Z",
  "nodes": 15,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9437",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Course recommendation system for surveys with data tables and GPT-4.1-Mini",
    "workflowName": "Course recommendation system for surveys with data tables and GPT-4.1-Mini",
    "description": "Use the **n8n Data Tables** feature to store, retrieve, and analyze survey results â€” then let OpenAI automatically recommend the most relevant course for each respondent.\n\n---\n\n## ğŸ§  What this workflow does\nThis workflow demonstrates how to use **n8nâ€™s built-in Data Tables** to create an internal recommendation system powered by AI.\n\nIt:\n- Collects **survey responses** through a Form Trigger  \n- Saves responses to a **Data Table** called `Survey Responses`  \n- Fetches a list of available courses from another **Data Table** called `Courses`  \n- Passes both Data Tables into an **OpenAI Chat Agent**, which selects the most relevant course  \n- Returns a structured recommendation with:\n  - `course`: the course title  \n  - `reasoning`: why it was selected  \n\n&gt; **Trigger:** Form submission (manual or public link)\n\n---\n\n## ğŸ‘¥ Who itâ€™s for\nPerfect for educators, training managers, or anyone wanting to use **n8n Data Tables** as a lightweight internal database â€” ideal for AI-driven recommendations, onboarding workflows, or content personalization.\n\n---\n\n## âš™ï¸ How to set it up\n### 1ï¸âƒ£ Create your **n8n Data Tables**\nThis workflow uses **two Data Tables** â€” both created directly inside n8n.\n\n#### ğŸ§¾ Table 1: `Survey Responses`\nColumns:\n- `Name`\n- `Q1` â€” Where did you learn about n8n?\n- `Q2` â€” What is your experience with n8n?\n- `Q3` â€” What kind of automations do you need help with?\n\nTo create:\n1. Add a **Data Table node** to your workflow.  \n2. From the list, click **â€œCreate New Data Table.â€**  \n3. Name it **Survey Responses** and add the columns above.\n\n---\n\n#### ğŸ“š Table 2: `Courses`\nColumns:\n- `Course`\n- `Description`\n\nTo create:\n1. Add another **Data Table node**.  \n2. Click **â€œCreate New Data Table.â€**  \n3. Name it **Courses** and create the columns above.  \n4. Copy course data from this Google Sheet:  \n   ğŸ‘‰ https://docs.google.com/spreadsheets/d/1Y0Q0CnqN0w47c5nCpbA1O3sn0mQaKXPhql2Bc1UeiFY/edit?usp=sharing\n\nThis **Courses Data Table** is where youâ€™ll store all available learning paths or programs for the AI to compare against survey inputs.\n\n---\n\n### 2ï¸âƒ£ Connect OpenAI\n1. Go to [OpenAI Platform](https://platform.openai.com/api-keys)  \n2. Create an API key  \n3. In n8n, open **Credentials â†’ OpenAI API** and paste your key  \n4. The workflow uses the **gpt-4.1-mini** model via the LangChain integration\n\n---\n\n## ğŸ§© Key Nodes Used\n| Node | Purpose | n8n Feature |\n|------|----------|-------------|\n| **Form Trigger** | Collect survey responses | Forms |\n| **Data Table (Upsert)** | Stores results in `Survey Responses` | **Data Tables** |\n| **Data Table (Get)** | Retrieves `Courses` | **Data Tables** |\n| **Aggregate + Set** | Combines and formats table data | Core nodes |\n| **OpenAI Chat Model (LangChain Agent)** | Analyzes responses and courses | AI |\n| **Structured Output Parser** | Returns structured JSON output | LangChain |\n\n---\n\n## ğŸ’¡ Tips for customization\n- Add more **Data Table columns** (e.g., email, department, experience years)  \n- Use another **Data Table** to store AI recommendations or performance results  \n- Modify the **Agent system message** to customize how AI chooses courses  \n- Send recommendations via **Email**, **Slack**, or **Google Sheets**\n\n---\n\n## ğŸ§¾ Why Data Tables?\nThis workflow shows how **n8nâ€™s Data Tables** can act as your internal database:\n- Create and manage tables directly inside n8n  \n- No external integrations needed  \n- Store structured data for AI prompts  \n- Share tables across multiple workflows  \n\nAll user data and course content are stored securely and natively in **n8n Cloud or Self-Hosted** environments.\n\n---\n\n## ğŸ“¬ Contact  \nNeed help customizing this (e.g., expanding Data Tables, connecting multiple surveys, or automating follow-ups)?  \n\n- ğŸ“§ **robert@ynteractive.com**  \n- ğŸ”— **[Robert Breen](https://www.linkedin.com/in/robert-breen-29429625/)**  \n- ğŸŒ **[ynteractive.com](https://ynteractive.com)**",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Survey Submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Store Survey Result",
      "type": "n8n-nodes-base.dataTable",
      "role": "dataTable",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Available Courses",
      "type": "n8n-nodes-base.dataTable",
      "role": "dataTable",
      "configDescription": "Version 1"
    },
    {
      "name": "Aggregate Courses",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Convert to Text",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Combine Results",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Choose Best Course",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note55",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note61",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note63",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note31",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Form",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 2.3"
    }
  ]
}