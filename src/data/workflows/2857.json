{
  "id": 2857,
  "slug": "2857",
  "title": "Pattern for multiple triggers combined to continue workflow",
  "description": "## Overview\n\nThis template describes a possible approach to handle a pseudo-callback/trigger from an independent, external process (initiated from a workflow) and combine the received input with the workflow execution that is already in progress.  This requires the external system to pass through some context information (`resumeUrl`), but allows the \"primary\" workflow execution to continue with **BOTH** its own (previous-node) context, **AND** the input received in the \"secondary\" trigger/process.\n\n### Primary Workflow Trigger/Execution\nThe workflow path from the `primary trigger` initiates some external, independent process and provides \"context\" which includes the value of `$execution.resumeUrl`. This execution then reaches a `Wait` node configured with `Resume - On Webhook Call`  and stops until a call to `resumeUrl` is received.\n\n### External, Independent Process\nThe external, independent process could be anything like a Telegram conversation, or a web-service as long as:\n1. it results in a single execution of the `Secondary Workflow Trigger`, and\n2. it can pass through the value of `resumeUrl` associated with the `Primary Workflow Execution`\n\n### Secondary Workflow Trigger/Execution\nThe `secondary workflow execution` can start with any kind of trigger as long as part of the input can include the `resumeUrl`.  To combine / rejoin the `primary workflow execution`, this execution passes along whatever it receives from its trigger input to the resume-webhook endpoint on the `Wait` node.\n\n## Notes\n* **IMPORTANT**: The workflow ids in the `Set` nodes marked **Update Me** have embedded references to the workflow IDs in the original system.  **They will need to be CHANGED to make this demo work.**\n* Note: The `Resume Other Workflow Execution` node in the template uses the `$env.WEBHOOK_URL` configuration to convert to an internal \"localhost\" call in a Docker environment.  This can be done differently.\n* **ALERT:** This pattern is NOT suitable for a workflow that handles multiple items because the first workflow execution will only be waiting for one callback.\n* The second workflow (not the second trigger in the first workflow) is just to demonstrate how the `Independent, External Process` needs to work.\n",
  "featuredImage": "/data/workflows/2857/2857.webp",
  "author": {
    "id": 101,
    "slug": "hubschrauber",
    "name": "Hubschrauber",
    "avatar": ""
  },
  "categories": [
    "Engineering"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1542,
  "downloads": 154,
  "createdAt": "2025-02-07T01:14:59.594Z",
  "updatedAt": "2026-01-16T08:26:53.093Z",
  "publishedAt": "2025-02-07T01:14:59.594Z",
  "nodes": 23,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2857",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Pattern for multiple triggers combined to continue workflow",
    "workflowName": "Pattern for multiple triggers combined to continue workflow",
    "description": "This template describes a possible approach to handle a pseudo-callback/trigger from an independent, external process (initiated from a workflow) and combine the received input with the workflow execution that is already in progress.  This requires the external system to pass through some context information (`resumeUrl`), but allows the \"primary\" workflow execution to continue with **BOTH** its own (previous-node) context, **AND** the input received in the \"secondary\" trigger/process.\n\n### Primary Workflow Trigger/Execution\nThe workflow path from the `primary trigger` initiates some external, independent process and provides \"context\" which includes the value of `$execution.resumeUrl`. This execution then reaches a `Wait` node configured with `Resume - On Webhook Call`  and stops until a call to `resumeUrl` is received.\n\n### External, Independent Process\nThe external, independent process could be anything like a Telegram conversation, or a web-service as long as:\n1. it results in a single execution of the `Secondary Workflow Trigger`, and\n2. it can pass through the value of `resumeUrl` associated with the `Primary Workflow Execution`\n\n### Secondary Workflow Trigger/Execution\nThe `secondary workflow execution` can start with any kind of trigger as long as part of the input can include the `resumeUrl`.  To combine / rejoin the `primary workflow execution`, this execution passes along whatever it receives from its trigger input to the resume-webhook endpoint on the `Wait` node.\n\n## Notes\n* **IMPORTANT**: The workflow ids in the `Set` nodes marked **Update Me** have embedded references to the workflow IDs in the original system.  **They will need to be CHANGED to make this demo work.**\n* Note: The `Resume Other Workflow Execution` node in the template uses the `$env.WEBHOOK_URL` configuration to convert to an internal \"localhost\" call in a Docker environment.  This can be done differently.\n* **ALERT:** This pattern is NOT suitable for a workflow that handles multiple items because the first workflow execution will only be waiting for one callback.\n* The second workflow (not the second trigger in the first workflow) is just to demonstrate how the `Independent, External Process` needs to work.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "HTTP Request - Initiate Independent Process",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "HTTP Request - Resume Other Workflow Execution",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "This Node Can Access Primary and Secondary",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Set Primary Execution Context",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Receive Input from External, Independent Process",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Simulate Event that Hits the 2nd Trigger/Flow",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Simulate some Consumed Service Time",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "HTTP Request - Get A Random Joke",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Demo \"Trigger\" Callback Setup",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}