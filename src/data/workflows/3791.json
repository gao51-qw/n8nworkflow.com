{
  "id": 3791,
  "slug": "3791",
  "title": "Generate & enrich LinkedIn leads with Apollo.io, LinkedIn API, Mail.so & GPT-3.5",
  "description": "**Note:** *Now includes an Apify alternative for Rapid API (Some users can't create new accounts on Rapid API, so I have added an alternative for you. But immediately you are able to get access to Rapid API, please use that option, it returns more detailed data). **Scroll to bottom for APify setup guide***\n\nThis n8n workflow automates **LinkedIn lead generation, enrichment, and activity analysis** using **Apollo.io**, **RapidAPI**, **Google Sheets** and **Mail.so**.\n\nPerfect for **sales teams, founders, B2B marketers**, and cold outreach pros who want **personalized lead insights** to drive better conversion rates.\n\n---\n\n## ‚öôÔ∏è How This Workflow Works\n\nThe workflow is broken down into several key steps, each designed to help you build and enrich a valuable list of LinkedIn leads:\n\n### 1. üîë Lead Discovery (Keyword Search via Apollo)\n- Pulls leads using **Apollo.io's API** based on keywords, industries, or job titles.\n- Saves lead name, title, company, and LinkedIn URL to your Google Sheet.\n- You can replace the trigger node from the form node to a webhook, whatsapp, telegram, etc, any way for you to send over your query variables over to initiate the workflow.\n\n### 2. üß† Username Extraction (from LinkedIn URL)\n- Extracts the **LinkedIn username** from profile URLs using a simple script node.\n- This is required for further enrichment via RapidAPI.\n\n### 3. ‚úâÔ∏è Email Lookup (via Apollo User ID)\n- Uses the **Apollo User ID** to retrieve the lead‚Äôs **verified work email**.\n- Ensures high-quality leads with reliable contact info.\n- To double check that the email is currently valid, we use the mail.so api and filter out emails that fail deliverability and mx-record check. We don't wanna risk sending emails to no longer existent addresses, right?\n\n### 4. üßæ Profile Summary Enrichment (via RapidAPI)\n- Queries the **LinkedIn Data API** to fetch a lead‚Äôs **profile summary/bio**.\n- Gives you a deeper understanding of their background and expertise.\n\n### 5. üì∞ Recent Activity Collection (Posts & Reposts)\n- Retrieves **recent posts or reposts** from each lead‚Äôs profile.\n- Great for tailoring outreach with reference to what they‚Äôre currently talking about.\n\n### 6. üóÇÔ∏è Leads Database Update\n- All enriched data is written to the same Google Sheet.\n- New columns are filled in without overwriting existing data.\n\n---\n\n## ‚úÖ Smart Retry & Row Status Logic\n\nEvery subworkflow includes a **fail-safe mechanism** to ensure:\n\n- ‚úÖ Each row has status columns (e.g., `done`, `failed`, `pending`).\n- üïí A **scheduled retry workflow** resets failed rows to `pending` after **2 weeks** (customizable).\n- üí¨ This gives failed enrichments another chance to be processed later, reducing data loss.\n\n---\n\n## üìã Google Sheets Setup\n\nTemplate 1: [Apollo Leads Scraping & Enrichment](https://docs.google.com/spreadsheets/d/1d99PlHkp9RPeSAtmATgQ4OC4Selcp8JSFLNuKx-n1EQ/edit?gid=0#gid=0)  \n\nTemplate 2: [Enriched Leads Database](https://docs.google.com/spreadsheets/d/1c5USULUPS-2_RdNf29cyDguuHH7A7JNwzFCjQQUJTvE/edit?gid=0#gid=0)  \n\nMake a copy to your Drive and use.\n\nColumns will be filled as each subworkflow runs (email, summary, interests, etc.)\n\n---\n\n## üîê Required API Keys\n\nTo use this workflow, you‚Äôll need the following credentials:\n\n### üß© Apollo.io\n- Sign up and get your key here: [Apollo.io API Keys](https://developer.apollo.io/keys/)\n- ‚ö†Ô∏è **Important:** Toggle the **‚ÄúMaster API Key‚Äù** option to **ON** when generating your key.  \nThis ensures the same key can be used for all Apollo endpoints in this workflow.\n\n### üåê RapidAPI (LinkedIn Data API)\n- Subscribe to the API here: [LinkedIn Data API on RapidAPI](https://rapidapi.com/rockapis-rockapis-default/api/linkedin-data-api)\n- Use the key in the `x-rapidapi-key` header in the relevant nodes.\n\n### ‚úâÔ∏è Mail.so\n- Sign up and get your key here: [Mail.so API](https://mails.so/dashboard/api)\n\n\n&gt; üí° For both APIs, set up the credentials in **n8n as ‚ÄúGeneric Credential‚Äù** types.  \nThis way, you won‚Äôt need to reconfigure the headers in each node.\n\n---\n\n## üõ†Ô∏è Customization Options\n\n- Modify the Apollo filters (location, industry, seniority) to target your ideal customers.\n- Change retry interval in the scheduler (e.g., weekly instead of 2 weeks).\n- Connect the database to your email campaign tool like Mailchimp or Instantly.ai.\n- Replace the AI nodes with your desired AI agents and customize the system messages further to get desired results.\n\n---\n\n## üÜï Apify Update Guide\n\nTo use this workflow, you‚Äôll need the following credentials:\n\nLogin to Apify, then open this link; [https://console.apify.com/actors/2SyF0bVxmgGr8IVCZ/](https://console.apify.com/actors/2SyF0bVxmgGr8IVCZ/)\n\nClick on integrations and scroll down to API Solutions and select \"Use API endpoints\". Scroll to \"Run Actor synchronously and get dataset items\" and copy the actor endpoint url then paste it in the placeholder inside the http node of Apify alternative flow \"apify-actor-endpoint\". That's it, you are set to go.\n\n\n---\n\nI am available for custom n8n workflows, if you like my work, please get in touch with me on email at [joseph@uppfy.com](mailto:joseph@uppfy.com)\n",
  "featuredImage": "/data/workflows/3791/3791.webp",
  "author": {
    "id": 101,
    "slug": "mjomba",
    "name": "Joseph",
    "avatar": ""
  },
  "categories": [
    "Lead Generation",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 23264,
  "downloads": 2326,
  "createdAt": "2025-04-29T19:44:52.069Z",
  "updatedAt": "2026-01-16T08:31:30.240Z",
  "publishedAt": "2025-04-29T19:44:52.069Z",
  "nodes": 66,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3791",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate & enrich LinkedIn leads with Apollo.io, LinkedIn API, Mail.so & GPT-3.5",
    "workflowName": "Generate & enrich LinkedIn leads with Apollo.io, LinkedIn API, Mail.so & GPT-3.5",
    "description": "**Note:** *Now includes an Apify alternative for Rapid API (Some users can't create new accounts on Rapid API, so I have added an alternative for you. But immediately you are able to get access to Rapid API, please use that option, it returns more detailed data). **Scroll to bottom for APify setup guide***\n\nThis n8n workflow automates **LinkedIn lead generation, enrichment, and activity analysis** using **Apollo.io**, **RapidAPI**, **Google Sheets** and **Mail.so**.\n\nPerfect for **sales teams, founders, B2B marketers**, and cold outreach pros who want **personalized lead insights** to drive better conversion rates.\n\n---\n\n## ‚öôÔ∏è How This Workflow Works\n\nThe workflow is broken down into several key steps, each designed to help you build and enrich a valuable list of LinkedIn leads:\n\n### 1. üîë Lead Discovery (Keyword Search via Apollo)\n- Pulls leads using **Apollo.io's API** based on keywords, industries, or job titles.\n- Saves lead name, title, company, and LinkedIn URL to your Google Sheet.\n- You can replace the trigger node from the form node to a webhook, whatsapp, telegram, etc, any way for you to send over your query variables over to initiate the workflow.\n\n### 2. üß† Username Extraction (from LinkedIn URL)\n- Extracts the **LinkedIn username** from profile URLs using a simple script node.\n- This is required for further enrichment via RapidAPI.\n\n### 3. ‚úâÔ∏è Email Lookup (via Apollo User ID)\n- Uses the **Apollo User ID** to retrieve the lead‚Äôs **verified work email**.\n- Ensures high-quality leads with reliable contact info.\n- To double check that the email is currently valid, we use the mail.so api and filter out emails that fail deliverability and mx-record check. We don't wanna risk sending emails to no longer existent addresses, right?\n\n### 4. üßæ Profile Summary Enrichment (via RapidAPI)\n- Queries the **LinkedIn Data API** to fetch a lead‚Äôs **profile summary/bio**.\n- Gives you a deeper understanding of their background and expertise.\n\n### 5. üì∞ Recent Activity Collection (Posts & Reposts)\n- Retrieves **recent posts or reposts** from each lead‚Äôs profile.\n- Great for tailoring outreach with reference to what they‚Äôre currently talking about.\n\n### 6. üóÇÔ∏è Leads Database Update\n- All enriched data is written to the same Google Sheet.\n- New columns are filled in without overwriting existing data.\n\n---\n\n## ‚úÖ Smart Retry & Row Status Logic\n\nEvery subworkflow includes a **fail-safe mechanism** to ensure:\n\n- ‚úÖ Each row has status columns (e.g., `done`, `failed`, `pending`).\n- üïí A **scheduled retry workflow** resets failed rows to `pending` after **2 weeks** (customizable).\n- üí¨ This gives failed enrichments another chance to be processed later, reducing data loss.\n\n---\n\n## üìã Google Sheets Setup\n\nTemplate 1: [Apollo Leads Scraping & Enrichment](https://docs.google.com/spreadsheets/d/1d99PlHkp9RPeSAtmATgQ4OC4Selcp8JSFLNuKx-n1EQ/edit?gid=0#gid=0)  \n\nTemplate 2: [Enriched Leads Database](https://docs.google.com/spreadsheets/d/1c5USULUPS-2_RdNf29cyDguuHH7A7JNwzFCjQQUJTvE/edit?gid=0#gid=0)  \n\nMake a copy to your Drive and use.\n\nColumns will be filled as each subworkflow runs (email, summary, interests, etc.)\n\n---\n\n## üîê Required API Keys\n\nTo use this workflow, you‚Äôll need the following credentials:\n\n### üß© Apollo.io\n- Sign up and get your key here: [Apollo.io API Keys](https://developer.apollo.io/keys/)\n- ‚ö†Ô∏è **Important:** Toggle the **‚ÄúMaster API Key‚Äù** option to **ON** when generating your key.  \nThis ensures the same key can be used for all Apollo endpoints in this workflow.\n\n### üåê RapidAPI (LinkedIn Data API)\n- Subscribe to the API here: [LinkedIn Data API on RapidAPI](https://rapidapi.com/rockapis-rockapis-default/api/linkedin-data-api)\n- Use the key in the `x-rapidapi-key` header in the relevant nodes.\n\n### ‚úâÔ∏è Mail.so\n- Sign up and get your key here: [Mail.so API](https://mails.so/dashboard/api)\n\n\n&gt; üí° For both APIs, set up the credentials in **n8n as ‚ÄúGeneric Credential‚Äù** types.  \nThis way, you won‚Äôt need to reconfigure the headers in each node.\n\n---\n\n## üõ†Ô∏è Customization Options\n\n- Modify the Apollo filters (location, industry, seniority) to target your ideal customers.\n- Change retry interval in the scheduler (e.g., weekly instead of 2 weeks).\n- Connect the database to your email campaign tool like Mailchimp or Instantly.ai.\n- Replace the AI nodes with your desired AI agents and customize the system messages further to get desired results.\n\n---\n\n## üÜï Apify Update Guide\n\nTo use this workflow, you‚Äôll need the following credentials:\n\nLogin to Apify, then open this link; [https://console.apify.com/actors/2SyF0bVxmgGr8IVCZ/](https://console.apify.com/actors/2SyF0bVxmgGr8IVCZ/)\n\nClick on integrations and scroll down to API Solutions and select \"Use API endpoints\". Scroll to \"Run Actor synchronously and get dataset items\" and copy the actor endpoint url then paste it in the placeholder inside the http node of Apify alternative flow \"apify-actor-endpoint\". That's it, you are set to go.\n\n\n---\n\nI am available for custom n8n workflows, if you like my work, please get in touch with me on email at [joseph@uppfy.com](mailto:joseph@uppfy.com)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Sheets Trigger",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Google Sheets Trigger2",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Clean Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Add Leads to Google Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Add Linkedin Username",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Get Pending Username Row",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Add Email Address",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Mark Invalid Email",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Email from Apollo",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Confirm Email Validity",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Pending Email Statuses",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Google Sheets Trigger3",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Profile Posts",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get About Profile",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Pending About and Posts Rows",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Clean Profile Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Google Sheets Trigger4",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Pending About and Posts Rows1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Clean Posts Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Sheets Trigger5",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger2",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "get invalid email rows",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update_to_pending",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "get_failed_profile_summary_rows",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update_to_pending1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger3",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "get_failed_posts_summary_rows1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Posts AI Summarizer",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "AI Profile Summarizer",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Update Profile Summary",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Update Posts Summary",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Get Completely Enriched Profiles",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update_to_unscraped",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Append to Enriched Leads Database",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "update status to failed",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Stringify Profile Data1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Stringify Posts Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Generate Leads with Apollo.io",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Google Sheets Trigger6",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Pending About and Posts Rows2",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Clean Profile Data1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Stringify Data2",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "AI Profile Summarizer1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Update Profile Summary1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Stringify Data3",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Posts AI Summarizer1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Get About Profile2",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Clean Profile Data2",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "update status to failed1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "If email is valid",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    }
  ]
}