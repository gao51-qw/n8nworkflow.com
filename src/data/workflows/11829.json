{
  "id": 11829,
  "slug": "11829",
  "title": "Create script-to-video avatar videos with GPT-4.1-mini, HeyGen, Google Drive, Gmail and Slack",
  "description": "## üìò Description\nThis workflow automates the entire process of taking a raw user-submitted script, rewriting it into a polished HeyGen-ready narration, generating a full avatar video, handling all processing checks, retrieving the final MP4, uploading it to Google Drive, and notifying the user through email and Slack. It turns an unstructured script into a complete, ready-to-share video package without any manual intervention.\nThe system rewrites scripts into structured sections (intro ‚Üí narration sections ‚Üí closing), ensures the final narration fits HeyGen‚Äôs free-tier limits, submits the script to HeyGen‚Äôs video API, initiates a polling loop until the video is fully rendered, downloads the finished file, uploads it to Drive with metadata, and generates clean notification messages containing the file links. Errors at any point trigger automated Slack alerts for debugging.\nThis workflow replaces manual rewriting, video rendering, download/upload, and team communication‚Äîproviding a fully-managed script-to-video pipeline.\n\n## ‚öôÔ∏è What This Workflow Does (Step-by-Step)\nüü¢ Receive Script Request via Webhook\n Captures the raw script payload submitted by the user.\nüßπ Parse Incoming Script Payload\n Converts stringified JSON body into structured data for processing.\n‚úçÔ∏è Rewrite & Structure Video Script Using AI\n Transforms the raw script into:\n ‚Ä¢ Video title\n ‚Ä¢ Intro\n ‚Ä¢ Multiple sections (title + narration)\n ‚Ä¢ Closing\n ‚Ä¢ Combined full_script optimized for HeyGen‚Äôs ~300‚Äì350 word limit\n Ensures natural, human narration with smooth transitions.\nüß† Script Writing Memory + LLM Engine\n Maintains writing consistency and uses GPT-4.1-mini to generate polished narration.\nüß™ Validate Structured Script Output\n Enforces strict JSON schema for titles, sections, closing, and full_script.\nüéûÔ∏è Submit Video Generation Request to HeyGen\n Sends structured script to HeyGen API with avatar, voice, and background settings for 1280√ó720 export.\n‚è≥ Wait Before Polling Loop\n Initial delay before the first status check.\nüì° Check HeyGen Video Status\n Queries the HeyGen API to check progress of the video generation.\n‚è≥ Wait Before Rechecking\n Adds timed spacing between repeated polls.\nüîç Evaluate Video Completion\n If status = completed ‚Üí proceed\n If still processing ‚Üí loop back to polling sequence\nüì• Download Generated HeyGen Video\n Retrieves the completed MP4 using the returned video_url.\n‚òÅÔ∏è Upload Video to Google Drive\n Uploads the MP4 to a specific Google Drive folder, returning:\n ‚Ä¢ File name\n ‚Ä¢ View link\n ‚Ä¢ Download link\n ‚Ä¢ Timestamp\n ‚Ä¢ Size metadata\nüì£ Generate Completion Notifications Using AI\n Creates two outputs:\n ‚Ä¢ A friendly short email summary\n ‚Ä¢ A concise Slack message\n Both containing the Google Drive file link.\nüß† Notification Memory + LLM Engine\n Maintains tone and ensures consistent messaging across channels.\nüß™ Validate Notification Output JSON\n Ensures email_subject, email_body, and slack_message follow schema.\nüí¨ Send Video Ready Slack Notification\n Posts the final Slack message containing file details and Drive link.\nüìß Send Video Ready Email Notification\n Emails the summary and file link to the designated recipient.\nüö® Error Handler Trigger ‚Üí Slack Alert\n Any workflow failure sends a detailed diagnostic alert with node name, message, and timestamp.\n\n## üß© Prerequisites\n ‚Ä¢ HeyGen API key\n ‚Ä¢ Google Drive OAuth connection\n ‚Ä¢ Slack API credentials\n ‚Ä¢ Gmail OAuth connection\n ‚Ä¢ Valid webhook endpoint to receive scripts\n\n## üí° Key Benefits\n ‚úî Converts raw script ‚Üí structured HeyGen-ready narration automatically\n ‚úî Produces full HD avatar video with zero manual steps\n ‚úî Polls HeyGen until the video is fully rendered\n ‚úî Securely uploads final MP4 to Google Drive\n ‚úî Auto-generates polished email + Slack notifications\n ‚úî Ensures narrative consistency using memory context\n ‚úî Provides real-time error alerts via Slack\n\n## üë• Perfect For\n HR teams automating onboarding videos\n Marketing teams producing quick avatar explainers\n Training content creators\n Founders creating rapid how-to or announcement videos\n Anyone needing instant script-to-video automation",
  "featuredImage": "/data/workflows/11829/11829.webp",
  "author": {
    "id": 101,
    "slug": "rahul08",
    "name": "Rahul Joshi",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 11,
  "downloads": 1,
  "createdAt": "2025-12-15T11:38:25.025Z",
  "updatedAt": "2026-01-16T09:10:16.669Z",
  "publishedAt": "2025-12-15T11:38:25.025Z",
  "nodes": 27,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11829",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create script-to-video avatar videos with GPT-4.1-mini, HeyGen, Google Drive, Gmail and Slack",
    "workflowName": "Create script-to-video avatar videos with GPT-4.1-mini, HeyGen, Google Drive, Gmail and Slack",
    "description": "## üìò Description\nThis workflow automates the entire process of taking a raw user-submitted script, rewriting it into a polished HeyGen-ready narration, generating a full avatar video, handling all processing checks, retrieving the final MP4, uploading it to Google Drive, and notifying the user through email and Slack. It turns an unstructured script into a complete, ready-to-share video package without any manual intervention.\nThe system rewrites scripts into structured sections (intro ‚Üí narration sections ‚Üí closing), ensures the final narration fits HeyGen‚Äôs free-tier limits, submits the script to HeyGen‚Äôs video API, initiates a polling loop until the video is fully rendered, downloads the finished file, uploads it to Drive with metadata, and generates clean notification messages containing the file links. Errors at any point trigger automated Slack alerts for debugging.\nThis workflow replaces manual rewriting, video rendering, download/upload, and team communication‚Äîproviding a fully-managed script-to-video pipeline.\n\n## ‚öôÔ∏è What This Workflow Does (Step-by-Step)\nüü¢ Receive Script Request via Webhook\n Captures the raw script payload submitted by the user.\nüßπ Parse Incoming Script Payload\n Converts stringified JSON body into structured data for processing.\n‚úçÔ∏è Rewrite & Structure Video Script Using AI\n Transforms the raw script into:\n ‚Ä¢ Video title\n ‚Ä¢ Intro\n ‚Ä¢ Multiple sections (title + narration)\n ‚Ä¢ Closing\n ‚Ä¢ Combined full_script optimized for HeyGen‚Äôs ~300‚Äì350 word limit\n Ensures natural, human narration with smooth transitions.\nüß† Script Writing Memory + LLM Engine\n Maintains writing consistency and uses GPT-4.1-mini to generate polished narration.\nüß™ Validate Structured Script Output\n Enforces strict JSON schema for titles, sections, closing, and full_script.\nüéûÔ∏è Submit Video Generation Request to HeyGen\n Sends structured script to HeyGen API with avatar, voice, and background settings for 1280√ó720 export.\n‚è≥ Wait Before Polling Loop\n Initial delay before the first status check.\nüì° Check HeyGen Video Status\n Queries the HeyGen API to check progress of the video generation.\n‚è≥ Wait Before Rechecking\n Adds timed spacing between repeated polls.\nüîç Evaluate Video Completion\n If status = completed ‚Üí proceed\n If still processing ‚Üí loop back to polling sequence\nüì• Download Generated HeyGen Video\n Retrieves the completed MP4 using the returned video_url.\n‚òÅÔ∏è Upload Video to Google Drive\n Uploads the MP4 to a specific Google Drive folder, returning:\n ‚Ä¢ File name\n ‚Ä¢ View link\n ‚Ä¢ Download link\n ‚Ä¢ Timestamp\n ‚Ä¢ Size metadata\nüì£ Generate Completion Notifications Using AI\n Creates two outputs:\n ‚Ä¢ A friendly short email summary\n ‚Ä¢ A concise Slack message\n Both containing the Google Drive file link.\nüß† Notification Memory + LLM Engine\n Maintains tone and ensures consistent messaging across channels.\nüß™ Validate Notification Output JSON\n Ensures email_subject, email_body, and slack_message follow schema.\nüí¨ Send Video Ready Slack Notification\n Posts the final Slack message containing file details and Drive link.\nüìß Send Video Ready Email Notification\n Emails the summary and file link to the designated recipient.\nüö® Error Handler Trigger ‚Üí Slack Alert\n Any workflow failure sends a detailed diagnostic alert with node name, message, and timestamp.\n\n## üß© Prerequisites\n ‚Ä¢ HeyGen API key\n ‚Ä¢ Google Drive OAuth connection\n ‚Ä¢ Slack API credentials\n ‚Ä¢ Gmail OAuth connection\n ‚Ä¢ Valid webhook endpoint to receive scripts\n\n## üí° Key Benefits\n ‚úî Converts raw script ‚Üí structured HeyGen-ready narration automatically\n ‚úî Produces full HD avatar video with zero manual steps\n ‚úî Polls HeyGen until the video is fully rendered\n ‚úî Securely uploads final MP4 to Google Drive\n ‚úî Auto-generates polished email + Slack notifications\n ‚úî Ensures narrative consistency using memory context\n ‚úî Provides real-time error alerts via Slack\n\n## üë• Perfect For\n HR teams automating onboarding videos\n Marketing teams producing quick avatar explainers\n Training content creators\n Founders creating rapid how-to or announcement videos\n Anyone needing instant script-to-video automation",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Check HeyGen Video Status1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Receive Script Request ",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Parse Incoming Script Payload",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Rewrite & Structure Video Script ",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Apply Script Writing Memory Context",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "LLM Engine for Script Rewriting",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Validate Structured Script Output",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Submit Video Generation Request to HeyGen",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Wait Before Checking Video Status",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Wait Before Rechecking Status",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Evaluate Video Completion Status",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Download Generated HeyGen Video",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Upload Generated Video to Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Generate Completion Notifications ",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Apply Notification Context Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "LLM Engine for Notification Generation",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Validate Notification Output JSON",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send Video Ready Slack Notification",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Send Video Ready Email Notification",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Error Handler Trigger",
      "type": "n8n-nodes-base.errorTrigger",
      "role": "errorTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Slack: Send Error Alert",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}