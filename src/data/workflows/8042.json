{
  "id": 8042,
  "slug": "8042",
  "title": "Version control n8n workflows in GitLab with customer tag organization",
  "description": "## How it works\n- Triggers manually or on schedule (03:00 daily by default)  \n- Fetches workflows tagged `backup-workflows` via n8n API  \n- Normalizes workflow names and applies `[client: NAME]` tag convention  \n- Prepares JSON in the same structure as an n8n UI export  \n- Checks GitLab repository:  \n  - Create new file if missing  \n  - Update file if content differs  \n  - Skip if unchanged  \n- Logs results with recap (created, updated, unchanged, total)  \n\n## Set up steps\n- Configure your GitLab credentials in n8n  \n- Create a repository and branch for workflow backups  \n- Set global variables (owner, project, branch, backup path)  \n- Tag workflows to include with `backup-workflows`  \n- Run manually once to test, then enable the schedule  ",
  "featuredImage": "/data/workflows/8042/8042.webp",
  "author": {
    "id": 101,
    "slug": "kennouche-omar",
    "name": "Omar Kennouche",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1093,
  "downloads": 109,
  "createdAt": "2025-08-29T20:58:27.777Z",
  "updatedAt": "2026-01-16T08:53:48.152Z",
  "publishedAt": "2025-08-29T20:58:27.777Z",
  "nodes": 24,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8042",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Version control n8n workflows in GitLab with customer tag organization",
    "workflowName": "Version control n8n workflows in GitLab with customer tag organization",
    "description": "## How it works\n- Triggers manually or on schedule (03:00 daily by default)  \n- Fetches workflows tagged `backup-workflows` via n8n API  \n- Normalizes workflow names and applies `[client: NAME]` tag convention  \n- Prepares JSON in the same structure as an n8n UI export  \n- Checks GitLab repository:  \n  - Create new file if missing  \n  - Update file if content differs  \n  - Skip if unchanged  \n- Logs results with recap (created, updated, unchanged, total)  \n\n## Set up steps\n- Configure your GitLab credentials in n8n  \n- Create a repository and branch for workflow backups  \n- Set global variables (owner, project, branch, backup path)  \n- Tag workflows to include with `backup-workflows`  \n- Run manually once to test, then enable the schedule",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Prepare Workflow JSON for UI-Compatible Export",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Clean & Normalize Workflow Name",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Workflows from n8n",
      "type": "n8n-nodes-base.n8n",
      "role": "n8n",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Existing File from GitLab",
      "type": "n8n-nodes-base.gitlab",
      "role": "gitlab",
      "configDescription": "Version 1"
    },
    {
      "name": "Update Existing File in GitLab",
      "type": "n8n-nodes-base.gitlab",
      "role": "gitlab",
      "configDescription": "Version 1"
    },
    {
      "name": "Create New File in GitLab",
      "type": "n8n-nodes-base.gitlab",
      "role": "gitlab",
      "configDescription": "Version 1"
    },
    {
      "name": "Normalize Backup Output",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Set Global GitLab Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Prepare GitLab File Path",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Compare Workflow with GitLab Version",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Mark as Created",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Mark as Updated",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Mark as Unchanged",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Summarize Backup Results",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    }
  ]
}