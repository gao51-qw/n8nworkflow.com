{
  "id": 11979,
  "slug": "11979",
  "title": "Automated SEO indexing: sitemap to GSC & indexing API",
  "description": "This workflow helps SEO professionals and website owners automate the tedious process of monitoring and indexing URLs. It fetches your XML sitemap, filters for recent content, checks the current indexing status via Google Search Console (GSC), and automatically submits non-indexed URLs to the Google Indexing API.\n\nBy integrating a local submission state (Static Data), it ensures that your API quota is used efficiently by preventing redundant submissions within a 7-day window.\n\n## Key Features\n\n**Smart Sitemap Support**: Handles both standard sitemaps and Sitemap Indexes (nested sitemaps).\n\n**Status Check**: Uses GSC URL Inspection to verify if a page is truly missing from Google's index before taking action.\n\n**Quota Optimization**: Filters content by lastmod date and tracks submission history to stay within Google's API limits.\n\n**Rate Limiting**: Includes built-in batching and delays to comply with Google's API throughput requirements.\n\n## Prerequisites\n\n**Google Search Console API**: Enabled in your Google Cloud Console.\n\n**Google Indexing API**: Enabled for instant indexing.\n\n**Service Account**: You need a Service Account JSON key with \"Owner\" permissions in your GSC Property.\n\n## Setup steps\n\n**1. Configure Google Cloud Console**\n\nCreate Project: Go to the [Google Cloud Console](https://console.cloud.google.com/) and create a new project.\n\nEnable APIs: Search for and enable both the Google Search Console API and the Web Search Indexing API.\n\nCreate Service Account: Navigate to APIs & Services &gt; Credentials &gt; Create Credentials &gt; Service Account. Fill in the details and click Done.\n\nGenerate Key: Select your service account &gt; Edit service account &gt; Keys &gt; Add Key &gt; Create new key &gt; JSON. Save the downloaded file securely.\n\n**2. Set Up Credentials in n8n**\n\nNew Credential: In n8n, go to Create credentials &gt; Google Service Account API.\n\nInput Data: Paste the Service Account Email and Private Key from your downloaded JSON file. In JSON file, Service Account Email is client_email and Private Key is private_key.\n\nHTTP Request Setup: Enable Set up for use in HTTP Request node.\n\nScopes: Enter exactly: https://www.googleapis.com/auth/indexing https://www.googleapis.com/auth/webmasters.readonly into the Scopes field.\n\nGSC Permission: Add the Service Account email to your Google Search Console property as an Owner via Settings &gt; Users and permissions &gt; Add user.\n\n**3. Workflow Configuration**\n\nConfiguration Node: Open the Configuration node and enter your Sitemap URL and GSC Property URL. If your property type is URL prefix, the URL must end with a forward slash /. Example: https://hanthienhai.com/\n\nLink Credentials: Update the credentials in both the GSC: Inspect URL Status and GSC: Request Indexing nodes with the service account created in Step 2.\n\n**4. Schedule & Activate**\n\nSet Schedule: Adjust the Schedule Trigger node to your preferred execution frequency.\n\nActivate: Toggle the workflow to Active to start the automation.\n\n## Questions or Need Help?\n\nFor setup assistance, customization, or workflow support, feel free to contact me at admin@hanthienhai.com",
  "featuredImage": "/data/workflows/11979/11979.webp",
  "author": {
    "id": 101,
    "slug": "hanthienhai",
    "name": "Hàn Thiên Hải",
    "avatar": ""
  },
  "categories": [
    "Market Research"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 168,
  "downloads": 16,
  "createdAt": "2025-12-20T07:46:43.656Z",
  "updatedAt": "2026-01-16T09:10:52.667Z",
  "publishedAt": "2025-12-20T07:46:43.656Z",
  "nodes": 21,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11979",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated SEO indexing: sitemap to GSC & indexing API",
    "workflowName": "Automated SEO indexing: sitemap to GSC & indexing API",
    "description": "This workflow helps SEO professionals and website owners automate the tedious process of monitoring and indexing URLs. It fetches your XML sitemap, filters for recent content, checks the current indexing status via Google Search Console (GSC), and automatically submits non-indexed URLs to the Google Indexing API.\n\nBy integrating a local submission state (Static Data), it ensures that your API quota is used efficiently by preventing redundant submissions within a 7-day window.\n\n## Key Features\n\n**Smart Sitemap Support**: Handles both standard sitemaps and Sitemap Indexes (nested sitemaps).\n\n**Status Check**: Uses GSC URL Inspection to verify if a page is truly missing from Google's index before taking action.\n\n**Quota Optimization**: Filters content by lastmod date and tracks submission history to stay within Google's API limits.\n\n**Rate Limiting**: Includes built-in batching and delays to comply with Google's API throughput requirements.\n\n## Prerequisites\n\n**Google Search Console API**: Enabled in your Google Cloud Console.\n\n**Google Indexing API**: Enabled for instant indexing.\n\n**Service Account**: You need a Service Account JSON key with \"Owner\" permissions in your GSC Property.\n\n## Setup steps\n\n**1. Configure Google Cloud Console**\n\nCreate Project: Go to the [Google Cloud Console](https://console.cloud.google.com/) and create a new project.\n\nEnable APIs: Search for and enable both the Google Search Console API and the Web Search Indexing API.\n\nCreate Service Account: Navigate to APIs & Services &gt; Credentials &gt; Create Credentials &gt; Service Account. Fill in the details and click Done.\n\nGenerate Key: Select your service account &gt; Edit service account &gt; Keys &gt; Add Key &gt; Create new key &gt; JSON. Save the downloaded file securely.\n\n**2. Set Up Credentials in n8n**\n\nNew Credential: In n8n, go to Create credentials &gt; Google Service Account API.\n\nInput Data: Paste the Service Account Email and Private Key from your downloaded JSON file. In JSON file, Service Account Email is client_email and Private Key is private_key.\n\nHTTP Request Setup: Enable Set up for use in HTTP Request node.\n\nScopes: Enter exactly: https://www.googleapis.com/auth/indexing https://www.googleapis.com/auth/webmasters.readonly into the Scopes field.\n\nGSC Permission: Add the Service Account email to your Google Search Console property as an Owner via Settings &gt; Users and permissions &gt; Add user.\n\n**3. Workflow Configuration**\n\nConfiguration Node: Open the Configuration node and enter your Sitemap URL and GSC Property URL. If your property type is URL prefix, the URL must end with a forward slash /. Example: https://hanthienhai.com/\n\nLink Credentials: Update the credentials in both the GSC: Inspect URL Status and GSC: Request Indexing nodes with the service account created in Step 2.\n\n**4. Schedule & Activate**\n\nSet Schedule: Adjust the Schedule Trigger node to your preferred execution frequency.\n\nActivate: Toggle the workflow to Active to start the automation.\n\n## Questions or Need Help?\n\nFor setup assistance, customization, or workflow support, feel free to contact me at admin@hanthienhai.com",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Configuration",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Fetch Sitemap XML",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Convert XML to JSON",
      "type": "n8n-nodes-base.xml",
      "role": "xml",
      "configDescription": "Version 1"
    },
    {
      "name": "Parse Sitemap Structure",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Is Sitemap Index?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Format URL Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Filter: Recent URLs Only",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2"
    },
    {
      "name": "Check Submission History",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "GSC: Inspect URL Status",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Logic: Should Index?",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Filter: Only Not Indexed",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2"
    },
    {
      "name": "Batch Processing",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Delay (Rate Limiting)",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Filter: Valid for Submission",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "GSC: Request Indexing",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    }
  ]
}