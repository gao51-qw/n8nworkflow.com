{
  "id": 3804,
  "slug": "3804",
  "title": "Automated PR code reviews with GitHub, GPT-4, and Google Sheets best practices",
  "description": "AI-Agent Code Review for GitHub Pull Requests \n\n# Description:\n\nThis **n8n** workflow automates the process of reviewing code changes in GitHub pull requests using an OpenAI-powered agent. \n\nIt connects your **GitHub repo**, extracts modified files, analyzes diffs, and uses an AI agent to generate a code review based on your internal code best practices (fed from a **Google Sheet**).\n\nIt ends by posting the review as a comment on the PR and tagging it with a visual label like ‚úÖ **Reviewed by AI**.\n\n**üîß What It Does**\n1. Triggered on PR creation\n\n3. Extracts code diffs from the PR\n\n5. Formats and feeds them into an OpenAI prompt\n\n7. Enriches the prompt using a Google Sheet of Swift best practices\n\n9. Posts an AI-generated review as a comment on the PR\n\n11. Applies a PR label to visually mark reviewed PRs\n\n\n###  ‚úÖ Prerequisites\nBefore deploying this workflow, ensure you have the following:\n\n- n8n Instance (Self-hosted or Cloud)\n- GitHub Repository with PR activity\n- **OpenAI API Key** for GPT-4o, GPT-4-turbo, or GPT-3.5\n- **GitHub OAuth App** (or PAT) connected to n8n to post comments and access PR diffs\n- (*Optional*) **Google Sheets API credentials** if using the code best practices lookup node.\n### ‚öôÔ∏è Setup Instructions\n\n**1. Import the Workflow** in n8n, click on Workflows ‚Üí Import from file or JSON\nPaste or upload the JSON code of this template\n\n**2. Configure Triggers and Connections**\n\n#### üîÅ GitHub Trigger\n\n- **Node**: PR Trigger\n- **Repository**: Select the GitHub repo(s) to monitor\n- **Events**: Set to pull_request\n- **Auth**: Use GitHub OAuth2 credentials\n\n#### üì• HTTP Request\n\n**Node**: Get file's Diffs from PR\n\n*No authentication needed; it uses dynamic path from trigger*\n\n#### üß† OpenAI Model\n- **Node**: OpenAI Chat Model\n\n- **Model**: Select gpt-4o, gpt-4-turbo, or gpt-3.5-turbo\n\n- **Credential**: Provide your OpenAI API Key\n\n#### üßë‚Äçüíª Code Review Agent\n **Node** : Code Review Agent\n*Connected to OpenAI and optionally to tools like Google Sheets*\n\n#### üí¨ GitHub Comment Poster\n\n*Uses GitHub API to post review comments back on PR*\n**Node**: GitHub Robot\n**Credential**: Use the agent Github account (OAuth or PAT)\n**Repo** : Pick your owen Github Repository\n\n\n\n#### üè∑Ô∏è PR Labeler (optional)\n*Adds label ReviewedByAI after successful comment*\n\n**Node**: Add Label to PR\n**Label** : you ca customize the label text of your owen tag.\n\n\n#### üìä Google Sheet Best Practices config (optional)\n*Connects to a Google Sheet for coding guideline lookups, we can replace Google sheet by another tool or data base*\n\n- First prepare your best practices list with the **clear description** and the **code bad/good** examples\n- Add al the best practices in your **Google Sheet**\n- **Configure** the Code **Best Practices node** in the template :\n#### Credential : Use your Google Sheet account by OAuth2\n#### URL : Add your Google Sheet document URL\n#### Sheet : Add the name of the best practices sheet\n\n\n\n\n\n\n\n\n\n\n",
  "featuredImage": "/data/workflows/3804/3804.webp",
  "author": {
    "id": 101,
    "slug": "jiheneme",
    "name": "Jihene",
    "avatar": ""
  },
  "categories": [
    "DevOps",
    "AI Summarization"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 10945,
  "downloads": 1094,
  "createdAt": "2025-04-30T14:07:04.489Z",
  "updatedAt": "2026-01-16T08:31:32.616Z",
  "publishedAt": "2025-04-30T14:07:04.489Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3804",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated PR code reviews with GitHub, GPT-4, and Google Sheets best practices",
    "workflowName": "Automated PR code reviews with GitHub, GPT-4, and Google Sheets best practices",
    "description": "AI-Agent Code Review for GitHub Pull Requests \n\n# Description:\n\nThis **n8n** workflow automates the process of reviewing code changes in GitHub pull requests using an OpenAI-powered agent. \n\nIt connects your **GitHub repo**, extracts modified files, analyzes diffs, and uses an AI agent to generate a code review based on your internal code best practices (fed from a **Google Sheet**).\n\nIt ends by posting the review as a comment on the PR and tagging it with a visual label like ‚úÖ **Reviewed by AI**.\n\n**üîß What It Does**\n1. Triggered on PR creation\n\n3. Extracts code diffs from the PR\n\n5. Formats and feeds them into an OpenAI prompt\n\n7. Enriches the prompt using a Google Sheet of Swift best practices\n\n9. Posts an AI-generated review as a comment on the PR\n\n11. Applies a PR label to visually mark reviewed PRs\n\n\n###  ‚úÖ Prerequisites\nBefore deploying this workflow, ensure you have the following:\n\n- n8n Instance (Self-hosted or Cloud)\n- GitHub Repository with PR activity\n- **OpenAI API Key** for GPT-4o, GPT-4-turbo, or GPT-3.5\n- **GitHub OAuth App** (or PAT) connected to n8n to post comments and access PR diffs\n- (*Optional*) **Google Sheets API credentials** if using the code best practices lookup node.\n### ‚öôÔ∏è Setup Instructions\n\n**1. Import the Workflow** in n8n, click on Workflows ‚Üí Import from file or JSON\nPaste or upload the JSON code of this template\n\n**2. Configure Triggers and Connections**\n\n#### üîÅ GitHub Trigger\n\n- **Node**: PR Trigger\n- **Repository**: Select the GitHub repo(s) to monitor\n- **Events**: Set to pull_request\n- **Auth**: Use GitHub OAuth2 credentials\n\n#### üì• HTTP Request\n\n**Node**: Get file's Diffs from PR\n\n*No authentication needed; it uses dynamic path from trigger*\n\n#### üß† OpenAI Model\n- **Node**: OpenAI Chat Model\n\n- **Model**: Select gpt-4o, gpt-4-turbo, or gpt-3.5-turbo\n\n- **Credential**: Provide your OpenAI API Key\n\n#### üßë‚Äçüíª Code Review Agent\n **Node** : Code Review Agent\n*Connected to OpenAI and optionally to tools like Google Sheets*\n\n#### üí¨ GitHub Comment Poster\n\n*Uses GitHub API to post review comments back on PR*\n**Node**: GitHub Robot\n**Credential**: Use the agent Github account (OAuth or PAT)\n**Repo** : Pick your owen Github Repository\n\n\n\n#### üè∑Ô∏è PR Labeler (optional)\n*Adds label ReviewedByAI after successful comment*\n\n**Node**: Add Label to PR\n**Label** : you ca customize the label text of your owen tag.\n\n\n#### üìä Google Sheet Best Practices config (optional)\n*Connects to a Google Sheet for coding guideline lookups, we can replace Google sheet by another tool or data base*\n\n- First prepare your best practices list with the **clear description** and the **code bad/good** examples\n- Add al the best practices in your **Google Sheet**\n- **Configure** the Code **Best Practices node** in the template :\n#### Credential : Use your Google Sheet account by OAuth2\n#### URL : Add your Google Sheet document URL\n#### Sheet : Add the name of the best practices sheet",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "PR Trigger",
      "type": "n8n-nodes-base.githubTrigger",
      "role": "githubTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Get file's Diffs from PR",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Create target Prompt from PR Diffs",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "GitHub Robot",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Add Label to PR",
      "type": "n8n-nodes-base.github",
      "role": "github",
      "configDescription": "Version 1"
    },
    {
      "name": "Code Best Practices",
      "type": "n8n-nodes-base.googleSheetsTool",
      "role": "googleSheetsTool",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Code Review Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}