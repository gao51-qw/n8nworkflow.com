{
  "id": 4051,
  "slug": "4051",
  "title": "AI chatbot call center: Taxi booking support (production-ready, part 7)",
  "description": "### Workflow Name: ðŸ«¶ Taxi Booking Support\n\nTemplate was created in n8n v1.90.2\n\n### Skill Level: Mid\n\n### Categories: n8n, Chatbot\n\n### Stacks\n\n- Schedule Trigger node\n- Postgres node\n- AI Agent node\n- Google Calendar node\n- Execute Sub-workflow\n- If node, Switch node, Code node, Edit Fields (Set)\n\n### Prerequisite\n\n- Sub-workflow: **Demo Call Back** (or your own node)\n\n# Production Features\n\n- **Scaling Design** for n8n **Queue mode** in production environment\n- Customize **Expired Booking Actions** example\n- **Multi-Language** Design\n\n# What this workflow does?\n\nThis is a n8n **Taxi Booking Support,** the background node to process the job at scheduled. It is scheduled to check the database for outstanding booking and handle the after sales process. In this particular case, it will check for OPEN booking over 10 minutes, then update the booking status from OPEN to CANCELLED, delete the Calendar event and send a reply to the user.\n\n# **How it works**\n\n- The **Schedule Trigger** node is scheduled to run every 5 minutes.\n- It will check the database for OPEN or HOLD booking.\n- For OPEN booking\n    - update the booking status to CANCELLED\n    - delete the Calendar event\n    - send a reply to the user\n- Optional: The AI Agent is used to create the reply message to the user in Multi-language based on the language set in the booking.\n\n# **Set up instructions**\n\n1. Pull and Set up the required SQL from our [Github repository](https://github.com/ChatPayLabs/n8n-chatbot-core).\n2. Create you **Postgres credentials**, refer to [n8n integration documentation](https://docs.n8n.io/integrations/builtin/credentials/slack/?utm_source=n8n_app&utm_medium=credential_settings&utm_campaign=create_new_credentials_modal) for more information.\n3. Select your Credentials in **Open Hold Booking** and **Set Cancel Booking.**\n4. Create your **Google Calendar credentials**, refer to [n8n integration documentation](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlecalendar/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.googleCalendar) for more information.\n5. Create a Google Calendar, e.g. DEMO\n6. Select your Credentials in **Delete Event**, and select the above Calendar\n7. **Remember to activate this workflow for schedule to run.**\n\n# How to adjust it to your needs\n\n1. There should be more status for the booking.\n2. The current action only check for OPEN and HOLD booking, you can do more based on your needs.\n3. You can replace the sub-workflow trigger **Call Back** to another flow as needs.",
  "featuredImage": "/data/workflows/4051/4051.webp",
  "author": {
    "id": 101,
    "slug": "chatpaylabs",
    "name": "ChatPayLabs",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 729,
  "downloads": 72,
  "createdAt": "2025-05-14T15:34:22.600Z",
  "updatedAt": "2026-01-16T08:32:47.637Z",
  "publishedAt": "2025-05-14T15:34:22.600Z",
  "nodes": 15,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4051",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "AI chatbot call center: Taxi booking support (production-ready, part 7)",
    "workflowName": "AI chatbot call center: Taxi booking support (production-ready, part 7)",
    "description": "### Workflow Name: ðŸ«¶ Taxi Booking Support\n\nTemplate was created in n8n v1.90.2\n\n### Skill Level: Mid\n\n### Categories: n8n, Chatbot\n\n### Stacks\n\n- Schedule Trigger node\n- Postgres node\n- AI Agent node\n- Google Calendar node\n- Execute Sub-workflow\n- If node, Switch node, Code node, Edit Fields (Set)\n\n### Prerequisite\n\n- Sub-workflow: **Demo Call Back** (or your own node)\n\n# Production Features\n\n- **Scaling Design** for n8n **Queue mode** in production environment\n- Customize **Expired Booking Actions** example\n- **Multi-Language** Design\n\n# What this workflow does?\n\nThis is a n8n **Taxi Booking Support,** the background node to process the job at scheduled. It is scheduled to check the database for outstanding booking and handle the after sales process. In this particular case, it will check for OPEN booking over 10 minutes, then update the booking status from OPEN to CANCELLED, delete the Calendar event and send a reply to the user.\n\n# **How it works**\n\n- The **Schedule Trigger** node is scheduled to run every 5 minutes.\n- It will check the database for OPEN or HOLD booking.\n- For OPEN booking\n    - update the booking status to CANCELLED\n    - delete the Calendar event\n    - send a reply to the user\n- Optional: The AI Agent is used to create the reply message to the user in Multi-language based on the language set in the booking.\n\n# **Set up instructions**\n\n1. Pull and Set up the required SQL from our [Github repository](https://github.com/ChatPayLabs/n8n-chatbot-core).\n2. Create you **Postgres credentials**, refer to [n8n integration documentation](https://docs.n8n.io/integrations/builtin/credentials/slack/?utm_source=n8n_app&utm_medium=credential_settings&utm_campaign=create_new_credentials_modal) for more information.\n3. Select your Credentials in **Open Hold Booking** and **Set Cancel Booking.**\n4. Create your **Google Calendar credentials**, refer to [n8n integration documentation](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlecalendar/?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign=n8n-nodes-base.googleCalendar) for more information.\n5. Create a Google Calendar, e.g. DEMO\n6. Select your Credentials in **Delete Event**, and select the above Calendar\n7. **Remember to activate this workflow for schedule to run.**\n\n# How to adjust it to your needs\n\n1. There should be more status for the booking.\n2. The current action only check for OPEN and HOLD booking, you can do more based on your needs.\n3. You can replace the sub-workflow trigger **Call Back** to another flow as needs.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "xAI @grok-2-1212",
      "type": "@n8n/n8n-nodes-langchain.lmChatXAiGrok",
      "role": "lmChatXAiGrok",
      "configDescription": "Version 1"
    },
    {
      "name": "Status Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Set Cancel Booking",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Booking",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Call Back",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Open Hold Booking",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "If Hold Expired",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If Open Expired",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Delete Event",
      "type": "n8n-nodes-base.googleCalendar",
      "role": "googleCalendar",
      "configDescription": "Version 1.3"
    }
  ]
}