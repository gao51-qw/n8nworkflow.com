{
  "id": 7679,
  "slug": "7679",
  "title": "Email drafting & news research assistant with OpenAI, Gmail, Tavily & Perplexity",
  "description": "AI Agent MCP for Email & News Research\n\nBuild a chat-first MCP-powered research and outreach agent. This workflow lets you ask questions in an n8n chat, then the agent researches news (via Tavily + Perplexity through an MCP server) and drafts emails (via Gmail through a separate MCP server). It uses OpenAI for reasoning and short-term memory for coherent, multi‑turn conversations.\n\nWatch build along videos for workflows like these on: www.youtube.com/@automatewithmarc\n\nWhat this template does\n\nChat-native trigger: Start a conversation and ask for research or an email draft.\n\nMCP client tools: The agent talks to two MCP servers — one for Email work, one for News research.\n\nNews research stack: Uses Tavily (search) and Perplexity (LLM retrieval/answers) behind a News MCP server.\n\nEmail stack: Uses Gmail Tool to generate and send messages via an Email MCP server.\n\nReasoning + memory: OpenAI Chat Model + Simple Memory for context-aware, multi-step outputs.\n\nHow it works (node map)\n\nWhen chat message received → collects your prompt and routes it to the agent.\n\nAI Agent (system prompt = “helpful email assistant”) → orchestrates tools via MCP Clients.\n\nOpenAI Chat Model → reasoning/planning for research or email drafting.\n\nSimple Memory → keeps recent chat context for follow-ups.\n\nNews MCP Server exposes:\n\nTavily Tool (Search) and Perplexity Tool (Ask) for up-to-date findings.\n\nEmail MCP Server exposes:\n\nGmail Tool (To, Subject, Message via AI fields) to send or draft emails.\n\nThe MCP Clients (News/Email) plug into the Agent, so your single chat prompt can research and then draft/send emails in one flow.\n\nRequirements\n\nn8n (Cloud or self‑hosted)\n\nOpenAI API key for the Chat Model (set on the node)\n\nTavily, Perplexity, and Gmail credentials (connected on their respective tool nodes)\n\nPublicly reachable MCP Server endpoints (provided in the MCP Client nodes)\n\nSetup (quick start)\n\nImport the template and open it in the editor.\n\nConnect credentials on: OpenAI, Tavily, Perplexity, and Gmail tool nodes.\n\nConfirm MCP endpoints in both MCP Client nodes (News/Email) and leave transport as httpStreamable unless you have special requirements.\n\nRun the workflow. In chat, try:\n\n“Find today’s top stories on Kubernetes security and draft an intro email to Acme.”\n\n“Summarize the latest AI infra trends and email a 3‑bullet update to my team.”\n\nInputs & outputs\n\nInput: Natural-language prompt via chat trigger.\n\nTools used: News MCP (Tavily + Perplexity), Email MCP (Gmail).\n\nOutput: A researched summary and/or a drafted/sent email, returned in the chat and executed via Gmail when requested.\n\nWhy teams will love it\n\nOne prompt → research + outreach: No tab‑hopping between tools.\n\nUp-to-date answers: Pulls current info through Tavily/Perplexity.\n\nEmail finalization: Converts findings into send-ready drafts via Gmail.\n\nContext-aware: Memory keeps threads coherent across follow-ups.\n\nPro tips\n\nUse clear verbs in your prompt: “Research X, then email Y with Z takeaways.”\n\nFor safer runs, point Gmail to a test inbox first (or disable send and only draft).\n\nAdd guardrails in the Agent’s system message to match your voice/tone.",
  "featuredImage": "/data/workflows/7679/7679.webp",
  "author": {
    "id": 101,
    "slug": "marconi",
    "name": "Automate With Marc",
    "avatar": ""
  },
  "categories": [
    "AI Chatbot",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 395,
  "downloads": 39,
  "createdAt": "2025-08-21T04:32:11.779Z",
  "updatedAt": "2026-01-16T08:51:46.665Z",
  "publishedAt": "2025-08-21T04:32:11.779Z",
  "nodes": 18,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7679",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Email drafting & news research assistant with OpenAI, Gmail, Tavily & Perplexity",
    "workflowName": "Email drafting & news research assistant with OpenAI, Gmail, Tavily & Perplexity",
    "description": "AI Agent MCP for Email & News Research\n\nBuild a chat-first MCP-powered research and outreach agent. This workflow lets you ask questions in an n8n chat, then the agent researches news (via Tavily + Perplexity through an MCP server) and drafts emails (via Gmail through a separate MCP server). It uses OpenAI for reasoning and short-term memory for coherent, multi‑turn conversations.\n\nWatch build along videos for workflows like these on: www.youtube.com/@automatewithmarc\n\nWhat this template does\n\nChat-native trigger: Start a conversation and ask for research or an email draft.\n\nMCP client tools: The agent talks to two MCP servers — one for Email work, one for News research.\n\nNews research stack: Uses Tavily (search) and Perplexity (LLM retrieval/answers) behind a News MCP server.\n\nEmail stack: Uses Gmail Tool to generate and send messages via an Email MCP server.\n\nReasoning + memory: OpenAI Chat Model + Simple Memory for context-aware, multi-step outputs.\n\nHow it works (node map)\n\nWhen chat message received → collects your prompt and routes it to the agent.\n\nAI Agent (system prompt = “helpful email assistant”) → orchestrates tools via MCP Clients.\n\nOpenAI Chat Model → reasoning/planning for research or email drafting.\n\nSimple Memory → keeps recent chat context for follow-ups.\n\nNews MCP Server exposes:\n\nTavily Tool (Search) and Perplexity Tool (Ask) for up-to-date findings.\n\nEmail MCP Server exposes:\n\nGmail Tool (To, Subject, Message via AI fields) to send or draft emails.\n\nThe MCP Clients (News/Email) plug into the Agent, so your single chat prompt can research and then draft/send emails in one flow.\n\nRequirements\n\nn8n (Cloud or self‑hosted)\n\nOpenAI API key for the Chat Model (set on the node)\n\nTavily, Perplexity, and Gmail credentials (connected on their respective tool nodes)\n\nPublicly reachable MCP Server endpoints (provided in the MCP Client nodes)\n\nSetup (quick start)\n\nImport the template and open it in the editor.\n\nConnect credentials on: OpenAI, Tavily, Perplexity, and Gmail tool nodes.\n\nConfirm MCP endpoints in both MCP Client nodes (News/Email) and leave transport as httpStreamable unless you have special requirements.\n\nRun the workflow. In chat, try:\n\n“Find today’s top stories on Kubernetes security and draft an intro email to Acme.”\n\n“Summarize the latest AI infra trends and email a 3‑bullet update to my team.”\n\nInputs & outputs\n\nInput: Natural-language prompt via chat trigger.\n\nTools used: News MCP (Tavily + Perplexity), Email MCP (Gmail).\n\nOutput: A researched summary and/or a drafted/sent email, returned in the chat and executed via Gmail when requested.\n\nWhy teams will love it\n\nOne prompt → research + outreach: No tab‑hopping between tools.\n\nUp-to-date answers: Pulls current info through Tavily/Perplexity.\n\nEmail finalization: Converts findings into send-ready drafts via Gmail.\n\nContext-aware: Memory keeps threads coherent across follow-ups.\n\nPro tips\n\nUse clear verbs in your prompt: “Research X, then email Y with Z takeaways.”\n\nFor safer runs, point Gmail to a test inbox first (or disable send and only draft).\n\nAdd guardrails in the Agent’s system message to match your voice/tone.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Send a message in Gmail",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Send a message in Gmail1",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Send a message in Gmail2",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Search in Tavily",
      "type": "@tavily/n8n-nodes-tavily.tavilyTool",
      "role": "tavilyTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Message a model in Perplexity",
      "type": "n8n-nodes-base.perplexityTool",
      "role": "perplexityTool",
      "configDescription": "Version 1"
    },
    {
      "name": "News MCP Server",
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "role": "mcpTrigger",
      "configDescription": "Version 2"
    },
    {
      "name": "Email MCP Server",
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "role": "mcpTrigger",
      "configDescription": "Version 2"
    },
    {
      "name": "Email MCP Client",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1.1"
    },
    {
      "name": "News MCP Client",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Search in Tavily1",
      "type": "@tavily/n8n-nodes-tavily.tavilyTool",
      "role": "tavilyTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}