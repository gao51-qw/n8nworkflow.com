{
  "id": 10112,
  "slug": "10112",
  "title": "Automated weekly security audit reports with Gmail delivery",
  "description": "# ğŸ”’ N8N Security Audit Report - Automated Weekly Email\n\n## ğŸ¯ What does this workflow do?\n\nThis workflow automatically generates and emails a comprehensive security audit report for your N8N instance every week. It identifies potential security risks related to:\n\n- **Credentials** ğŸ”‘ : Exposed or insecure credentials\n- **Nodes** ğŸ§© : Sensitive nodes (Code, HTTP Request, SSH, FTP, etc.)\n- **Instance settings** ğŸ¢ : Global security configuration\n- **Community nodes** ğŸ“¦ : Third-party nodes that may pose risks\n\nThe report includes direct links to affected workflows, execution statuses, and actionable recommendations.\n\n---\n\n## âœ¨ Key Features\n\n### ğŸ“Š **Smart Risk Assessment**\n- Calculates overall risk level: ğŸŸ© Low / ğŸŸ§ Moderate / ğŸŸ¥ High\n- Tracks unique credentials (not just total occurrences)\n- Provides detailed breakdown by node type\n\n### ğŸ”— **Direct Workflow Links**\n- Clickable links to each workflow mentioned\n- Shows last execution status (ğŸŸ¢ success / ğŸ”´ failed)\n- Displays execution timestamps\n\n### ğŸŒ **Bilingual Support**\n- Full support for French and English\n- Switch language with a single variable\n\n### ğŸ“§ **Beautiful HTML Email**\n- Clean, professional formatting\n- Color-coded risk levels\n- Emoji icons for easy scanning\n\n---\n\n## ğŸš€ Quick Setup (5 minutes)\n\n### 1ï¸âƒ£ Configure Credentials\n- **N8N API**: Generate an API key in your N8N settings\n- **Gmail OAuth2**: Set up OAuth2 for Gmail sending\n\n### 2ï¸âƒ£ Set Your Variables\nEdit the \"Set Config Variables\" node:\n```javascript\n{\n  \"email_to\": \"your.email@domain.com\",\n  \"project_name\": \"My-N8N-Project\",\n  \"server_url\": \"https://n8n.yourdomain.com\",  // NO trailing slash!\n  \"Language\": \"EN\"  // or \"FR\"\n}\n```\n\n### 3ï¸âƒ£ Test & Activate\n- Click \"Execute Workflow\" to test\n- Check your email inbox\n- Activate for weekly automation\n\n---\n\n## ğŸ“§ Example Report Output\n\n**Subject**: ğŸ”’ Audit Report My-Project â€“ Risk ğŸŸ§ Moderate\n\n**Content**:\n```\nğŸ“Š Summary\nâ€¢ Credentials involved: 8 (5 unique)\nâ€¢ Nodes involved: 12\n  - ğŸ’» code: 4\n  - ğŸŒ httpRequest: 3\n  - ğŸ” ssh: 2\nâ€¢ Community nodes: 1\nâ€¢ Overall risk level: ğŸŸ§ Moderate\n\nğŸ” Credentials Risk Report\nğŸ”¹ Credentials with full access\n- ğŸ”‘ My AWS Credentials\n- ğŸ”‘ Database Admin\n\nğŸ“‹ Workflow: Data Processing Pipeline ğŸŸ¢ (25-10-2024 06:15 â†’ 06:16)\n  - ğŸ’» Process Data\n  - ğŸŒ API Call\n\nğŸ§© Nodes Risk Report\n[...detailed node analysis...]\n```\n\n---\n\n## ğŸ¨ Customization Options\n\n### Change Schedule\nModify the \"Schedule Trigger\" node to run:\n- Daily at 8 AM\n- Monthly on the 1st\n- Custom cron expression\n\n### Add Recipients\nAdd multiple emails in the Gmail node's `toList` parameter\n\n### Adjust Risk Thresholds\nEdit the JavaScript in \"Format Audit Report\" nodes to customize when risk levels change\n\n### Use Different Email Service\nReplace Gmail node with:\n- SMTP\n- Microsoft Outlook\n- SendGrid\n- Any email service N8N supports\n\n---\n\n## ğŸ’¡ Use Cases\n\nâœ… **Compliance Monitoring**: Track security posture for audits  \nâœ… **Team Awareness**: Keep your team informed of security status  \nâœ… **Change Detection**: Notice when new risky nodes are added  \nâœ… **Best Practices**: Get recommendations to improve security  \nâœ… **Multi-Environment**: Run separate instances for dev/staging/prod\n\n---\n\n## ğŸ”§ Technical Details\n\n**Nodes Used**: 8  \n**Credentials Required**: 2 (N8N API + Gmail OAuth2)  \n**External Dependencies**: None  \n**N8N Version**: Compatible with latest N8N versions  \n**Execution Time**: ~10-20 seconds\n\n---\n\n## ğŸ“‹ Requirements\n\n- N8N instance with API access\n- Gmail account (or other email service)\n- N8N API key with audit permissions\n- Valid SSL certificate for workflow links (recommended)\n\n---\n\n## ğŸ› Troubleshooting\n\n**Empty report?**  \nâ†’ Check your N8N API key has audit permissions\n\n**Workflow links don't work?**  \nâ†’ Verify `server_url` is correct and has no trailing slash\n\n**No execution status shown?**  \nâ†’ Workflows must have been executed at least once\n\n**Wrong language displayed?**  \nâ†’ Set `Language` to exactly \"FR\" or \"EN\" (uppercase)\n\n---\n\n## ğŸŒŸ Why This Template?\n\nUnlike basic monitoring tools, this workflow:\n- âœ… Provides **context-aware** security analysis\n- âœ… Links directly to **affected workflows**\n- âœ… Shows **real execution data** (not just theoretical risks)\n- âœ… Calculates **unique credential exposure** (not just counts)\n- âœ… Supports **bilingual** reports\n- âœ… Delivers **actionable recommendations**\n\n---\n\n## ğŸ¤ Feedback & Support\n\nFound this helpful? Please rate the template!  \nHave suggestions? Drop a comment below.  \n\n**Pro tip**: Combine this with N8N's native alerting for real-time incident response!\n\n---\n\n**Tags**: #security #audit #monitoring #compliance #automation #email #reporting #credentials #governance\n\n---\n\n## ğŸ“œ License\n\nMIT - Feel free to modify and share!",
  "featuredImage": "/data/workflows/10112/10112.webp",
  "author": {
    "id": 101,
    "slug": "neon8n",
    "name": "Matthieu",
    "avatar": ""
  },
  "categories": [
    "SecOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 342,
  "downloads": 34,
  "createdAt": "2025-10-24T08:14:27.255Z",
  "updatedAt": "2026-01-16T09:03:28.649Z",
  "publishedAt": "2025-10-24T08:14:27.255Z",
  "nodes": 23,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10112",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated weekly security audit reports with Gmail delivery",
    "workflowName": "Automated weekly security audit reports with Gmail delivery",
    "description": "# ğŸ”’ N8N Security Audit Report - Automated Weekly Email\n\n## ğŸ¯ What does this workflow do?\n\nThis workflow automatically generates and emails a comprehensive security audit report for your N8N instance every week. It identifies potential security risks related to:\n\n- **Credentials** ğŸ”‘ : Exposed or insecure credentials\n- **Nodes** ğŸ§© : Sensitive nodes (Code, HTTP Request, SSH, FTP, etc.)\n- **Instance settings** ğŸ¢ : Global security configuration\n- **Community nodes** ğŸ“¦ : Third-party nodes that may pose risks\n\nThe report includes direct links to affected workflows, execution statuses, and actionable recommendations.\n\n---\n\n## âœ¨ Key Features\n\n### ğŸ“Š **Smart Risk Assessment**\n- Calculates overall risk level: ğŸŸ© Low / ğŸŸ§ Moderate / ğŸŸ¥ High\n- Tracks unique credentials (not just total occurrences)\n- Provides detailed breakdown by node type\n\n### ğŸ”— **Direct Workflow Links**\n- Clickable links to each workflow mentioned\n- Shows last execution status (ğŸŸ¢ success / ğŸ”´ failed)\n- Displays execution timestamps\n\n### ğŸŒ **Bilingual Support**\n- Full support for French and English\n- Switch language with a single variable\n\n### ğŸ“§ **Beautiful HTML Email**\n- Clean, professional formatting\n- Color-coded risk levels\n- Emoji icons for easy scanning\n\n---\n\n## ğŸš€ Quick Setup (5 minutes)\n\n### 1ï¸âƒ£ Configure Credentials\n- **N8N API**: Generate an API key in your N8N settings\n- **Gmail OAuth2**: Set up OAuth2 for Gmail sending\n\n### 2ï¸âƒ£ Set Your Variables\nEdit the \"Set Config Variables\" node:\n```javascript\n{\n  \"email_to\": \"your.email@domain.com\",\n  \"project_name\": \"My-N8N-Project\",\n  \"server_url\": \"https://n8n.yourdomain.com\",  // NO trailing slash!\n  \"Language\": \"EN\"  // or \"FR\"\n}\n```\n\n### 3ï¸âƒ£ Test & Activate\n- Click \"Execute Workflow\" to test\n- Check your email inbox\n- Activate for weekly automation\n\n---\n\n## ğŸ“§ Example Report Output\n\n**Subject**: ğŸ”’ Audit Report My-Project â€“ Risk ğŸŸ§ Moderate\n\n**Content**:\n```\nğŸ“Š Summary\nâ€¢ Credentials involved: 8 (5 unique)\nâ€¢ Nodes involved: 12\n  - ğŸ’» code: 4\n  - ğŸŒ httpRequest: 3\n  - ğŸ” ssh: 2\nâ€¢ Community nodes: 1\nâ€¢ Overall risk level: ğŸŸ§ Moderate\n\nğŸ” Credentials Risk Report\nğŸ”¹ Credentials with full access\n- ğŸ”‘ My AWS Credentials\n- ğŸ”‘ Database Admin\n\nğŸ“‹ Workflow: Data Processing Pipeline ğŸŸ¢ (25-10-2024 06:15 â†’ 06:16)\n  - ğŸ’» Process Data\n  - ğŸŒ API Call\n\nğŸ§© Nodes Risk Report\n[...detailed node analysis...]\n```\n\n---\n\n## ğŸ¨ Customization Options\n\n### Change Schedule\nModify the \"Schedule Trigger\" node to run:\n- Daily at 8 AM\n- Monthly on the 1st\n- Custom cron expression\n\n### Add Recipients\nAdd multiple emails in the Gmail node's `toList` parameter\n\n### Adjust Risk Thresholds\nEdit the JavaScript in \"Format Audit Report\" nodes to customize when risk levels change\n\n### Use Different Email Service\nReplace Gmail node with:\n- SMTP\n- Microsoft Outlook\n- SendGrid\n- Any email service N8N supports\n\n---\n\n## ğŸ’¡ Use Cases\n\nâœ… **Compliance Monitoring**: Track security posture for audits  \nâœ… **Team Awareness**: Keep your team informed of security status  \nâœ… **Change Detection**: Notice when new risky nodes are added  \nâœ… **Best Practices**: Get recommendations to improve security  \nâœ… **Multi-Environment**: Run separate instances for dev/staging/prod\n\n---\n\n## ğŸ”§ Technical Details\n\n**Nodes Used**: 8  \n**Credentials Required**: 2 (N8N API + Gmail OAuth2)  \n**External Dependencies**: None  \n**N8N Version**: Compatible with latest N8N versions  \n**Execution Time**: ~10-20 seconds\n\n---\n\n## ğŸ“‹ Requirements\n\n- N8N instance with API access\n- Gmail account (or other email service)\n- N8N API key with audit permissions\n- Valid SSL certificate for workflow links (recommended)\n\n---\n\n## ğŸ› Troubleshooting\n\n**Empty report?**  \nâ†’ Check your N8N API key has audit permissions\n\n**Workflow links don't work?**  \nâ†’ Verify `server_url` is correct and has no trailing slash\n\n**No execution status shown?**  \nâ†’ Workflows must have been executed at least once\n\n**Wrong language displayed?**  \nâ†’ Set `Language` to exactly \"FR\" or \"EN\" (uppercase)\n\n---\n\n## ğŸŒŸ Why This Template?\n\nUnlike basic monitoring tools, this workflow:\n- âœ… Provides **context-aware** security analysis\n- âœ… Links directly to **affected workflows**\n- âœ… Shows **real execution data** (not just theoretical risks)\n- âœ… Calculates **unique credential exposure** (not just counts)\n- âœ… Supports **bilingual** reports\n- âœ… Delivers **actionable recommendations**\n\n---\n\n## ğŸ¤ Feedback & Support\n\nFound this helpful? Please rate the template!  \nHave suggestions? Drop a comment below.  \n\n**Pro tip**: Combine this with N8N's native alerting for real-time incident response!\n\n---\n\n**Tags**: #security #audit #monitoring #compliance #automation #email #reporting #credentials #governance\n\n---\n\n## ğŸ“œ License\n\nMIT - Feel free to modify and share!",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Set Config Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Send Gmail (HTML)",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger (Weekly)",
      "type": "n8n-nodes-base.cron",
      "role": "cron",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate a security audit",
      "type": "n8n-nodes-base.n8n",
      "role": "n8n",
      "configDescription": "Version 1"
    },
    {
      "name": "Format Audit Report - FR",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Format Audit Report - EN",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Filter duplicate WorkflowID",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get last executions",
      "type": "n8n-nodes-base.n8n",
      "role": "n8n",
      "configDescription": "Version 1"
    },
    {
      "name": "If Language",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}