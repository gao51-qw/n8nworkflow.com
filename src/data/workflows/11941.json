{
  "id": 11941,
  "slug": "11941",
  "title": "Automated employee offboarding: lock Redmine & GitLab accounts using Odoo 18",
  "description": "## ðŸ“Œ Who is This For?\nIT Ops, HR, and Security teams automating employee offboarding. Zero manual work: Disable access to Redmine, GitLab, and more- right after their last day. Boost security, cut risks, and stay compliant.\n\n## ðŸ“Œ The Problem It Solves\nOffboarding is messy and slow:\n\n- HR flags ending contracts.\n- IT hunts down accounts manually (Redmine, GitLab, etc.).\n- Misses happen, risks linger.\n\nThis n8n workflow queries Odoo 18 daily, spots offboardees, and locks accounts automatically.\n\n## ðŸ“Œ What It Does\n\n- **Triggers** daily (e.g., 5 PM weekdays).\n- **Queries** Odoo 18 for employees ending today.\n- **Filters** active users needing offboarding.\n- **Checks & Locks** Redmine accounts via API.\n- **Checks & Revokes** GitLab access via API.\n- **Notifies** via Slack/Teams/email with summary.\n- **Handles Errors**: Retries failures, logs issues.\n\n## ðŸ“Œ Quick setup\n\n1. Odoo 18 API (read employee end dates/last shifts).\n2. Redmine Admin API key.\n3. GitLab Admin token (for locking users).\n4. Slack/Teams webhook or SMTP for alerts.\n5. Cron schedule (e.g., daily 5 PM weekdays, skip weekends).\n\n## ðŸ“Œ Customize It\n\n- **Add Systems**: Jira, Confluence, LDAPâ€”easy toggles.\n- **Notification**: Full reports or alerts-only.\n- **Error Rules**: Retries, escalations.\n- **Audit Logs**: Save to DB, S3, Sheets, or dashboard.\n\n## ðŸ“Œ Results\n\n100% automated: Accounts locked on exit day. No orphans, no workload, full compliance.\n\n## ðŸ“Œ Workflow in Action\n\n1. Schedule trigger fires.\n2. Pull Odoo offboardees.\n3. API checks & disables Redmine/GitLab.\n4. Logs + summary notification.",
  "featuredImage": "/data/workflows/11941/11941.webp",
  "author": {
    "id": 101,
    "slug": "bhsoft",
    "name": "BHSoft",
    "avatar": ""
  },
  "categories": [
    "HR"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 19,
  "downloads": 1,
  "createdAt": "2025-12-19T04:52:11.932Z",
  "updatedAt": "2026-01-16T09:10:45.234Z",
  "publishedAt": "2025-12-19T04:52:11.932Z",
  "nodes": 37,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11941",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated employee offboarding: lock Redmine & GitLab accounts using Odoo 18",
    "workflowName": "Automated employee offboarding: lock Redmine & GitLab accounts using Odoo 18",
    "description": "## ðŸ“Œ Who is This For?\nIT Ops, HR, and Security teams automating employee offboarding. Zero manual work: Disable access to Redmine, GitLab, and more- right after their last day. Boost security, cut risks, and stay compliant.\n\n## ðŸ“Œ The Problem It Solves\nOffboarding is messy and slow:\n\n- HR flags ending contracts.\n- IT hunts down accounts manually (Redmine, GitLab, etc.).\n- Misses happen, risks linger.\n\nThis n8n workflow queries Odoo 18 daily, spots offboardees, and locks accounts automatically.\n\n## ðŸ“Œ What It Does\n\n- **Triggers** daily (e.g., 5 PM weekdays).\n- **Queries** Odoo 18 for employees ending today.\n- **Filters** active users needing offboarding.\n- **Checks & Locks** Redmine accounts via API.\n- **Checks & Revokes** GitLab access via API.\n- **Notifies** via Slack/Teams/email with summary.\n- **Handles Errors**: Retries failures, logs issues.\n\n## ðŸ“Œ Quick setup\n\n1. Odoo 18 API (read employee end dates/last shifts).\n2. Redmine Admin API key.\n3. GitLab Admin token (for locking users).\n4. Slack/Teams webhook or SMTP for alerts.\n5. Cron schedule (e.g., daily 5 PM weekdays, skip weekends).\n\n## ðŸ“Œ Customize It\n\n- **Add Systems**: Jira, Confluence, LDAPâ€”easy toggles.\n- **Notification**: Full reports or alerts-only.\n- **Error Rules**: Retries, escalations.\n- **Audit Logs**: Save to DB, S3, Sheets, or dashboard.\n\n## ðŸ“Œ Results\n\n100% automated: Accounts locked on exit day. No orphans, no workload, full compliance.\n\n## ðŸ“Œ Workflow in Action\n\n1. Schedule trigger fires.\n2. Pull Odoo offboardees.\n3. API checks & disables Redmine/GitLab.\n4. Logs + summary notification.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "END",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Step2: Handle get today",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Step3: Set Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Step5: If total_count is not equal to 0 = true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step6: Check if there is a valid record.",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Step7: If hasRecords is empty==> true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Step1: Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Step8: Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "END1",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Step11: Get user info in RM6",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step12:  Check if there is a record or not?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step13: Update the user's status to \"locked\" on RM6",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step14: Remove the user from all groups in RM 6",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step15: Get membership list of user in RM 6",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step16: Get memberships_id",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Step17: Loop Over memberships_id",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Step18: Delete membership in project on RM 6",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step19: Get user information in Gitlab",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step20:  Check if there is a record = true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step21: Check if the user is not blocked = true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step22: Check if the user is not deactivate = true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step23: Block a user in Gitlab",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step24: Get user information in Gitlab",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step25:  Check if there is a record = true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step26: Check if the user is not blocked = true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step27: Check if the user is not deactivate = true",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Step28: Block a user in Gitlab",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Step9: Get employee information in Odoo 18",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step4: Get Employee Resignation in Odoo 18",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Step10: Handle work_email",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}