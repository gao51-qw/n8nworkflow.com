{
  "id": 4799,
  "slug": "4799",
  "title": "Telegram AI chatbot with document-based answers using OpenAI and PGVector RAG",
  "description": "# ü§ñ AI Q&A Chatbot Workflow ‚Äì Build Your Own AI Agent Trained on Private Documents\n\nThis powerful AI automation add-on upgrades your [Telegram Bot Starter Template](https://n8n.io/workflows/2402-telegram-bot-starter-template-setup-and-ai-chatbot/) by integrating a fully functional **AI chatbot** and a **context-aware AI agent** that answers user questions using your internal documents.\n\nUnlike generic bots, this chatbot uses **your own data** to respond with deeply personalized, context-relevant information ‚Äî perfect for **support**, **onboarding**, **internal knowledge access**, and **client-facing** interactions.\n\nIt connects to any **PostgreSQL database** ‚Äî including [Neon.tech](https://neon.tech), Supabase, or a self-hosted Postgres setup ‚Äî allowing you to build **custom AI-powered FAQ assistants**, **internal support bots**, or **knowledge-based customer service tools**.\n\n---\n\n## üß† Why It Works: Contextual Retrieval\n\nThe secret is **Contextual Retrieval** ‚Äî a powerful technique where your documents are stored in a way that preserves **meaning and context**. This allows the AI to fetch **highly relevant, source-backed responses**, eliminating hallucinations and guesswork.\n\n&gt; Data is embedded, chunked, and saved in a **vector database** (Postgres + PGVector), enabling smart **semantic search** tailored to your needs.\n\nüìñ [Learn more about this approach in this article by Anthropic ‚Üí](https://www.anthropic.com/news/contextual-retrieval)\n\n---\n\n## ‚ú® Key Features\n\n- **Chat with your internal documents**: Uses your content to answer questions with precision  \n- **Built-in document vectorization**: Pre-configured Google Drive ingestion flow (Notion, Airtable, Dropbox available separately)  \n- **Contextual memory**: Past chats stored in PostgreSQL for personalized conversations  \n- **Plug-and-play architecture**: Connect Supabase, OpenAI, custom APIs via n8n‚Äôs interface  \n\n---\n\n## üë§ Who Can Use This Workflow?\n\n- **Entrepreneurs & startups** building branded AI chatbots without code  \n- **Customer support teams** automating answers using documentation  \n- **Ops teams** creating internal FAQ bots for onboarding and training  \n- **No-code developers** using n8n to build Telegram bots with AI features  \n\n---\n\n## ‚öôÔ∏è Setup Instructions\n\nYou'll find **step-by-step instructions** inside the workflow.\n\n### Quick Setup Overview:\n\n1. Import the workflow into n8n (cloud or self-hosted)  \n2. Add your Telegram Bot credentials  \n3. Connect your PostgreSQL DB (Neon, Supabase, etc.)  \n4. Set up document ingestion from Google Drive  \n5. Activate the workflow and start chatting  \n\n---\n\n## üß© Extensibility\n\nThis workflow is modular and ready to expand. Build powerful assistants by connecting additional workflows:\n\n- **Vectorization modules** for Notion, Airtable, Dropbox, and others  \n- **Any vector DB**: Neon.tech, Supabase, or self-hosted PGVector  \n- ‚úçüèª [Telegram User Registration Module ‚Üí](https://viktorgubanov.gumroad.com)  \n- üíµ [Telegram Payment, Invoicing & Refund Module ‚Üí](https://viktorgubanov.gumroad.com)\n\n---\n\n## üß† More Smart AI Agents\n\nExplore more AI workflows and agents on [my Gumroad ‚Üí](https://viktorgubanov.gumroad.com)\n\n- üåê **Agent: Find in the Internet** ‚Äî fetches live info from the web  \n- üìÅ **Agent: Search Internal Docs** ‚Äî queries Notion, Google Drive, etc.  \n- üì¶ **Agent: Check Order Status** ‚Äî reads status from Airtable or CRM  \n- üí∞ **Agent: Calculate Cost or Quote** ‚Äî builds pricing logic from inputs  \n\nüì® [Submit your idea here for a custom AI agent ‚Üí](https://tally.so/r/wQaeJA)",
  "featuredImage": "/data/workflows/4799/4799.webp",
  "author": {
    "id": 101,
    "slug": "victorlucky",
    "name": "Victor Gold",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 959,
  "downloads": 95,
  "createdAt": "2025-06-08T15:38:16.276Z",
  "updatedAt": "2026-01-16T08:36:16.712Z",
  "publishedAt": "2025-06-08T15:38:16.276Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4799",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Telegram AI chatbot with document-based answers using OpenAI and PGVector RAG",
    "workflowName": "Telegram AI chatbot with document-based answers using OpenAI and PGVector RAG",
    "description": "# ü§ñ AI Q&A Chatbot Workflow ‚Äì Build Your Own AI Agent Trained on Private Documents\n\nThis powerful AI automation add-on upgrades your [Telegram Bot Starter Template](https://n8n.io/workflows/2402-telegram-bot-starter-template-setup-and-ai-chatbot/) by integrating a fully functional **AI chatbot** and a **context-aware AI agent** that answers user questions using your internal documents.\n\nUnlike generic bots, this chatbot uses **your own data** to respond with deeply personalized, context-relevant information ‚Äî perfect for **support**, **onboarding**, **internal knowledge access**, and **client-facing** interactions.\n\nIt connects to any **PostgreSQL database** ‚Äî including [Neon.tech](https://neon.tech), Supabase, or a self-hosted Postgres setup ‚Äî allowing you to build **custom AI-powered FAQ assistants**, **internal support bots**, or **knowledge-based customer service tools**.\n\n---\n\n## üß† Why It Works: Contextual Retrieval\n\nThe secret is **Contextual Retrieval** ‚Äî a powerful technique where your documents are stored in a way that preserves **meaning and context**. This allows the AI to fetch **highly relevant, source-backed responses**, eliminating hallucinations and guesswork.\n\n&gt; Data is embedded, chunked, and saved in a **vector database** (Postgres + PGVector), enabling smart **semantic search** tailored to your needs.\n\nüìñ [Learn more about this approach in this article by Anthropic ‚Üí](https://www.anthropic.com/news/contextual-retrieval)\n\n---\n\n## ‚ú® Key Features\n\n- **Chat with your internal documents**: Uses your content to answer questions with precision  \n- **Built-in document vectorization**: Pre-configured Google Drive ingestion flow (Notion, Airtable, Dropbox available separately)  \n- **Contextual memory**: Past chats stored in PostgreSQL for personalized conversations  \n- **Plug-and-play architecture**: Connect Supabase, OpenAI, custom APIs via n8n‚Äôs interface  \n\n---\n\n## üë§ Who Can Use This Workflow?\n\n- **Entrepreneurs & startups** building branded AI chatbots without code  \n- **Customer support teams** automating answers using documentation  \n- **Ops teams** creating internal FAQ bots for onboarding and training  \n- **No-code developers** using n8n to build Telegram bots with AI features  \n\n---\n\n## ‚öôÔ∏è Setup Instructions\n\nYou'll find **step-by-step instructions** inside the workflow.\n\n### Quick Setup Overview:\n\n1. Import the workflow into n8n (cloud or self-hosted)  \n2. Add your Telegram Bot credentials  \n3. Connect your PostgreSQL DB (Neon, Supabase, etc.)  \n4. Set up document ingestion from Google Drive  \n5. Activate the workflow and start chatting  \n\n---\n\n## üß© Extensibility\n\nThis workflow is modular and ready to expand. Build powerful assistants by connecting additional workflows:\n\n- **Vectorization modules** for Notion, Airtable, Dropbox, and others  \n- **Any vector DB**: Neon.tech, Supabase, or self-hosted PGVector  \n- ‚úçüèª [Telegram User Registration Module ‚Üí](https://viktorgubanov.gumroad.com)  \n- üíµ [Telegram Payment, Invoicing & Refund Module ‚Üí](https://viktorgubanov.gumroad.com)\n\n---\n\n## üß† More Smart AI Agents\n\nExplore more AI workflows and agents on [my Gumroad ‚Üí](https://viktorgubanov.gumroad.com)\n\n- üåê **Agent: Find in the Internet** ‚Äî fetches live info from the web  \n- üìÅ **Agent: Search Internal Docs** ‚Äî queries Notion, Google Drive, etc.  \n- üì¶ **Agent: Check Order Status** ‚Äî reads status from Airtable or CRM  \n- üí∞ **Agent: Calculate Cost or Quote** ‚Äî builds pricing logic from inputs  \n\nüì® [Submit your idea here for a custom AI agent ‚Üí](https://tally.so/r/wQaeJA)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Download File",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "File Created",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "File Updated",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Document Text",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Set File ID",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "RAG AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Recursive Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Create Chunks From Doc",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Chunks To List",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Contextual Text",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.4"
    },
    {
      "name": "OpenAI Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Values",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Postgres PGVector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePGVector",
      "role": "vectorStorePGVector",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Delete Old Doc Records",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.5"
    },
    {
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "role": "executeWorkflowTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Docs RAG Tool",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePGVector",
      "role": "vectorStorePGVector",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Embeddings",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "TestData",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    }
  ]
}