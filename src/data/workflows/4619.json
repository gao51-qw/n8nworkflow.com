{
  "id": 4619,
  "slug": "4619",
  "title": "Generate visual summary & knowledge graph insights for your email",
  "description": "## The Ultimate Gmail Analysis and Visual Summarization Template\n\nThis workflow showcases various useful Gmail search, filter, and AI categorization operations and generates a **knowledge graph** for your mail using the [InfraNodus GraphRAG API](https://infranodus.com/use-case/ai-knowledge-graphs), which you can use to reveal the **main topics** and **blind spots** in your correspondence. \n\nInfraNodus will then **target those blind spots** to generate **interesting research questions** for you and send the topical summary and insights via Telegram. You can also click the generated graph and explore the blind spots inside [InfraNodus](https://infranodus.com) using the **interactive visual interface:**\n\n![InfraNodus structural gap](https://infranodus.com/images/front/infranodus-structural-gaps-ideas@2x.jpg)\n\n\n## What is it useful for?\n\n\n- **Learn about advanced Gmail search, filtering, and AI categorization functions** that can be useful for your other workflows\n- Analyze all your personal messages for the last week to get an **overview of the main topics** \n- Analyze **all your Sent messages** to find recurrent topics and gaps and generate ideas based. on those gaps\n- Generate ideas based on **specific message filters** (Personal, Promos, from a specific person, AI-defined criteria, e.g. urgency)\n- Get an **overview of an interaction with a specific person / company**\n- Get an **overview of your notes**\n- Generate **new ideas based on your correspondence on a certain topic** (e.g. \"business\")\n- Learn about **various n8n nodes useful for email processing, filtering, and data conversion**\n- Never miss important topics, use AI filter to get **notified of the urgent and important emails** via Telegram\n\n\n## How it works\nThis template can be triggered in multiple ways: \n- automatically in regular intervals (daily, weekly), \n- manually in n8n, or \n- via a private password-protected URL form where you can specify your search and filtering criteria\n\n\nWhen you start the workflow, you specify:\n- your **Gmail search filters** (can be combined, e.g. `after:2025/06/01 label:personal business` to search for all emails received after 1 June 2025, filed in the Personal category containing the word \"business\". (optional, if empty, will retrieve all the emails or limited to the number you set in the Gmail node)\n- Additional **Gmail labels** (e.g. SENT or CATEGORY_PERSONAL or your custom categories). Use the search filter for faster processing (e.g. prefer label:person to CATEGORY_PERSONAL, but labels can be useful for additional filtering for your search queries) (optional, if empty, will retrieve all the emails)\n- **AI filtering criteria** — set an additional classification criteria used to filter out the emails, e.g. \"Only the urgent, personal emails\" — in that case, AI classification node working with Google's Gemini AI will be activated and will only pass through the email based on the criteria you specify.\n- Whether you want to build a **text graph** or a **social graph** — see the workflow for detailed explanation of each\n- Use **snippets of emails** (default) or **full text** (for thorough analysis). We prefer snippets as it's faster and your graph context doesn't get biased towards longer emails this way.\n\n\nOnce you set up your search parameters in Steps 1 and 2, the template will follow the following steps:\n\n1. Step 3 — retrieve Google emails that satisfy your filter criteria. Filter them by additional labels provided if applicable.\n2. Step 4 - if the user chooses to analyze full text, use additional Gmail node that retrieves the full text of the email message\n3. Step 5 — if AI filter rule is provided, use the AI Classifier node with Google Gemini Pro 2.5 model to classify the email based on the rule provided. Bypass if empty.\n4. Step 6 - format the text or the email snippets to add the sender meta-data and category and to prepare to submit to InfraNodus\n5. Step 7 - submit the data to the [InfraNodus HTTP `graphAndEntries` endpoint](https://support.noduslabs.com/hc/en-us/articles/13605983537692-InfraNodus-API-Access-Points) and generate a knowledge graph\n6. Step 8 - access this graph via the [`graphAndAdvice` endpoint]((https://support.noduslabs.com/hc/en-us/articles/13605983537692-InfraNodus-API-Access-Points)) and generate a topical summary based on the GraphRAG representation and insight questions bridging the gaps identified. Send the results via a Telegram bot. \n\nWe use Telegram, because it takes only 30 seconds to set up a bot with an API, unlike Discord or Slack, which is long and cumbersome to set up. You can also attach a Gmail send node and generate an email instead. \n\n\n## How to use\n\nYou need an [InfraNodus GraphRAG API account and key](https://infranodus.com/use-case/ai-knowledge-graphs) to use this workflow. \n\n- Create an InfraNodus account\n- Get the API key at [https://infranodus.com/api-access](https://infranodus.com/api-access) and create a Bearer authorization key for the InfraNodus HTTP nodes.\n- Add this Authorization code in Steps 7 and 8 of the workflow.  \n- Come up with the name of the graph and change it in the HTTP InfraNodus nodes in the steps 7 and 8 and also in the Telegram nodes that send a link to the graph.\n- For additional settings you can use in the HTTP InfraNodus nodes, see the [InfraNodus access points](https://support.noduslabs.com/hc/en-us/articles/13605983537692-InfraNodus-API-Access-Points) page. \n- Authorize your Gmail account for Steps 2 and 3 Gmail nodes. The easiest way to set it up is to open a free Google Console API account and to create an OAuth access point for n8n. You can then reuse it with other Google services like Google Sheets, Drive, etc. So it's a useful thing to have in general.\n- Set up the Gemini AI API key using the instructions in the Step 5 Gemini AI node.\n- Set up the Telegram node bot for the Step 8. It takes only 30 seconds: just go to [@botfather](https://t.me/botfather) and type in `/newbot` and you'll have an API key ready. To get the conversation ID, follow the n8n / Telegram instructions in the node itself. \n- Once everything is ready, try to run the default automated workflow to test if everything works well, then use the Form for playing around with specific filters that you may find useful.\n\n## Requirements\n\n- An [InfraNodus](https://infranodus.com/use-case/ai-knowledge-graphs) account and API key\n- An Google Cloud API OAuth client and key for Gmail access\n- A Gemini AI API key\n- A Telegram bot API key\n\n## FAQ\n\n**1. What's the best search query to use?**\n\nI personally like starting with analyzing the messages Gmail tags as \"personal\" from the last week (using the `after:2025/05/28 label:personal` search query) using the social graph settings. It helps me see who I interacted with, what it was about, and gives me a good bird's eye view into my last week's interactions, helping me see if I didn't miss anything. \n\nI also find it useful to analyze the sent messages (using the `after:2025/05/28 label:sent` search filter or `SENT` category filter) as it helps me see what I was writing about recently and understand some recurrent topics and gaps in my interactions. \n\nFinally, I also like to analyze notes (`label:notes`) or specific correspondence (`from:your_friend@gmail.com`) to get an overview and find gaps in the conversations.\n\n**2. Why use InfraNodus and not an AI summarization module?**\n\nYou probably get a lot of spam, so your AI will get overwhelmed with the content that's not really useful. The [InfraNodus graph](https://infranodus.com) helps you see the important patterns and discover what's missing by focusing on the gaps. You can use the interactive graph to quickly remove the stuff you don't need and to focus on the most relevant topics and conversations. \n\n\n## Customizing this workflow\n\nYou can connect a Gmail node instead of the Telegram one if you prefer to receive notifications directly by email. I don't like using Slack and Discord because their bots are too difficult to set up and take too long.\n\nCheck out the **complete setup guide** for this workflow at [https://support.noduslabs.com/hc/en-us/articles/20394884531996-Build-a-Knowledge-Graph-and-Extract-Insights-from-Gmail-Emails-with-n8n-and-InfraNodus](https://support.noduslabs.com/hc/en-us/articles/20394884531996-Build-a-Knowledge-Graph-and-Extract-Insights-from-Gmail-Emails-with-n8n-and-InfraNodus) with a video tutorial coming soon and the links to other n8n workflows.\n\nCheck our **other n8n workflows** at [https://n8n.io/creators/infranodus/](https://n8n.io/creators/infranodus/) for useful content gap analysis, expert panel, and marketing, and research workflows that utilize GraphRAG for better AI generation.\n\nFinally, check out [https://infranodus.com](https://infranodus.com) to learn more about our **network analysis technology** used to build knowledge graphs from text.\n\n\n\n\n\n",
  "featuredImage": "/data/workflows/4619/4619.webp",
  "author": {
    "id": 101,
    "slug": "infranodus",
    "name": "InfraNodus",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1115,
  "downloads": 111,
  "createdAt": "2025-06-03T11:22:49.112Z",
  "updatedAt": "2026-01-16T08:35:23.118Z",
  "publishedAt": "2025-06-03T11:22:49.112Z",
  "nodes": 38,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4619",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate visual summary & knowledge graph insights for your email",
    "workflowName": "Generate visual summary & knowledge graph insights for your email",
    "description": "## The Ultimate Gmail Analysis and Visual Summarization Template\n\nThis workflow showcases various useful Gmail search, filter, and AI categorization operations and generates a **knowledge graph** for your mail using the [InfraNodus GraphRAG API](https://infranodus.com/use-case/ai-knowledge-graphs), which you can use to reveal the **main topics** and **blind spots** in your correspondence. \n\nInfraNodus will then **target those blind spots** to generate **interesting research questions** for you and send the topical summary and insights via Telegram. You can also click the generated graph and explore the blind spots inside [InfraNodus](https://infranodus.com) using the **interactive visual interface:**\n\n![InfraNodus structural gap](https://infranodus.com/images/front/infranodus-structural-gaps-ideas@2x.jpg)\n\n\n## What is it useful for?\n\n\n- **Learn about advanced Gmail search, filtering, and AI categorization functions** that can be useful for your other workflows\n- Analyze all your personal messages for the last week to get an **overview of the main topics** \n- Analyze **all your Sent messages** to find recurrent topics and gaps and generate ideas based. on those gaps\n- Generate ideas based on **specific message filters** (Personal, Promos, from a specific person, AI-defined criteria, e.g. urgency)\n- Get an **overview of an interaction with a specific person / company**\n- Get an **overview of your notes**\n- Generate **new ideas based on your correspondence on a certain topic** (e.g. \"business\")\n- Learn about **various n8n nodes useful for email processing, filtering, and data conversion**\n- Never miss important topics, use AI filter to get **notified of the urgent and important emails** via Telegram\n\n\n## How it works\nThis template can be triggered in multiple ways: \n- automatically in regular intervals (daily, weekly), \n- manually in n8n, or \n- via a private password-protected URL form where you can specify your search and filtering criteria\n\n\nWhen you start the workflow, you specify:\n- your **Gmail search filters** (can be combined, e.g. `after:2025/06/01 label:personal business` to search for all emails received after 1 June 2025, filed in the Personal category containing the word \"business\". (optional, if empty, will retrieve all the emails or limited to the number you set in the Gmail node)\n- Additional **Gmail labels** (e.g. SENT or CATEGORY_PERSONAL or your custom categories). Use the search filter for faster processing (e.g. prefer label:person to CATEGORY_PERSONAL, but labels can be useful for additional filtering for your search queries) (optional, if empty, will retrieve all the emails)\n- **AI filtering criteria** — set an additional classification criteria used to filter out the emails, e.g. \"Only the urgent, personal emails\" — in that case, AI classification node working with Google's Gemini AI will be activated and will only pass through the email based on the criteria you specify.\n- Whether you want to build a **text graph** or a **social graph** — see the workflow for detailed explanation of each\n- Use **snippets of emails** (default) or **full text** (for thorough analysis). We prefer snippets as it's faster and your graph context doesn't get biased towards longer emails this way.\n\n\nOnce you set up your search parameters in Steps 1 and 2, the template will follow the following steps:\n\n1. Step 3 — retrieve Google emails that satisfy your filter criteria. Filter them by additional labels provided if applicable.\n2. Step 4 - if the user chooses to analyze full text, use additional Gmail node that retrieves the full text of the email message\n3. Step 5 — if AI filter rule is provided, use the AI Classifier node with Google Gemini Pro 2.5 model to classify the email based on the rule provided. Bypass if empty.\n4. Step 6 - format the text or the email snippets to add the sender meta-data and category and to prepare to submit to InfraNodus\n5. Step 7 - submit the data to the [InfraNodus HTTP `graphAndEntries` endpoint](https://support.noduslabs.com/hc/en-us/articles/13605983537692-InfraNodus-API-Access-Points) and generate a knowledge graph\n6. Step 8 - access this graph via the [`graphAndAdvice` endpoint]((https://support.noduslabs.com/hc/en-us/articles/13605983537692-InfraNodus-API-Access-Points)) and generate a topical summary based on the GraphRAG representation and insight questions bridging the gaps identified. Send the results via a Telegram bot. \n\nWe use Telegram, because it takes only 30 seconds to set up a bot with an API, unlike Discord or Slack, which is long and cumbersome to set up. You can also attach a Gmail send node and generate an email instead. \n\n\n## How to use\n\nYou need an [InfraNodus GraphRAG API account and key](https://infranodus.com/use-case/ai-knowledge-graphs) to use this workflow. \n\n- Create an InfraNodus account\n- Get the API key at [https://infranodus.com/api-access](https://infranodus.com/api-access) and create a Bearer authorization key for the InfraNodus HTTP nodes.\n- Add this Authorization code in Steps 7 and 8 of the workflow.  \n- Come up with the name of the graph and change it in the HTTP InfraNodus nodes in the steps 7 and 8 and also in the Telegram nodes that send a link to the graph.\n- For additional settings you can use in the HTTP InfraNodus nodes, see the [InfraNodus access points](https://support.noduslabs.com/hc/en-us/articles/13605983537692-InfraNodus-API-Access-Points) page. \n- Authorize your Gmail account for Steps 2 and 3 Gmail nodes. The easiest way to set it up is to open a free Google Console API account and to create an OAuth access point for n8n. You can then reuse it with other Google services like Google Sheets, Drive, etc. So it's a useful thing to have in general.\n- Set up the Gemini AI API key using the instructions in the Step 5 Gemini AI node.\n- Set up the Telegram node bot for the Step 8. It takes only 30 seconds: just go to [@botfather](https://t.me/botfather) and type in `/newbot` and you'll have an API key ready. To get the conversation ID, follow the n8n / Telegram instructions in the node itself. \n- Once everything is ready, try to run the default automated workflow to test if everything works well, then use the Form for playing around with specific filters that you may find useful.\n\n## Requirements\n\n- An [InfraNodus](https://infranodus.com/use-case/ai-knowledge-graphs) account and API key\n- An Google Cloud API OAuth client and key for Gmail access\n- A Gemini AI API key\n- A Telegram bot API key\n\n## FAQ\n\n**1. What's the best search query to use?**\n\nI personally like starting with analyzing the messages Gmail tags as \"personal\" from the last week (using the `after:2025/05/28 label:personal` search query) using the social graph settings. It helps me see who I interacted with, what it was about, and gives me a good bird's eye view into my last week's interactions, helping me see if I didn't miss anything. \n\nI also find it useful to analyze the sent messages (using the `after:2025/05/28 label:sent` search filter or `SENT` category filter) as it helps me see what I was writing about recently and understand some recurrent topics and gaps in my interactions. \n\nFinally, I also like to analyze notes (`label:notes`) or specific correspondence (`from:your_friend@gmail.com`) to get an overview and find gaps in the conversations.\n\n**2. Why use InfraNodus and not an AI summarization module?**\n\nYou probably get a lot of spam, so your AI will get overwhelmed with the content that's not really useful. The [InfraNodus graph](https://infranodus.com) helps you see the important patterns and discover what's missing by focusing on the gaps. You can use the interactive graph to quickly remove the stuff you don't need and to focus on the most relevant topics and conversations. \n\n\n## Customizing this workflow\n\nYou can connect a Gmail node instead of the Telegram one if you prefer to receive notifications directly by email. I don't like using Slack and Discord because their bots are too difficult to set up and take too long.\n\nCheck out the **complete setup guide** for this workflow at [https://support.noduslabs.com/hc/en-us/articles/20394884531996-Build-a-Knowledge-Graph-and-Extract-Insights-from-Gmail-Emails-with-n8n-and-InfraNodus](https://support.noduslabs.com/hc/en-us/articles/20394884531996-Build-a-Knowledge-Graph-and-Extract-Insights-from-Gmail-Emails-with-n8n-and-InfraNodus) with a video tutorial coming soon and the links to other n8n workflows.\n\nCheck our **other n8n workflows** at [https://n8n.io/creators/infranodus/](https://n8n.io/creators/infranodus/) for useful content gap analysis, expert panel, and marketing, and research workflows that utilize GraphRAG for better AI generation.\n\nFinally, check out [https://infranodus.com](https://infranodus.com) to learn more about our **network analysis technology** used to build knowledge graphs from text.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "InfraNodus Question Generator",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Clean text and organize into statements",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Was label provided?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Should analyze snippets?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Should analyze snippets from filtered emails?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Filter emails by label",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get Full Message Content",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Should use AI to filter emails further?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Message text or snippet present?",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Classify Emails",
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "role": "textClassifier",
      "configDescription": "Version 1"
    },
    {
      "name": "Text field present?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Aggregate from full email texts",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Aggregate from email snippets",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Wait before generating questions",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Send the graph link and summary via Telegram",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send an insight question via Telegram",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Messages by Search Criteria",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "User submits form",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "InfraNodus AI Summary & Graph Link",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Type of graph to build",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "InfraNodus Build a Social Knowledge Graph",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "InfraNodus Build a Text Knowledge Graph",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Assign Processing Settings",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Gmail",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    }
  ]
}