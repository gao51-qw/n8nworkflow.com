{
  "id": 8950,
  "slug": "8950",
  "title": "Create Stripe invoices from Airtable orders with Google Sheets logging",
  "description": "## Description\nAutomate B2B order invoicing by fetching orders from Airtable, validating paid B2B entries, creating Stripe customers and invoices, finalizing invoices, and logging structured invoice data into Google Sheets. This workflow ensures seamless B2B billing, centralized record-keeping, and reduces manual errors in financial operations. âš¡ğŸ’³ğŸ“Š\n\n## What This Template Does\n- Triggers hourly to check for new B2B orders. â±ï¸\n- Fetches order data from Airtable (Orders table). ğŸ“¥\n- Filters only paid orders with â€œB2Bâ€ tag. âœ…\n- Creates a corresponding Stripe customer from order details. ğŸ‘¤\n- Processes order line items for invoicing. ğŸ“¦\n- Creates a Stripe invoice with due date and payment terms. ğŸ§¾\n- Finalizes the invoice automatically. âœ”ï¸\n- Formats invoice details (totals, due dates, customer info, links). ğŸ”„\n- Logs structured invoice data into Google Sheets for tracking. ğŸ“Š\n\n## Key Benefits\n- Fully automates B2B invoicing workflow from orders to finalized invoices. ğŸ”„\n- Ensures all invoices are linked, structured, and logged in Sheets. ğŸ§¾\n- Reduces manual effort and eliminates data entry errors. âš¡\n- Maintains centralized invoice tracking for finance teams. ğŸ“‚\n- Creates a consistent billing flow integrated with Stripe. ğŸ’³\n\n## Features\n- Hourly Trigger â€“ Continuously monitors Airtable for new/updated orders.\n- Airtable Integration â€“ Fetches order details automatically.\n- Conditional Filter â€“ Processes only â€œB2Bâ€ paid orders.\n- Stripe Customer Creation â€“ Automatically creates customers in Stripe.\n- Line Item Processor â€“ Handles Shopify/Order line items or test data.\n- Stripe Invoice Creation â€“ Generates draft invoices with due dates.\n- Invoice Finalization â€“ Auto-finalizes and prepares invoices for payment.\n- Data Formatter â€“ Structures invoice info (totals, links, dates, status).\n- Google Sheets Integration â€“ Logs all invoice data for reporting.\n\n## Requirements\n- n8n instance (cloud or self-hosted).\n- Airtable Personal Access Token with read access to Orders table.\n- Stripe API credentials with customer + invoice permissions.\n- Google Sheets OAuth2 credentials with read/write access.\n\n## Target Audience\n- Finance/ops teams handling B2B customer invoicing. ğŸ’¼\n- SaaS or eCommerce businesses with B2B order flows. ğŸ›ï¸\n- Startups needing automated billing + centralized reporting. ğŸš€\n- Teams tracking Stripe invoices inside Google Sheets. ğŸ“Š\n\n## Step-by-Step Setup Instructions\n- Connect Airtable credentials and replace with your base/table IDs. ğŸ”‘\n- Configure Stripe API credentials for invoice + customer creation. ğŸ’³\n- Link Google Sheets credentials and update the target sheet ID. ğŸ“Š\n- Adjust order filtering conditions (tags, payment status) as needed. âš™ï¸\n- Test with sample data to validate invoices are created + logged. âœ…",
  "featuredImage": "/data/workflows/8950/8950.webp",
  "author": {
    "id": 101,
    "slug": "rahul08",
    "name": "Rahul Joshi",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 135,
  "downloads": 13,
  "createdAt": "2025-09-26T10:11:15.412Z",
  "updatedAt": "2026-01-16T08:58:31.227Z",
  "publishedAt": "2025-09-26T10:11:15.412Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8950",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create Stripe invoices from Airtable orders with Google Sheets logging",
    "workflowName": "Create Stripe invoices from Airtable orders with Google Sheets logging",
    "description": "## Description\nAutomate B2B order invoicing by fetching orders from Airtable, validating paid B2B entries, creating Stripe customers and invoices, finalizing invoices, and logging structured invoice data into Google Sheets. This workflow ensures seamless B2B billing, centralized record-keeping, and reduces manual errors in financial operations. âš¡ğŸ’³ğŸ“Š\n\n## What This Template Does\n- Triggers hourly to check for new B2B orders. â±ï¸\n- Fetches order data from Airtable (Orders table). ğŸ“¥\n- Filters only paid orders with â€œB2Bâ€ tag. âœ…\n- Creates a corresponding Stripe customer from order details. ğŸ‘¤\n- Processes order line items for invoicing. ğŸ“¦\n- Creates a Stripe invoice with due date and payment terms. ğŸ§¾\n- Finalizes the invoice automatically. âœ”ï¸\n- Formats invoice details (totals, due dates, customer info, links). ğŸ”„\n- Logs structured invoice data into Google Sheets for tracking. ğŸ“Š\n\n## Key Benefits\n- Fully automates B2B invoicing workflow from orders to finalized invoices. ğŸ”„\n- Ensures all invoices are linked, structured, and logged in Sheets. ğŸ§¾\n- Reduces manual effort and eliminates data entry errors. âš¡\n- Maintains centralized invoice tracking for finance teams. ğŸ“‚\n- Creates a consistent billing flow integrated with Stripe. ğŸ’³\n\n## Features\n- Hourly Trigger â€“ Continuously monitors Airtable for new/updated orders.\n- Airtable Integration â€“ Fetches order details automatically.\n- Conditional Filter â€“ Processes only â€œB2Bâ€ paid orders.\n- Stripe Customer Creation â€“ Automatically creates customers in Stripe.\n- Line Item Processor â€“ Handles Shopify/Order line items or test data.\n- Stripe Invoice Creation â€“ Generates draft invoices with due dates.\n- Invoice Finalization â€“ Auto-finalizes and prepares invoices for payment.\n- Data Formatter â€“ Structures invoice info (totals, links, dates, status).\n- Google Sheets Integration â€“ Logs all invoice data for reporting.\n\n## Requirements\n- n8n instance (cloud or self-hosted).\n- Airtable Personal Access Token with read access to Orders table.\n- Stripe API credentials with customer + invoice permissions.\n- Google Sheets OAuth2 credentials with read/write access.\n\n## Target Audience\n- Finance/ops teams handling B2B customer invoicing. ğŸ’¼\n- SaaS or eCommerce businesses with B2B order flows. ğŸ›ï¸\n- Startups needing automated billing + centralized reporting. ğŸš€\n- Teams tracking Stripe invoices inside Google Sheets. ğŸ“Š\n\n## Step-by-Step Setup Instructions\n- Connect Airtable credentials and replace with your base/table IDs. ğŸ”‘\n- Configure Stripe API credentials for invoice + customer creation. ğŸ’³\n- Link Google Sheets credentials and update the target sheet ID. ğŸ“Š\n- Adjust order filtering conditions (tags, payment status) as needed. âš™ï¸\n- Test with sample data to validate invoices are created + logged. âœ…",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Workflow Description",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Setup Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Hourly Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Airtable Setup Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch B2B Order",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Order Filter Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Filter B2B Paid Orders",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Stripe Customer Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Stripe Customer",
      "type": "n8n-nodes-base.stripe",
      "role": "stripe",
      "configDescription": "Version 1"
    },
    {
      "name": "Line Items Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Process Line Items",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Invoice Creation Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Stripe Invoice",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Finalization Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Finalize Invoice",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Data Formatting Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Format Data for Sheets",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sheets Logging Guide",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Log to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4"
    }
  ]
}