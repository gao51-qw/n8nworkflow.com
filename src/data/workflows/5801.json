{
  "id": 5801,
  "slug": "5801",
  "title": "Automate legal lien documents with Gemini AI, Apify, and Google Workspace",
  "description": "## Automate Legal Document Generation with n8n, Apify, Google Drive, and AI\n\nThis tutorial details an end-to-end automation solution for streamlining the lien filing process for Homeowners Associations (HOAs) using an n8n workflow. It significantly reduces manual effort and potential errors for legal professionals by automating document retrieval, information extraction, and document generation.\n\n#### Who's it for\n\nThis template is ideal for legal professionals, law firms, and property management companies that frequently handle lien filings for Homeowners Associations. If you're looking to reduce manual document processing time, minimize errors, and improve efficiency in your legal operations, this workflow is for you.\n\n#### The Problem\n\nLegal professionals often allocate a significant portion of their time—up to 40%—to manual document processing tasks. The traditional process for filing a lien is particularly time-consuming (e.g., 15 minutes per case) and error-prone, involving steps like manual searching, downloading, extracting, and populating legal documents.\n\n#### The Automation Solution Overview\n\nThis automation leverages an n8n workflow in conjunction with external services like Playwright (via Apify), Google Drive, Google Sheets, Gmail, and the Gemini API. The primary objective is to automate the legal document generation process—from initial data submission to final document generation and notification.\n\n#### Requirements\n\nBefore importing and running the n8n workflow, you need the following:\n\n* **n8n Instance:** A running n8n instance (self-hosted or cloud).\n* **Google Account:** With access to Google Sheets, Google Drive, and Gmail.\n* **Google Sheets:**\n    * An **Input Sheet** to receive form responses (e.g., \"Legal Automation Input Form (Responses)\").\n    * An **Output/Review Sheet** for extracted data and approval (e.g., \"Automation Output data Sheet\") with specific columns like \"Timestamp\", \"Legal Description\", \"Association Name\", \"Debt\", \"Parcel\", \"Owner\", \"Doc link\", \"Approval\", and \"Created\".\n* **Google Drive:**\n    * A main folder for n8n outputs (e.g., \"N8N Folder\").\n    * A Google Docs **Lien Template** with placeholders (e.g., `{{ASSOCIATION}}`, `{{DEBT}}`, `{{PROPERTY}}`, `{{MONTH}}`, `{{YEAR}}`, `{{DAY}}`, `{{PARCEL}}`, `{{OWNER}}`).\n* **Google Gemini API Key:** For text and image processing.\n* **Apify Account & Playwright Actor:** An Apify account with access to a Playwright actor capable of scraping property information from your target county's website.\n\n#### Setup Steps\n\n1.  **n8n Credentials:**\n    * Add Google Sheets, Google Drive, and Gmail credentials in your n8n instance.\n    * Add an `HTTP Query Auth` credential for your Gemini API key (named \"Query Auth account\" in the template).\n    * Ensure your Apify API token is configured within the `Apify Playwright script to find property info` node.\n2.  **Google Sheets Configuration:**\n    * Link the `Google Sheets Trigger` node to your **Input Sheet**.\n    * Link the `Google Sheets` node (for appending data) and the `Intermediate data received` trigger to your **Output/Review Sheet**.\n3.  **Google Drive Configuration:**\n    * Update the `Create folder to output` node with the ID of your \"N8N Folder\".\n    * Update the `Make Copy of Template` node with the ID of your Google Docs Lien Template.\n4.  **Email Addresses:**\n    * Update the recipient email addresses in the `Approve Through Email` and `Notify complete` nodes to your desired notification email.\n\n#### Detailed Tutorial Steps and n8n Workflow Breakdown Summary\n\nThis n8n workflow, \"Legal Document Generator E2E\", automates the process of generating legal lien documents, from initial data input to final document creation and notification.\n\n1.  **Initiate Workflow:** The workflow starts with a `Google Sheets Trigger` node, which listens for new lien requests submitted via a form that populates a Google Sheet.\n2.  **Gather Property Data:** An `Apify Playwright script to find property info` node fetches property details from county websites, and a `Get file for property` node downloads associated legal documents.\n3.  **Process and Store Document:** The downloaded document is transformed to base64 using `Transform to base64` and then uploaded to Google Drive via `Upload legal doc` for storage and further processing.\n4.  **Extract Information with AI:** `Call Gemini API for legal desc` and `Property metadata` nodes leverage the Gemini API to extract the precise legal description, parcel number, and owner's name from the document. This extracted data is then structured by the `Property Information Extractor`.\n5.  **Review and Approve:** The extracted information is appended to an intermediate Google Sheet by the first `Google Sheets` node, and an email is sent via `Approve Through Email` to the user for review and approval.\n6.  **Generate Documents on Approval:** A second `Intermediate data received` `Google Sheets Trigger` node monitors the approval status in the sheet. Once \"Approved\", an `If` node allows the workflow to proceed.\n7.  **Create and Populate Documents:** A new client-specific folder is created in Google Drive using `Create folder to output`. A blank lien template is copied (`Make Copy of Template`), and its custom variables are populated with the extracted data using `Change Custom Variables`.\n8.  **Finalize and Store Output:** The populated document is converted to PDF (`Generate PDF`), and both the new PDF (`Add PDF To Drive`) and the original source document (`Move file in Google Drive`) are saved to the client's new folder.\n9.  **Update Records and Notify:** The `Update Creation` `Google Sheets` node marks the document as \"Created\" in the tracking sheet and updates the document link. Finally, `Notify complete` sends a notification email about the completion.\n\n#### How to Customize the Workflow\n\n* **Adjust Input Form Fields:** Modify the column names in your initial Google Sheet and update the expressions in the `Google Sheets Trigger` and `Apify Playwright script to find property info` nodes to match your form.\n* **Change County Website/Scraper:** If you need to fetch data from a different county or property database, you will need to modify the `Apify Playwright script to find property info` node to call a different Apify actor or configure a new HTTP Request node to interact with your chosen data source.\n* **Customize Document Template:** Update the placeholders in your Google Docs Lien Template to match your specific document needs. Ensure corresponding `replaceAll` actions are updated in the `Change Custom Variables` node.\n* **Modify AI Prompts:** Refine the prompts within the `Call Gemini API for legal desc` and `Property metadata` nodes to improve the accuracy of information extraction based on your document types.\n* **Notification Preferences:** Adjust the `sendTo` email addresses and `subject`/`message` content in the `Approve Through Email` and `Notify complete` nodes.\n\n#### Benefits of this Automation\n\nThis automation offers significant advantages for legal professionals:\n\n* **Streamlined Organization:** Ensures all relevant documents—original source files, editable templates, and final PDFs—are systematically organized, tracked, and easily accessible within Google Drive.\n* **Time-Saving and Efficiency:** Documents are quickly generated and ready for client sharing, leading to faster turnaround times and improved service delivery.\n* **Scalability:** Provides a scalable solution for handling a higher volume of document processing tasks without a proportional increase in manual effort.\n\n---\nLearn more about Chill Labs and our services on our website: [Chill Labs](https://www.chillaborate.com/)",
  "featuredImage": "/data/workflows/5801/5801.webp",
  "author": {
    "id": 101,
    "slug": "dinalevdev",
    "name": "Dina Lev",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 525,
  "downloads": 52,
  "createdAt": "2025-07-08T22:07:30.556Z",
  "updatedAt": "2026-01-16T08:41:29.749Z",
  "publishedAt": "2025-07-08T22:07:30.556Z",
  "nodes": 33,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5801",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate legal lien documents with Gemini AI, Apify, and Google Workspace",
    "workflowName": "Automate legal lien documents with Gemini AI, Apify, and Google Workspace",
    "description": "## Automate Legal Document Generation with n8n, Apify, Google Drive, and AI\n\nThis tutorial details an end-to-end automation solution for streamlining the lien filing process for Homeowners Associations (HOAs) using an n8n workflow. It significantly reduces manual effort and potential errors for legal professionals by automating document retrieval, information extraction, and document generation.\n\n#### Who's it for\n\nThis template is ideal for legal professionals, law firms, and property management companies that frequently handle lien filings for Homeowners Associations. If you're looking to reduce manual document processing time, minimize errors, and improve efficiency in your legal operations, this workflow is for you.\n\n#### The Problem\n\nLegal professionals often allocate a significant portion of their time—up to 40%—to manual document processing tasks. The traditional process for filing a lien is particularly time-consuming (e.g., 15 minutes per case) and error-prone, involving steps like manual searching, downloading, extracting, and populating legal documents.\n\n#### The Automation Solution Overview\n\nThis automation leverages an n8n workflow in conjunction with external services like Playwright (via Apify), Google Drive, Google Sheets, Gmail, and the Gemini API. The primary objective is to automate the legal document generation process—from initial data submission to final document generation and notification.\n\n#### Requirements\n\nBefore importing and running the n8n workflow, you need the following:\n\n* **n8n Instance:** A running n8n instance (self-hosted or cloud).\n* **Google Account:** With access to Google Sheets, Google Drive, and Gmail.\n* **Google Sheets:**\n    * An **Input Sheet** to receive form responses (e.g., \"Legal Automation Input Form (Responses)\").\n    * An **Output/Review Sheet** for extracted data and approval (e.g., \"Automation Output data Sheet\") with specific columns like \"Timestamp\", \"Legal Description\", \"Association Name\", \"Debt\", \"Parcel\", \"Owner\", \"Doc link\", \"Approval\", and \"Created\".\n* **Google Drive:**\n    * A main folder for n8n outputs (e.g., \"N8N Folder\").\n    * A Google Docs **Lien Template** with placeholders (e.g., `{{ASSOCIATION}}`, `{{DEBT}}`, `{{PROPERTY}}`, `{{MONTH}}`, `{{YEAR}}`, `{{DAY}}`, `{{PARCEL}}`, `{{OWNER}}`).\n* **Google Gemini API Key:** For text and image processing.\n* **Apify Account & Playwright Actor:** An Apify account with access to a Playwright actor capable of scraping property information from your target county's website.\n\n#### Setup Steps\n\n1.  **n8n Credentials:**\n    * Add Google Sheets, Google Drive, and Gmail credentials in your n8n instance.\n    * Add an `HTTP Query Auth` credential for your Gemini API key (named \"Query Auth account\" in the template).\n    * Ensure your Apify API token is configured within the `Apify Playwright script to find property info` node.\n2.  **Google Sheets Configuration:**\n    * Link the `Google Sheets Trigger` node to your **Input Sheet**.\n    * Link the `Google Sheets` node (for appending data) and the `Intermediate data received` trigger to your **Output/Review Sheet**.\n3.  **Google Drive Configuration:**\n    * Update the `Create folder to output` node with the ID of your \"N8N Folder\".\n    * Update the `Make Copy of Template` node with the ID of your Google Docs Lien Template.\n4.  **Email Addresses:**\n    * Update the recipient email addresses in the `Approve Through Email` and `Notify complete` nodes to your desired notification email.\n\n#### Detailed Tutorial Steps and n8n Workflow Breakdown Summary\n\nThis n8n workflow, \"Legal Document Generator E2E\", automates the process of generating legal lien documents, from initial data input to final document creation and notification.\n\n1.  **Initiate Workflow:** The workflow starts with a `Google Sheets Trigger` node, which listens for new lien requests submitted via a form that populates a Google Sheet.\n2.  **Gather Property Data:** An `Apify Playwright script to find property info` node fetches property details from county websites, and a `Get file for property` node downloads associated legal documents.\n3.  **Process and Store Document:** The downloaded document is transformed to base64 using `Transform to base64` and then uploaded to Google Drive via `Upload legal doc` for storage and further processing.\n4.  **Extract Information with AI:** `Call Gemini API for legal desc` and `Property metadata` nodes leverage the Gemini API to extract the precise legal description, parcel number, and owner's name from the document. This extracted data is then structured by the `Property Information Extractor`.\n5.  **Review and Approve:** The extracted information is appended to an intermediate Google Sheet by the first `Google Sheets` node, and an email is sent via `Approve Through Email` to the user for review and approval.\n6.  **Generate Documents on Approval:** A second `Intermediate data received` `Google Sheets Trigger` node monitors the approval status in the sheet. Once \"Approved\", an `If` node allows the workflow to proceed.\n7.  **Create and Populate Documents:** A new client-specific folder is created in Google Drive using `Create folder to output`. A blank lien template is copied (`Make Copy of Template`), and its custom variables are populated with the extracted data using `Change Custom Variables`.\n8.  **Finalize and Store Output:** The populated document is converted to PDF (`Generate PDF`), and both the new PDF (`Add PDF To Drive`) and the original source document (`Move file in Google Drive`) are saved to the client's new folder.\n9.  **Update Records and Notify:** The `Update Creation` `Google Sheets` node marks the document as \"Created\" in the tracking sheet and updates the document link. Finally, `Notify complete` sends a notification email about the completion.\n\n#### How to Customize the Workflow\n\n* **Adjust Input Form Fields:** Modify the column names in your initial Google Sheet and update the expressions in the `Google Sheets Trigger` and `Apify Playwright script to find property info` nodes to match your form.\n* **Change County Website/Scraper:** If you need to fetch data from a different county or property database, you will need to modify the `Apify Playwright script to find property info` node to call a different Apify actor or configure a new HTTP Request node to interact with your chosen data source.\n* **Customize Document Template:** Update the placeholders in your Google Docs Lien Template to match your specific document needs. Ensure corresponding `replaceAll` actions are updated in the `Change Custom Variables` node.\n* **Modify AI Prompts:** Refine the prompts within the `Call Gemini API for legal desc` and `Property metadata` nodes to improve the accuracy of information extraction based on your document types.\n* **Notification Preferences:** Adjust the `sendTo` email addresses and `subject`/`message` content in the `Approve Through Email` and `Notify complete` nodes.\n\n#### Benefits of this Automation\n\nThis automation offers significant advantages for legal professionals:\n\n* **Streamlined Organization:** Ensures all relevant documents—original source files, editable templates, and final PDFs—are systematically organized, tracked, and easily accessible within Google Drive.\n* **Time-Saving and Efficiency:** Documents are quickly generated and ready for client sharing, leading to faster turnaround times and improved service delivery.\n* **Scalability:** Provides a scalable solution for handling a higher volume of document processing tasks without a proportional increase in manual effort.\n\n---\nLearn more about Chill Labs and our services on our website: [Chill Labs](https://www.chillaborate.com/)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Transform to base64",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Approve Through Email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get file for property",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Apify Playwright script to find property info",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Property metadata",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Call Gemini API for legal desc",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Google Gemini Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Playwright error inform",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Property Information Extractor",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "role": "informationExtractor",
      "configDescription": "Version 1"
    },
    {
      "name": "Upload legal doc",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Make Copy of Template",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Change Custom Variables",
      "type": "n8n-nodes-base.googleDocs",
      "role": "googleDocs",
      "configDescription": "Version 2"
    },
    {
      "name": "Generate PDF",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Add PDF To Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Update Creation",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Move file in Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Notify complete",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Intermediate data received",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Add Intermediate Info to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Create folder For Output Files",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Form submitted trigger",
      "type": "n8n-nodes-base.googleSheetsTrigger",
      "role": "googleSheetsTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}