{
  "id": 11709,
  "slug": "11709",
  "title": "Generate ideal customer profiles & find lookalike companies in Germany",
  "description": "This workflow generates a data driven  Ideal Customer Profile (ICP) and retrieves lookalike companies in Germany from the official data source (Handelsregister). It starts by ingesting a set of base company IDs, serializes them, and sends a recommendation request to the Implisense API to fetch similar companies. When explanation mode is enabled, the workflow extracts and processes term features to create a structured keyword digest and uses an LLM to generate an ICP narrative. The pipeline outputs both a clean list of lookalike companies, enriched with CRM-ready fields, and a detailed ICP report derived from Implisense feature statistics.\n\n## How it works\n**Input** ‚Üí **Serialization** ‚Üí **Lookalikes** ‚Üí **Lists/Report**\n\n## Setup steps\n\n### 1. Data Source\n‚òê Replace \"Mock ICP Companies\" with matched companies from the Implisense database\n‚òê Ensure output has: id\n\n### 2. **Configure Credentials**: Set up RapidAPI API credentials\n   - Get your API key here: https://implisense.com/de/contact\n   - Insert your API Token in get_lookalikes (Basic auth)\n\n### 3. Configure ICP Filters\n‚òê Edit \"Build Recommendation Request\" node\n‚òê Set locationsFilter (e.g., de-be, de-by, de-nw)\n‚òê Set industriesFilter (NACE codes, e.g., J62 for IT)\n‚òê Set sizesFilter (MICRO, SMALL, MEDIUM, LARGE)\n\n### 4. Tune Results\n‚òê Adjust THRESHOLD in \"Filter & Normalize Results\" (default: 0.5)\n‚òê Adjust MIN_BASE_COMPANIES in \"Collect Base Companies\" (default: 3)\n‚òê Adjust size parameter in \"Configuration\" URL (default: 100)\n\n### 5. CRM Integration\n‚òê Map fields in \"list_of_companies\" to match your CRM schema\n‚òê Add CRM upsert node after \"list_of_companies\"\n‚òê Use implisense-ID or domain as unique identifier\n\n## Additional advice\n\nStrengthen Base Company Quality\nUse only highly representative base companies located in Germany that strongly match the intended ICP segment. Templates with dozens of mixed or heterogeneous IDs dilute the statistical signal in the /recommend endpoint and reduce relevance.\n\nRefine Filters Aggressively\nLimit recommendations by state, region, NACE code, or size class. Implisense returns cleaner results when the recommendation space is constrained. Removing unnecessary geography broadens noise.\n\nIncrease the Size Parameter\nRaise the size parameter when building the request to give the ranking model more candidates. This materially improves downstream sorting and selection.",
  "featuredImage": "/data/workflows/11709/11709.webp",
  "author": {
    "id": 101,
    "slug": "implisense",
    "name": "as311",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 133,
  "downloads": 13,
  "createdAt": "2025-12-11T15:07:10.467Z",
  "updatedAt": "2026-01-16T09:09:48.640Z",
  "publishedAt": "2025-12-11T15:07:10.467Z",
  "nodes": 26,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11709",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate ideal customer profiles & find lookalike companies in Germany",
    "workflowName": "Generate ideal customer profiles & find lookalike companies in Germany",
    "description": "This workflow generates a data driven  Ideal Customer Profile (ICP) and retrieves lookalike companies in Germany from the official data source (Handelsregister). It starts by ingesting a set of base company IDs, serializes them, and sends a recommendation request to the Implisense API to fetch similar companies. When explanation mode is enabled, the workflow extracts and processes term features to create a structured keyword digest and uses an LLM to generate an ICP narrative. The pipeline outputs both a clean list of lookalike companies, enriched with CRM-ready fields, and a detailed ICP report derived from Implisense feature statistics.\n\n## How it works\n**Input** ‚Üí **Serialization** ‚Üí **Lookalikes** ‚Üí **Lists/Report**\n\n## Setup steps\n\n### 1. Data Source\n‚òê Replace \"Mock ICP Companies\" with matched companies from the Implisense database\n‚òê Ensure output has: id\n\n### 2. **Configure Credentials**: Set up RapidAPI API credentials\n   - Get your API key here: https://implisense.com/de/contact\n   - Insert your API Token in get_lookalikes (Basic auth)\n\n### 3. Configure ICP Filters\n‚òê Edit \"Build Recommendation Request\" node\n‚òê Set locationsFilter (e.g., de-be, de-by, de-nw)\n‚òê Set industriesFilter (NACE codes, e.g., J62 for IT)\n‚òê Set sizesFilter (MICRO, SMALL, MEDIUM, LARGE)\n\n### 4. Tune Results\n‚òê Adjust THRESHOLD in \"Filter & Normalize Results\" (default: 0.5)\n‚òê Adjust MIN_BASE_COMPANIES in \"Collect Base Companies\" (default: 3)\n‚òê Adjust size parameter in \"Configuration\" URL (default: 100)\n\n### 5. CRM Integration\n‚òê Map fields in \"list_of_companies\" to match your CRM schema\n‚òê Add CRM upsert node after \"list_of_companies\"\n‚òê Use implisense-ID or domain as unique identifier\n\n## Additional advice\n\nStrengthen Base Company Quality\nUse only highly representative base companies located in Germany that strongly match the intended ICP segment. Templates with dozens of mixed or heterogeneous IDs dilute the statistical signal in the /recommend endpoint and reduce relevance.\n\nRefine Filters Aggressively\nLimit recommendations by state, region, NACE code, or size class. Implisense returns cleaner results when the recommendation space is constrained. Removing unnecessary geography broadens noise.\n\nIncrease the Size Parameter\nRaise the size parameter when building the request to give the ranking model more candidates. This materially improves downstream sorting and selection.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "set_f2",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Filter term.en",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Filter term.de",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "parse_term_features",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "merge_terms",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Configuration",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3"
    },
    {
      "name": "Authorization",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "serialize_ids",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "trim",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 2"
    },
    {
      "name": "get_lookalikes",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 1"
    },
    {
      "name": "lookalikes_or_icp",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.4"
    },
    {
      "name": "get_companies",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "sort_desc",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "digest_terms_en",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "digest_terms_de",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "sort_desc2",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "generate_icp_report",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 2.1"
    },
    {
      "name": "icp_report",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.2"
    },
    {
      "name": "list_of_companies",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 2"
    },
    {
      "name": "üèóÔ∏è Architecture Notes2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Mock ICP Companies based on Implisense-ID",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    }
  ]
}