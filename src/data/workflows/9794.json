{
  "id": 9794,
  "slug": "9794",
  "title": "Generate ideal customer profile leads & personalized pitches with GPT-4o-mini, Perplexity and Apify",
  "description": "![screencaptureneightn011appn8ncloudworkflowBYoMCe7Hcdg2bajF2025101712_23_02.png](fileId:3000)\n\n# n8n Workflow: Automated Lead Generation & Personalized Outreach\n\n## Overview\nThis n8n workflow automates the entire lead generation and personalized email creation process for businesses. It analyzes a company's profile, identifies ideal customer profiles (ICP), finds matching leads, and generates customized outreach emails.\n\n---\n\n## Workflow Components\n\n### 1. JotForm Trigger\n**Purpose:** Form Submission Entry Point\n\n- Captures business information through JotForm (Form ID: 252802732808054)\n- Initiates the automation workflow when form is submitted\n- Collects company website and business details\n\n---\n\n### 2. Perplexity API Integration\n**Purpose:** Company Analysis\n\n- **Method:** POST request to Perplexity AI Search API\n- **Function:** Performs detailed research on the submitted company website\n- **Output:** Comprehensive business intelligence and market positioning data\n\n---\n\n### 3. ICP Finder (OpenAI GPT-4o-mini)\n**Purpose:** Ideal Customer Profile Creation\n\n- **Model:** GPT-4o-mini\n- **Role:** Expert client acquisition manager\n- **Task:** Analyzes company details and generates best-fit customer profile\n- **Input:** Company snippet from Perplexity research\n- **Output:** Detailed ICP description\n\n---\n\n### 4. Edit Fields\n**Purpose:** Data Transformation\n\n- Extracts and formats the ICP output\n- Prepares data for next workflow stage\n- Ensures clean data flow between nodes\n\n---\n\n### 5. ICP Industry Finder (OpenAI GPT-4o-mini)\n**Purpose:** Industry Classification\n\n- **Model:** GPT-4o-mini\n- **Role:** Expert ICP analyzer\n- **Task:** Identifies specific business sector matching the ICP\n- **Rules:**\n  - Returns single industry sector only\n  - Uses professional terminology (e.g., \"healthcare\", \"call centre\", \"plumber\")\n  - Excludes all SaaS-related companies\n  - Avoids generic terms like \"technology industry\"\n- **Output:** Single industry sector name\n\n---\n\n### 6. Leads Generator (Apify API)\n**Purpose:** Lead Discovery\n\n- **API:** Local Business Lead Generator by james.logantech\n- **Method:** Synchronous run with dataset items retrieval\n- **Configuration:**\n  - Location: United States\n  - Maximum Results: 5 leads\n  - Business Types: Based on ICP industry output\n- **Output:** List of qualified business leads\n\n---\n\n### 7. Loop Over Items\n**Purpose:** Batch Processing\n\n- Processes leads individually\n- Enables personalized email creation for each lead\n- Controls workflow iteration\n\n---\n\n### 8. Personalized Emails (Apify API)\n**Purpose:** Custom Email Generation\n\n- **API:** Pitches Pro by onescales\n- **Method:** Synchronous run with dataset items retrieval\n- **Configuration:**\n  - **Promoting:** Automation services\n  - **Benefits:** \"Save 10+ hours per week by automating manual tasks\"\n  - **Goal:** Partnership\n  - **Tone:** Professional yet approachable, confident but not pushy\n  - **Language:** English\n  - **Additional Notes:** Focus on time-saving, avoid technical jargon, include soft CTA\n- **Output:** Personalized email for each lead\n\n---\n\n## Data Flow\n```\nJotForm → Perplexity Analysis → ICP Generation → Field Formatting → \nIndustry Classification → Lead Discovery → Batch Processing → Email Personalization\n```\n\n---\n\n## Key Features\n\n✅ **Fully Automated:** No manual intervention required  \n✅ **AI-Powered:** Uses GPT-4o-mini for intelligent ICP analysis  \n✅ **Personalized:** Custom emails for each prospect  \n✅ **Scalable:** Processes multiple leads in batches  \n✅ **Time-Saving:** Automates 10+ hours of manual work per week\n\n---\n\n## Requirements\n\n- **APIs Required:**\n  - Perplexity AI (with Authorization token)\n  - OpenAI (GPT-4o-mini access)\n  - Apify (2 actors: Local Business Lead Generator & Pitches Pro)\n- **Form Platform:** JotForm account\n- **n8n Instance:** Self-hosted or cloud\n\n---\n\n\n\n\n",
  "featuredImage": "/data/workflows/9794/9794.webp",
  "author": {
    "id": 101,
    "slug": "neightn011",
    "name": "neightn011",
    "avatar": ""
  },
  "categories": [
    "Lead Generation",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 92,
  "downloads": 9,
  "createdAt": "2025-10-16T18:52:32.552Z",
  "updatedAt": "2026-01-16T09:01:57.886Z",
  "publishedAt": "2025-10-16T18:52:32.552Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9794",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate ideal customer profile leads & personalized pitches with GPT-4o-mini, Perplexity and Apify",
    "workflowName": "Generate ideal customer profile leads & personalized pitches with GPT-4o-mini, Perplexity and Apify",
    "description": "![screencaptureneightn011appn8ncloudworkflowBYoMCe7Hcdg2bajF2025101712_23_02.png](fileId:3000)\n\n# n8n Workflow: Automated Lead Generation & Personalized Outreach\n\n## Overview\nThis n8n workflow automates the entire lead generation and personalized email creation process for businesses. It analyzes a company's profile, identifies ideal customer profiles (ICP), finds matching leads, and generates customized outreach emails.\n\n---\n\n## Workflow Components\n\n### 1. JotForm Trigger\n**Purpose:** Form Submission Entry Point\n\n- Captures business information through JotForm (Form ID: 252802732808054)\n- Initiates the automation workflow when form is submitted\n- Collects company website and business details\n\n---\n\n### 2. Perplexity API Integration\n**Purpose:** Company Analysis\n\n- **Method:** POST request to Perplexity AI Search API\n- **Function:** Performs detailed research on the submitted company website\n- **Output:** Comprehensive business intelligence and market positioning data\n\n---\n\n### 3. ICP Finder (OpenAI GPT-4o-mini)\n**Purpose:** Ideal Customer Profile Creation\n\n- **Model:** GPT-4o-mini\n- **Role:** Expert client acquisition manager\n- **Task:** Analyzes company details and generates best-fit customer profile\n- **Input:** Company snippet from Perplexity research\n- **Output:** Detailed ICP description\n\n---\n\n### 4. Edit Fields\n**Purpose:** Data Transformation\n\n- Extracts and formats the ICP output\n- Prepares data for next workflow stage\n- Ensures clean data flow between nodes\n\n---\n\n### 5. ICP Industry Finder (OpenAI GPT-4o-mini)\n**Purpose:** Industry Classification\n\n- **Model:** GPT-4o-mini\n- **Role:** Expert ICP analyzer\n- **Task:** Identifies specific business sector matching the ICP\n- **Rules:**\n  - Returns single industry sector only\n  - Uses professional terminology (e.g., \"healthcare\", \"call centre\", \"plumber\")\n  - Excludes all SaaS-related companies\n  - Avoids generic terms like \"technology industry\"\n- **Output:** Single industry sector name\n\n---\n\n### 6. Leads Generator (Apify API)\n**Purpose:** Lead Discovery\n\n- **API:** Local Business Lead Generator by james.logantech\n- **Method:** Synchronous run with dataset items retrieval\n- **Configuration:**\n  - Location: United States\n  - Maximum Results: 5 leads\n  - Business Types: Based on ICP industry output\n- **Output:** List of qualified business leads\n\n---\n\n### 7. Loop Over Items\n**Purpose:** Batch Processing\n\n- Processes leads individually\n- Enables personalized email creation for each lead\n- Controls workflow iteration\n\n---\n\n### 8. Personalized Emails (Apify API)\n**Purpose:** Custom Email Generation\n\n- **API:** Pitches Pro by onescales\n- **Method:** Synchronous run with dataset items retrieval\n- **Configuration:**\n  - **Promoting:** Automation services\n  - **Benefits:** \"Save 10+ hours per week by automating manual tasks\"\n  - **Goal:** Partnership\n  - **Tone:** Professional yet approachable, confident but not pushy\n  - **Language:** English\n  - **Additional Notes:** Focus on time-saving, avoid technical jargon, include soft CTA\n- **Output:** Personalized email for each lead\n\n---\n\n## Data Flow\n```\nJotForm → Perplexity Analysis → ICP Generation → Field Formatting → \nIndustry Classification → Lead Discovery → Batch Processing → Email Personalization\n```\n\n---\n\n## Key Features\n\n✅ **Fully Automated:** No manual intervention required  \n✅ **AI-Powered:** Uses GPT-4o-mini for intelligent ICP analysis  \n✅ **Personalized:** Custom emails for each prospect  \n✅ **Scalable:** Processes multiple leads in batches  \n✅ **Time-Saving:** Automates 10+ hours of manual work per week\n\n---\n\n## Requirements\n\n- **APIs Required:**\n  - Perplexity AI (with Authorization token)\n  - OpenAI (GPT-4o-mini access)\n  - Apify (2 actors: Local Business Lead Generator & Pitches Pro)\n- **Form Platform:** JotForm account\n- **n8n Instance:** Self-hosted or cloud\n\n---",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "JotForm Trigger",
      "type": "n8n-nodes-base.jotFormTrigger",
      "role": "jotFormTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "perplexity",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "personalized emails",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Leads",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "ICP finder",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "ICP industry finder",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    }
  ]
}