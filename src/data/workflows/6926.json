{
  "id": 6926,
  "slug": "6926",
  "title": "Research assistant for WhatsApp using Twilio, Perplexity and Claude",
  "description": "## Build an AI Research Assistant for WhatsApp with Perplexity and Claude üí°\n\nEver wished you could get a deep, multi-source research report on any topic, delivered directly to your WhatsApp chat in seconds? This workflow transforms your WhatsApp into a powerful, on-demand research assistant, perfect for students, professionals, and curious minds.\n\nLeveraging the deep research capabilities of **Perplexity**, the nuanced formatting skills of **Anthropic's Claude**, and the messaging power of **Twilio**, this workflow automates the entire process from query to polished answer. Ask it anything, and receive a well-structured, easy-to-read summary moments later.\n\n### What This Workflow Does üöÄ\n\n  * üì≤ **Listens for Incoming Queries**: The workflow starts when a user sends a message to your configured Twilio WhatsApp number.\n  * üß† **Performs Deep Research**: It takes the user's query and feeds it to the **Perplexity** node, which uses the `sonar-pro` model to conduct a comprehensive, multi-source analysis on the topic.\n  * üé® **Polishes the Content**: The raw, detailed research report from Perplexity is then passed to an **Anthropic Claude** model. This crucial step refines the text, adds engaging emojis, ensures it's under the WhatsApp character limit, and formats it perfectly for mobile viewing.\n  * üí¨ **Sends an Instant Reply**: The final, beautifully formatted summary is sent directly back to the user's WhatsApp chat via **Twilio**, completing the entire request.\n\n### Nodes Used üõ†Ô∏è\n\n  * **Webhook**: To receive the initial message from Twilio and trigger the workflow.\n  * **Perplexity**: To perform the AI-powered deep research on the user's query.\n  * **Anthropic (via LangChain)**: To connect to and use the Claude model for reformatting and polishing the content.\n  * **Twilio**: To send the final, formatted message back to the user on WhatsApp.\n\n### How to Set Up This Workflow ‚öôÔ∏è\n\nThis workflow requires careful setup between n8n and Twilio to function correctly. Follow these steps closely.\n\n#### 1\\. Prerequisites ‚úÖ\n\nYou will need accounts for the following services:\n\n  * [n8n](https://n8n.io/) (Cloud or self-hosted)\n  * [Twilio](https://www.twilio.com/try-twilio)\n  * [Perplexity AI](https://docs.perplexity.ai/) (for an API key)\n  * [Anthropic](https://console.anthropic.com/) (for a Claude API key)\n\n#### 2\\. Configure Credentials üîë\n\nIn your n8n instance, add your API keys for **Twilio**, **Perplexity**, and **Anthropic**.\n\n  - You can add credentials in n8n by going to the **Credentials** tab in the left-hand menu.\n  - [Learn more about managing credentials in n8n](https://docs.n8n.io/credentials/).\n\n#### 3\\. Set Up Your Twilio WhatsApp Number üì±\n\n1.  Log in to your Twilio account.\n2.  Either purchase a phone number that is WhatsApp-enabled or use the free **Twilio Sandbox for WhatsApp** for testing.\n3.  Follow Twilio's guide to connect your number or sandbox to the WhatsApp Business API.\n      - [Read Twilio's Getting Started with WhatsApp Guide](https://www.twilio.com/docs/whatsapp/sandbox).\n\n#### 4\\. Expose Your n8n Webhook URL üåê\n\nFor Twilio to communicate with n8n, your n8n webhook URL must be publicly accessible.\n\n1.  Open the **Fetch Whatsapp Request** (Webhook) node in the workflow.\n2.  You will see two URLs: **Test** and **Production**. For this guide, we will use the **Test URL**.\n3.  **If you are running n8n locally or on a private server**, you must expose this URL to the public internet. You can do this easily using n8n's built-in tunnel feature.\n      - Start n8n from your computer's command line with the following command:\n        ```bash\n        n8n start --tunnel\n        ```\n      - After starting, n8n will provide you with a public \"tunnel URL\". It will look something like `https://[subdomain].hooks.n8n.cloud/`.\n      - **Copy this public tunnel URL.**\n      - [Learn more about tunneling in the n8n docs](https://docs.n8n.io/hosting/installation/npm/#n8n-with-tunnel).\n\n#### 5\\. Connect Twilio to Your n8n Webhook üîó\n\n1.  In your [Twilio Console](https://console.twilio.com/), navigate to the settings for the phone number (or sandbox) you configured in Step 3.\n2.  Scroll down to the **Messaging** section.\n3.  Find the field labeled **\"A MESSAGE COMES IN\"**.\n4.  Paste your **n8n Test URL** (or your public tunnel URL from the previous step) into this field.\n5.  Ensure the dropdown next to it is set to `HTTP POST`.\n6.  Click **Save**.\n\n#### 6\\. Activate and Test Your Workflow ‚ñ∂Ô∏è\n\n1.  Go back to your n8n canvas.\n2.  Click **\"Test workflow\"** in the top right corner. This will put your webhook in a \"listening\" state.\n3.  Now, send a message from your personal WhatsApp to your configured Twilio WhatsApp number.\n4.  You should see the workflow execute successfully in n8n and receive a formatted reply on WhatsApp\\!\n5.  Once you've confirmed it works, **save and activate** the workflow to have it run permanently.\n\n## Further Reading üìö\n\n  * [n8n Webhook Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.webhook/)\n  * [n8n Twilio Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.twilio/)\n  * [Perplexity API Documentation](https://docs.perplexity.ai/)\n  * [Anthropic API Documentation](https://docs.anthropic.com/en/api/getting-started)",
  "featuredImage": "/data/workflows/6926/6926.webp",
  "author": {
    "id": 101,
    "slug": "harshmaniya1",
    "name": "Harsh Maniya",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Chatbot"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 684,
  "downloads": 68,
  "createdAt": "2025-08-03T07:00:17.460Z",
  "updatedAt": "2026-01-16T08:47:37.881Z",
  "publishedAt": "2025-08-03T07:00:17.460Z",
  "nodes": 10,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6926",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Research assistant for WhatsApp using Twilio, Perplexity and Claude",
    "workflowName": "Research assistant for WhatsApp using Twilio, Perplexity and Claude",
    "description": "## Build an AI Research Assistant for WhatsApp with Perplexity and Claude üí°\n\nEver wished you could get a deep, multi-source research report on any topic, delivered directly to your WhatsApp chat in seconds? This workflow transforms your WhatsApp into a powerful, on-demand research assistant, perfect for students, professionals, and curious minds.\n\nLeveraging the deep research capabilities of **Perplexity**, the nuanced formatting skills of **Anthropic's Claude**, and the messaging power of **Twilio**, this workflow automates the entire process from query to polished answer. Ask it anything, and receive a well-structured, easy-to-read summary moments later.\n\n### What This Workflow Does üöÄ\n\n  * üì≤ **Listens for Incoming Queries**: The workflow starts when a user sends a message to your configured Twilio WhatsApp number.\n  * üß† **Performs Deep Research**: It takes the user's query and feeds it to the **Perplexity** node, which uses the `sonar-pro` model to conduct a comprehensive, multi-source analysis on the topic.\n  * üé® **Polishes the Content**: The raw, detailed research report from Perplexity is then passed to an **Anthropic Claude** model. This crucial step refines the text, adds engaging emojis, ensures it's under the WhatsApp character limit, and formats it perfectly for mobile viewing.\n  * üí¨ **Sends an Instant Reply**: The final, beautifully formatted summary is sent directly back to the user's WhatsApp chat via **Twilio**, completing the entire request.\n\n### Nodes Used üõ†Ô∏è\n\n  * **Webhook**: To receive the initial message from Twilio and trigger the workflow.\n  * **Perplexity**: To perform the AI-powered deep research on the user's query.\n  * **Anthropic (via LangChain)**: To connect to and use the Claude model for reformatting and polishing the content.\n  * **Twilio**: To send the final, formatted message back to the user on WhatsApp.\n\n### How to Set Up This Workflow ‚öôÔ∏è\n\nThis workflow requires careful setup between n8n and Twilio to function correctly. Follow these steps closely.\n\n#### 1\\. Prerequisites ‚úÖ\n\nYou will need accounts for the following services:\n\n  * [n8n](https://n8n.io/) (Cloud or self-hosted)\n  * [Twilio](https://www.twilio.com/try-twilio)\n  * [Perplexity AI](https://docs.perplexity.ai/) (for an API key)\n  * [Anthropic](https://console.anthropic.com/) (for a Claude API key)\n\n#### 2\\. Configure Credentials üîë\n\nIn your n8n instance, add your API keys for **Twilio**, **Perplexity**, and **Anthropic**.\n\n  - You can add credentials in n8n by going to the **Credentials** tab in the left-hand menu.\n  - [Learn more about managing credentials in n8n](https://docs.n8n.io/credentials/).\n\n#### 3\\. Set Up Your Twilio WhatsApp Number üì±\n\n1.  Log in to your Twilio account.\n2.  Either purchase a phone number that is WhatsApp-enabled or use the free **Twilio Sandbox for WhatsApp** for testing.\n3.  Follow Twilio's guide to connect your number or sandbox to the WhatsApp Business API.\n      - [Read Twilio's Getting Started with WhatsApp Guide](https://www.twilio.com/docs/whatsapp/sandbox).\n\n#### 4\\. Expose Your n8n Webhook URL üåê\n\nFor Twilio to communicate with n8n, your n8n webhook URL must be publicly accessible.\n\n1.  Open the **Fetch Whatsapp Request** (Webhook) node in the workflow.\n2.  You will see two URLs: **Test** and **Production**. For this guide, we will use the **Test URL**.\n3.  **If you are running n8n locally or on a private server**, you must expose this URL to the public internet. You can do this easily using n8n's built-in tunnel feature.\n      - Start n8n from your computer's command line with the following command:\n        ```bash\n        n8n start --tunnel\n        ```\n      - After starting, n8n will provide you with a public \"tunnel URL\". It will look something like `https://[subdomain].hooks.n8n.cloud/`.\n      - **Copy this public tunnel URL.**\n      - [Learn more about tunneling in the n8n docs](https://docs.n8n.io/hosting/installation/npm/#n8n-with-tunnel).\n\n#### 5\\. Connect Twilio to Your n8n Webhook üîó\n\n1.  In your [Twilio Console](https://console.twilio.com/), navigate to the settings for the phone number (or sandbox) you configured in Step 3.\n2.  Scroll down to the **Messaging** section.\n3.  Find the field labeled **\"A MESSAGE COMES IN\"**.\n4.  Paste your **n8n Test URL** (or your public tunnel URL from the previous step) into this field.\n5.  Ensure the dropdown next to it is set to `HTTP POST`.\n6.  Click **Save**.\n\n#### 6\\. Activate and Test Your Workflow ‚ñ∂Ô∏è\n\n1.  Go back to your n8n canvas.\n2.  Click **\"Test workflow\"** in the top right corner. This will put your webhook in a \"listening\" state.\n3.  Now, send a message from your personal WhatsApp to your configured Twilio WhatsApp number.\n4.  You should see the workflow execute successfully in n8n and receive a formatted reply on WhatsApp\\!\n5.  Once you've confirmed it works, **save and activate** the workflow to have it run permanently.\n\n## Further Reading üìö\n\n  * [n8n Webhook Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.webhook/)\n  * [n8n Twilio Node Documentation](https://docs.n8n.io/nodes/n8n-nodes-base.twilio/)\n  * [Perplexity API Documentation](https://docs.perplexity.ai/)\n  * [Anthropic API Documentation](https://docs.anthropic.com/en/api/getting-started)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Fetch Whatsapp Request",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Perform Deep Research",
      "type": "n8n-nodes-base.perplexity",
      "role": "perplexity",
      "configDescription": "Version 1"
    },
    {
      "name": "Refine Generated Output for Whatsapp",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Send Output in Whatsapp",
      "type": "n8n-nodes-base.twilio",
      "role": "twilio",
      "configDescription": "Version 1"
    },
    {
      "name": "Claude Sonnet 4",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "role": "lmChatAnthropic",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}