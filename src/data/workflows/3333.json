{
  "id": 3333,
  "slug": "3333",
  "title": "Generate PDF invoices with CustomJS API",
  "description": "\n![workflow.png](fileId:1056)\n# n8n Workflow: Invoice PDF Generator\n\nThis n8n workflow captures invoice data and generates a PDF invoice, ready to be sent or saved. It uses a webhook to trigger the process, preprocesses the invoice data, and converts it to a PDF using HTML and custom styling.\n\n[@custom-js/n8n-nodes-pdf-toolkit](@custom-js/n8n-nodes-pdf-toolkit)\n\n## Features:\n\n- **Webhook Trigger**: Receives incoming data, including invoice details.\n- **Preprocessing**: Transforms the invoice data into HTML format.\n- **HTML to PDF Conversion**: Converts the preprocessed HTML into a styled PDF document.\n- **Response**: Sends the generated PDF back to the webhook response.\n\n# Notice\n\nCommunity nodes can only be installed on self-hosted instances of n8n.\n\n## Requirements\n\n- **Self-hosted** n8n instance\n- A **CustomJS API key** for website screenshots.\n- **Invoice data** for PDF generation\n\n## Workflow Steps:\n\n1. **Webhook Trigger**:\n\n   - Accepts incoming data (e.g., invoice number, recipient details, itemized list).\n   - This data is passed to the next node for processing.\n\n2. **Set Data Node**:\n\n   - Configures initial values for the invoice, including the recipient, sender, invoice number, and the items on the invoice.\n   - The invoice details include information like description, unit price, and quantity.\n\n3. **Preprocess Node**:\n\n   - Processes the raw data to format it correctly for HTML. This includes splitting addresses and converting the items into an HTML table format.\n\n4. **HTML to PDF Conversion**:\n\n   - Converts the generated HTML into a PDF document. The HTML includes a header, a detailed invoice table, and a footer with contact information.\n\n5. **Respond to Webhook**:\n   - Returns the generated PDF as a response to the initial webhook request.\n\n---\n\n## Setup Guide:\n\n### 1. Configure CustomJS API\n\n- Sign up at [CustomJS](https://www.customjs.space).\n- Retrieve your API key from the profile page.\n![1.png](fileId:1057)\n- Add your API key as n8n credentials.\n![2.png](fileId:1055)\n\n### 2. Design Workflow\n\n1. **Create a Webhook**:\n\n   - Set up a webhook to trigger the workflow when invoice data is received.\n\n2. **Prepare Data**:\n\n   - Ensure the incoming request contains fields like \"Invoice No\", \"Bill To\", \"From\", and \"Details\" (list of items with price and quantity).\n\n3. **Customize the HTML**:\n\n   - The HTML template for the invoice includes custom styling to give the invoice a professional look.\n\n4. **Convert to PDF**:\n   - The **HTML to PDF** node is configured with the data generated from the preprocessing step to convert the invoice HTML to a PDF format.\n\n---\n\n## Example Invoice Data:\n\n```json\n{\n  \"Invoice No\": \"1\",\n  \"Bill To\": \"John Doe\\n1234 Elm St, Apt 567\\nCity, Country, 12345\",\n  \"From\": \"ABC Corporation\\n789 Business Ave\\nCity, Country, 67890\",\n  \"Details\": [\n    {\n      \"description\": \"Web Hosting\",\n      \"price\": 150,\n      \"qty\": 2\n    },\n    {\n      \"description\": \"Domain\",\n      \"price\": 15,\n      \"qty\": 5\n    }\n  ],\n  \"Email\": \"support@mycompany.com\"\n}\n```\n\n## Result PDF File\n![3.png](fileId:1058)\n",
  "featuredImage": "/data/workflows/3333/3333.webp",
  "author": {
    "id": 101,
    "slug": "customjs",
    "name": "CustomJS",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 7511,
  "downloads": 751,
  "createdAt": "2025-03-26T10:03:14.743Z",
  "updatedAt": "2026-01-16T08:29:14.088Z",
  "publishedAt": "2025-03-26T10:03:14.743Z",
  "nodes": 5,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3333",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate PDF invoices with CustomJS API",
    "workflowName": "Generate PDF invoices with CustomJS API",
    "description": "![workflow.png](fileId:1056)\n# n8n Workflow: Invoice PDF Generator\n\nThis n8n workflow captures invoice data and generates a PDF invoice, ready to be sent or saved. It uses a webhook to trigger the process, preprocesses the invoice data, and converts it to a PDF using HTML and custom styling.\n\n[@custom-js/n8n-nodes-pdf-toolkit](@custom-js/n8n-nodes-pdf-toolkit)\n\n## Features:\n\n- **Webhook Trigger**: Receives incoming data, including invoice details.\n- **Preprocessing**: Transforms the invoice data into HTML format.\n- **HTML to PDF Conversion**: Converts the preprocessed HTML into a styled PDF document.\n- **Response**: Sends the generated PDF back to the webhook response.\n\n# Notice\n\nCommunity nodes can only be installed on self-hosted instances of n8n.\n\n## Requirements\n\n- **Self-hosted** n8n instance\n- A **CustomJS API key** for website screenshots.\n- **Invoice data** for PDF generation\n\n## Workflow Steps:\n\n1. **Webhook Trigger**:\n\n   - Accepts incoming data (e.g., invoice number, recipient details, itemized list).\n   - This data is passed to the next node for processing.\n\n2. **Set Data Node**:\n\n   - Configures initial values for the invoice, including the recipient, sender, invoice number, and the items on the invoice.\n   - The invoice details include information like description, unit price, and quantity.\n\n3. **Preprocess Node**:\n\n   - Processes the raw data to format it correctly for HTML. This includes splitting addresses and converting the items into an HTML table format.\n\n4. **HTML to PDF Conversion**:\n\n   - Converts the generated HTML into a PDF document. The HTML includes a header, a detailed invoice table, and a footer with contact information.\n\n5. **Respond to Webhook**:\n   - Returns the generated PDF as a response to the initial webhook request.\n\n---\n\n## Setup Guide:\n\n### 1. Configure CustomJS API\n\n- Sign up at [CustomJS](https://www.customjs.space).\n- Retrieve your API key from the profile page.\n![1.png](fileId:1057)\n- Add your API key as n8n credentials.\n![2.png](fileId:1055)\n\n### 2. Design Workflow\n\n1. **Create a Webhook**:\n\n   - Set up a webhook to trigger the workflow when invoice data is received.\n\n2. **Prepare Data**:\n\n   - Ensure the incoming request contains fields like \"Invoice No\", \"Bill To\", \"From\", and \"Details\" (list of items with price and quantity).\n\n3. **Customize the HTML**:\n\n   - The HTML template for the invoice includes custom styling to give the invoice a professional look.\n\n4. **Convert to PDF**:\n   - The **HTML to PDF** node is configured with the data generated from the preprocessing step to convert the invoice HTML to a PDF format.\n\n---\n\n## Example Invoice Data:\n\n```json\n{\n  \"Invoice No\": \"1\",\n  \"Bill To\": \"John Doe\\n1234 Elm St, Apt 567\\nCity, Country, 12345\",\n  \"From\": \"ABC Corporation\\n789 Business Ave\\nCity, Country, 67890\",\n  \"Details\": [\n    {\n      \"description\": \"Web Hosting\",\n      \"price\": 150,\n      \"qty\": 2\n    },\n    {\n      \"description\": \"Domain\",\n      \"price\": 15,\n      \"qty\": 5\n    }\n  ],\n  \"Email\": \"support@mycompany.com\"\n}\n```\n\n## Result PDF File\n![3.png](fileId:1058)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "HTML to PDF",
      "type": "@custom-js/n8n-nodes-pdf-toolkit.html2Pdf",
      "role": "html2Pdf",
      "configDescription": "Version 1"
    },
    {
      "name": "Preprocess",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Set data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1.1"
    }
  ]
}