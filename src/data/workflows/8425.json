{
  "id": 8425,
  "slug": "8425",
  "title": "Manage recipes with AI-powered Telegram bot and Google Sheets database",
  "description": "## Transform Your Telegram into a Smart Recipe Assistant!\n\nTired of scrolling through messy notes and bookmarks to find your favorite recipes? Wish you had a personal chef's assistant to help you in the kitchen?\n\nIntroducing the **Culinary Companion for Telegram**, an n8n workflow that turns your Telegram app into a powerful, AI-driven recipe management tool, using Google Sheets as your database.\n\n---\n\n## üöÄ Key Features\n*   **Telegram Bot Interface:** Interact with your recipe book using simple text commands.\n*   **Google Sheets Database:** Your single source of truth for recipes, easily viewable and editable outside of Telegram.\n*   **AI-Powered Recipe Assistant:** Utilizes Google Gemini or OpenAI to understand natural language for creating, modifying, and searching for recipes.\n*   **Full Recipe Management (CRUD):**\n    *   **Create:** Add new recipes conversationally.\n    *   **Read:** Fetch your full recipe list or view a single, detailed recipe card.\n    *   **Update:** Modify existing recipes with AI assistance.\n*   **Command-Driven & AI-Driven:** Use simple commands for direct actions (`/list`, `/select`) or have a conversation with the AI for more complex tasks (`/search`, `/create`, `/modify`).\n*   **Formatted for Mobile:** All responses are sent in clean, readable Markdown, perfect for viewing on the go.\n\n---\n\n## ‚öôÔ∏è How It Works\n\nThe workflow is triggered by messages sent to your Telegram bot. A central **Command Router** (`Switch` node) determines the user's intent and directs the flow to the appropriate tool.\n\n### 1. Command Routing\n*   A **Telegram Trigger** node listens for any new message.\n*   The **Command Router** (`Switch` node) immediately inspects the message text for keywords like `/list`, `/select`, `/create`, etc.\n*   Based on the command, the workflow branches into either a simple data fetch or a more complex AI-powered action.\n\n### 2. Simple Recipe Lookups (`/list` & `/select`)\n*   **`/list`:**\n    1.  The **Read Recipe Names** (`Google Sheets` node) fetches all values from column A of your sheet.\n    2.  A **Format List Message** (`Code` node) transforms the raw data into a clean, numbered list.\n    3.  The formatted list is sent to you via the **Telegram Send Recipe List** node.\n*   **`/select [recipe name]`:**\n    1.  The **Extract Select Param** (`Code` node) isolates the recipe name from your command.\n    2.  The **Lookup Recipe Row** (`Google Sheets` node) searches for that specific recipe in your sheet and returns its full row of data.\n    3.  A **Format Full Recipe** (`Code` node) assembles the data into a beautifully formatted recipe card, complete with emojis and sections for ingredients, instructions, and notes.\n    4.  The final recipe card is sent via the **Telegram Send Full Recipe** node.\n\n### 3. AI-Powered Recipe Management (`/search`, `/create`, `/modify`)\nFor more complex tasks, the workflow leverages a powerful AI agent.\n\n*   The user's command (e.g., `/search chicken and rice` or `/create a pasta dish`) is passed to the **Recipe AI Agent**.\n*   This agent is powered by either **Google Gemini** or an **OpenAI Model**.\n*   It is given a specific **system prompt** to act as a helpful, food-focused assistant with access to a set of tools.\n*   **Tools Available to the AI:**\n    *   **Read Recipes Sheet:** Allows the AI to read the entire Google Sheet to answer broad questions or find recipes based on ingredients.\n    *   **Update Recipes Sheet:** Gives the AI the power to add new rows (new recipes) or modify existing ones based on your conversation.\n    *   **Think:** A tool that allows the agent to process complex requests step-by-step before acting.\n*   **Conversation Memory:** The agent remembers the last few messages, allowing you to have a natural, back-and-forth conversation (e.g., \"Create a new recipe\" -&gt; \"What should it be called?\" -&gt; \"Spicy Tacos\").\n*   The AI's final, formatted response is sent back to you via the **Telegram Send AI Response** node.\n\n---\n\n## üõ†Ô∏è Setup Steps & Credentials\n\n1.  **Telegram Bot:**\n    *   Create a bot with `@BotFather` on Telegram to get your API token.\n    *   Add this token as a credential for the **Telegram Trigger** and all **Telegram** sender nodes.\n\n2.  **Google Sheets:**\n    *   Create a new Google Sheet.\n    *   Set up the first row with headers: `Recipe Name`, `Cooking Time`, `Ingredients`, `Instructions`, `Notes`.\n    *   Copy the **Sheet ID** from the URL (it's the long string of characters in the middle).\n    *   Paste the Sheet ID into the relevant fields in the **Read Recipe Names**, **Lookup Recipe Row**, and the **Google Sheets Tools** (`Read Recipes Sheet`, `Update Recipes Sheet`).\n    *   Create Google OAuth2 credentials and connect them to all `Google Sheets` and `Google Sheets Tool` nodes.\n\n3.  **AI Provider (Choose One):**\n    *   **For Google Gemini:** Get an API key from Google AI Studio, create a `Google Gemini(PaLM) Api` credential, and connect it to the **Google Gemini Chat Model** node.\n    *   **For OpenAI:** Get an API key from OpenAI, create an `OpenAI` credential, and connect it to the **OpenAI Chat Model** node.\n    *   *Note:* You only need to enable one of the two AI models.\n\n---\n\n## üí° Customization & Learning\n\n*   **Expand Your Database:** Add more columns to your Google Sheet like `Cuisine`, `Difficulty`, or `Rating`, and modify the **Format Full Recipe** node to display them.\n*   **Enhance the AI:** Edit the system prompt in the **Recipe AI Agent** to change its personality or give it more specific instructions.\n*   **Add New Tools:** Create new tools for the AI agent, such as a function to fetch nutritional information from an external API based on ingredients.\n*   **Different Triggers:** Instead of a Telegram bot, you could trigger the `/create` function from a simple web form.\n",
  "featuredImage": "/data/workflows/8425/8425.webp",
  "author": {
    "id": 101,
    "slug": "devgor",
    "name": "Issam AGGOUR",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 59,
  "downloads": 5,
  "createdAt": "2025-09-09T16:35:52.940Z",
  "updatedAt": "2026-01-16T08:55:44.550Z",
  "publishedAt": "2025-09-09T16:35:52.940Z",
  "nodes": 41,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8425",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Manage recipes with AI-powered Telegram bot and Google Sheets database",
    "workflowName": "Manage recipes with AI-powered Telegram bot and Google Sheets database",
    "description": "## Transform Your Telegram into a Smart Recipe Assistant!\n\nTired of scrolling through messy notes and bookmarks to find your favorite recipes? Wish you had a personal chef's assistant to help you in the kitchen?\n\nIntroducing the **Culinary Companion for Telegram**, an n8n workflow that turns your Telegram app into a powerful, AI-driven recipe management tool, using Google Sheets as your database.\n\n---\n\n## üöÄ Key Features\n*   **Telegram Bot Interface:** Interact with your recipe book using simple text commands.\n*   **Google Sheets Database:** Your single source of truth for recipes, easily viewable and editable outside of Telegram.\n*   **AI-Powered Recipe Assistant:** Utilizes Google Gemini or OpenAI to understand natural language for creating, modifying, and searching for recipes.\n*   **Full Recipe Management (CRUD):**\n    *   **Create:** Add new recipes conversationally.\n    *   **Read:** Fetch your full recipe list or view a single, detailed recipe card.\n    *   **Update:** Modify existing recipes with AI assistance.\n*   **Command-Driven & AI-Driven:** Use simple commands for direct actions (`/list`, `/select`) or have a conversation with the AI for more complex tasks (`/search`, `/create`, `/modify`).\n*   **Formatted for Mobile:** All responses are sent in clean, readable Markdown, perfect for viewing on the go.\n\n---\n\n## ‚öôÔ∏è How It Works\n\nThe workflow is triggered by messages sent to your Telegram bot. A central **Command Router** (`Switch` node) determines the user's intent and directs the flow to the appropriate tool.\n\n### 1. Command Routing\n*   A **Telegram Trigger** node listens for any new message.\n*   The **Command Router** (`Switch` node) immediately inspects the message text for keywords like `/list`, `/select`, `/create`, etc.\n*   Based on the command, the workflow branches into either a simple data fetch or a more complex AI-powered action.\n\n### 2. Simple Recipe Lookups (`/list` & `/select`)\n*   **`/list`:**\n    1.  The **Read Recipe Names** (`Google Sheets` node) fetches all values from column A of your sheet.\n    2.  A **Format List Message** (`Code` node) transforms the raw data into a clean, numbered list.\n    3.  The formatted list is sent to you via the **Telegram Send Recipe List** node.\n*   **`/select [recipe name]`:**\n    1.  The **Extract Select Param** (`Code` node) isolates the recipe name from your command.\n    2.  The **Lookup Recipe Row** (`Google Sheets` node) searches for that specific recipe in your sheet and returns its full row of data.\n    3.  A **Format Full Recipe** (`Code` node) assembles the data into a beautifully formatted recipe card, complete with emojis and sections for ingredients, instructions, and notes.\n    4.  The final recipe card is sent via the **Telegram Send Full Recipe** node.\n\n### 3. AI-Powered Recipe Management (`/search`, `/create`, `/modify`)\nFor more complex tasks, the workflow leverages a powerful AI agent.\n\n*   The user's command (e.g., `/search chicken and rice` or `/create a pasta dish`) is passed to the **Recipe AI Agent**.\n*   This agent is powered by either **Google Gemini** or an **OpenAI Model**.\n*   It is given a specific **system prompt** to act as a helpful, food-focused assistant with access to a set of tools.\n*   **Tools Available to the AI:**\n    *   **Read Recipes Sheet:** Allows the AI to read the entire Google Sheet to answer broad questions or find recipes based on ingredients.\n    *   **Update Recipes Sheet:** Gives the AI the power to add new rows (new recipes) or modify existing ones based on your conversation.\n    *   **Think:** A tool that allows the agent to process complex requests step-by-step before acting.\n*   **Conversation Memory:** The agent remembers the last few messages, allowing you to have a natural, back-and-forth conversation (e.g., \"Create a new recipe\" -&gt; \"What should it be called?\" -&gt; \"Spicy Tacos\").\n*   The AI's final, formatted response is sent back to you via the **Telegram Send AI Response** node.\n\n---\n\n## üõ†Ô∏è Setup Steps & Credentials\n\n1.  **Telegram Bot:**\n    *   Create a bot with `@BotFather` on Telegram to get your API token.\n    *   Add this token as a credential for the **Telegram Trigger** and all **Telegram** sender nodes.\n\n2.  **Google Sheets:**\n    *   Create a new Google Sheet.\n    *   Set up the first row with headers: `Recipe Name`, `Cooking Time`, `Ingredients`, `Instructions`, `Notes`.\n    *   Copy the **Sheet ID** from the URL (it's the long string of characters in the middle).\n    *   Paste the Sheet ID into the relevant fields in the **Read Recipe Names**, **Lookup Recipe Row**, and the **Google Sheets Tools** (`Read Recipes Sheet`, `Update Recipes Sheet`).\n    *   Create Google OAuth2 credentials and connect them to all `Google Sheets` and `Google Sheets Tool` nodes.\n\n3.  **AI Provider (Choose One):**\n    *   **For Google Gemini:** Get an API key from Google AI Studio, create a `Google Gemini(PaLM) Api` credential, and connect it to the **Google Gemini Chat Model** node.\n    *   **For OpenAI:** Get an API key from OpenAI, create an `OpenAI` credential, and connect it to the **OpenAI Chat Model** node.\n    *   *Note:* You only need to enable one of the two AI models.\n\n---\n\n## üí° Customization & Learning\n\n*   **Expand Your Database:** Add more columns to your Google Sheet like `Cuisine`, `Difficulty`, or `Rating`, and modify the **Format Full Recipe** node to display them.\n*   **Enhance the AI:** Edit the system prompt in the **Recipe AI Agent** to change its personality or give it more specific instructions.\n*   **Add New Tools:** Create new tools for the AI agent, such as a function to fetch nutritional information from an external API based on ingredients.\n*   **Different Triggers:** Instead of a Telegram bot, you could trigger the `/create` function from a simple web form.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Read Recipe Names",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 1"
    },
    {
      "name": "Format List Message",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram Send Recipe List",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Select Param",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Lookup Recipe Row",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 1"
    },
    {
      "name": "Format Full Recipe",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram Send Full Recipe",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram Send AI Response",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Command Router",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Recipe AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Conversation Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Think",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "role": "toolThink",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Read Recipes Sheet",
      "type": "n8n-nodes-base.googleSheetsTool",
      "role": "googleSheetsTool",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Update Recipes Sheet",
      "type": "n8n-nodes-base.googleSheetsTool",
      "role": "googleSheetsTool",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Telegram Send Menu",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Search Term",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Prepare Recipe Creation",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Prepare Recipe Modification",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}