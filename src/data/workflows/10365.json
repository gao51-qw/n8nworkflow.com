{
  "id": 10365,
  "slug": "10365",
  "title": "Build a website AI chatbot with lead capture using Gemini and Supabase RAG",
  "description": "This workflow deploys a fully customizable AI chatbot that can be embedded on any website, from custom-coded sites to platforms like WordPress. The chatbot is powered by n8n, uses Supabase for memory and RAG, and integrates SerpAPI, Google Calendar, SMTP, and Google Sheets to automate responses, collect leads, and follow up intelligently.\n\nUnlike typical widgets, this bot captures name and email before chatting, enabling personalized, human-like conversations and smart lead tracking. Check [demo here](here) \n\n## üéØ Core Features\n\nüí° Universal Embedding ‚Äì Works on any site (custom HTML or WordPress) using a single embed snippet.\n\nüß† AI Agent Node + RAG ‚Äì Powered by Gemini (or any AI model) with Supabase as memory for contextual replies.\n\nüåê SerpAPI Integration ‚Äì Lets the agent search the internet for real-time information.\n\nüìÖ Google Calendar & Sheets ‚Äì Logs leads, appointments, and chat summaries.\n\nüìß SMTP Node ‚Äì Sends personalized follow-up emails directly to new leads.\n\nü™™ Lead Capture ‚Äì Requires users to enter their name and email before chatting, creating personalized sessions.\n\n### ‚öôÔ∏è How It Works\n\nChat Trigger: The widget sends user input to your n8n webhook set to production mode.\n\nAI Processing: The AI Agent node handles the response logic with memory and RAG context from Supabase.\n\n### Integrations:\n\nSerpAPI ‚Üí Real-time search.\n\nGoogle Calendar & Sheets ‚Üí Stores lead data and events.\n\nSMTP Node ‚Üí Sends automatic thank-you or follow-up emails.\n\nResponse: The chatbot replies instantly on your website, maintaining session memory.\n\n### üß© Quick Setup Steps\n\nFork or use the Open Source Repo:\nThe widget script is hosted via CDN from your GitHub repo and is fully editable.\n\n### Embed the Widget:\nCopy and paste the following snippet into your site‚Äôs &lt;head&gt; or footer (or use a plugin like Insert Headers and Footers on WordPress):\n\n\n```\n\n&lt;link href=\"https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css\" rel=\"stylesheet\" /&gt;\n&lt;script&gt;\n    window.ChatWidgetConfig = {\n        webhook: {\n            url: '', // production webhook URL\n            route: 'general'\n        },\n        branding: {\n            logo: '', // your logo URL\n            name: 'CustomCX Agent',\n            welcomeText: 'Hi üëã, how can we help?',\n            responseTimeText: 'We typically respond right away',\n        },\n        style: {\n            primaryColor: '#854fff',\n            secondaryColor: '#6b3fd4',\n            position: 'right',\n            backgroundColor: '#ffffff',\n            fontColor: '#333333',\n        }\n    };\n&lt;/script&gt;\n&lt;script src=\"https://cdn.jsdelivr.net/gh/shadrack-ago/n8n/widget.js?v=2.6\"&gt;&lt;/script&gt;\n\n\n```\n\n\n## Connect Integrations:\n\nAdd your Supabase, SerpAPI, Google, and SMTP credentials in n8n.\n\nUpdate your webhook URL in the script above.\n\nDeploy:\nActivate the workflow, refresh your site, and start chatting with your AI assistant.\n\nüöÄ Why Use This Template\n\nWorks with any website or CMS.\n\nCaptures and stores qualified leads automatically.\n\nOpen source ‚Äî easily modify, brand, or extend it.\n\nSeamlessly integrates AI, CRM, and communication tools.",
  "featuredImage": "/data/workflows/10365/10365.webp",
  "author": {
    "id": 101,
    "slug": "shadrack",
    "name": "Shadrack",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 196,
  "downloads": 19,
  "createdAt": "2025-10-30T19:00:26.539Z",
  "updatedAt": "2026-01-16T09:04:44.165Z",
  "publishedAt": "2025-10-30T19:00:26.539Z",
  "nodes": 24,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10365",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Build a website AI chatbot with lead capture using Gemini and Supabase RAG",
    "workflowName": "Build a website AI chatbot with lead capture using Gemini and Supabase RAG",
    "description": "This workflow deploys a fully customizable AI chatbot that can be embedded on any website, from custom-coded sites to platforms like WordPress. The chatbot is powered by n8n, uses Supabase for memory and RAG, and integrates SerpAPI, Google Calendar, SMTP, and Google Sheets to automate responses, collect leads, and follow up intelligently.\n\nUnlike typical widgets, this bot captures name and email before chatting, enabling personalized, human-like conversations and smart lead tracking. Check [demo here](here) \n\n## üéØ Core Features\n\nüí° Universal Embedding ‚Äì Works on any site (custom HTML or WordPress) using a single embed snippet.\n\nüß† AI Agent Node + RAG ‚Äì Powered by Gemini (or any AI model) with Supabase as memory for contextual replies.\n\nüåê SerpAPI Integration ‚Äì Lets the agent search the internet for real-time information.\n\nüìÖ Google Calendar & Sheets ‚Äì Logs leads, appointments, and chat summaries.\n\nüìß SMTP Node ‚Äì Sends personalized follow-up emails directly to new leads.\n\nü™™ Lead Capture ‚Äì Requires users to enter their name and email before chatting, creating personalized sessions.\n\n### ‚öôÔ∏è How It Works\n\nChat Trigger: The widget sends user input to your n8n webhook set to production mode.\n\nAI Processing: The AI Agent node handles the response logic with memory and RAG context from Supabase.\n\n### Integrations:\n\nSerpAPI ‚Üí Real-time search.\n\nGoogle Calendar & Sheets ‚Üí Stores lead data and events.\n\nSMTP Node ‚Üí Sends automatic thank-you or follow-up emails.\n\nResponse: The chatbot replies instantly on your website, maintaining session memory.\n\n### üß© Quick Setup Steps\n\nFork or use the Open Source Repo:\nThe widget script is hosted via CDN from your GitHub repo and is fully editable.\n\n### Embed the Widget:\nCopy and paste the following snippet into your site‚Äôs &lt;head&gt; or footer (or use a plugin like Insert Headers and Footers on WordPress):\n\n\n```\n\n&lt;link href=\"https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css\" rel=\"stylesheet\" /&gt;\n&lt;script&gt;\n    window.ChatWidgetConfig = {\n        webhook: {\n            url: '', // production webhook URL\n            route: 'general'\n        },\n        branding: {\n            logo: '', // your logo URL\n            name: 'CustomCX Agent',\n            welcomeText: 'Hi üëã, how can we help?',\n            responseTimeText: 'We typically respond right away',\n        },\n        style: {\n            primaryColor: '#854fff',\n            secondaryColor: '#6b3fd4',\n            position: 'right',\n            backgroundColor: '#ffffff',\n            fontColor: '#333333',\n        }\n    };\n&lt;/script&gt;\n&lt;script src=\"https://cdn.jsdelivr.net/gh/shadrack-ago/n8n/widget.js?v=2.6\"&gt;&lt;/script&gt;\n\n\n```\n\n\n## Connect Integrations:\n\nAdd your Supabase, SerpAPI, Google, and SMTP credentials in n8n.\n\nUpdate your webhook URL in the script above.\n\nDeploy:\nActivate the workflow, refresh your site, and start chatting with your AI assistant.\n\nüöÄ Why Use This Template\n\nWorks with any website or CMS.\n\nCaptures and stores qualified leads automatically.\n\nOpen source ‚Äî easily modify, brand, or extend it.\n\nSeamlessly integrates AI, CRM, and communication tools.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Drive Trigger",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Drive Trigger1",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Download file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Recursive Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Knowledgebase",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Think",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "role": "toolThink",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Calculator",
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "role": "toolCalculator",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Support Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "conversation buffer",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Deletes old records",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Set the fields for mapping",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Code Tool",
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "role": "toolCode",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Data Normalizer",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}