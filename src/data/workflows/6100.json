{
  "id": 6100,
  "slug": "6100",
  "title": "E-commerce assistant for Shopify & WooCommerce with GPT-4o, Gemini & RAG",
  "description": "## ü§ñ Universal E-Commerce AI Assistant (Shopify, WooCommerce & RAG)\n\nThis powerful n8n workflow deploys a sophisticated, multi-talented AI chatbot designed to streamline your e-commerce and customer support operations. The AI assistant can intelligently understand user queries and route them to the correct specialized agent, whether it's for **Shopify**, **WooCommerce**, or general knowledge questions answered by a **Retrieval-Augmented Generation (RAG)** system.\n\nThis template automates responses to a wide range of inquiries, from checking Shopify order statuses with GraphQL to fetching product lists from WooCommerce, and even answering general questions by looking up information in a Pinecone vector database.\n\n### How It Works ‚öôÔ∏è\n\nThe workflow operates in a series of logical steps, starting from the moment a user sends a message.\n\n1.  **üí¨ Chat Trigger:** The workflow activates when a user sends a message in the n8n chat interface. It captures the user's input and a unique session ID to track the conversation.\n\n2.  **üß† Intelligent Routing:** The user's query is first sent to a **Router Agent** powered by GPT-4o-mini. This agent's sole purpose is to classify the intent of the message and output one of three keywords: `SHOPIFY`, `WOOCOMMERCE`, or `None of them`.\n\n3.  **üîÄ Conditional Branching:** Based on the Router's output, a series of IF nodes direct the conversation down one of three paths:\n\n      * **General Queries Path**\n      * **Shopify Path**\n      * **WooCommerce Path**\n\n4.  **üìö General Queries (RAG):** If the query is not about e-commerce, it's handled by a RAG agent.\n\n      * **Embedding:** The user's question is converted into a vector embedding using **AWS Bedrock**.\n      * **Retrieval:** The workflow searches a **Pinecone Vector Store** to find the most relevant information from your knowledge base.\n      * **Generation:** A **GPT-4o-mini** agent receives the context from Pinecone and generates a comprehensive, helpful answer.\n\n5.  **üõçÔ∏è E-Commerce Specialists:** If the query is about Shopify or WooCommerce, it's passed to a dedicated agent.\n\n      * **Shopify Agent:** This agent uses **Google Gemini** and has a suite of tools to manage Shopify tasks. It can `Get Order info`, `Fetch All Products`, or run complex queries using the powerful **GraphQL** tool.\n      * **WooCommerce Agent:** This agent also uses **Google Gemini** and is equipped with tools to `Fetch Order Details` and `Fetch All Products` from a WooCommerce store.\n\n6.  **üó£Ô∏è Conversation Memory:** Each agent (Router, General, Shopify, WooCommerce) is connected to its own Memory node. This allows the chatbot to remember previous parts of the conversation for a more natural and context-aware interaction.\n\n7.  **üèÅ Merge & Respond:** All three paths converge at a final **Merge** node. This ensures that no matter which agent handled the request, the final answer is streamlined into a single output and sent back to the user in the chat.\n\n### Nodes Used üîó\n\n  * **Triggers:**\n      * **Chat Trigger**: Starts the workflow when a chat message is received.\n  * **AI & Agents:**\n      * **AI Agent**: Four separate agents for Routing, Shopify, WooCommerce, and General Queries.\n      * **OpenAI Chat Model**: Uses GPT-4o-mini for the Router and General Queries agent.\n      * **Google Gemini Chat Model**: Uses Google Gemini for the Shopify and WooCommerce agents.\n  * **Tools & Data:**\n      * **Shopify Tool**: To get products and order information from Shopify.\n      * **WooCommerce Tool**: To get products and order information from WooCommerce.\n      * **GraphQL Tool**: For advanced, custom queries to the Shopify API.\n      * **Pinecone Vector Store**: To retrieve context for the RAG agent.\n      * **AWS Bedrock Embeddings**: To create vector embeddings for Pinecone.\n  * **Logic & Memory:**\n      * **IF Node**: To conditionally route the workflow.\n      * **Merge Node**: To consolidate the different branches before ending.\n      * **Window Buffer Memory**: Four nodes to provide conversational memory to each agent.\n\n### Setup Guide üõ†Ô∏è\n\nTo use this workflow, you'll need to configure several nodes with your own credentials and settings.\n\n#### 1\\. AI Model Credentials\n\n  * **OpenAI:** Create an API key in your [OpenAI Platform](https://platform.openai.com/api-keys) dashboard. Add this credential to the **Router Model** and **GPT-4o-mini** nodes.\n  * **Google Gemini:** Create an API key in your [Google AI Studio](https://aistudio.google.com/app/apikey) dashboard. Add this credential to the **Shopify Chat Model** and **WooCommerce Chat Model** nodes.\n\n#### 2\\. E-Commerce Platform Credentials\n\n  * **Shopify:** You will need a Shopify Access Token. Follow the [n8n documentation](https://docs.n8n.io/integrations/builtin/credentials/shopify/) to generate one. Add the credential to the **Fetch All Products** and **Get Order info** nodes.\n  * **WooCommerce:** Create API credentials from your WordPress dashboard. Add the credential to the **Fetch All Products2** and **Fetch Order Details** nodes.\n\n#### 3\\. RAG System Credentials (Pinecone & AWS)\n\n  * **Pinecone:**\n      * Sign up for a [Pinecone](https://www.pinecone.io/) account and create an API key.\n      * Add your Pinecone credentials in n8n.\n      * In the **Pinecone Vector Store** node, set the `pineconeIndex` to the name of your index. You must have a pre-existing index with data for the RAG to work.\n  * **AWS:**\n      * Create an AWS account and an IAM user with programmatic access to **Amazon Bedrock**.\n      * Add your AWS credentials in n8n.\n      * Select your AWS credentials in the **AWS Bedrock Embeddings** node.\n\n#### 4\\. GraphQL Node Configuration\n\n  * In the **GraphQL** node, you must update the `endpoint` URL. Replace the placeholder `https://{subdomain}.myshopify.com/admin/api/2025-04/graphql.json` with your own Shopify store's GraphQL API endpoint.",
  "featuredImage": "/data/workflows/6100/6100.webp",
  "author": {
    "id": 101,
    "slug": "harshmaniya1",
    "name": "Harsh Maniya",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 2776,
  "downloads": 277,
  "createdAt": "2025-07-17T18:08:58.095Z",
  "updatedAt": "2026-01-16T08:43:08.280Z",
  "publishedAt": "2025-07-17T18:08:58.095Z",
  "nodes": 32,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6100",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "E-commerce assistant for Shopify & WooCommerce with GPT-4o, Gemini & RAG",
    "workflowName": "E-commerce assistant for Shopify & WooCommerce with GPT-4o, Gemini & RAG",
    "description": "## ü§ñ Universal E-Commerce AI Assistant (Shopify, WooCommerce & RAG)\n\nThis powerful n8n workflow deploys a sophisticated, multi-talented AI chatbot designed to streamline your e-commerce and customer support operations. The AI assistant can intelligently understand user queries and route them to the correct specialized agent, whether it's for **Shopify**, **WooCommerce**, or general knowledge questions answered by a **Retrieval-Augmented Generation (RAG)** system.\n\nThis template automates responses to a wide range of inquiries, from checking Shopify order statuses with GraphQL to fetching product lists from WooCommerce, and even answering general questions by looking up information in a Pinecone vector database.\n\n### How It Works ‚öôÔ∏è\n\nThe workflow operates in a series of logical steps, starting from the moment a user sends a message.\n\n1.  **üí¨ Chat Trigger:** The workflow activates when a user sends a message in the n8n chat interface. It captures the user's input and a unique session ID to track the conversation.\n\n2.  **üß† Intelligent Routing:** The user's query is first sent to a **Router Agent** powered by GPT-4o-mini. This agent's sole purpose is to classify the intent of the message and output one of three keywords: `SHOPIFY`, `WOOCOMMERCE`, or `None of them`.\n\n3.  **üîÄ Conditional Branching:** Based on the Router's output, a series of IF nodes direct the conversation down one of three paths:\n\n      * **General Queries Path**\n      * **Shopify Path**\n      * **WooCommerce Path**\n\n4.  **üìö General Queries (RAG):** If the query is not about e-commerce, it's handled by a RAG agent.\n\n      * **Embedding:** The user's question is converted into a vector embedding using **AWS Bedrock**.\n      * **Retrieval:** The workflow searches a **Pinecone Vector Store** to find the most relevant information from your knowledge base.\n      * **Generation:** A **GPT-4o-mini** agent receives the context from Pinecone and generates a comprehensive, helpful answer.\n\n5.  **üõçÔ∏è E-Commerce Specialists:** If the query is about Shopify or WooCommerce, it's passed to a dedicated agent.\n\n      * **Shopify Agent:** This agent uses **Google Gemini** and has a suite of tools to manage Shopify tasks. It can `Get Order info`, `Fetch All Products`, or run complex queries using the powerful **GraphQL** tool.\n      * **WooCommerce Agent:** This agent also uses **Google Gemini** and is equipped with tools to `Fetch Order Details` and `Fetch All Products` from a WooCommerce store.\n\n6.  **üó£Ô∏è Conversation Memory:** Each agent (Router, General, Shopify, WooCommerce) is connected to its own Memory node. This allows the chatbot to remember previous parts of the conversation for a more natural and context-aware interaction.\n\n7.  **üèÅ Merge & Respond:** All three paths converge at a final **Merge** node. This ensures that no matter which agent handled the request, the final answer is streamlined into a single output and sent back to the user in the chat.\n\n### Nodes Used üîó\n\n  * **Triggers:**\n      * **Chat Trigger**: Starts the workflow when a chat message is received.\n  * **AI & Agents:**\n      * **AI Agent**: Four separate agents for Routing, Shopify, WooCommerce, and General Queries.\n      * **OpenAI Chat Model**: Uses GPT-4o-mini for the Router and General Queries agent.\n      * **Google Gemini Chat Model**: Uses Google Gemini for the Shopify and WooCommerce agents.\n  * **Tools & Data:**\n      * **Shopify Tool**: To get products and order information from Shopify.\n      * **WooCommerce Tool**: To get products and order information from WooCommerce.\n      * **GraphQL Tool**: For advanced, custom queries to the Shopify API.\n      * **Pinecone Vector Store**: To retrieve context for the RAG agent.\n      * **AWS Bedrock Embeddings**: To create vector embeddings for Pinecone.\n  * **Logic & Memory:**\n      * **IF Node**: To conditionally route the workflow.\n      * **Merge Node**: To consolidate the different branches before ending.\n      * **Window Buffer Memory**: Four nodes to provide conversational memory to each agent.\n\n### Setup Guide üõ†Ô∏è\n\nTo use this workflow, you'll need to configure several nodes with your own credentials and settings.\n\n#### 1\\. AI Model Credentials\n\n  * **OpenAI:** Create an API key in your [OpenAI Platform](https://platform.openai.com/api-keys) dashboard. Add this credential to the **Router Model** and **GPT-4o-mini** nodes.\n  * **Google Gemini:** Create an API key in your [Google AI Studio](https://aistudio.google.com/app/apikey) dashboard. Add this credential to the **Shopify Chat Model** and **WooCommerce Chat Model** nodes.\n\n#### 2\\. E-Commerce Platform Credentials\n\n  * **Shopify:** You will need a Shopify Access Token. Follow the [n8n documentation](https://docs.n8n.io/integrations/builtin/credentials/shopify/) to generate one. Add the credential to the **Fetch All Products** and **Get Order info** nodes.\n  * **WooCommerce:** Create API credentials from your WordPress dashboard. Add the credential to the **Fetch All Products2** and **Fetch Order Details** nodes.\n\n#### 3\\. RAG System Credentials (Pinecone & AWS)\n\n  * **Pinecone:**\n      * Sign up for a [Pinecone](https://www.pinecone.io/) account and create an API key.\n      * Add your Pinecone credentials in n8n.\n      * In the **Pinecone Vector Store** node, set the `pineconeIndex` to the name of your index. You must have a pre-existing index with data for the RAG to work.\n  * **AWS:**\n      * Create an AWS account and an IAM user with programmatic access to **Amazon Bedrock**.\n      * Add your AWS credentials in n8n.\n      * Select your AWS credentials in the **AWS Bedrock Embeddings** node.\n\n#### 4\\. GraphQL Node Configuration\n\n  * In the **GraphQL** node, you must update the `endpoint` URL. Replace the placeholder `https://{subdomain}.myshopify.com/admin/api/2025-04/graphql.json` with your own Shopify store's GraphQL API endpoint.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Fetch All Products",
      "type": "n8n-nodes-base.shopifyTool",
      "role": "shopifyTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Order info",
      "type": "n8n-nodes-base.shopifyTool",
      "role": "shopifyTool",
      "configDescription": "Version 1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "General Queries",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Route To Shopify or WooCommerce",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Shopify Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "WooCommerce Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Pinecone Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "role": "vectorStorePinecone",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Embeddings AWS Bedrock",
      "type": "@n8n/n8n-nodes-langchain.embeddingsAwsBedrock",
      "role": "embeddingsAwsBedrock",
      "configDescription": "Version 1"
    },
    {
      "name": "Check if Its General query",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Fetch All Products2",
      "type": "n8n-nodes-base.wooCommerceTool",
      "role": "wooCommerceTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Order Details",
      "type": "n8n-nodes-base.wooCommerceTool",
      "role": "wooCommerceTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Memory RAG",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "WooCommerce Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Shopify Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "GraphQL",
      "type": "n8n-nodes-base.graphqlTool",
      "role": "graphqlTool",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Router Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "GPT-4o-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Initial Query Router",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Shopify Assistant Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "WooCommerce Assistant Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    }
  ]
}