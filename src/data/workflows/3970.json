{
  "id": 3970,
  "slug": "3970",
  "title": "Secure API endpoint with bearer token authentication and field validation",
  "description": "A reusable and production-ready n8n workflow that secures public webhooks using **Bearer Token authentication** and **dynamic request validation**.\n\n---\n\n## ‚ú® What It Does\n\n- **Verifies Bearer Token**  \n  Compares the `Authorization` header with a configured secret token.\n\n- **Validates Required Fields**  \n  Checks that all expected fields are present in the incoming request body.\n\n- **Returns Standardized JSON Responses**  \n  - `401 Unauthorized` if token is missing or invalid  \n  - `400 Bad Request` if required fields are missing  \n  - `200 OK` with a custom success payload\n\n---\n\n## üë§ Who It‚Äôs For\n\n- Developers exposing n8n workflows as APIs\n- No-code/low-code builders integrating with external forms or tools\n- Anyone needing simple authentication and validation on incoming webhooks\n\n---\n\n## üí° Why Use It\n\n- üîí **Secure**: Prevents unauthorized access to your public workflows\n- üßº **Clean**: Centralized configuration for token and required fields\n- ‚öôÔ∏è **Flexible**: Easy to extend and customize for any use case\n\n---\n\n## üõ† Setup Instructions\n\n1. **Configure Values in the `Configuration` Node**\n   - Set your secret token:  \n     `config.bearerToken = YOUR_TOKEN`\n   - Define required request fields by key:  \n     Example:  \n     ```\n     config.requiredFields.message = true;\n     config.requiredFields.email = true;\n     ```\n      ‚úÖ Only the **keys** matter ‚Äì values can be anything.\n\n2. **Plug in Your Business Logic**  \n   Replace the `\"Add workflow nodes here\"` with your own logic.\n\n3. **Customize the Success Response**  \n   Edit the `Create Response` node to shape your success payload.\n\n---\n\n## üß™ Use Cases\n\n- Securing public form submissions \n- Creating internal API endpoints\n- Validating data from external services\n\n---\n\nüìå *Use this as a base for building secure, API-style workflows in n8n.*\n\n---\n**üëã Hello! I'm [Audun / xqus](https://xqus.com)** \n\nIf my n8n workflows saved you time or sparked ideas, [consider sending a little support](https://donate.stripe.com/9AQ6ps6Kna3t8Vi28b) my way. It helps me keep building cool stuff ‚Äî and maybe grab a coffee ‚òï along the way!",
  "featuredImage": "/data/workflows/3970/3970.webp",
  "author": {
    "id": 101,
    "slug": "xqus",
    "name": "Audun",
    "avatar": ""
  },
  "categories": [
    "Engineering"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1170,
  "downloads": 117,
  "createdAt": "2025-05-10T10:23:31.512Z",
  "updatedAt": "2026-01-16T08:32:24.857Z",
  "publishedAt": "2025-05-10T10:23:31.512Z",
  "nodes": 16,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3970",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Secure API endpoint with bearer token authentication and field validation",
    "workflowName": "Secure API endpoint with bearer token authentication and field validation",
    "description": "A reusable and production-ready n8n workflow that secures public webhooks using **Bearer Token authentication** and **dynamic request validation**.\n\n---\n\n## ‚ú® What It Does\n\n- **Verifies Bearer Token**  \n  Compares the `Authorization` header with a configured secret token.\n\n- **Validates Required Fields**  \n  Checks that all expected fields are present in the incoming request body.\n\n- **Returns Standardized JSON Responses**  \n  - `401 Unauthorized` if token is missing or invalid  \n  - `400 Bad Request` if required fields are missing  \n  - `200 OK` with a custom success payload\n\n---\n\n## üë§ Who It‚Äôs For\n\n- Developers exposing n8n workflows as APIs\n- No-code/low-code builders integrating with external forms or tools\n- Anyone needing simple authentication and validation on incoming webhooks\n\n---\n\n## üí° Why Use It\n\n- üîí **Secure**: Prevents unauthorized access to your public workflows\n- üßº **Clean**: Centralized configuration for token and required fields\n- ‚öôÔ∏è **Flexible**: Easy to extend and customize for any use case\n\n---\n\n## üõ† Setup Instructions\n\n1. **Configure Values in the `Configuration` Node**\n   - Set your secret token:  \n     `config.bearerToken = YOUR_TOKEN`\n   - Define required request fields by key:  \n     Example:  \n     ```\n     config.requiredFields.message = true;\n     config.requiredFields.email = true;\n     ```\n      ‚úÖ Only the **keys** matter ‚Äì values can be anything.\n\n2. **Plug in Your Business Logic**  \n   Replace the `\"Add workflow nodes here\"` with your own logic.\n\n3. **Customize the Success Response**  \n   Edit the `Create Response` node to shape your success payload.\n\n---\n\n## üß™ Use Cases\n\n- Securing public form submissions \n- Creating internal API endpoints\n- Validating data from external services\n\n---\n\nüìå *Use this as a base for building secure, API-style workflows in n8n.*\n\n---\n**üëã Hello! I'm [Audun / xqus](https://xqus.com)** \n\nIf my n8n workflows saved you time or sparked ideas, [consider sending a little support](https://donate.stripe.com/9AQ6ps6Kna3t8Vi28b) my way. It helps me keep building cool stuff ‚Äî and maybe grab a coffee ‚òï along the way!",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Check Authorization Header",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "401 Unauthorized",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "200 OK",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Configuration",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Has required fields?",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Check Valid Request",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "400 Bad Request",
      "type": "n8n-nodes-base.respondToWebhook",
      "role": "respondToWebhook",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Response",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Add workflow nodes here",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}