{
  "id": 10730,
  "slug": "10730",
  "title": "Automated weekly product promotion emails for e-commerce with Algolia and Gmail",
  "description": "## Automated Weekly Newsletter for E-commerce Promotions (based on Algolia)\n\nThis workflow automatically sends a beautifully designed HTML newsletter every Sunday at 8 AM, featuring products currently on sale from your Algolia-powered e-commerce store.\n\n## Who's it for\n\nPerfect for e-commerce store owners, marketing teams, and anyone running promotional campaigns who wants to automate their weekly newsletter without relying on expensive email marketing platforms.\n\n## How it works\n\n1. **Triggers every Sunday at 8:00 AM** - Scheduled to start each new promotion week\n2. **Fetches discounted products** - Queries your Algolia index for 6 products marked with `on_sale:true`\n3. **Calculates promotion dates** - Automatically generates the week's date range (Sunday to Saturday)\n4. **Builds HTML newsletter** - Populates a responsive email template with product images, prices, and descriptions\n5. **Retrieves subscribers** - Pulls the latest subscriber list from your Google Sheets\n6. **Sends personalized emails** - Delivers the newsletter to all subscribers via Gmail\n\n## Set up steps\n\n**Setup time: ~15 minutes**\n\n1. Connect your **Algolia credentials** (Search API key + Application ID)\n2. Update the **Algolia index name** to match your store (currently set to `dogtreats_prod_products`)\n3. Create a **Google Sheet** with subscriber emails (column named \"Email\")\n4. Connect your **Google Sheets** and **Gmail** accounts\n5. (Optional) Customize the HTML template colors and branding to match your store\n\n## Requirements\n\n- Algolia account with a product index containing `on_sale`, `price_eur`, `original_price_eur`, `image`, `name`, and `description` fields\n- Google Sheets with subscriber list\n- Gmail account for sending emails\n\n## How to customize\n\n- **Change promotion criteria**: Modify the filter in \"Request products from Algolia\" node (e.g., `category:shoes` instead of `on_sale:true`)\n- **Adjust product count**: Change `hitsPerPage` value (currently 6)\n- **Modify schedule**: Update the trigger node to run on different days/times\n- **Personalize email design**: Edit the HTML template node to match your brand colors and style\n- **Add unsubscribe logic**: Extend the workflow to handle unsubscribe requests\n\nðŸ’¡ **Pro tip**: Use the manual execution button to test the workflow mid-week - it's \"smart\" enough to calculate the current promotion week even when not running on Sunday.",
  "featuredImage": "/data/workflows/10730/10730.webp",
  "author": {
    "id": 101,
    "slug": "emirbelkahia",
    "name": "Emir Belkahia",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 64,
  "downloads": 6,
  "createdAt": "2025-11-11T15:41:54.681Z",
  "updatedAt": "2026-01-16T09:06:04.819Z",
  "publishedAt": "2025-11-11T15:41:54.681Z",
  "nodes": 34,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10730",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated weekly product promotion emails for e-commerce with Algolia and Gmail",
    "workflowName": "Automated weekly product promotion emails for e-commerce with Algolia and Gmail",
    "description": "## Automated Weekly Newsletter for E-commerce Promotions (based on Algolia)\n\nThis workflow automatically sends a beautifully designed HTML newsletter every Sunday at 8 AM, featuring products currently on sale from your Algolia-powered e-commerce store.\n\n## Who's it for\n\nPerfect for e-commerce store owners, marketing teams, and anyone running promotional campaigns who wants to automate their weekly newsletter without relying on expensive email marketing platforms.\n\n## How it works\n\n1. **Triggers every Sunday at 8:00 AM** - Scheduled to start each new promotion week\n2. **Fetches discounted products** - Queries your Algolia index for 6 products marked with `on_sale:true`\n3. **Calculates promotion dates** - Automatically generates the week's date range (Sunday to Saturday)\n4. **Builds HTML newsletter** - Populates a responsive email template with product images, prices, and descriptions\n5. **Retrieves subscribers** - Pulls the latest subscriber list from your Google Sheets\n6. **Sends personalized emails** - Delivers the newsletter to all subscribers via Gmail\n\n## Set up steps\n\n**Setup time: ~15 minutes**\n\n1. Connect your **Algolia credentials** (Search API key + Application ID)\n2. Update the **Algolia index name** to match your store (currently set to `dogtreats_prod_products`)\n3. Create a **Google Sheet** with subscriber emails (column named \"Email\")\n4. Connect your **Google Sheets** and **Gmail** accounts\n5. (Optional) Customize the HTML template colors and branding to match your store\n\n## Requirements\n\n- Algolia account with a product index containing `on_sale`, `price_eur`, `original_price_eur`, `image`, `name`, and `description` fields\n- Google Sheets with subscriber list\n- Gmail account for sending emails\n\n## How to customize\n\n- **Change promotion criteria**: Modify the filter in \"Request products from Algolia\" node (e.g., `category:shoes` instead of `on_sale:true`)\n- **Adjust product count**: Change `hitsPerPage` value (currently 6)\n- **Modify schedule**: Update the trigger node to run on different days/times\n- **Personalize email design**: Edit the HTML template node to match your brand colors and style\n- **Add unsubscribe logic**: Extend the workflow to handle unsubscribe requests\n\nðŸ’¡ **Pro tip**: Use the manual execution button to test the workflow mid-week - it's \"smart\" enough to calculate the current promotion week even when not running on Sunday.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get row(s) in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Request products from Algolia",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Extract Discounted Products",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "On sundays 8.00 am",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "What day are we ?",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sunday ?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Date range generator (low code)",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Test trigger for low-code branch",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Output date of today",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Calculate end of range",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Output Promo Validity Date Range",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Find last Monday's date",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Find last Sunday's date",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Clean Promo start date",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Clean Promo end date",
      "type": "n8n-nodes-base.dateTime",
      "role": "dateTime",
      "configDescription": "Version 2"
    },
    {
      "name": "Put back all hits in one clean array",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send newsletter",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Newsletter Generation (HTML Format)",
      "type": "n8n-nodes-base.html",
      "role": "html",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Merge data for newsletter",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Aggregate data for Newsletter",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Keep only useful product data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}