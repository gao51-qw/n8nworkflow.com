{
  "id": 8369,
  "slug": "8369",
  "title": "Task time analysis: Automated overspend time insights for ClickUp and more",
  "description": "This workflow automatically analyses tasks to uncover why the actual time spent exceeds the original estimates. It connects with ClickUp(Can do with any PMS like JIRA, Asana, Monday and more) and other project management tools to generate clear insights on overspending trends. Save time, improve planning accuracy, and boost team productivity with automated task time analysis with two types of reports.\n\n- **‚ÄúWhy needed extra time?‚Äù** ‚Äì Reasons users requested extensions or faced blockers.\n\n- **‚ÄúWhy went over estimate?‚Äù** ‚Äì Reasons the actual work exceeded the original estimation.\n\n\n# üîß **Workflow Overview**\n\n1. **Manual Trigger**\nKick off execution by clicking **‚ÄúTest workflow‚Äù.**\n\n2. **Fetch Relevant Tasks**\nCalls ClickUp to retrieve all tasks in specified states (‚Äúinternal review‚Äù or ‚Äúin progress‚Äù) that belong to designated folders and assignees.\n\n3. **Filter by Overrun**\nFilters tasks to include only those where time_spent &gt; time_estimate.\n\n4. **Gather Details**\nFor each overrun task:\n\t- Fetch **time entries** via ClickUp API.\n\t- Fetch **all comments**, including threaded replies.\n\t- Retain only essential task fields and reformat timestamps.\n\n5. **Normalize and Merge**\n- Extracts and sorts comment threads into clean arrays.\n- Sorts time entry intervals chronologically.\n- Merges task metadata, comments, and time entries into a single payload.\n\n6. **Pass to AI Agent**\nSends consolidated task data to a ChatGPT-powered node using a custom prompt that:\n\n\t- Extracts **all** ‚Äúextra time requests‚Äù from comments and time entries.\n\t- Identifies **debugging**, **research**, **clarification**, or **rework** intervals exceeding estimates.\n\t- Combines findings into two distinct checklists.\n\n7. **Format JSON Output**\nA final Code node parses AI output into a clean JSON array ready for conversion.\n\n8. **Convert to File**\nJSON result for each task is prepared for file attachment or external storage.\n\n\n## üß© Key Nodes & Functions\n\n|Node Name|Responsibility|\n|-|-|\n|Get ClickUp Tasks|Retrieves tasks by filter criteria|\n|If task has crossed estimation|Ensures only tasks with overruns continue|\n|Fetch Time entries via task IDs|Retrieves detailed time intervals|\n|Fetch Master comments|Retrieves all comments and threads|\n|Split‚ÄØ‚Üí‚ÄØMerge scripting nodes|Clean and normalize comments structure|\n|Modify Time/Task data|Trims and prepares JSON for AI processing|\n|OpenAI Chat Model + AI Agent|Applies a GPT-based prompt to generate two reasoned checklists in JSON format|\n|Convert to File|Prepares final output as a JSON file or store on Sreadsheet or Email or Excel|\n\n\n## üõ† Customization Tips\n- **Trigger Automation:** Integrate a scheduled node for periodic runs (e.g., daily).\n- **Filter Scope:** Adjust ClickUp filters for different task types, spaces, or statuses.\n- **AI Prompt Tuning:** Refine prompt to include severity, link references, or categorize reasons.\n- **Output Handling:** Use the JSON file in subsequent n8n nodes for notifications *(Slack, Email, Spreadsheet, Airtable, ExcelSheet, etc.)* or analytics.\n\n## ‚úÖ Benefits at a Glance\n\n- Automates time-overrun analysis, eliminating manual review.\n- Extracts insights directly from tasks description, comments, and timesheets.\n- Produces structured outputs ideal for management dashboards or retrospectives.\n- Customizable for team-specific workflows or reporting needs.\n\n\n\n## üîê API Credentials Needed\nYou will required to create API key of your ClickUp Account. Follow the n8n instruction document here  ++*https://docs.n8n.io/integrations/builtin/credentials/clickup/*++ this will guide you how you can connect your ClickUp acount with n8n workflow.\n\n\n# üë®üèª‚Äçüíª Need Help?\n\nContact www.KrupalPatel.com for support and custom workflow development.\n\nFind more n8n workflow for real world use cases from here: ++*https://n8n.io/creators/krupalpatel/*++",
  "featuredImage": "/data/workflows/8369/8369.webp",
  "author": {
    "id": 101,
    "slug": "krupalpatel",
    "name": "Krupal Patel",
    "avatar": ""
  },
  "categories": [
    "Project Management",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 80,
  "downloads": 8,
  "createdAt": "2025-09-08T10:22:54.611Z",
  "updatedAt": "2026-01-16T08:55:28.671Z",
  "publishedAt": "2025-09-08T10:22:54.611Z",
  "nodes": 40,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8369",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Task time analysis: Automated overspend time insights for ClickUp and more",
    "workflowName": "Task time analysis: Automated overspend time insights for ClickUp and more",
    "description": "This workflow automatically analyses tasks to uncover why the actual time spent exceeds the original estimates. It connects with ClickUp(Can do with any PMS like JIRA, Asana, Monday and more) and other project management tools to generate clear insights on overspending trends. Save time, improve planning accuracy, and boost team productivity with automated task time analysis with two types of reports.\n\n- **‚ÄúWhy needed extra time?‚Äù** ‚Äì Reasons users requested extensions or faced blockers.\n\n- **‚ÄúWhy went over estimate?‚Äù** ‚Äì Reasons the actual work exceeded the original estimation.\n\n\n# üîß **Workflow Overview**\n\n1. **Manual Trigger**\nKick off execution by clicking **‚ÄúTest workflow‚Äù.**\n\n2. **Fetch Relevant Tasks**\nCalls ClickUp to retrieve all tasks in specified states (‚Äúinternal review‚Äù or ‚Äúin progress‚Äù) that belong to designated folders and assignees.\n\n3. **Filter by Overrun**\nFilters tasks to include only those where time_spent &gt; time_estimate.\n\n4. **Gather Details**\nFor each overrun task:\n\t- Fetch **time entries** via ClickUp API.\n\t- Fetch **all comments**, including threaded replies.\n\t- Retain only essential task fields and reformat timestamps.\n\n5. **Normalize and Merge**\n- Extracts and sorts comment threads into clean arrays.\n- Sorts time entry intervals chronologically.\n- Merges task metadata, comments, and time entries into a single payload.\n\n6. **Pass to AI Agent**\nSends consolidated task data to a ChatGPT-powered node using a custom prompt that:\n\n\t- Extracts **all** ‚Äúextra time requests‚Äù from comments and time entries.\n\t- Identifies **debugging**, **research**, **clarification**, or **rework** intervals exceeding estimates.\n\t- Combines findings into two distinct checklists.\n\n7. **Format JSON Output**\nA final Code node parses AI output into a clean JSON array ready for conversion.\n\n8. **Convert to File**\nJSON result for each task is prepared for file attachment or external storage.\n\n\n## üß© Key Nodes & Functions\n\n|Node Name|Responsibility|\n|-|-|\n|Get ClickUp Tasks|Retrieves tasks by filter criteria|\n|If task has crossed estimation|Ensures only tasks with overruns continue|\n|Fetch Time entries via task IDs|Retrieves detailed time intervals|\n|Fetch Master comments|Retrieves all comments and threads|\n|Split‚ÄØ‚Üí‚ÄØMerge scripting nodes|Clean and normalize comments structure|\n|Modify Time/Task data|Trims and prepares JSON for AI processing|\n|OpenAI Chat Model + AI Agent|Applies a GPT-based prompt to generate two reasoned checklists in JSON format|\n|Convert to File|Prepares final output as a JSON file or store on Sreadsheet or Email or Excel|\n\n\n## üõ† Customization Tips\n- **Trigger Automation:** Integrate a scheduled node for periodic runs (e.g., daily).\n- **Filter Scope:** Adjust ClickUp filters for different task types, spaces, or statuses.\n- **AI Prompt Tuning:** Refine prompt to include severity, link references, or categorize reasons.\n- **Output Handling:** Use the JSON file in subsequent n8n nodes for notifications *(Slack, Email, Spreadsheet, Airtable, ExcelSheet, etc.)* or analytics.\n\n## ‚úÖ Benefits at a Glance\n\n- Automates time-overrun analysis, eliminating manual review.\n- Extracts insights directly from tasks description, comments, and timesheets.\n- Produces structured outputs ideal for management dashboards or retrospectives.\n- Customizable for team-specific workflows or reporting needs.\n\n\n\n## üîê API Credentials Needed\nYou will required to create API key of your ClickUp Account. Follow the n8n instruction document here  ++*https://docs.n8n.io/integrations/builtin/credentials/clickup/*++ this will guide you how you can connect your ClickUp acount with n8n workflow.\n\n\n# üë®üèª‚Äçüíª Need Help?\n\nContact www.KrupalPatel.com for support and custom workflow development.\n\nFind more n8n workflow for real world use cases from here: ++*https://n8n.io/creators/krupalpatel/*++",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking ‚ÄòTest workflow‚Äô",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Convert to File",
      "type": "n8n-nodes-base.convertToFile",
      "role": "convertToFile",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get Clickup Tasks",
      "type": "n8n-nodes-base.clickUp",
      "role": "clickUp",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Time entries via task IDs",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Filter out unnecessary data from Tasks",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "If task has crossed estimation",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Fetch Master comments",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Loop Over Master comments",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "If comments got thread comments",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Fetch comment threads",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Merge thread comments with master comments",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Re-merge all master comments",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Re-structure comments to process them in loop node",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Merge task data, comments and time entries",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Modify Task data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Move to next master comment",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Modify Master comment data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Return Comments data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Modify threads comment data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sort Master comments old to new",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Modify Time entries data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Destructure & Filter comments array to loop them",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Simple Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Generate time insights",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Generate Reason checklist",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Code2",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Code3",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Generate Prompt with Time entires",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    }
  ]
}