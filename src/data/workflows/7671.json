{
  "id": 7671,
  "slug": "7671",
  "title": "Blog writer & editor with Google Sheets memory (GPT-4)",
  "description": "\nChat to **write** or **reword** a blog post. The workflow stores each result in Google Sheets and uses a sub-workflow ‚ÄúGoogle tool‚Äù to **count rows per session** (your running context). If a session exceeds a row threshold, the flow can branch (e.g., stop or notify).\n\n---\n\n## ‚öôÔ∏è Setup Instructions\n\n### 1Ô∏è‚É£ Set Up OpenAI Connection\n1. Go to [OpenAI Platform](https://platform.openai.com/api-keys)  \n2. Navigate to [OpenAI Billing](https://platform.openai.com/settings/organization/billing/overview)  \n3. Add funds to your billing account  \n4. Copy your API key into the **OpenAI credentials** in n8n\n\n### 2Ô∏è‚É£ Prepare Your Google Sheet\n#### Connect your Data in Google Sheets\n- Use this format: **[Sample Sheet](https://docs.google.com/spreadsheets/d/1NwnABaQIReMmG2sRGrC-lv-5kpmsKJkUlRm-KmvPsCE/edit?gid=0#gid=0)**\n- Row 1 = **column names** (e.g., `session`, `Rows`, `output`)\n- Data in rows **2‚Äì100** (or more if you prefer)\n- In n8n, use **Google Sheets OAuth2** ‚Üí pick your **Spreadsheet** and **Worksheet**\n- (Optional) You can adapt this to **Airtable**, **Notion**, or a **Database**\n\n---\n\n## üß† How It Works\n- **Chat Trigger**: Provide a topic (write) or paste existing text (reword).  \n- **Code Node (‚ÄúChoose to Write or Edit Blog‚Äù)**:  \n  - Builds a `system_prompt` + `user_prompt`  \n  - Instructs the agent to call the **Google tool** (sub-workflow) **with only the `sessionid`** to count existing rows.  \n- **Tool Workflow (‚Äúgoogle‚Äù)**:  \n  - Fetches rows from the sheet ‚Üí **filters by `session`** ‚Üí **summarizes row count**.  \n- **Agent (‚ÄúBlog Writer & Editor‚Äù)**:  \n  - Returns **structured JSON** (items/rows, session, blog body).  \n- **Store (Google Sheets)**:  \n  - Appends `{ session, Rows, output }` to the sheet.  \n- **If Node**:  \n  - Example rule: `Rows &gt; 3` ‚Üí branch/limit/notify as needed.\n\n---\n\n## üí¨ Example Prompts\n- ‚ÄúWrite a 600-word blog about **n8n agents** with 3 bullet takeaways. Session: `abc123`.‚Äù  \n- ‚ÄúReword this post into a concise LinkedIn article. Session: `launchQ3`:\\n&lt;your text here&gt;‚Äù  \n- ‚ÄúDraft a blog intro and 5 SEO headlines on **marketing automation**. Session: `mkt-01`.‚Äù\n\n---\n\n## üì¨ Contact\nNeed help tailoring this to Airtable/Notion/DB, or adding auto-publishing?\n\n- üìß **rbreen@ynteractive.com**  \n- üîó **[Robert Breen](https://www.linkedin.com/in/robert-breen-29429625/)**  \n- üåê **[ynteractive.com](https://ynteractive.com)**\n",
  "featuredImage": "/data/workflows/7671/7671.webp",
  "author": {
    "id": 101,
    "slug": "rbreen",
    "name": "Robert Breen",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1016,
  "downloads": 101,
  "createdAt": "2025-08-20T23:00:22.268Z",
  "updatedAt": "2026-01-16T08:51:44.133Z",
  "publishedAt": "2025-08-20T23:00:22.268Z",
  "nodes": 18,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7671",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Blog writer & editor with Google Sheets memory (GPT-4)",
    "workflowName": "Blog writer & editor with Google Sheets memory (GPT-4)",
    "description": "Chat to **write** or **reword** a blog post. The workflow stores each result in Google Sheets and uses a sub-workflow ‚ÄúGoogle tool‚Äù to **count rows per session** (your running context). If a session exceeds a row threshold, the flow can branch (e.g., stop or notify).\n\n---\n\n## ‚öôÔ∏è Setup Instructions\n\n### 1Ô∏è‚É£ Set Up OpenAI Connection\n1. Go to [OpenAI Platform](https://platform.openai.com/api-keys)  \n2. Navigate to [OpenAI Billing](https://platform.openai.com/settings/organization/billing/overview)  \n3. Add funds to your billing account  \n4. Copy your API key into the **OpenAI credentials** in n8n\n\n### 2Ô∏è‚É£ Prepare Your Google Sheet\n#### Connect your Data in Google Sheets\n- Use this format: **[Sample Sheet](https://docs.google.com/spreadsheets/d/1NwnABaQIReMmG2sRGrC-lv-5kpmsKJkUlRm-KmvPsCE/edit?gid=0#gid=0)**\n- Row 1 = **column names** (e.g., `session`, `Rows`, `output`)\n- Data in rows **2‚Äì100** (or more if you prefer)\n- In n8n, use **Google Sheets OAuth2** ‚Üí pick your **Spreadsheet** and **Worksheet**\n- (Optional) You can adapt this to **Airtable**, **Notion**, or a **Database**\n\n---\n\n## üß† How It Works\n- **Chat Trigger**: Provide a topic (write) or paste existing text (reword).  \n- **Code Node (‚ÄúChoose to Write or Edit Blog‚Äù)**:  \n  - Builds a `system_prompt` + `user_prompt`  \n  - Instructs the agent to call the **Google tool** (sub-workflow) **with only the `sessionid`** to count existing rows.  \n- **Tool Workflow (‚Äúgoogle‚Äù)**:  \n  - Fetches rows from the sheet ‚Üí **filters by `session`** ‚Üí **summarizes row count**.  \n- **Agent (‚ÄúBlog Writer & Editor‚Äù)**:  \n  - Returns **structured JSON** (items/rows, session, blog body).  \n- **Store (Google Sheets)**:  \n  - Appends `{ session, Rows, output }` to the sheet.  \n- **If Node**:  \n  - Example rule: `Rows &gt; 3` ‚Üí branch/limit/notify as needed.\n\n---\n\n## üí¨ Example Prompts\n- ‚ÄúWrite a 600-word blog about **n8n agents** with 3 bullet takeaways. Session: `abc123`.‚Äù  \n- ‚ÄúReword this post into a concise LinkedIn article. Session: `launchQ3`:\\n&lt;your text here&gt;‚Äù  \n- ‚ÄúDraft a blog intro and 5 SEO headlines on **marketing automation**. Session: `mkt-01`.‚Äù\n\n---\n\n## üì¨ Contact\nNeed help tailoring this to Airtable/Notion/DB, or adding auto-publishing?\n\n- üìß **rbreen@ynteractive.com**  \n- üîó **[Robert Breen](https://www.linkedin.com/in/robert-breen-29429625/)**  \n- üåê **[ynteractive.com](https://ynteractive.com)**",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "role": "executeWorkflowTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "google",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "role": "toolWorkflow",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Summarize1",
      "type": "n8n-nodes-base.summarize",
      "role": "summarize",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Filter",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note55",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Blog Writer & Editor",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Choose to Write or Edit Blog",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Ask about blog topic",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "n8n History",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Check if Ran 4+ times",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get History",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    }
  ]
}