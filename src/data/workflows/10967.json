{
  "id": 10967,
  "slug": "10967",
  "title": "Meal planner: cost tracking, leftover recipes & nutrition diary in Google Sheets",
  "description": "### Who's it for\n\nThis template is for home cooks, small restaurant owners, or anyone who wants to streamline their meal planning, ingredient cost tracking, leftover management, nutritional analysis, and social media promotion. It's ideal for those looking to optimize their kitchen operations, reduce food waste, maintain a healthy diet, and efficiently share their culinary creations.\n\n### How it works / What it does\n\nThis advanced workflow acts as a comprehensive culinary assistant. Triggered by a new menu item, it performs several key functions:\n\n*   **Cost and Ingredient Tracking:** A \"Menu Agent\" uses AI to analyze your input (e.g., a recipe or dish) and extract a detailed list of ingredients, their associated costs, unit prices, and total cost, then logs this into a Google Sheet as a \"Recipe List.\"\n*   **Leftover Management:** A \"Leftovers Agent\" identifies any unused ingredients from your planned dish and suggests three new recipes to utilize them, helping to minimize food waste. This information is also recorded in a Google Sheet.\n*   **Nutritional Diary:** A \"Nutritionist Agent\" generates a diary-style entry with dietary advice based on the meal, highlighting key nutrients and offering personalized suggestions. This entry is appended to a \"Diary\" Google Sheet.\n*   **Social Media Promotion:** A \"Post Agent\" takes the nutritional diary entry and transforms it into an engaging social media post (specifically for X/Twitter in this template), which is then sent as a direct message, ready for you to share with your followers.\n\n### How to set up\n\n1.  **Webhook Trigger:**\n    *   The workflow starts with a Webhook. Copy the webhook URL from the \"Webhook\" node. You will send your menu item input to this URL.\n2.  **Google Sheets Integration:**\n    *   You need to set up a Google Sheets credential for your n8n instance.\n    *   Create a Google Sheet document (e.g., \"Recipe List\"). Within this document, create three sheets:\n        *   **\"Recipe:** This sheet will store your menu items, ingredients, costs, etc. Ensure it has columns for `Date`, `Item`, `Ingredients`, `Ingredient Cost`, `Unit Price`, `Quantity`, `Total`, `Cost`, and `Leftover Ingredients`.\n        *   **\"leftovers\" (Leftovers):** This sheet will store suggested recipes for leftover ingredients. Ensure it has columns for `Date` and `Ingredients`.\n        *   **\"diary\" (Diary):** This sheet will store your nutritional diary entries. Ensure it has a column for `Diary`.\n    *   In the \"Append row in sheet\", \"Append row in sheet1\", and \"Append row in sheet2\" nodes, replace the `Document ID` with the ID of your Google Sheet. For \"Sheet Name,\" ensure you select the correct sheet (e.g., \"レシピ\", \"diary\", \"leftovers\") from the dropdown.\n3.  **OpenRouter Chat Model:**\n    *   Set up your OpenRouter credentials in the \"OpenRouter Chat Model\" nodes. You will need your OpenRouter API key.\n4.  **Twitter Integration:**\n    *   Set up your Twitter credentials for the \"Create Direct Message\" node.\n    *   In the \"Create Direct Message\" node, specify the `User` (username) to whom the direct message should be sent. This is typically your own Twitter handle or a test account.\n\n### Requirements\n\n*   An n8n instance.\n*   A Google account with Google Sheets enabled.\n*   An OpenRouter API key.\n*   A Twitter (X) account with developer access to send Direct Messages.\n\n### How to customize the workflow\n\n*   **Input Data:** The initial input to the \"Webhook\" node is expected to be the name of a dish or recipe. You can modify the \"Menu Agent\" to accept more detailed inputs if needed.\n*   **Google Sheets Structure:** Adjust the column mappings in the Google Sheets nodes if your spreadsheet column headers differ.\n*   **AI Agent Prompts:** Customize the `System Message` in each AI Agent node (Menu Agent, Leftovers Agent, Nutritionist Agent, Post Agent) to refine their behavior and the kind of output they generate. For example, you could ask the Nutritionist Agent to focus on specific dietary needs.\n*   **Social Media Platform:** The \"Create Direct Message\" node is configured for Twitter. You can swap this with another social media node (e.g., Mastodon, Discord) if you prefer to post elsewhere, remembering to adjust the \"Post Agent\" system message accordingly.\n*   **Output Parser:** The \"Structured Output Parser\" is configured for a specific JSON structure. If you change the \"Menu Agent\" to output a different structure, you'll need to update this parser.",
  "featuredImage": "/data/workflows/10967/10967.webp",
  "author": {
    "id": 101,
    "slug": "takuma",
    "name": "takuma",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 315,
  "downloads": 31,
  "createdAt": "2025-11-18T14:52:59.215Z",
  "updatedAt": "2026-01-16T09:06:57.775Z",
  "publishedAt": "2025-11-18T14:52:59.215Z",
  "nodes": 18,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10967",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Meal planner: cost tracking, leftover recipes & nutrition diary in Google Sheets",
    "workflowName": "Meal planner: cost tracking, leftover recipes & nutrition diary in Google Sheets",
    "description": "### Who's it for\n\nThis template is for home cooks, small restaurant owners, or anyone who wants to streamline their meal planning, ingredient cost tracking, leftover management, nutritional analysis, and social media promotion. It's ideal for those looking to optimize their kitchen operations, reduce food waste, maintain a healthy diet, and efficiently share their culinary creations.\n\n### How it works / What it does\n\nThis advanced workflow acts as a comprehensive culinary assistant. Triggered by a new menu item, it performs several key functions:\n\n*   **Cost and Ingredient Tracking:** A \"Menu Agent\" uses AI to analyze your input (e.g., a recipe or dish) and extract a detailed list of ingredients, their associated costs, unit prices, and total cost, then logs this into a Google Sheet as a \"Recipe List.\"\n*   **Leftover Management:** A \"Leftovers Agent\" identifies any unused ingredients from your planned dish and suggests three new recipes to utilize them, helping to minimize food waste. This information is also recorded in a Google Sheet.\n*   **Nutritional Diary:** A \"Nutritionist Agent\" generates a diary-style entry with dietary advice based on the meal, highlighting key nutrients and offering personalized suggestions. This entry is appended to a \"Diary\" Google Sheet.\n*   **Social Media Promotion:** A \"Post Agent\" takes the nutritional diary entry and transforms it into an engaging social media post (specifically for X/Twitter in this template), which is then sent as a direct message, ready for you to share with your followers.\n\n### How to set up\n\n1.  **Webhook Trigger:**\n    *   The workflow starts with a Webhook. Copy the webhook URL from the \"Webhook\" node. You will send your menu item input to this URL.\n2.  **Google Sheets Integration:**\n    *   You need to set up a Google Sheets credential for your n8n instance.\n    *   Create a Google Sheet document (e.g., \"Recipe List\"). Within this document, create three sheets:\n        *   **\"Recipe:** This sheet will store your menu items, ingredients, costs, etc. Ensure it has columns for `Date`, `Item`, `Ingredients`, `Ingredient Cost`, `Unit Price`, `Quantity`, `Total`, `Cost`, and `Leftover Ingredients`.\n        *   **\"leftovers\" (Leftovers):** This sheet will store suggested recipes for leftover ingredients. Ensure it has columns for `Date` and `Ingredients`.\n        *   **\"diary\" (Diary):** This sheet will store your nutritional diary entries. Ensure it has a column for `Diary`.\n    *   In the \"Append row in sheet\", \"Append row in sheet1\", and \"Append row in sheet2\" nodes, replace the `Document ID` with the ID of your Google Sheet. For \"Sheet Name,\" ensure you select the correct sheet (e.g., \"レシピ\", \"diary\", \"leftovers\") from the dropdown.\n3.  **OpenRouter Chat Model:**\n    *   Set up your OpenRouter credentials in the \"OpenRouter Chat Model\" nodes. You will need your OpenRouter API key.\n4.  **Twitter Integration:**\n    *   Set up your Twitter credentials for the \"Create Direct Message\" node.\n    *   In the \"Create Direct Message\" node, specify the `User` (username) to whom the direct message should be sent. This is typically your own Twitter handle or a test account.\n\n### Requirements\n\n*   An n8n instance.\n*   A Google account with Google Sheets enabled.\n*   An OpenRouter API key.\n*   A Twitter (X) account with developer access to send Direct Messages.\n\n### How to customize the workflow\n\n*   **Input Data:** The initial input to the \"Webhook\" node is expected to be the name of a dish or recipe. You can modify the \"Menu Agent\" to accept more detailed inputs if needed.\n*   **Google Sheets Structure:** Adjust the column mappings in the Google Sheets nodes if your spreadsheet column headers differ.\n*   **AI Agent Prompts:** Customize the `System Message` in each AI Agent node (Menu Agent, Leftovers Agent, Nutritionist Agent, Post Agent) to refine their behavior and the kind of output they generate. For example, you could ask the Nutritionist Agent to focus on specific dietary needs.\n*   **Social Media Platform:** The \"Create Direct Message\" node is configured for Twitter. You can swap this with another social media node (e.g., Mastodon, Discord) if you prefer to post elsewhere, remembering to adjust the \"Post Agent\" system message accordingly.\n*   **Output Parser:** The \"Structured Output Parser\" is configured for a specific JSON structure. If you change the \"Menu Agent\" to output a different structure, you'll need to update this parser.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "OpenRouter Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Append row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Append row in sheet1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "OpenRouter Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenRouter Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenRouter Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Append row in sheet2",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Create Direct Message",
      "type": "n8n-nodes-base.twitter",
      "role": "twitter",
      "configDescription": "Version 2"
    },
    {
      "name": "Menu Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    },
    {
      "name": "Leftovers Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    },
    {
      "name": "Nutritionist Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    },
    {
      "name": "Post Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}