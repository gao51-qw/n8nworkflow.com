{
  "id": 8954,
  "slug": "8954",
  "title": "Stripe dispute management with Google Sheets ledger & Gmail notifications",
  "description": "## Description\nThis automation manages Stripe disputes by fetching dispute data, formatting it, logging it into Google Sheets, updating related payment records, and notifying the customer via email. It ensures finance and support teams always have up-to-date dispute information while keeping customers informed automatically.\n\n## What This Template Does (Step-by-Step)\n-  ğŸ“‹ Manual Trigger â†’ Start the workflow manually.\n-  ğŸ”— Fetch Latest Disputes from Stripe â†’ Retrieves the 5 most recent disputes via the Stripe API.\n-  ğŸ›  Format Stripe Dispute Data â†’ Cleans and restructures the raw Stripe response (dispute_id,        charge_id, amount, currency, reason, status, respond_by, etc.).\n-  ğŸ“Š Log Dispute in Disputes Sheet â†’ Appends a new row in the Disputes sheet for historical record-keeping.\n-  ğŸ“§ Send Customer Dispute Notification Email â†’ Notifies the customer about the dispute with all relevant details (amount, status, respond-by date).\n-  ğŸ“‘ Find Payment in Ledger â†’ Searches the Payments Sheet for a matching charge_id.\n-  âœ… Check if Payment Exists â†’ Confirms whether the disputed payment already exists in the ledger.\n-  âœï¸ Update Payment Record with Dispute Info â†’ If found, updates the existing payment row with dispute details (status, dispute amount, respond_by date, etc.).\n\n## Prerequisites\n- Stripe account + API key\n- Google Sheets with:\n- Disputes Sheet (for logging disputes)\n- Payments Sheet (for updating transactions)\n- Gmail account with OAuth2 credentials\n\n## Key Benefits\n âœ… Keeps a historical log of all disputes in one sheet\n âœ… Updates existing payment records with dispute status\n âœ… Sends automatic customer notifications to reduce confusion\n âœ… Helps finance and support teams track disputes in real time\n\n## Perfect For\n- Finance teams handling payment disputes\n- Support teams needing automatic customer updates\n- Businesses that want clear visibility into disputes alongside payment records",
  "featuredImage": "/data/workflows/8954/8954.webp",
  "author": {
    "id": 101,
    "slug": "rahul08",
    "name": "Rahul Joshi",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 31,
  "downloads": 3,
  "createdAt": "2025-09-26T11:32:36.551Z",
  "updatedAt": "2026-01-16T08:58:32.373Z",
  "publishedAt": "2025-09-26T11:32:36.551Z",
  "nodes": 15,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8954",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Stripe dispute management with Google Sheets ledger & Gmail notifications",
    "workflowName": "Stripe dispute management with Google Sheets ledger & Gmail notifications",
    "description": "## Description\nThis automation manages Stripe disputes by fetching dispute data, formatting it, logging it into Google Sheets, updating related payment records, and notifying the customer via email. It ensures finance and support teams always have up-to-date dispute information while keeping customers informed automatically.\n\n## What This Template Does (Step-by-Step)\n-  ğŸ“‹ Manual Trigger â†’ Start the workflow manually.\n-  ğŸ”— Fetch Latest Disputes from Stripe â†’ Retrieves the 5 most recent disputes via the Stripe API.\n-  ğŸ›  Format Stripe Dispute Data â†’ Cleans and restructures the raw Stripe response (dispute_id,        charge_id, amount, currency, reason, status, respond_by, etc.).\n-  ğŸ“Š Log Dispute in Disputes Sheet â†’ Appends a new row in the Disputes sheet for historical record-keeping.\n-  ğŸ“§ Send Customer Dispute Notification Email â†’ Notifies the customer about the dispute with all relevant details (amount, status, respond-by date).\n-  ğŸ“‘ Find Payment in Ledger â†’ Searches the Payments Sheet for a matching charge_id.\n-  âœ… Check if Payment Exists â†’ Confirms whether the disputed payment already exists in the ledger.\n-  âœï¸ Update Payment Record with Dispute Info â†’ If found, updates the existing payment row with dispute details (status, dispute amount, respond_by date, etc.).\n\n## Prerequisites\n- Stripe account + API key\n- Google Sheets with:\n- Disputes Sheet (for logging disputes)\n- Payments Sheet (for updating transactions)\n- Gmail account with OAuth2 credentials\n\n## Key Benefits\n âœ… Keeps a historical log of all disputes in one sheet\n âœ… Updates existing payment records with dispute status\n âœ… Sends automatic customer notifications to reduce confusion\n âœ… Helps finance and support teams track disputes in real time\n\n## Perfect For\n- Finance teams handling payment disputes\n- Support teams needing automatic customer updates\n- Businesses that want clear visibility into disputes alongside payment records",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking â€˜Execute workflowâ€™",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Latest Disputes from Stripe",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Format Stripe Dispute Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Log Dispute in Disputes Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Find Payment in Ledger",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Check if Payment Exists",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Update Payment Record with Dispute Info",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Send Customer Dispute Notification Email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    }
  ]
}