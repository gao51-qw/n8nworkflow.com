{
  "id": 7410,
  "slug": "7410",
  "title": "Complete B2B sales pipeline: Apollo lead gen, Mailgun outreach & AI reply management",
  "description": "# ‚úâÔ∏è AI-Powered 3-Step B2B Pipeline ‚Äî Lead Gen ‚Üí Cold Outreach ‚Üí AI Drafted Email Management\n\nAutomate your outbound workflow from **prospecting** to **AI-generated reply drafts** in Gmail ‚Äî all fully integrated with your database.  \nIdeal for SDRs, founders, and growth agencies who want **speed, personalization, and control** without losing human review.\n\n![image.png](fileId:2108)\nüìå **Example:** From a verified lead list to a qualified opportunity ‚Äî fully tracked, classified, and pre-drafted with this automation.\n\n---\n\n## üöÄ What This Workflow Does\n\n### **Step 1 ‚Äî Lead Generation**\n- Import leads from Apollo.\n- Enrich and verify emails.\n- Store results in Supabase/Postgres,\n\n### **Step 2 ‚Äî Cold Outreach**\n- Send 3 step personalized sequences via Mailgun/SendGrid.\n- Track delivery, opens, replies, and bounces directly in your DB.\n\n### **Step 3 ‚Äî Email Management (AI Drafts)**\n- Process only incoming Gmail messages from contacts in your DB.\n- Generate personalized reply drafts, label threads, update lead status, and alert your team via Slack/Telegram.\n\n---\n\n## üîó Integrated Services\n- **Database:** Supabase/Postgres  \n- **Outbound Email:** Mailgun / SendGrid  \n- **Inbound Email & Drafts:** Gmail (OAuth2)  \n- **AI Models:** OpenAI / Anthropic (JSON mode for classification + drafting)  \n- **Alerts:** Slack / Telegram (optional)  \n\n---\n\n## üíº What You Get\n- Detailed setup guide  \n- Fully connected 3-step pipeline in n8n  \n- Ready-to-use database schema  \n- Pre-built AI prompts for intent classification and professional replies  \n\n---\n\n## üì• Perfect For\n- SDR teams doing targeted outbound  \n- Agencies managing multiple client campaigns  \n- Founders building scalable outbound systems  \n- Sales ops needing a no-risk, review-first reply process  \n\n---\n\n## üí° Why You‚Äôll Love It\nThis isn‚Äôt just another outreach template ‚Äî it‚Äôs a **full sales engine**.  \nFrom **verified leads** to **AI-drafted replies**, every action is logged, tracked, and controlled for maximum conversions without sacrificing oversight.\n",
  "featuredImage": "/data/workflows/7410/7410.webp",
  "author": {
    "id": 101,
    "slug": "diagopl",
    "name": "Paul",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 273,
  "downloads": 27,
  "createdAt": "2025-08-14T23:54:11.184Z",
  "updatedAt": "2026-01-16T08:50:14.639Z",
  "publishedAt": "2025-08-14T23:54:11.184Z",
  "nodes": 116,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7410",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Complete B2B sales pipeline: Apollo lead gen, Mailgun outreach & AI reply management",
    "workflowName": "Complete B2B sales pipeline: Apollo lead gen, Mailgun outreach & AI reply management",
    "description": "# ‚úâÔ∏è AI-Powered 3-Step B2B Pipeline ‚Äî Lead Gen ‚Üí Cold Outreach ‚Üí AI Drafted Email Management\n\nAutomate your outbound workflow from **prospecting** to **AI-generated reply drafts** in Gmail ‚Äî all fully integrated with your database.  \nIdeal for SDRs, founders, and growth agencies who want **speed, personalization, and control** without losing human review.\n\n![image.png](fileId:2108)\nüìå **Example:** From a verified lead list to a qualified opportunity ‚Äî fully tracked, classified, and pre-drafted with this automation.\n\n---\n\n## üöÄ What This Workflow Does\n\n### **Step 1 ‚Äî Lead Generation**\n- Import leads from Apollo.\n- Enrich and verify emails.\n- Store results in Supabase/Postgres,\n\n### **Step 2 ‚Äî Cold Outreach**\n- Send 3 step personalized sequences via Mailgun/SendGrid.\n- Track delivery, opens, replies, and bounces directly in your DB.\n\n### **Step 3 ‚Äî Email Management (AI Drafts)**\n- Process only incoming Gmail messages from contacts in your DB.\n- Generate personalized reply drafts, label threads, update lead status, and alert your team via Slack/Telegram.\n\n---\n\n## üîó Integrated Services\n- **Database:** Supabase/Postgres  \n- **Outbound Email:** Mailgun / SendGrid  \n- **Inbound Email & Drafts:** Gmail (OAuth2)  \n- **AI Models:** OpenAI / Anthropic (JSON mode for classification + drafting)  \n- **Alerts:** Slack / Telegram (optional)  \n\n---\n\n## üíº What You Get\n- Detailed setup guide  \n- Fully connected 3-step pipeline in n8n  \n- Ready-to-use database schema  \n- Pre-built AI prompts for intent classification and professional replies  \n\n---\n\n## üì• Perfect For\n- SDR teams doing targeted outbound  \n- Agencies managing multiple client campaigns  \n- Founders building scalable outbound systems  \n- Sales ops needing a no-risk, review-first reply process  \n\n---\n\n## üí° Why You‚Äôll Love It\nThis isn‚Äôt just another outreach template ‚Äî it‚Äôs a **full sales engine**.  \nFrom **verified leads** to **AI-drafted replies**, every action is logged, tracked, and controlled for maximum conversions without sacrificing oversight.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.1"
    },
    {
      "name": "Time Zone",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sender Email",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Loop Over Items1",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Schedule Trigger1",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "If3",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Mailgun",
      "type": "n8n-nodes-base.mailgun",
      "role": "mailgun",
      "configDescription": "Version 1"
    },
    {
      "name": "Mailgun1",
      "type": "n8n-nodes-base.mailgun",
      "role": "mailgun",
      "configDescription": "Version 1"
    },
    {
      "name": "General anlysis",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Limit1",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "No Operation, do nothing",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase2",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "If2",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "No Operation, do nothing2",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase3",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase4",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger3",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Supabase11",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Evualute when the mail was sent",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sort",
      "type": "n8n-nodes-base.sort",
      "role": "sort",
      "configDescription": "Version 1"
    },
    {
      "name": "Sort1",
      "type": "n8n-nodes-base.sort",
      "role": "sort",
      "configDescription": "Version 1"
    },
    {
      "name": "Sort2",
      "type": "n8n-nodes-base.sort",
      "role": "sort",
      "configDescription": "Version 1"
    },
    {
      "name": "Limit2",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Switch5",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Loop Over Items7",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Wait7",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Loop Over Items10",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Wait10",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Mailgun6",
      "type": "n8n-nodes-base.mailgun",
      "role": "mailgun",
      "configDescription": "Version 1"
    },
    {
      "name": "Mailgun7",
      "type": "n8n-nodes-base.mailgun",
      "role": "mailgun",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase12",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase14",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger4",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "No Operation, do nothing1",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase13",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Evualute when the mail was sent1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sort3",
      "type": "n8n-nodes-base.sort",
      "role": "sort",
      "configDescription": "Version 1"
    },
    {
      "name": "Limit4",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Switch6",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Loop Over Items8",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Wait8",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Loop Over Items11",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Wait11",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Mailgun8",
      "type": "n8n-nodes-base.mailgun",
      "role": "mailgun",
      "configDescription": "Version 1"
    },
    {
      "name": "Mailgun9",
      "type": "n8n-nodes-base.mailgun",
      "role": "mailgun",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase15",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase16",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger6",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "No Operation, do nothing4",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "research about company",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "create email sequence",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get many rows",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Your leads table",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Create URL",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Extract Info",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Only Keep Verified Emails ",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Download File1",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Transcribe1",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Text1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Voice or Text1",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Select already scraped mails",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "Keep only the new leads",
      "type": "n8n-nodes-base.compareDatasets",
      "role": "compareDatasets",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Already scraped",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Create rows with new leads",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Telegram message",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Confirmation message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "User message",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Generate query payload",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Scraper agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Run an Actor",
      "type": "@apify/n8n-nodes-apify.apify",
      "role": "apify",
      "configDescription": "Version 1"
    },
    {
      "name": "Limit3",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser1",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Gmail Trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "role": "gmailTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get a message",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Execute a SQL query",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "Set replied = Yes ",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "Only from email campaigns",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "extract email",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get Email History",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Check Sent History",
      "type": "n8n-nodes-base.gmailTool",
      "role": "gmailTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Email Response Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Professional Email Response Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Create Draft Response",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Anthropic Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "role": "lmChatAnthropic",
      "configDescription": "Version 1.3"
    }
  ]
}