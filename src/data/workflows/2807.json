{
  "id": 2807,
  "slug": "2807",
  "title": "Create QuickBooks Online customers with sales receipts for new Stripe payments",
  "description": "Streamline your accounting by automatically creating QuickBooks Online customers and sales receipts whenever a successful Stripe payment is processed. Ideal for businesses looking to reduce manual data entry and improve accounting efficiency.\n\n## How it works\n\n1. **Trigger**: The workflow is triggered when a new successful payment intent event is received from Stripe.\n2. **Retrieve Customer Data**: Fetches customer details from Stripe associated with the payment.\n3. **Check QuickBooks Customer**: Searches QuickBooks Online to see if the customer already exists using their email address.\n4. **Create or Use Existing Customer**: If the customer doesn't exist in QuickBooks, they are created; otherwise, the existing customer is used.\n5. **Generate Sales Receipt**: A sales receipt is created in QuickBooks Online with payment details, including item descriptions, amounts, and currency.\n\n## Set up steps\n\n1. **Connect Accounts**: Authenticate both your QuickBooks Online and Stripe accounts in n8n.\n2. **Webhook Setup**: Configure the Stripe webhook to send `payment_intent.succeeded` events to this workflow.\n3. **Test the Workflow**: Trigger a test payment in Stripe to validate the integration.\n4. **Customize Details**: Adjust item descriptions or other fields in the QuickBooks sales receipt JSON body as needed.\n\nThis workflow requires basic familiarity with n8n, but setup can be completed in under 15 minutes for most users.",
  "featuredImage": "/data/workflows/2807/2807.webp",
  "author": {
    "id": 101,
    "slug": "arlusm1",
    "name": "Artur",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 2795,
  "downloads": 279,
  "createdAt": "2025-01-27T13:06:22.575Z",
  "updatedAt": "2026-01-16T08:26:38.521Z",
  "publishedAt": "2025-01-27T13:06:22.575Z",
  "nodes": 10,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2807",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create QuickBooks Online customers with sales receipts for new Stripe payments",
    "workflowName": "Create QuickBooks Online customers with sales receipts for new Stripe payments",
    "description": "Streamline your accounting by automatically creating QuickBooks Online customers and sales receipts whenever a successful Stripe payment is processed. Ideal for businesses looking to reduce manual data entry and improve accounting efficiency.\n\n## How it works\n\n1. **Trigger**: The workflow is triggered when a new successful payment intent event is received from Stripe.\n2. **Retrieve Customer Data**: Fetches customer details from Stripe associated with the payment.\n3. **Check QuickBooks Customer**: Searches QuickBooks Online to see if the customer already exists using their email address.\n4. **Create or Use Existing Customer**: If the customer doesn't exist in QuickBooks, they are created; otherwise, the existing customer is used.\n5. **Generate Sales Receipt**: A sales receipt is created in QuickBooks Online with payment details, including item descriptions, amounts, and currency.\n\n## Set up steps\n\n1. **Connect Accounts**: Authenticate both your QuickBooks Online and Stripe accounts in n8n.\n2. **Webhook Setup**: Configure the Stripe webhook to send `payment_intent.succeeded` events to this workflow.\n3. **Test the Workflow**: Trigger a test payment in Stripe to validate the integration.\n4. **Customize Details**: Adjust item descriptions or other fields in the QuickBooks sales receipt JSON body as needed.\n\nThis workflow requires basic familiarity with n8n, but setup can be completed in under 15 minutes for most users.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "POST Sales Receipt",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "GET Quickbooks Customer",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Get Stripe Customer",
      "type": "n8n-nodes-base.stripe",
      "role": "stripe",
      "configDescription": "Version 1"
    },
    {
      "name": "New Payment",
      "type": "n8n-nodes-base.stripeTrigger",
      "role": "stripeTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "If Customer Exists",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Use Stripe Customer",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Create QuickBooks Customer",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge Stripe and QuickBooks Data",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Merge Payment and QuickBooks Customer",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "POST Sales Receipt To QuickBooks",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    }
  ]
}