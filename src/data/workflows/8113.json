{
  "id": 8113,
  "slug": "8113",
  "title": "Automated monthly energy reports with PostgreSQL, PDF.co & email delivery",
  "description": "# Monthly Energy Generation Report (PostgreSQL → PDF → Email)\n\n\nThis workflow automatically collects monthly energy generation data from a PostgreSQL database, converts it into a structured PDF report and emails it to stakeholders. It eliminates manual report creation and ensures timely delivery of performance summaries.\n\n\n## Who’s it for\n\n* Energy companies monitoring solar, wind or hydro generation\n* Operations & maintenance (O\\&M) teams needing monthly summaries\n* Managers and executives who require periodic performance reports\n* Data analysts who want automated reporting instead of manual exports\n\n## How it works\n\n1. **Monthly Trigger** → Schedules the workflow to run once a month.\n2. **Postgres Node** → Fetches energy data from the `energy_data` table.\n3. **Code Node (Transform Data)** → Structures the raw records into JSON with metadata (`date_range`, `records`, `note`).\n4. **HTTP Request (PDF.co API)** → Converts structured data into a formatted PDF report.\n5. **Gmail Node (Send Report)** → Sends the PDF report (or link) via email to the configured recipient.\n\n## How to set up\n\n1. Import the workflow JSON into n8n.\n2. Configure credentials:\n\n\t* PostgreSQL connection (DB host, user, password, database, schema).\n\t* Gmail OAuth2 credentials.\n\t* PDF.co API key (for HTML → PDF conversion).\n3. Update:\n\n\t* Database table (`energy_data`).\n\t* Email recipients in the Gmail node.\n\t* PDF template (if custom formatting is required).\n4. Activate workflow.\n\n## Requirements\n\n* n8n (self-hosted or cloud)\n* PostgreSQL database with energy generation data\n* PDF.co API account with valid API key\n* Gmail account with OAuth2 access\n* Internet access for API calls\n\n## How to customize\n\n* Change the **SQL query** in the Postgres node to filter specific plants or date ranges.\n* Update the **Code node** to add extra fields (e.g., average power, anomalies).\n* Modify the **PDF.co request body** to use a custom HTML template for branding.\n* Replace Gmail with **Outlook, SMTP, or Slack** for distribution.\n\n## Add-ons\n\n* Add Slack/Teams node to notify teams when reports are sent.\n* Store PDFs in Google Drive or S3 for archival.\n* Add a dashboard (e.g., Grafana or Superset) that references the same DB for real-time view.\n* Integrate with Jira to auto-create tasks for underperformance alerts.\n\n## Use Case Examples\n\n* Solar company emailing monthly reports to plant owners.\n* Wind farm operator generating regulatory compliance reports.\n* O&M teams automating KPI summaries for executives.\n* Consulting firms monitoring multiple clients’ energy production.\n\n\n## Common Troubleshooting\n\n| Issue | Possible Cause | Solution |\n| ------------------------------ | -------------------------------------- | ------------------------------------------------------- |\n| Workflow does not trigger | Cron not set correctly | Verify `Schedule Trigger` node interval is monthly |\n| No data returned from Postgres | Wrong schema/table or DB creds | Check DB connection and table name |\n| PDF not generated | Invalid/missing PDF.co API key | Generate a new key in PDF.co dashboard |\n| Email not sent | Gmail OAuth expired or wrong recipient | Reconnect Gmail credentials and confirm recipient email |\n| PDF output malformed | Incorrect JSON → HTML conversion | Check Code node formatting and PDF.co request body |\n\n\n## **Need Help?**\n\nOur [n8n workflow automation](https://www.weblineindia.com/n8n-automation/) experts at WeblineIndia can help you:\n\n* Set up the PostgreSQL connection securely, \n* Customize the PDF layout with your company branding, \n* Add more delivery channels (Slack, Teams, S3), \n* Extend reporting logic (KPIs, charts, anomaly detection), \n* And so much more.",
  "featuredImage": "/data/workflows/8113/8113.webp",
  "author": {
    "id": 101,
    "slug": "weblineindia",
    "name": "WeblineIndia",
    "avatar": ""
  },
  "categories": [
    "Document Extraction"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 99,
  "downloads": 9,
  "createdAt": "2025-09-01T09:58:11.789Z",
  "updatedAt": "2026-01-16T08:54:12.581Z",
  "publishedAt": "2025-09-01T09:58:11.789Z",
  "nodes": 7,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8113",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated monthly energy reports with PostgreSQL, PDF.co & email delivery",
    "workflowName": "Automated monthly energy reports with PostgreSQL, PDF.co & email delivery",
    "description": "# Monthly Energy Generation Report (PostgreSQL → PDF → Email)\n\n\nThis workflow automatically collects monthly energy generation data from a PostgreSQL database, converts it into a structured PDF report and emails it to stakeholders. It eliminates manual report creation and ensures timely delivery of performance summaries.\n\n\n## Who’s it for\n\n* Energy companies monitoring solar, wind or hydro generation\n* Operations & maintenance (O\\&M) teams needing monthly summaries\n* Managers and executives who require periodic performance reports\n* Data analysts who want automated reporting instead of manual exports\n\n## How it works\n\n1. **Monthly Trigger** → Schedules the workflow to run once a month.\n2. **Postgres Node** → Fetches energy data from the `energy_data` table.\n3. **Code Node (Transform Data)** → Structures the raw records into JSON with metadata (`date_range`, `records`, `note`).\n4. **HTTP Request (PDF.co API)** → Converts structured data into a formatted PDF report.\n5. **Gmail Node (Send Report)** → Sends the PDF report (or link) via email to the configured recipient.\n\n## How to set up\n\n1. Import the workflow JSON into n8n.\n2. Configure credentials:\n\n\t* PostgreSQL connection (DB host, user, password, database, schema).\n\t* Gmail OAuth2 credentials.\n\t* PDF.co API key (for HTML → PDF conversion).\n3. Update:\n\n\t* Database table (`energy_data`).\n\t* Email recipients in the Gmail node.\n\t* PDF template (if custom formatting is required).\n4. Activate workflow.\n\n## Requirements\n\n* n8n (self-hosted or cloud)\n* PostgreSQL database with energy generation data\n* PDF.co API account with valid API key\n* Gmail account with OAuth2 access\n* Internet access for API calls\n\n## How to customize\n\n* Change the **SQL query** in the Postgres node to filter specific plants or date ranges.\n* Update the **Code node** to add extra fields (e.g., average power, anomalies).\n* Modify the **PDF.co request body** to use a custom HTML template for branding.\n* Replace Gmail with **Outlook, SMTP, or Slack** for distribution.\n\n## Add-ons\n\n* Add Slack/Teams node to notify teams when reports are sent.\n* Store PDFs in Google Drive or S3 for archival.\n* Add a dashboard (e.g., Grafana or Superset) that references the same DB for real-time view.\n* Integrate with Jira to auto-create tasks for underperformance alerts.\n\n## Use Case Examples\n\n* Solar company emailing monthly reports to plant owners.\n* Wind farm operator generating regulatory compliance reports.\n* O&M teams automating KPI summaries for executives.\n* Consulting firms monitoring multiple clients’ energy production.\n\n\n## Common Troubleshooting\n\n| Issue | Possible Cause | Solution |\n| ------------------------------ | -------------------------------------- | ------------------------------------------------------- |\n| Workflow does not trigger | Cron not set correctly | Verify `Schedule Trigger` node interval is monthly |\n| No data returned from Postgres | Wrong schema/table or DB creds | Check DB connection and table name |\n| PDF not generated | Invalid/missing PDF.co API key | Generate a new key in PDF.co dashboard |\n| Email not sent | Gmail OAuth expired or wrong recipient | Reconnect Gmail credentials and confirm recipient email |\n| PDF output malformed | Incorrect JSON → HTML conversion | Check Code node formatting and PDF.co request body |\n\n\n## **Need Help?**\n\nOur [n8n workflow automation](https://www.weblineindia.com/n8n-automation/) experts at WeblineIndia can help you:\n\n* Set up the PostgreSQL connection securely, \n* Customize the PDF layout with your company branding, \n* Add more delivery channels (Slack, Teams, S3), \n* Extend reporting logic (KPIs, charts, anomaly detection), \n* And so much more.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Transform data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Convert data to pdf",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Send Report",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Get energy data",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "Monthly Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}