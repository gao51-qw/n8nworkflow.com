{
  "id": 8968,
  "slug": "8968",
  "title": "Email outreach drafter based on HubSpot data",
  "description": "This n8n template turns a small, targeted HubSpot list into tailored outreach. It scans each contact’s recent Gmail conversations, builds a lightweight persona with AI (tone, goals, pain points, decision style), then drafts a concise sales email aligned to your offer—saved to Gmail as a reviewable draft.\n\nPerfect for SDRs and founders who want personalization at scale without writing from scratch.\n\nThis template was originally created by [Jim Le](https://n8n.io/creators/jimleuk/).\n\n---\n\n## How it works\n\n* **Manual trigger** starts a controlled run.\n* **HubSpot search** pulls a focused list of contacts (e.g., `hs_buying_role = DECISION_MAKER`).\n* **Batch loop** processes contacts one by one.\n* **Gmail fetch** grabs up to 20 recent threads from each contact.\n* **AI persona extraction** (Information Extractor + Gemini) analyzes messages to capture:\n\n  * decision-making style, communication preferences, goals/motivations\n  * pain points, work style, personality traits, buying behavior, values, market awareness\n* **Variables node** sets core fields (first name, last name, email) and the **offer** you want to pitch.\n* **AI email generation** (Gemini) mirrors the contact’s tone and priorities; outputs **subject** + **HTML body**.\n* **Gmail draft** is created for the contact so a rep can skim, tweak, and send.\n\n---\n\n## How to use\n\n1. **Connect HubSpot** on the “Get Contacts” node and refine the filter to your segment.\n2. **Connect Gmail** on both read and draft nodes (same account recommended).\n3. **Add Gemini key** to both Gemini nodes.\n4. In **Variables**, update `product_to_sell` with your offer and confirm the contact field mappings.\n5. (Optional) Tweak the **persona attributes** or the **email prompt** for tone/length/CTA.\n6. Click **Test workflow**. Review drafts in Gmail, edit if needed, then send.\n\n---\n\n## Requirements\n\n* **HubSpot** (OAuth2) for contact targeting\n* **Gmail** (read + draft)\n* **Google Gemini** (API key) for persona + copy generation\n\n---\n\n## Notes & customization\n\n* **Tighter targeting:** Change the HubSpot filter (e.g., industry, territory, lifecycle stage) to keep the list small and measurable.\n* **Richer inputs:** Increase Gmail `limit` or include received/sent filters to capture more context (mind rate limits).\n* **Brand voice:** Add a short style guide to the email generator’s system prompt (e.g., sentence length, jargon rules, sign-off).\n* **Offer variants:** Replace `product_to_sell` per segment, or branch by industry to load different value props.\n* **Compliance & privacy:** Limit stored outputs to essentials; avoid copying sensitive content from threads verbatim.\n* **Auto-send option:** Swap the draft step for “send email” if you want hands-off delivery for known segments.",
  "featuredImage": "/data/workflows/8968/8968.webp",
  "author": {
    "id": 101,
    "slug": "miha",
    "name": "Miha",
    "avatar": ""
  },
  "categories": [
    "Lead Nurturing",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1164,
  "downloads": 116,
  "createdAt": "2025-09-26T15:55:13.793Z",
  "updatedAt": "2026-01-16T08:58:35.362Z",
  "publishedAt": "2025-09-26T15:55:13.793Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8968",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Email outreach drafter based on HubSpot data",
    "workflowName": "Email outreach drafter based on HubSpot data",
    "description": "This n8n template turns a small, targeted HubSpot list into tailored outreach. It scans each contact’s recent Gmail conversations, builds a lightweight persona with AI (tone, goals, pain points, decision style), then drafts a concise sales email aligned to your offer—saved to Gmail as a reviewable draft.\n\nPerfect for SDRs and founders who want personalization at scale without writing from scratch.\n\nThis template was originally created by [Jim Le](https://n8n.io/creators/jimleuk/).\n\n---\n\n## How it works\n\n* **Manual trigger** starts a controlled run.\n* **HubSpot search** pulls a focused list of contacts (e.g., `hs_buying_role = DECISION_MAKER`).\n* **Batch loop** processes contacts one by one.\n* **Gmail fetch** grabs up to 20 recent threads from each contact.\n* **AI persona extraction** (Information Extractor + Gemini) analyzes messages to capture:\n\n  * decision-making style, communication preferences, goals/motivations\n  * pain points, work style, personality traits, buying behavior, values, market awareness\n* **Variables node** sets core fields (first name, last name, email) and the **offer** you want to pitch.\n* **AI email generation** (Gemini) mirrors the contact’s tone and priorities; outputs **subject** + **HTML body**.\n* **Gmail draft** is created for the contact so a rep can skim, tweak, and send.\n\n---\n\n## How to use\n\n1. **Connect HubSpot** on the “Get Contacts” node and refine the filter to your segment.\n2. **Connect Gmail** on both read and draft nodes (same account recommended).\n3. **Add Gemini key** to both Gemini nodes.\n4. In **Variables**, update `product_to_sell` with your offer and confirm the contact field mappings.\n5. (Optional) Tweak the **persona attributes** or the **email prompt** for tone/length/CTA.\n6. Click **Test workflow**. Review drafts in Gmail, edit if needed, then send.\n\n---\n\n## Requirements\n\n* **HubSpot** (OAuth2) for contact targeting\n* **Gmail** (read + draft)\n* **Google Gemini** (API key) for persona + copy generation\n\n---\n\n## Notes & customization\n\n* **Tighter targeting:** Change the HubSpot filter (e.g., industry, territory, lifecycle stage) to keep the list small and measurable.\n* **Richer inputs:** Increase Gmail `limit` or include received/sent filters to capture more context (mind rate limits).\n* **Brand voice:** Add a short style guide to the email generator’s system prompt (e.g., sentence length, jargon rules, sign-off).\n* **Offer variants:** Replace `product_to_sell` per segment, or branch by industry to load different value props.\n* **Compliance & privacy:** Limit stored outputs to essentials; avoid copying sensitive content from threads verbatim.\n* **Auto-send option:** Swap the draft step for “send email” if you want hands-off delivery for known segments.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Contact Ref",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Get All Customer's Emails",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Create Draft Email for Review",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "For Each Contact",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Get Contacts",
      "type": "n8n-nodes-base.hubspot",
      "role": "hubspot",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Analyse and Build Persona",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "role": "informationExtractor",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Sales Email",
      "type": "@n8n/n8n-nodes-langchain.informationExtractor",
      "role": "informationExtractor",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "When clicking 'Execute workflow'",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    }
  ]
}