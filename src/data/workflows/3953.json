{
  "id": 3953,
  "slug": "3953",
  "title": "üîê Double opt-in email verification system with Google Sheets",
  "description": "This template implements a professional Double Opt-In email verification system using Google Sheets as a database. The workflow collects user emails, generates unique verification codes, stores them securely, and validates user access before proceeding with your main form.\n\n### How it Works\n\n1. User submits their email through an initial form\n2. System generates a unique 6-digit verification code\n3. Code is stored in Google Sheets along with user data\n4. Verification email is sent to the user\n5. User enters the code to verify their email\n6. Upon successful verification, user accesses the main form\n\n### Setup\n\nFollow these steps to configure the workflow:\n\n#### 1. Google Sheets Configuration\n\nCreate a Google Sheets spreadsheet with the following columns:\n\n| Column Name    | Data Type | Description                          |\n|----------------|-----------|--------------------------------------|\n| Start Date     | String    | Timestamp of form submission         |\n| ID             | String    | Workflow execution ID                |\n| Accepts Terms  | String    | Terms acceptance flag                |\n| Email          | String    | User's email address                 |\n| Code           | String    | 6-digit verification code            |\n\n#### 2. Google Sheets Connection\n\n1. In n8n, go to Credentials\n2. Add new credential for Google Sheets OAuth2\n3. Follow the OAuth2 authorization flow\n4. In the workflow, update the \"Store Data\" node:\n   - Replace `YOUR_GOOGLE_SHEET_ID` with your spreadsheet ID\n   - Select the correct sheet tab\n\n#### 3. SMTP Configuration\n\n1. Add SMTP credentials in n8n:\n   - Go to Credentials &gt; Add new &gt; SMTP\n   - Enter your SMTP server details\n   - Configure port, username, and password\n2. Update the \"Send Email\" node:\n   - Change sender email to your domain\n   - Customize subject line and message body\n   - Set reply-to address\n\n#### 4. Form Customization\n\n1. **Entry Form**: Customize the title and privacy policy text\n2. **Email Form**: Update the description for your use case\n3. **Verification Form**: Modify instructions as needed\n4. **Main Form**: Add or modify fields for your requirements\n\n### Configuration\n\n#### Email Settings\n\n- **From Email**: Replace `no-reply@yourdomain.com` with your sender address\n- **Subject**: Customize the verification email subject\n- **Message**: Personalize the email template with your branding\n- **Reply-To**: Set your support email address\n\n#### Form Messages\n\n- Update all form descriptions to match your brand voice\n- Customize button labels\n- Modify error messages for better user experience\n\n### Benefits\n\n- **GDPR Compliance**: Ensures legitimate user consent\n- **Spam Reduction**: Validates email ownership\n- **Data Quality**: Maintains clean contact lists\n- **User Trust**: Professional verification process\n\n### Use Cases\n\n- Newsletter subscriptions\n- User registration flows\n- Marketing campaign sign-ups\n- Lead generation forms\n- Event registrations\n\n### Error Handling\n\nThe workflow includes:\n- Invalid code detection\n- Second attempt opportunity\n- Process restart option after multiple failures\n- Clear error messaging\n\n### Security Features\n\n- Unique 6-digit codes for each session\n- Temporary code storage\n- Validation against stored data\n- Multiple attempt limits\n\n### Tags\nDouble Opt-In, Email Verification, Forms, Google Sheets, GDPR, Data Protection, Email Marketing, Lead Generation\n\n### Requirements\n\n- n8n v1.0+\n- Google Sheets account\n- SMTP server access\n- Basic understanding of n8n workflows\n\n### Support\n\nFor questions or issues with this template:\n1. Check the sticky notes in the workflow for detailed explanations\n2. Review the setup instructions above\n3. Ensure all credentials are properly configured\n4. Test with a personal email address first\n\n### Best Practices\n\n- Test the complete flow before going live\n- Monitor Google Sheets for verification attempts\n- Set up email delivery monitoring\n- Consider implementing code expiration (advanced feature)\n- Keep form messages clear and concise",
  "featuredImage": "/data/workflows/3953/3953.webp",
  "author": {
    "id": 101,
    "slug": "untalcamilomedina",
    "name": "Un tal Camilo Medina",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 312,
  "downloads": 31,
  "createdAt": "2025-05-09T05:15:20.175Z",
  "updatedAt": "2026-01-16T08:32:19.947Z",
  "publishedAt": "2025-05-09T05:15:20.175Z",
  "nodes": 24,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3953",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "üîê Double opt-in email verification system with Google Sheets",
    "workflowName": "üîê Double opt-in email verification system with Google Sheets",
    "description": "This template implements a professional Double Opt-In email verification system using Google Sheets as a database. The workflow collects user emails, generates unique verification codes, stores them securely, and validates user access before proceeding with your main form.\n\n### How it Works\n\n1. User submits their email through an initial form\n2. System generates a unique 6-digit verification code\n3. Code is stored in Google Sheets along with user data\n4. Verification email is sent to the user\n5. User enters the code to verify their email\n6. Upon successful verification, user accesses the main form\n\n### Setup\n\nFollow these steps to configure the workflow:\n\n#### 1. Google Sheets Configuration\n\nCreate a Google Sheets spreadsheet with the following columns:\n\n| Column Name    | Data Type | Description                          |\n|----------------|-----------|--------------------------------------|\n| Start Date     | String    | Timestamp of form submission         |\n| ID             | String    | Workflow execution ID                |\n| Accepts Terms  | String    | Terms acceptance flag                |\n| Email          | String    | User's email address                 |\n| Code           | String    | 6-digit verification code            |\n\n#### 2. Google Sheets Connection\n\n1. In n8n, go to Credentials\n2. Add new credential for Google Sheets OAuth2\n3. Follow the OAuth2 authorization flow\n4. In the workflow, update the \"Store Data\" node:\n   - Replace `YOUR_GOOGLE_SHEET_ID` with your spreadsheet ID\n   - Select the correct sheet tab\n\n#### 3. SMTP Configuration\n\n1. Add SMTP credentials in n8n:\n   - Go to Credentials &gt; Add new &gt; SMTP\n   - Enter your SMTP server details\n   - Configure port, username, and password\n2. Update the \"Send Email\" node:\n   - Change sender email to your domain\n   - Customize subject line and message body\n   - Set reply-to address\n\n#### 4. Form Customization\n\n1. **Entry Form**: Customize the title and privacy policy text\n2. **Email Form**: Update the description for your use case\n3. **Verification Form**: Modify instructions as needed\n4. **Main Form**: Add or modify fields for your requirements\n\n### Configuration\n\n#### Email Settings\n\n- **From Email**: Replace `no-reply@yourdomain.com` with your sender address\n- **Subject**: Customize the verification email subject\n- **Message**: Personalize the email template with your branding\n- **Reply-To**: Set your support email address\n\n#### Form Messages\n\n- Update all form descriptions to match your brand voice\n- Customize button labels\n- Modify error messages for better user experience\n\n### Benefits\n\n- **GDPR Compliance**: Ensures legitimate user consent\n- **Spam Reduction**: Validates email ownership\n- **Data Quality**: Maintains clean contact lists\n- **User Trust**: Professional verification process\n\n### Use Cases\n\n- Newsletter subscriptions\n- User registration flows\n- Marketing campaign sign-ups\n- Lead generation forms\n- Event registrations\n\n### Error Handling\n\nThe workflow includes:\n- Invalid code detection\n- Second attempt opportunity\n- Process restart option after multiple failures\n- Clear error messaging\n\n### Security Features\n\n- Unique 6-digit codes for each session\n- Temporary code storage\n- Validation against stored data\n- Multiple attempt limits\n\n### Tags\nDouble Opt-In, Email Verification, Forms, Google Sheets, GDPR, Data Protection, Email Marketing, Lead Generation\n\n### Requirements\n\n- n8n v1.0+\n- Google Sheets account\n- SMTP server access\n- Basic understanding of n8n workflows\n\n### Support\n\nFor questions or issues with this template:\n1. Check the sticky notes in the workflow for detailed explanations\n2. Review the setup instructions above\n3. Ensure all credentials are properly configured\n4. Test with a personal email address first\n\n### Best Practices\n\n- Test the complete flow before going live\n- Monitor Google Sheets for verification attempts\n- Set up email delivery monitoring\n- Consider implementing code expiration (advanced feature)\n- Keep form messages clear and concise",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Email Form",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Email",
      "type": "n8n-nodes-base.emailSend",
      "role": "emailSend",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Store Data",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Verification Form",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 1"
    },
    {
      "name": "Check Code",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Main Form",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 1"
    },
    {
      "name": "Incorrect Code Form",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 1"
    },
    {
      "name": "Second Check",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Reset Form",
      "type": "n8n-nodes-base.form",
      "role": "form",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note 11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Continue With Your Flow",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}