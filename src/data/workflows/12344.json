{
  "id": 12344,
  "slug": "12344",
  "title": "Post bank statement transactions to QuickBooks Online using OpenRouter AI",
  "description": "## ‚úÖ What problem does this workflow solve?\n\nManually entering bank statements into QuickBooks is one of the most time-consuming and error-prone accounting tasks. Accountants often spend hours converting PDF bank statements into individual income and expense entries‚Äîrisking missed transactions, incorrect categorization, and inconsistencies.\n\nThis workflow **fully automates the end-to-end process**: from uploading a (even password-protected) bank statement PDF to creating **accurate Sales Receipts and Expenses directly inside QuickBooks**, using AI and n8n.\n\n---\n\n## ‚öôÔ∏è What does this workflow do?\n\n- Accepts bank statement PDFs via a secure web form  \n- Decrypts and extracts text from password-protected PDFs  \n- Uses AI to extract **structured transactions** from raw statement text  \n- Validates AI output against a strict JSON schema  \n- Processes each transaction individually for reliability  \n- Automatically routes transactions based on type:\n  - **Credits ‚Üí Income (Sales Receipts)**\n  - **Debits ‚Üí Expenses**\n- Intelligently creates missing QuickBooks entities:\n  - Customers\n  - Vendors\n  - Items\n  - Expense categories\n- Posts transactions directly into QuickBooks  \n- Eliminates manual accounting entry completely\n\n---\n\n## üß† How It Works ‚Äì End-to-End Flow\n\n### 1Ô∏è‚É£ Secure Bank Statement Upload\nA user uploads a bank statement PDF (normal or password-protected) using an **n8n Form Trigger**.\n\n### 2Ô∏è‚É£ PDF Decryption & Text Extraction\nThe workflow:\n- Unlocks the PDF (if password-protected)\n- Extracts the full statement text using the **Extract PDF Text** node\n\n### 3Ô∏è‚É£ AI-Powered Transaction Extraction\nAn **AI Agent** reads the raw bank statement text and extracts every transaction with high precision:\n- Transaction type (credit / debit)\n- Date (YYYY-MM-DD)`\n- Amount\n- Description\n- Reference number\n- Payee / counterparty\n\n### 4Ô∏è‚É£ Strict JSON Validation\nAI output is validated using a **Structured Output Parser** to ensure:\n- No malformed data\n- Schema-safe transactions\n- Reliable downstream processing\n\n### 5Ô∏è‚É£ Transaction Processing Loop\nEach transaction is processed individually using batching and loop control to guarantee accuracy.\n\n### 6Ô∏è‚É£ Smart Routing: Credit vs Debit\nA switch node routes transactions automatically:\n- **Credits** ‚Üí Income flow\n- **Debits** ‚Üí Expense flow\n\n---\n\n## üí∞ Credit Path ‚Äì Income Automation\n\nFor every **credit transaction**:\n- Checks if a matching QuickBooks item exists\n- Creates missing service items automatically\n- Finds or creates the customer\n- Builds a **Sales Receipt payload**\n- Posts the transaction into QuickBooks as income\n\n---\n\n## üí∏ Debit Path ‚Äì Expense Automation\n\nFor every **debit transaction**:\n- Searches for the vendor by payee name\n- Creates the vendor if missing\n- Loads expense categories from the Chart of Accounts\n- Auto-maps transactions to the correct category using keyword logic\n- Builds a **Purchase (Expense) payload**\n- Posts the expense into QuickBooks\n\n---\n\n## üß† Built-In QuickBooks Intelligence\n\nThis workflow intelligently handles:\n- Duplicate prevention\n- Missing customer/vendor creation\n- Automatic item mapping\n- Category resolution using transaction descriptions\n- Consistent accounting structure across all entries\n\n---\n\n## üìä Results & Benefits\n\n‚úÖ Zero manual bank statement entry  \n‚úÖ Works with password-protected PDFs  \n‚úÖ Handles both income and expenses automatically  \n‚úÖ Creates clean, structured QuickBooks records  \n‚úÖ Saves **dozens of accounting hours every month**  \n‚úÖ Reduces human error and reconciliation issues  \n\n---\n\n## üîß Setup Requirements\n\n1. Connect your **QuickBooks Online** account (Sandbox or Production)  \n2. Add **OpenRouter / AI model credentials** for transaction extraction  \n3. Update the PDF password (if required) in the extraction node  \n4. Replace `company_id` in QuickBooks API endpoints  \n5. Verify QuickBooks account IDs (bank, income, expense)  \n6. Test with a sample bank statement PDF  \n\n---\n\n## üë§ Who is this for?\n\nThis workflow is ideal for:\n- üìí Accountants & bookkeeping firms\n- üè¢ Businesses managing frequent bank statements\n- üíº Finance teams using QuickBooks Online\n- ü§ñ Automation-first accounting systems",
  "featuredImage": "/data/workflows/12344/12344.webp",
  "author": {
    "id": 101,
    "slug": "infyom",
    "name": "InfyOm Technologies",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 40,
  "downloads": 4,
  "createdAt": "2026-01-01T04:26:27.614Z",
  "updatedAt": "2026-01-16T09:12:10.510Z",
  "publishedAt": "2026-01-01T04:26:27.614Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/12344",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Post bank statement transactions to QuickBooks Online using OpenRouter AI",
    "workflowName": "Post bank statement transactions to QuickBooks Online using OpenRouter AI",
    "description": "## ‚úÖ What problem does this workflow solve?\n\nManually entering bank statements into QuickBooks is one of the most time-consuming and error-prone accounting tasks. Accountants often spend hours converting PDF bank statements into individual income and expense entries‚Äîrisking missed transactions, incorrect categorization, and inconsistencies.\n\nThis workflow **fully automates the end-to-end process**: from uploading a (even password-protected) bank statement PDF to creating **accurate Sales Receipts and Expenses directly inside QuickBooks**, using AI and n8n.\n\n---\n\n## ‚öôÔ∏è What does this workflow do?\n\n- Accepts bank statement PDFs via a secure web form  \n- Decrypts and extracts text from password-protected PDFs  \n- Uses AI to extract **structured transactions** from raw statement text  \n- Validates AI output against a strict JSON schema  \n- Processes each transaction individually for reliability  \n- Automatically routes transactions based on type:\n  - **Credits ‚Üí Income (Sales Receipts)**\n  - **Debits ‚Üí Expenses**\n- Intelligently creates missing QuickBooks entities:\n  - Customers\n  - Vendors\n  - Items\n  - Expense categories\n- Posts transactions directly into QuickBooks  \n- Eliminates manual accounting entry completely\n\n---\n\n## üß† How It Works ‚Äì End-to-End Flow\n\n### 1Ô∏è‚É£ Secure Bank Statement Upload\nA user uploads a bank statement PDF (normal or password-protected) using an **n8n Form Trigger**.\n\n### 2Ô∏è‚É£ PDF Decryption & Text Extraction\nThe workflow:\n- Unlocks the PDF (if password-protected)\n- Extracts the full statement text using the **Extract PDF Text** node\n\n### 3Ô∏è‚É£ AI-Powered Transaction Extraction\nAn **AI Agent** reads the raw bank statement text and extracts every transaction with high precision:\n- Transaction type (credit / debit)\n- Date (YYYY-MM-DD)`\n- Amount\n- Description\n- Reference number\n- Payee / counterparty\n\n### 4Ô∏è‚É£ Strict JSON Validation\nAI output is validated using a **Structured Output Parser** to ensure:\n- No malformed data\n- Schema-safe transactions\n- Reliable downstream processing\n\n### 5Ô∏è‚É£ Transaction Processing Loop\nEach transaction is processed individually using batching and loop control to guarantee accuracy.\n\n### 6Ô∏è‚É£ Smart Routing: Credit vs Debit\nA switch node routes transactions automatically:\n- **Credits** ‚Üí Income flow\n- **Debits** ‚Üí Expense flow\n\n---\n\n## üí∞ Credit Path ‚Äì Income Automation\n\nFor every **credit transaction**:\n- Checks if a matching QuickBooks item exists\n- Creates missing service items automatically\n- Finds or creates the customer\n- Builds a **Sales Receipt payload**\n- Posts the transaction into QuickBooks as income\n\n---\n\n## üí∏ Debit Path ‚Äì Expense Automation\n\nFor every **debit transaction**:\n- Searches for the vendor by payee name\n- Creates the vendor if missing\n- Loads expense categories from the Chart of Accounts\n- Auto-maps transactions to the correct category using keyword logic\n- Builds a **Purchase (Expense) payload**\n- Posts the expense into QuickBooks\n\n---\n\n## üß† Built-In QuickBooks Intelligence\n\nThis workflow intelligently handles:\n- Duplicate prevention\n- Missing customer/vendor creation\n- Automatic item mapping\n- Category resolution using transaction descriptions\n- Consistent accounting structure across all entries\n\n---\n\n## üìä Results & Benefits\n\n‚úÖ Zero manual bank statement entry  \n‚úÖ Works with password-protected PDFs  \n‚úÖ Handles both income and expenses automatically  \n‚úÖ Creates clean, structured QuickBooks records  \n‚úÖ Saves **dozens of accounting hours every month**  \n‚úÖ Reduces human error and reconciliation issues  \n\n---\n\n## üîß Setup Requirements\n\n1. Connect your **QuickBooks Online** account (Sandbox or Production)  \n2. Add **OpenRouter / AI model credentials** for transaction extraction  \n3. Update the PDF password (if required) in the extraction node  \n4. Replace `company_id` in QuickBooks API endpoints  \n5. Verify QuickBooks account IDs (bank, income, expense)  \n6. Test with a sample bank statement PDF  \n\n---\n\n## üë§ Who is this for?\n\nThis workflow is ideal for:\n- üìí Accountants & bookkeeping firms\n- üè¢ Businesses managing frequent bank statements\n- üíº Finance teams using QuickBooks Online\n- ü§ñ Automation-first accounting systems",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Extract PDF Text",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Transaction Extractor AI",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "JSON Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Create QuickBooks SalesReceipt",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Bank Statement Form",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.3"
    },
    {
      "name": "OpenRouter Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Split Transactions",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Build Salesreceipt Payload",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Get many customers",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Vendor",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Vendor Exists?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Find Vendor",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Search Categories",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Create Items",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Collect All Item Mappings",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Need to Create Items?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get All QB Items",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Check Which Items to Create",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Credit or Debit?",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Customers Exists?1",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Create a Customer",
      "type": "n8n-nodes-base.quickbooks",
      "role": "quickbooks",
      "configDescription": "Version 1"
    },
    {
      "name": "Create QuickBooks Expense",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Build Expense Payload",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Workflow Overview",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "PDF Extraction",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Transaction Processing",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Credit Path",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Debit Path",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}