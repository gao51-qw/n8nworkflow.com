{
  "id": 3090,
  "slug": "3090",
  "title": "âœ¨ðŸ“ŠMulti-AI agent chatbot for Postgres/Supabase DB and QuickCharts + tool router",
  "description": "# Multi-AI Agent Chatbot for Postgres/Supabase Databases and QuickChart Generation\n\n## Who is this for?  \nThis workflow is ideal for **data analysts**, **developers**, and **business intelligence teams** who need an AI-powered chatbot to query Postgres/Supabase databases and generate dynamic charts for data visualization.\n\n## What problem does this solve?  \nIt simplifies data exploration by combining conversational AI with database querying and chart generation. Users can interact with their database using natural language, retrieve insights, and visualize data without manual SQL queries or chart configuration.\n\n## What this workflow does  \n1. **AI-Powered Chat Interface**:  \n   - Accepts natural language prompts to query databases or generate charts.  \n   - Routes user requests through a tool agent system to determine the appropriate action (query or chart).  \n\n2. **Database Querying**:  \n   - Executes SQL queries on Postgres/Supabase databases based on user input.  \n   - Retrieves schema information, table definitions, and specific data records.  \n\n3. **Dynamic Chart Generation**:  \n   - Uses QuickChart to create bar charts, line charts, or other visualizations from database records.  \n   - Outputs a shareable chart URL or JSON configuration for further customization.  \n\n4. **Memory Integration**:  \n   - Maintains chat history using Postgres memory nodes, enabling context-aware interactions.  \n\nWorkflow diagram showcasing AI agents, database querying, and chart generation paths.\n\n## Setup  \n1. **Prerequisites**:  \n   - A Postgres-compatible database (e.g., Supabase).  \n   - API credentials for OpenAI.  \n\n2. **Configuration Steps**:  \n   - Add your database connection credentials in the Postgres nodes.  \n   - Set up OpenAI credentials for GPT-4o-mini in the language model nodes.  \n   - Adjust the QuickChart schema in the \"QuickChart Object Schema\" node to fit your use case.  \n\n3. **Testing**:  \n   - Trigger the chat workflow via the \"When chat message received\" node.  \n   - Test with prompts like \"Generate a bar chart of sales data\" or \"Show me all users in the database.\"\n\n## How to customize this workflow  \n- **Modify AI Prompts**\n- **Add Chart Types**\n- **Integrate Other Tools**\n",
  "featuredImage": "/data/workflows/3090/3090.webp",
  "author": {
    "id": 101,
    "slug": "joe",
    "name": "Joseph LePage",
    "avatar": ""
  },
  "categories": [
    "Internal Wiki",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 12806,
  "downloads": 1280,
  "createdAt": "2025-03-05T21:40:28.647Z",
  "updatedAt": "2026-01-16T08:28:01.916Z",
  "publishedAt": "2025-03-05T21:40:28.647Z",
  "nodes": 40,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3090",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "âœ¨ðŸ“ŠMulti-AI agent chatbot for Postgres/Supabase DB and QuickCharts + tool router",
    "workflowName": "âœ¨ðŸ“ŠMulti-AI agent chatbot for Postgres/Supabase DB and QuickCharts + tool router",
    "description": "# Multi-AI Agent Chatbot for Postgres/Supabase Databases and QuickChart Generation\n\n## Who is this for?  \nThis workflow is ideal for **data analysts**, **developers**, and **business intelligence teams** who need an AI-powered chatbot to query Postgres/Supabase databases and generate dynamic charts for data visualization.\n\n## What problem does this solve?  \nIt simplifies data exploration by combining conversational AI with database querying and chart generation. Users can interact with their database using natural language, retrieve insights, and visualize data without manual SQL queries or chart configuration.\n\n## What this workflow does  \n1. **AI-Powered Chat Interface**:  \n   - Accepts natural language prompts to query databases or generate charts.  \n   - Routes user requests through a tool agent system to determine the appropriate action (query or chart).  \n\n2. **Database Querying**:  \n   - Executes SQL queries on Postgres/Supabase databases based on user input.  \n   - Retrieves schema information, table definitions, and specific data records.  \n\n3. **Dynamic Chart Generation**:  \n   - Uses QuickChart to create bar charts, line charts, or other visualizations from database records.  \n   - Outputs a shareable chart URL or JSON configuration for further customization.  \n\n4. **Memory Integration**:  \n   - Maintains chat history using Postgres memory nodes, enabling context-aware interactions.  \n\nWorkflow diagram showcasing AI agents, database querying, and chart generation paths.\n\n## Setup  \n1. **Prerequisites**:  \n   - A Postgres-compatible database (e.g., Supabase).  \n   - API credentials for OpenAI.  \n\n2. **Configuration Steps**:  \n   - Add your database connection credentials in the Postgres nodes.  \n   - Set up OpenAI credentials for GPT-4o-mini in the language model nodes.  \n   - Adjust the QuickChart schema in the \"QuickChart Object Schema\" node to fit your use case.  \n\n3. **Testing**:  \n   - Trigger the chat workflow via the \"When chat message received\" node.  \n   - Test with prompts like \"Generate a bar chart of sales data\" or \"Show me all users in the database.\"\n\n## How to customize this workflow  \n- **Modify AI Prompts**\n- **Add Chart Types**\n- **Integrate Other Tools**",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Execute SQL Query",
      "type": "n8n-nodes-base.postgresTool",
      "role": "postgresTool",
      "configDescription": "Version 2.5"
    },
    {
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "role": "executeWorkflowTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "query_db_tool",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "role": "toolWorkflow",
      "configDescription": "Version 2"
    },
    {
      "name": "generate_quickchart_tool",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "role": "toolWorkflow",
      "configDescription": "Version 2"
    },
    {
      "name": "Create QuickChart",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "QuickChart Object Schema",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "gpt-4o-mini",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "gpt-4o-mini-2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "ðŸ¤–Primary Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "ðŸ¤–Secondary Postgres Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "ðŸ¤–Secondary QuickChart Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "ðŸ”€Tool Agent Router",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Table Definitions",
      "type": "n8n-nodes-base.postgresTool",
      "role": "postgresTool",
      "configDescription": "Version 2.5"
    },
    {
      "name": "Postgres Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Final QuickChart URL",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "QuickChart GET URL",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "DB Schema and Tables",
      "type": "n8n-nodes-base.postgresTool",
      "role": "postgresTool",
      "configDescription": "Version 2.5"
    },
    {
      "name": "gpt-40-mini-1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}