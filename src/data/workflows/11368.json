{
  "id": 11368,
  "slug": "11368",
  "title": "Track expenses automatically with Telegram Bot using GPT-4o, OCR and voice recognition",
  "description": "# Personal Expense Tracker Bot üí∞\n\nAI-powered Telegram bot for effortless expense tracking. Send receipts, voice messages, or text - the bot automatically extracts and categorizes your expenses.\n\n## ‚ú® Key Features\n\n- **üì∏ Receipt & Invoice OCR** - Send photos of receipts or PDF invoices, AI extracts expense data automatically\n- **üé§ Voice Messages** - Speak your expenses naturally, audio is transcribed and processed\n- **üí¨ Natural Language** - Just type \"spent 50 on groceries\" or any text format\n- **üåç Multilingual** - Processes documents in any language (EN, DE, PT, etc.)\n- **üìä Smart Statistics** - Get monthly totals, category breakdowns, multi-month comparisons\n- **üîí Private & Secure** - Single-user authorization, only you can access your data\n- **‚ö° Zero Confirmation** - Expenses are added instantly, no annoying \"confirm?\" prompts\n\n## üéØ How It Works\n\n1. **Send expense data** via Telegram:\n   - Photo of receipt\n   - PDF invoice\n   - Voice message\n   - Text message\n\n2. **AI processes automatically**:\n   - Extracts amount, date, vendor\n   - Categorizes expense\n   - Stores in organized format\n\n3. **Query your expenses**:\n   - \"Show my expenses for November\"\n   - \"How much did I spend on groceries?\"\n   - \"Compare last 3 months\"\n\n## üìã Expense Categories\n\nGroceries, Transportation, Housing, Utilities, Healthcare, Entertainment, Dining Out, Clothing, Education, Subscriptions, Personal Care, Gifts, Travel, Sports, Other\n\n## üîß Setup Requirements\n\n### 1. Telegram Bot\nCreate a Telegram bot via [@BotFather](https://t.me/botfather) and get your API token.\n\nConfigure credentials for nodes:\n- Input, WelcomeMessage, \n- GetAudioFile, GetAttachedFile, GetAttachedPhoto\n- ReplyText, NotAuthorizedMessage, DeleteProcessing\n\n### 2. OpenRouter API\nGet API key from [OpenRouter](https://openrouter.ai/) for AI processing.\n\nConfigure credentials for:\n- Gpt4o (main processing)\n- Sonnet45 (expense assistant)\n\n### 3. Ainoflow API\nGet API key from [Ainoflow](https://www.ainoflow.io/signup) for storage and OCR.\n\nConfigure Bearer credentials for:\n- GetConfig, SaveConfig\n- ExtractFileText, ExtractImageText\n- TranscribeRecording\n- JsonStorageMcp (MCP tool)\n\n## üèóÔ∏è Workflow Architecture\n\n| Section | Description |\n|---------|-------------|\n| **Message Trigger** | Receives all Telegram messages |\n| **Bot Privacy** | Locks bot to first user, rejects unauthorized access |\n| **Chat Message / Audio** | Routes text and voice messages to AI |\n| **Document / Photo** | Extracts text from files via OCR and forwards to AI |\n| **Root Agent** | Routes messages to Expense Assistant, validates responses |\n| **Expense Assistant** | Core logic: stores expenses, calculates statistics |\n| **Result / Reply** | Sends formatted response back to Telegram |\n| **Cleanup / Reset** | Manual trigger to delete all data (‚ö†Ô∏è use with caution) |\n\n## üí¨ Usage Examples\n\n### Adding Expenses\n```\nüì∏ [Send receipt photo]\n‚Üí Added: 45.50 EUR - Groceries (Lidl)\n\nüé§ \"Bought coffee for five euros\"  \n‚Üí Added: 5.00 EUR - Dining Out (coffee)\n\nüí¨ \"50 uber\"\n‚Üí Added: 50.00 EUR - Transportation (uber)\n```\n\n### Querying Expenses\n```\n\"Show my expenses\"\n‚Üí November 2025: 1,250.50 EUR (23 expenses)\n   Top: Groceries 450‚Ç¨, Transportation 280‚Ç¨, Dining 220‚Ç¨\n\n\"How much on entertainment this month?\"\n‚Üí Entertainment: 85.00 EUR (3 expenses)\n\n\"Compare October and November\"  \n‚Üí Oct: 980‚Ç¨ | Nov: 1,250‚Ç¨ (+27%)\n```\n\n## üì¶ Data Storage\n\nExpenses are stored in JSON format organized by month (YYYY-MM):\n```json\n{\n  \"id\": \"uuid\",\n  \"amount\": 45.50,\n  \"currency\": \"EUR\",\n  \"category\": \"Groceries\",\n  \"description\": \"Store name\",\n  \"date\": \"2025-11-10T14:30:00Z\",\n  \"created_at\": \"2025-11-10T14:35:22Z\"\n}\n```\n\n## ‚ö†Ô∏è Important Notes\n\n- **First user locks the bot** - Run `/start` to claim ownership\n- **Default currency is EUR** - AI auto-detects other currencies\n- **Cleanup deletes ALL data** - Use manual trigger with caution\n- **No confirmation for adding** - Only delete operations ask for confirmation\n\n## üõ†Ô∏è Customization\n\n- Change default currency in agent prompts\n- Add/modify expense categories in ExpenseAssistant\n- Extend Root Agent with additional assistants\n- Adjust AI models (swap GPT-4o/Sonnet as needed)\n\n## üìö Related Resources\n\n- [Create Telegram Bot](https://blog.n8n.io/create-telegram-bot/)\n- [OpenRouter Credentials](https://docs.n8n.io/integrations/builtin/credentials/openrouter/)\n- [Ainoflow Platform](https://www.ainoflow.io/)\n\n## üíº Need Customization?\n\nWant to adapt this template for your specific needs? Custom integrations, additional features, or enterprise deployment?\n\n**Contact us at [Ainova Systems](https://ainovasystems.com/)** - We build AI automation solutions for businesses.\n\n---\n\n**Tags:** `telegram`, `expense-tracker`, `ai-agent`, `ocr`, `voice-to-text`, `openrouter`, `mcp-tools`, `personal-finance`\n\n",
  "featuredImage": "/data/workflows/11368/11368.webp",
  "author": {
    "id": 101,
    "slug": "dmitrijz",
    "name": "Dmitrij Zykovic",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 799,
  "downloads": 79,
  "createdAt": "2025-11-30T12:03:08.903Z",
  "updatedAt": "2026-01-16T09:08:30.091Z",
  "publishedAt": "2025-11-30T12:03:08.903Z",
  "nodes": 53,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11368",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Track expenses automatically with Telegram Bot using GPT-4o, OCR and voice recognition",
    "workflowName": "Track expenses automatically with Telegram Bot using GPT-4o, OCR and voice recognition",
    "description": "# Personal Expense Tracker Bot üí∞\n\nAI-powered Telegram bot for effortless expense tracking. Send receipts, voice messages, or text - the bot automatically extracts and categorizes your expenses.\n\n## ‚ú® Key Features\n\n- **üì∏ Receipt & Invoice OCR** - Send photos of receipts or PDF invoices, AI extracts expense data automatically\n- **üé§ Voice Messages** - Speak your expenses naturally, audio is transcribed and processed\n- **üí¨ Natural Language** - Just type \"spent 50 on groceries\" or any text format\n- **üåç Multilingual** - Processes documents in any language (EN, DE, PT, etc.)\n- **üìä Smart Statistics** - Get monthly totals, category breakdowns, multi-month comparisons\n- **üîí Private & Secure** - Single-user authorization, only you can access your data\n- **‚ö° Zero Confirmation** - Expenses are added instantly, no annoying \"confirm?\" prompts\n\n## üéØ How It Works\n\n1. **Send expense data** via Telegram:\n   - Photo of receipt\n   - PDF invoice\n   - Voice message\n   - Text message\n\n2. **AI processes automatically**:\n   - Extracts amount, date, vendor\n   - Categorizes expense\n   - Stores in organized format\n\n3. **Query your expenses**:\n   - \"Show my expenses for November\"\n   - \"How much did I spend on groceries?\"\n   - \"Compare last 3 months\"\n\n## üìã Expense Categories\n\nGroceries, Transportation, Housing, Utilities, Healthcare, Entertainment, Dining Out, Clothing, Education, Subscriptions, Personal Care, Gifts, Travel, Sports, Other\n\n## üîß Setup Requirements\n\n### 1. Telegram Bot\nCreate a Telegram bot via [@BotFather](https://t.me/botfather) and get your API token.\n\nConfigure credentials for nodes:\n- Input, WelcomeMessage, \n- GetAudioFile, GetAttachedFile, GetAttachedPhoto\n- ReplyText, NotAuthorizedMessage, DeleteProcessing\n\n### 2. OpenRouter API\nGet API key from [OpenRouter](https://openrouter.ai/) for AI processing.\n\nConfigure credentials for:\n- Gpt4o (main processing)\n- Sonnet45 (expense assistant)\n\n### 3. Ainoflow API\nGet API key from [Ainoflow](https://www.ainoflow.io/signup) for storage and OCR.\n\nConfigure Bearer credentials for:\n- GetConfig, SaveConfig\n- ExtractFileText, ExtractImageText\n- TranscribeRecording\n- JsonStorageMcp (MCP tool)\n\n## üèóÔ∏è Workflow Architecture\n\n| Section | Description |\n|---------|-------------|\n| **Message Trigger** | Receives all Telegram messages |\n| **Bot Privacy** | Locks bot to first user, rejects unauthorized access |\n| **Chat Message / Audio** | Routes text and voice messages to AI |\n| **Document / Photo** | Extracts text from files via OCR and forwards to AI |\n| **Root Agent** | Routes messages to Expense Assistant, validates responses |\n| **Expense Assistant** | Core logic: stores expenses, calculates statistics |\n| **Result / Reply** | Sends formatted response back to Telegram |\n| **Cleanup / Reset** | Manual trigger to delete all data (‚ö†Ô∏è use with caution) |\n\n## üí¨ Usage Examples\n\n### Adding Expenses\n```\nüì∏ [Send receipt photo]\n‚Üí Added: 45.50 EUR - Groceries (Lidl)\n\nüé§ \"Bought coffee for five euros\"  \n‚Üí Added: 5.00 EUR - Dining Out (coffee)\n\nüí¨ \"50 uber\"\n‚Üí Added: 50.00 EUR - Transportation (uber)\n```\n\n### Querying Expenses\n```\n\"Show my expenses\"\n‚Üí November 2025: 1,250.50 EUR (23 expenses)\n   Top: Groceries 450‚Ç¨, Transportation 280‚Ç¨, Dining 220‚Ç¨\n\n\"How much on entertainment this month?\"\n‚Üí Entertainment: 85.00 EUR (3 expenses)\n\n\"Compare October and November\"  \n‚Üí Oct: 980‚Ç¨ | Nov: 1,250‚Ç¨ (+27%)\n```\n\n## üì¶ Data Storage\n\nExpenses are stored in JSON format organized by month (YYYY-MM):\n```json\n{\n  \"id\": \"uuid\",\n  \"amount\": 45.50,\n  \"currency\": \"EUR\",\n  \"category\": \"Groceries\",\n  \"description\": \"Store name\",\n  \"date\": \"2025-11-10T14:30:00Z\",\n  \"created_at\": \"2025-11-10T14:35:22Z\"\n}\n```\n\n## ‚ö†Ô∏è Important Notes\n\n- **First user locks the bot** - Run `/start` to claim ownership\n- **Default currency is EUR** - AI auto-detects other currencies\n- **Cleanup deletes ALL data** - Use manual trigger with caution\n- **No confirmation for adding** - Only delete operations ask for confirmation\n\n## üõ†Ô∏è Customization\n\n- Change default currency in agent prompts\n- Add/modify expense categories in ExpenseAssistant\n- Extend Root Agent with additional assistants\n- Adjust AI models (swap GPT-4o/Sonnet as needed)\n\n## üìö Related Resources\n\n- [Create Telegram Bot](https://blog.n8n.io/create-telegram-bot/)\n- [OpenRouter Credentials](https://docs.n8n.io/integrations/builtin/credentials/openrouter/)\n- [Ainoflow Platform](https://www.ainoflow.io/)\n\n## üíº Need Customization?\n\nWant to adapt this template for your specific needs? Custom integrations, additional features, or enterprise deployment?\n\n**Contact us at [Ainova Systems](https://ainovasystems.com/)** - We build AI automation solutions for businesses.\n\n---\n\n**Tags:** `telegram`, `expense-tracker`, `ai-agent`, `ocr`, `voice-to-text`, `openrouter`, `mcp-tools`, `personal-finance`",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "JsonStorageMcp",
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "role": "mcpClientTool",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Calculator",
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "role": "toolCalculator",
      "configDescription": "Version 1"
    },
    {
      "name": "ExpenseAssistant",
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "role": "agentTool",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Gpt4o",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Think",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "role": "toolThink",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.3"
    },
    {
      "name": "TextOutput",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "WelcomeMessage",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AudioOutput",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "AgentInput",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "NotAuthorizedMessage",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "IfAccessAllowed",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "IfFirstRun",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "ReplyText",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "FileOutput",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "GetAudioFile",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "ExtractFileText",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "AssitantMemory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "SimpleMemory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "AIAgent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "TranscribeAudio",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Input",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "GetAttachedFile",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "IfStateExist",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "DeleteProcessing",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Think1",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "role": "toolThink",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Cleanup",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "ForEachCategory",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "ForEachCategoryItem",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "DeleteItem",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "GetAttachedPhoto",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "ImageOutput",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "ExtractImageText",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "SendProcessing",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "GetExecutionState",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sonnet45",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "GetAppSettings",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "SaveAppSettings",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "SaveExecutionState",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    }
  ]
}