{
  "id": 9254,
  "slug": "9254",
  "title": "Automate Telegram message processing - separate text and files üí¨üìÅ",
  "description": "## **Introduction**\nTired of manually downloading a file through different Telegram messages? This workflow acts as a smart receptionist for your Telegram bot, automatically processing incoming messages to cleanly separate text from file attachments, getting them ready for any automation you can dream up! üì•\n\n---\n## üéØ **What This Does**\nThis workflow solves the challenge of handling varied Telegram messages within a single automation workflow. Incoming messages can be just text, just a file, or a file with a caption. This template intelligently identifies the message type and routes it down the correct path, isolating the text content and downloading the file attachment. It's perfect for community managers, support teams, or anyone building a Telegram-powered chatbot.\n\n---\n## üîÑ **How It Works**\n1. **Listens for New Messages:** The workflow starts the moment a new message is sent to your connected Telegram bot.\n2. **Checks Message Content:** A Switch node instantly determines if the message contains:\n    - Text only\n    - Attachment only\n    - Attachment with a message (text caption)\n3. **Separates Message and File:** Based on the content, the workflow isolates the text (from the message or caption) and the file's metadata (`file_id`, `file_name`).\n4. **Downloads the Attachment:** For any message containing a file, the workflow automatically downloads it, making the binary data available for the next steps in your automation.\n## üß© **Nodes Used**\n- Telegram Trigger\n- Telegram\n- Switch\n- Set\n- Split Out\n- No Operation - NoOp (as a placeholder for your next steps)\n---\n## üöÄ **Setup Requirements**\n- **Credentials:** You'll need a Telegram Bot API Token (Key) and Chat ID.\n- **Accounts:** A Telegram account.\n- **Setup Time:** Less than 5 minutes.\n### Set up steps\n1. **Create a Telegram Bot:** \n\t- First, you need a bot. Open Telegram and send a message to the official `@BotFather`.\n    - Send the command `/newbot`.\n    - Follow the prompts to choose a name and username for your bot.\n    - BotFather will provide you with a unique **API Token**. Copy this token, it's what you'll need for the next step.\n2. **Add Credentials to n8n:**\n    - In your n8n workflow, navigate to the **Credentials** section in the left panel.\n    - Click **Add credential**, search for \"Telegram,\" and select it.\n    - Paste the API Token you copied from BotFather into the **Access Token** field.\n    - Click **Save** to create your credential.\n3. **Connect Your Bot to the Workflow:**\n    - Back on the canvas, open the **Waiting For Message (Telegram Trigger)** node.\n    - In the **Credential for Telegram API** dropdown, select the credential you just created.\n    - Open the **Get & Download Attachment (Telegram)** node and select the same credential.\n4. **Activate and Test!**\n    - Click the **Activate** toggle in the top right corner of your screen.\n    - Now, send a few different messages to your new bot on Telegram to test all the paths:\n        - A simple text message (e.g., \"Hello!\").\n        - A file (like a PDF or Notepad) with no text.\n        - A file with a caption(message).\n    - You can check the **Executions** tab in n8n to see each test run successfully! The `NoOp` nodes at the end of each path show you the final, cleanly separated data.\n---\n## üíé **Benefits / Why It Matters**\nThis template provides a robust and reliable foundation for any Telegram automation. By neatly separating text from files, you can seamlessly connect Telegram to any other service whether you're archiving documents to Google Drive, analyzing feedback with Gemini, or logging support requests in a database. It saves development time and ensures your automations run smoothly",
  "featuredImage": "/data/workflows/9254/9254.webp",
  "author": {
    "id": 101,
    "slug": "eocimreo",
    "name": "EoCi - Mr.Eo",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 989,
  "downloads": 98,
  "createdAt": "2025-10-03T20:35:17.472Z",
  "updatedAt": "2026-01-16T08:59:41.606Z",
  "publishedAt": "2025-10-03T20:35:17.472Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9254",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate Telegram message processing - separate text and files üí¨üìÅ",
    "workflowName": "Automate Telegram message processing - separate text and files üí¨üìÅ",
    "description": "## **Introduction**\nTired of manually downloading a file through different Telegram messages? This workflow acts as a smart receptionist for your Telegram bot, automatically processing incoming messages to cleanly separate text from file attachments, getting them ready for any automation you can dream up! üì•\n\n---\n## üéØ **What This Does**\nThis workflow solves the challenge of handling varied Telegram messages within a single automation workflow. Incoming messages can be just text, just a file, or a file with a caption. This template intelligently identifies the message type and routes it down the correct path, isolating the text content and downloading the file attachment. It's perfect for community managers, support teams, or anyone building a Telegram-powered chatbot.\n\n---\n## üîÑ **How It Works**\n1. **Listens for New Messages:** The workflow starts the moment a new message is sent to your connected Telegram bot.\n2. **Checks Message Content:** A Switch node instantly determines if the message contains:\n    - Text only\n    - Attachment only\n    - Attachment with a message (text caption)\n3. **Separates Message and File:** Based on the content, the workflow isolates the text (from the message or caption) and the file's metadata (`file_id`, `file_name`).\n4. **Downloads the Attachment:** For any message containing a file, the workflow automatically downloads it, making the binary data available for the next steps in your automation.\n## üß© **Nodes Used**\n- Telegram Trigger\n- Telegram\n- Switch\n- Set\n- Split Out\n- No Operation - NoOp (as a placeholder for your next steps)\n---\n## üöÄ **Setup Requirements**\n- **Credentials:** You'll need a Telegram Bot API Token (Key) and Chat ID.\n- **Accounts:** A Telegram account.\n- **Setup Time:** Less than 5 minutes.\n### Set up steps\n1. **Create a Telegram Bot:** \n\t- First, you need a bot. Open Telegram and send a message to the official `@BotFather`.\n    - Send the command `/newbot`.\n    - Follow the prompts to choose a name and username for your bot.\n    - BotFather will provide you with a unique **API Token**. Copy this token, it's what you'll need for the next step.\n2. **Add Credentials to n8n:**\n    - In your n8n workflow, navigate to the **Credentials** section in the left panel.\n    - Click **Add credential**, search for \"Telegram,\" and select it.\n    - Paste the API Token you copied from BotFather into the **Access Token** field.\n    - Click **Save** to create your credential.\n3. **Connect Your Bot to the Workflow:**\n    - Back on the canvas, open the **Waiting For Message (Telegram Trigger)** node.\n    - In the **Credential for Telegram API** dropdown, select the credential you just created.\n    - Open the **Get & Download Attachment (Telegram)** node and select the same credential.\n4. **Activate and Test!**\n    - Click the **Activate** toggle in the top right corner of your screen.\n    - Now, send a few different messages to your new bot on Telegram to test all the paths:\n        - A simple text message (e.g., \"Hello!\").\n        - A file (like a PDF or Notepad) with no text.\n        - A file with a caption(message).\n    - You can check the **Executions** tab in n8n to see each test run successfully! The `NoOp` nodes at the end of each path show you the final, cleanly separated data.\n---\n## üíé **Benefits / Why It Matters**\nThis template provides a robust and reliable foundation for any Telegram automation. By neatly separating text from files, you can seamlessly connect Telegram to any other service whether you're archiving documents to Google Drive, analyzing feedback with Gemini, or logging support requests in a database. It saves development time and ensures your automations run smoothly",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Waiting For Message",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Chat Message Only",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Attachment Only",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get & Download Attachment",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get Attachment",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Next Step !",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Next Step !  ",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Next Step ! ",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Chat Message Content",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}