{
  "id": 11684,
  "slug": "11684",
  "title": "Automate payment gateway & database transaction reconciliation with Google Sheets",
  "description": "## How it works\n\nThis workflow fully automates the reconciliation process between your Local Database transactions and Payment Gateway transactions. It compares both data sources, identifies mismatches, categorizes discrepancies, logs them into Google Sheets, generates a final summary, and sends an automated reconciliation report to your finance team. This ensures accurate, consistent, and error-free financial reporting without manual work.\n\n## Key Features\n\n- Automatic data extraction from two Google Sheets\n- Transaction comparison with result categorization\n- Duplicate detection\n- Real-time discrepancy logging\n- Summary generation and storage\n- Automated email reporting\n- Zero manual effort required\n\n## Setup Steps\n#### 1. Connect Required Credentials \n\n\nYou must connect the following credentials:\nGoogle Sheets (Service Account or OAuth)\nEmail SMTP (Gmail or custom)\n\n#### 2. Replace Default Values\n\nUpdate the workflow with:\nYour Google Sheet IDs\nYour tab/sheet names\nSMTP email, sender, and recipient\nOptional: Custom domain or business branding\n\n#### 3. Customize Email Template\n\n \nModify subject, message body, or formatting style based on your reporting standards.\n\n#### 4. Adjust Trigger\n\nYou may choose:\nManual Trigger\nCron Trigger for daily/weekly reconciliation\nWebhook Trigger integrated with your system\n\n## Detailed Process Flow\n\n#### 1. Fetch Local & Payment Gateway Transactions\n\nThe workflow reads all transaction records from the Local Database Sheet and Payment Gateway Sheet.\n\n#### 2. Compare both Transactions\n\nUsing the compare operation, the workflow splits result into\n  a. Valid Transactions\n  b. Invalid Transactions\n  c. Amount Differences Transactions\n  d. Missing Transactions\n\n#### 3. Duplicate Transaction Detection\n\nThe workflow scans local transactions to detect duplicate transaction and logs them seperately\n\n#### 5. Logging Transactions\n\nEach category is appended to its respective Google Sheet:\n- DuplicateData\n- AmountDifference\n- DataNotInsert\n- Reconciliation Summary\n- RealData\n\n#### 6. Count all categories\n\nThe workflow counts:\n\n- Number of valid transactions\n- Number of invalid transactions\n- Number of missing transactions\n- Number of Amount mismatch transactions\n\nThe final summary row is appended to a dedicated Reconciliation Summary Sheet.\n\n#### 7. Send Final Email Report\n\nThe finance team receive a email of final summary report.\n\n\n## Final Output\n\nAt the end the workflow, you get:\n\n- Fully categorized reconciliation logs\n- Complete Summary Stored Sheets\n- Email Report\n- Clean audit ready data\n\n",
  "featuredImage": "/data/workflows/11684/11684.webp",
  "author": {
    "id": 101,
    "slug": "mohamed-abubakkar",
    "name": "Mohamed Abubakkar",
    "avatar": ""
  },
  "categories": [
    "Document Extraction"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 52,
  "downloads": 5,
  "createdAt": "2025-12-11T06:53:32.341Z",
  "updatedAt": "2026-01-16T09:09:41.131Z",
  "publishedAt": "2025-12-11T06:53:32.341Z",
  "nodes": 26,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11684",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate payment gateway & database transaction reconciliation with Google Sheets",
    "workflowName": "Automate payment gateway & database transaction reconciliation with Google Sheets",
    "description": "## How it works\n\nThis workflow fully automates the reconciliation process between your Local Database transactions and Payment Gateway transactions. It compares both data sources, identifies mismatches, categorizes discrepancies, logs them into Google Sheets, generates a final summary, and sends an automated reconciliation report to your finance team. This ensures accurate, consistent, and error-free financial reporting without manual work.\n\n## Key Features\n\n- Automatic data extraction from two Google Sheets\n- Transaction comparison with result categorization\n- Duplicate detection\n- Real-time discrepancy logging\n- Summary generation and storage\n- Automated email reporting\n- Zero manual effort required\n\n## Setup Steps\n#### 1. Connect Required Credentials \n\n\nYou must connect the following credentials:\nGoogle Sheets (Service Account or OAuth)\nEmail SMTP (Gmail or custom)\n\n#### 2. Replace Default Values\n\nUpdate the workflow with:\nYour Google Sheet IDs\nYour tab/sheet names\nSMTP email, sender, and recipient\nOptional: Custom domain or business branding\n\n#### 3. Customize Email Template\n\n \nModify subject, message body, or formatting style based on your reporting standards.\n\n#### 4. Adjust Trigger\n\nYou may choose:\nManual Trigger\nCron Trigger for daily/weekly reconciliation\nWebhook Trigger integrated with your system\n\n## Detailed Process Flow\n\n#### 1. Fetch Local & Payment Gateway Transactions\n\nThe workflow reads all transaction records from the Local Database Sheet and Payment Gateway Sheet.\n\n#### 2. Compare both Transactions\n\nUsing the compare operation, the workflow splits result into\n  a. Valid Transactions\n  b. Invalid Transactions\n  c. Amount Differences Transactions\n  d. Missing Transactions\n\n#### 3. Duplicate Transaction Detection\n\nThe workflow scans local transactions to detect duplicate transaction and logs them seperately\n\n#### 5. Logging Transactions\n\nEach category is appended to its respective Google Sheet:\n- DuplicateData\n- AmountDifference\n- DataNotInsert\n- Reconciliation Summary\n- RealData\n\n#### 6. Count all categories\n\nThe workflow counts:\n\n- Number of valid transactions\n- Number of invalid transactions\n- Number of missing transactions\n- Number of Amount mismatch transactions\n\nThe final summary row is appended to a dedicated Reconciliation Summary Sheet.\n\n#### 7. Send Final Email Report\n\nThe finance team receive a email of final summary report.\n\n\n## Final Output\n\nAt the end the workflow, you get:\n\n- Fully categorized reconciliation logs\n- Complete Summary Stored Sheets\n- Email Report\n- Clean audit ready data",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Code in JavaScript",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Compare both transactions",
      "type": "n8n-nodes-base.compareDatasets",
      "role": "compareDatasets",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Finding Amount Difference",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Add missing transaction to Sheet ",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Adding Amount difference transactions",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Transaction from Payment Gateway",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Adding duplicate transactions",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Finding duplicate transactions",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Transactions from Local Database",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Invalid transaction",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Valid Transactions",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Count valid transactions",
      "type": "n8n-nodes-base.summarize",
      "role": "summarize",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Count invalid transactions",
      "type": "n8n-nodes-base.summarize",
      "role": "summarize",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Count Number of Missing Transactions",
      "type": "n8n-nodes-base.summarize",
      "role": "summarize",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Merge with all transactions count",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Count Number of Amount Difference Transactions.",
      "type": "n8n-nodes-base.summarize",
      "role": "summarize",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Adding the final count of transactions",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Send report to reconciliation team",
      "type": "n8n-nodes-base.emailSend",
      "role": "emailSend",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}