{
  "id": 7308,
  "slug": "7308",
  "title": "Chat with documents via RAG: Google Drive to GPT-5 with Supabase vector database",
  "description": "# üìÑ n8n RAG Ingestion & Query Workflow\n\n## **Overview**\nThis workflow is your **all-in-one pipeline** to turn any document into a powerful **searchable knowledge base** using **RAG** (Retrieval-Augmented Generation).  \nFrom the moment a file lands in your Google Drive, it‚Äôs automatically processed, understood, and made ready for instant AI-powered answers.\n\nIf you‚Äôre looking to **unlock hidden value in your files** and get answers in seconds instead of hours, this workflow is the foundation you need.\n\n---\n\n## **What It Does for You**\n- **üì• Automatic Ingestion** ‚Äì New files in a designated Google Drive folder are instantly picked up.\n- **üîç OCR Extraction** ‚Äì Extracts **all** text, whether it‚Äôs plain or inside tables.\n- **üìö Vector Database Storage** ‚Äì Keeps your documents in **Supabase** for lightning-fast semantic search.\n- **üß© Smart Chunking** ‚Äì Each page becomes a single chunk for better understanding.\n- **üí° AI-Powered Answers** ‚Äì Ask questions in natural language and get precise, context-aware responses.\n- **üß† Persistent Memory** ‚Äì Remembers previous chats for more coherent conversations.\n- **‚ö° GPT-5 Intelligence** ‚Äì Uses OpenAI‚Äôs most advanced model for deep, accurate answers.\n\n---\n\n## **How It Works**\n1. **Detect** ‚Üí Watches your Google Drive folder for new files.\n2. **Extract** ‚Üí Uses Mistral AI to read all text, including tables.\n3. **Chunk** ‚Üí Splits content so one page = one chunk for better context.\n4. **Embed** ‚Üí Generates vector embeddings with OpenAI for semantic search.\n5. **Store** ‚Üí Inserts processed content into Supabase.\n6. **Retrieve & Answer** ‚Üí When you ask, the system searches the database and passes the results to GPT-5.\n7. **Remember** ‚Üí Stores conversation history in Postgres for continuity.\n\n---\n\n## **Why You Want This**\n- Stop wasting time digging through files.\n- Get **fast, AI-driven answers** from your own documents.\n- Keep your data organized and searchable at any scale.\n- Designed for **businesses, researchers, and teams** who want instant access to the right information.\n- You get the template + setup guide and description\n\n---\n\n## **Key Highlights**\n- **End-to-End Automation** ‚Äì From upload to query, no manual steps needed.\n- **Flexible** ‚Äì Works with any document type.\n- **High Accuracy** ‚Äì Large chunk size preserves full page context.\n- **Scalable** ‚Äì Add as many files as you want without slowing down.\n- **Future-Ready** ‚Äì Built to grow with your needs.\n\n\n---\n\nüöÄ **Imagine having your own private ChatGPT trained on your files.**  \nThis workflow makes it happen. Upload, search, and get answers ‚Äî all automatically.\n",
  "featuredImage": "/data/workflows/7308/7308.webp",
  "author": {
    "id": 101,
    "slug": "diagopl",
    "name": "Paul",
    "avatar": ""
  },
  "categories": [
    "Internal Wiki",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 321,
  "downloads": 32,
  "createdAt": "2025-08-12T22:23:47.008Z",
  "updatedAt": "2026-01-16T08:49:39.908Z",
  "publishedAt": "2025-08-12T22:23:47.008Z",
  "nodes": 30,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7308",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Chat with documents via RAG: Google Drive to GPT-5 with Supabase vector database",
    "workflowName": "Chat with documents via RAG: Google Drive to GPT-5 with Supabase vector database",
    "description": "# üìÑ n8n RAG Ingestion & Query Workflow\n\n## **Overview**\nThis workflow is your **all-in-one pipeline** to turn any document into a powerful **searchable knowledge base** using **RAG** (Retrieval-Augmented Generation).  \nFrom the moment a file lands in your Google Drive, it‚Äôs automatically processed, understood, and made ready for instant AI-powered answers.\n\nIf you‚Äôre looking to **unlock hidden value in your files** and get answers in seconds instead of hours, this workflow is the foundation you need.\n\n---\n\n## **What It Does for You**\n- **üì• Automatic Ingestion** ‚Äì New files in a designated Google Drive folder are instantly picked up.\n- **üîç OCR Extraction** ‚Äì Extracts **all** text, whether it‚Äôs plain or inside tables.\n- **üìö Vector Database Storage** ‚Äì Keeps your documents in **Supabase** for lightning-fast semantic search.\n- **üß© Smart Chunking** ‚Äì Each page becomes a single chunk for better understanding.\n- **üí° AI-Powered Answers** ‚Äì Ask questions in natural language and get precise, context-aware responses.\n- **üß† Persistent Memory** ‚Äì Remembers previous chats for more coherent conversations.\n- **‚ö° GPT-5 Intelligence** ‚Äì Uses OpenAI‚Äôs most advanced model for deep, accurate answers.\n\n---\n\n## **How It Works**\n1. **Detect** ‚Üí Watches your Google Drive folder for new files.\n2. **Extract** ‚Üí Uses Mistral AI to read all text, including tables.\n3. **Chunk** ‚Üí Splits content so one page = one chunk for better context.\n4. **Embed** ‚Üí Generates vector embeddings with OpenAI for semantic search.\n5. **Store** ‚Üí Inserts processed content into Supabase.\n6. **Retrieve & Answer** ‚Üí When you ask, the system searches the database and passes the results to GPT-5.\n7. **Remember** ‚Üí Stores conversation history in Postgres for continuity.\n\n---\n\n## **Why You Want This**\n- Stop wasting time digging through files.\n- Get **fast, AI-driven answers** from your own documents.\n- Keep your data organized and searchable at any scale.\n- Designed for **businesses, researchers, and teams** who want instant access to the right information.\n- You get the template + setup guide and description\n\n---\n\n## **Key Highlights**\n- **End-to-End Automation** ‚Äì From upload to query, no manual steps needed.\n- **Flexible** ‚Äì Works with any document type.\n- **High Accuracy** ‚Äì Large chunk size preserves full page context.\n- **Scalable** ‚Äì Add as many files as you want without slowing down.\n- **Future-Ready** ‚Äì Built to grow with your needs.\n\n\n---\n\nüöÄ **Imagine having your own private ChatGPT trained on your files.**  \nThis workflow makes it happen. Upload, search, and get answers ‚Äî all automatically.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Download File4",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Split Out1",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Default Data Loader4",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings OpenAI8",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Character Text Splitter4",
      "type": "@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter",
      "role": "textSplitterCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "Insert into Supabase Vectorstore3",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Create file",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "OCR",
      "type": "n8n-nodes-base.mistralAi",
      "role": "mistralAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings OpenAI6",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryPostgresChat",
      "role": "memoryPostgresChat",
      "configDescription": "Version 1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "GPT 5",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "RAG Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Slack Trigger",
      "type": "n8n-nodes-base.slackTrigger",
      "role": "slackTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Gmail Trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "role": "gmailTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "WhatsApp Trigger",
      "type": "n8n-nodes-base.whatsAppTrigger",
      "role": "whatsAppTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Send a text message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send message",
      "type": "n8n-nodes-base.whatsApp",
      "role": "whatsApp",
      "configDescription": "Version 1"
    },
    {
      "name": "Send a message",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Send a message1",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}