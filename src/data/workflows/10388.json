{
  "id": 10388,
  "slug": "10388",
  "title": "Create a searchable document archive with Telegram, Drive, OCR and Airtable",
  "description": "This n8n workflow receives files sent in a Telegram chat, uploads them to Google Drive, extracts text using OCR (for images and PDFs), and stores the extracted content in Airtable for quick search and retrieval.\nUsers can later search through documents using a Telegram `/search` command.\n\n\n### **Key Features**\n\n* Accepts images and documents from Telegram\n* Uploads files to Google Drive automatically\n* Detects file type and runs OCR if eligible\n* Extracts text from images & PDFs via Google Vision\n* Stores file metadata + text in Airtable\n* Search documents using `/search` command in Telegram\n* Sends result previews and file links\n* Error handling & user notifications included\n\n\n### **Use Cases**\n\n* Personal document vault with search\n* Team knowledge filing system\n* Receipt & invoice OCR archive\n* Legal documents store & retrieval\n* Research papers & notes indexing\n* Company file inbox for AI knowledge base\n\n\n### **Workflow Steps**\n\n| Step | Action                | Description                                                |\n| ---- | --------------------- | ---------------------------------------------------------- |\n| 1    | Telegram Trigger      | Detects incoming docs/images or `/search` command          |\n| 2    | Filter File or Search | Routes based on whether message has file or search command |\n| 3    | Extract Metadata      | Reads file info such as name, MIME type, user              |\n| 4    | Download File         | Downloads file via Telegram API                            |\n| 5    | Upload to Drive       | Saves file in Google Drive                                 |\n| 6    | OCR Check             | Determines if file supports OCR                            |\n| 7    | Google OCR            | Runs OCR for images/PDFs                                   |\n| 8    | Extract Text          | Pulls text output from OCR                                 |\n| 9    | Merge OCR Text        | Combines file data + text                                  |\n| 10   | Save to Airtable      | Indexes with metadata + text                               |\n| 11   | Success Reply         | Sends link + success message                               |\n| 12   | `/search` Flow        | Parse search query                                         |\n| 13   | Airtable Search       | Full-text search for records                               |\n| 14   | Send Results          | Sends matches to Telegram                                  |\n| 15   | Error Handler         | Notifies user on failure                                   |\n\n\n### **Input Formats**\n\n#### **File Messages Supported**\n\n* Images\n* PDFs\n* Documents\n\n#### **Search Command**\n\n```\n/search keyword\n```\n\nExample:\n\n```\n/search invoice\n```\n\n\n### **Output**\n\n#### After Upload:\n\n```\nâœ… File saved & indexed successfully!\nðŸ”— Drive Link: &lt;link&gt;\n```\n\n#### After Search:\n\nReturns structured result:\n\n* File name\n* Preview text snippet\n* Google Drive link\n\n\n### **Data Stored in Airtable**\n\n| Field         | Description               |\n| ------------- | ------------------------- |\n| File Name     | Original name             |\n| File Link     | Google Drive link         |\n| MIME Type     | File type                 |\n| Telegram User | Sender info               |\n| OCR Text      | Extracted searchable text |\n| Uploaded Date | Timestamp                 |\n\n\n### **Technical Requirements**\n\n* Telegram Bot Token\n* Google Drive API connection\n* Google Vision API key\n* Airtable API key & table\n\n\n### **Benefits**\n\n* Automatically organizes Telegram files\n* Makes PDFs & images searchable\n* Saves manual sorting and indexing time\n* AI-ready data storage (future LLM integration)\n* Fast search experience right in Telegram\n\n\n### **Enhancement Ideas**\n\n* Add Whisper for voice message transcription\n* Add chat GPT summarization for large docs\n* Build dashboard for uploaded files\n* Auto-tag documents (invoice, ID, receipt etc.)\n* Multi-language OCR support\n\n\n### Status\n\nâœ… Ready for production\nâœ… Handles images, PDFs, and files\nâœ… End-to-end automation\nðŸ›  Optional: add more AI enrichment later\n\n",
  "featuredImage": "/data/workflows/10388/10388.webp",
  "author": {
    "id": 101,
    "slug": "oneclick-ai",
    "name": "Oneclick AI Squad",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 118,
  "downloads": 11,
  "createdAt": "2025-10-31T12:11:35.623Z",
  "updatedAt": "2026-01-16T09:04:51.138Z",
  "publishedAt": "2025-10-31T12:11:35.623Z",
  "nodes": 33,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10388",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create a searchable document archive with Telegram, Drive, OCR and Airtable",
    "workflowName": "Create a searchable document archive with Telegram, Drive, OCR and Airtable",
    "description": "This n8n workflow receives files sent in a Telegram chat, uploads them to Google Drive, extracts text using OCR (for images and PDFs), and stores the extracted content in Airtable for quick search and retrieval.\nUsers can later search through documents using a Telegram `/search` command.\n\n\n### **Key Features**\n\n* Accepts images and documents from Telegram\n* Uploads files to Google Drive automatically\n* Detects file type and runs OCR if eligible\n* Extracts text from images & PDFs via Google Vision\n* Stores file metadata + text in Airtable\n* Search documents using `/search` command in Telegram\n* Sends result previews and file links\n* Error handling & user notifications included\n\n\n### **Use Cases**\n\n* Personal document vault with search\n* Team knowledge filing system\n* Receipt & invoice OCR archive\n* Legal documents store & retrieval\n* Research papers & notes indexing\n* Company file inbox for AI knowledge base\n\n\n### **Workflow Steps**\n\n| Step | Action                | Description                                                |\n| ---- | --------------------- | ---------------------------------------------------------- |\n| 1    | Telegram Trigger      | Detects incoming docs/images or `/search` command          |\n| 2    | Filter File or Search | Routes based on whether message has file or search command |\n| 3    | Extract Metadata      | Reads file info such as name, MIME type, user              |\n| 4    | Download File         | Downloads file via Telegram API                            |\n| 5    | Upload to Drive       | Saves file in Google Drive                                 |\n| 6    | OCR Check             | Determines if file supports OCR                            |\n| 7    | Google OCR            | Runs OCR for images/PDFs                                   |\n| 8    | Extract Text          | Pulls text output from OCR                                 |\n| 9    | Merge OCR Text        | Combines file data + text                                  |\n| 10   | Save to Airtable      | Indexes with metadata + text                               |\n| 11   | Success Reply         | Sends link + success message                               |\n| 12   | `/search` Flow        | Parse search query                                         |\n| 13   | Airtable Search       | Full-text search for records                               |\n| 14   | Send Results          | Sends matches to Telegram                                  |\n| 15   | Error Handler         | Notifies user on failure                                   |\n\n\n### **Input Formats**\n\n#### **File Messages Supported**\n\n* Images\n* PDFs\n* Documents\n\n#### **Search Command**\n\n```\n/search keyword\n```\n\nExample:\n\n```\n/search invoice\n```\n\n\n### **Output**\n\n#### After Upload:\n\n```\nâœ… File saved & indexed successfully!\nðŸ”— Drive Link: &lt;link&gt;\n```\n\n#### After Search:\n\nReturns structured result:\n\n* File name\n* Preview text snippet\n* Google Drive link\n\n\n### **Data Stored in Airtable**\n\n| Field         | Description               |\n| ------------- | ------------------------- |\n| File Name     | Original name             |\n| File Link     | Google Drive link         |\n| MIME Type     | File type                 |\n| Telegram User | Sender info               |\n| OCR Text      | Extracted searchable text |\n| Uploaded Date | Timestamp                 |\n\n\n### **Technical Requirements**\n\n* Telegram Bot Token\n* Google Drive API connection\n* Google Vision API key\n* Airtable API key & table\n\n\n### **Benefits**\n\n* Automatically organizes Telegram files\n* Makes PDFs & images searchable\n* Saves manual sorting and indexing time\n* AI-ready data storage (future LLM integration)\n* Fast search experience right in Telegram\n\n\n### **Enhancement Ideas**\n\n* Add Whisper for voice message transcription\n* Add chat GPT summarization for large docs\n* Build dashboard for uploaded files\n* Auto-tag documents (invoice, ID, receipt etc.)\n* Multi-language OCR support\n\n\n### Status\n\nâœ… Ready for production\nâœ… Handles images, PDFs, and files\nâœ… End-to-end automation\nðŸ›  Optional: add more AI enrichment later",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Check if File/Image",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky: Check File",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract File Metadata",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Sticky: Extract Metadata",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Download File from Telegram",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky: Download File",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Upload to Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky: Upload to Drive",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Check if OCR Eligible",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky: OCR Eligible",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Vision OCR",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky: Vision OCR",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract OCR Text",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Sticky: Extract OCR Text",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "No OCR Needed",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Sticky: No OCR",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge OCR Paths",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Index in Airtable",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky: Airtable Index",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Success Message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky: Success Msg",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Error Message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky: Error Msg",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Check Search Command",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky: Search Cmd",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract Search Query",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Sticky: Extract Query",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Search in Index",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky: Search Index",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Search Results",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky: Search Results",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky: Trigger",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}