{
  "id": 3940,
  "slug": "3940",
  "title": "Document Q&A chatbot with Gemini AI and Supabase vector search for Telegram",
  "description": "This template creates a Telegram AI Assistant that answers questions based on your documents, powered by Google Gemini and Supabase. Key features include **Intelligent HTML Post-processing** for **rich formatting in Telegram** and **Adaptive Message Chunking** to handle long text responses.\n## ğŸ“¹ Watch the Bot in Action\n\n[![ğ—¨ğ—»ğ—¹ğ—²ğ—®ğ˜€ğ—µğ—¶ğ—»ğ—´ ğ—”ğ—œ ğ—¼ğ—» ğ— ğ˜† ğ—•ğ—¼ğ—¼ğ—¸ğ˜€ğ—µğ—²ğ—¹ğ—³: ğ—™ğ—¹ğ—¼ğ˜„ ğ—£ğ—¿ğ—¼ğ—´ğ—¿ğ—®ğ—ºğ—ºğ—¶ğ—»ğ—´ ğ—£ğ—¼ğ˜„ğ—²ğ—¿ğ˜€ ğ—® ğ—¡ğ—²ğ˜…ğ˜-ğ—Ÿğ—²ğ˜ƒğ—²ğ—¹ ğ—§ğ—²ğ—¹ğ—²ğ—´ğ—¿ğ—®ğ—º ğ—•ğ—¼ğ˜ğŸ¤–](https://img.youtube.com/vi/r_KGyJApy5M/maxresdefault.jpg)](https://www.youtube.com/watch?v=r_KGyJApy5M)\n\n**â–¶ï¸ Click the image above to watch a live demo on YouTube.** \n\nThis video provides a live demonstration of the bot's core features and how it interacts. See a quick walkthrough of its capabilities and user flow.\n\n**How it works:**\n\n* User uploads a PDF document to a Telegram bot.\n\n* The workflow processes the PDF, creates embeddings using Google Gemini, and stores these embeddings in a **Supabase vector table**.\n\n* Users then ask questions to the bot.\n\n* The workflow performs a **vector search in Supabase** to find relevant document chunks based on the user's query.\n\n* Google Gemini uses the retrieved relevant chunks to generate an intelligent answer.\n\n* The bot sends the formatted answer back to the user on Telegram, utilizing **HTML markup** for enhanced presentation.\n\n**Set up steps:**\n\nSetup should take approximately 15-20 minutes.\n\n1.  Import the workflow into your n8n instance.\n\n2.  Configure credentials for Telegram, Google Gemini, and Supabase.\n\n3.  Set up your Supabase vector table using the provided SQL script.\n\n4.  Activate the workflow.\n\nDetailed setup instructions, including how to get API keys and configure nodes, are available in the sticky notes within the workflow itself.",
  "featuredImage": "/data/workflows/3940/3940.webp",
  "author": {
    "id": 101,
    "slug": "mohamadghaffari",
    "name": "Mohammad Ghaffarifar",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 19376,
  "downloads": 1937,
  "createdAt": "2025-05-08T14:40:13.702Z",
  "updatedAt": "2026-01-16T08:32:18.344Z",
  "publishedAt": "2025-05-08T14:40:13.702Z",
  "nodes": 28,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3940",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Document Q&A chatbot with Gemini AI and Supabase vector search for Telegram",
    "workflowName": "Document Q&A chatbot with Gemini AI and Supabase vector search for Telegram",
    "description": "This template creates a Telegram AI Assistant that answers questions based on your documents, powered by Google Gemini and Supabase. Key features include **Intelligent HTML Post-processing** for **rich formatting in Telegram** and **Adaptive Message Chunking** to handle long text responses.\n## ğŸ“¹ Watch the Bot in Action\n\n[![ğ—¨ğ—»ğ—¹ğ—²ğ—®ğ˜€ğ—µğ—¶ğ—»ğ—´ ğ—”ğ—œ ğ—¼ğ—» ğ— ğ˜† ğ—•ğ—¼ğ—¼ğ—¸ğ˜€ğ—µğ—²ğ—¹ğ—³: ğ—™ğ—¹ğ—¼ğ˜„ ğ—£ğ—¿ğ—¼ğ—´ğ—¿ğ—®ğ—ºğ—ºğ—¶ğ—»ğ—´ ğ—£ğ—¼ğ˜„ğ—²ğ—¿ğ˜€ ğ—® ğ—¡ğ—²ğ˜…ğ˜-ğ—Ÿğ—²ğ˜ƒğ—²ğ—¹ ğ—§ğ—²ğ—¹ğ—²ğ—´ğ—¿ğ—®ğ—º ğ—•ğ—¼ğ˜ğŸ¤–](https://img.youtube.com/vi/r_KGyJApy5M/maxresdefault.jpg)](https://www.youtube.com/watch?v=r_KGyJApy5M)\n\n**â–¶ï¸ Click the image above to watch a live demo on YouTube.** \n\nThis video provides a live demonstration of the bot's core features and how it interacts. See a quick walkthrough of its capabilities and user flow.\n\n**How it works:**\n\n* User uploads a PDF document to a Telegram bot.\n\n* The workflow processes the PDF, creates embeddings using Google Gemini, and stores these embeddings in a **Supabase vector table**.\n\n* Users then ask questions to the bot.\n\n* The workflow performs a **vector search in Supabase** to find relevant document chunks based on the user's query.\n\n* Google Gemini uses the retrieved relevant chunks to generate an intelligent answer.\n\n* The bot sends the formatted answer back to the user on Telegram, utilizing **HTML markup** for enhanced presentation.\n\n**Set up steps:**\n\nSetup should take approximately 15-20 minutes.\n\n1.  Import the workflow into your n8n instance.\n\n2.  Configure credentials for Telegram, Google Gemini, and Supabase.\n\n3.  Set up your Supabase vector table using the provided SQL script.\n\n4.  Activate the workflow.\n\nDetailed setup instructions, including how to get API keys and configure nodes, are available in the sticky notes within the workflow itself.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenWeatherMap",
      "type": "n8n-nodes-base.openWeatherMapTool",
      "role": "openWeatherMapTool",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.9"
    },
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Telegram",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Think",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "role": "toolThink",
      "configDescription": "Version 1"
    },
    {
      "name": "Embeddings Google Gemini",
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "role": "embeddingsGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Recursive Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "role": "extractFromFile",
      "configDescription": "Version 1"
    },
    {
      "name": "Answer questions with a vector store",
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "role": "toolVectorStore",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram - Embedding Complete",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Supabase - Save Embeddings",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Command Router",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "Telegram - Download file",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Aggregate",
      "type": "n8n-nodes-base.aggregate",
      "role": "aggregate",
      "configDescription": "Version 1"
    },
    {
      "name": "Fallback- No formatting",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Handle formatting and split",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Manual Mapping",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Unsupported message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send processing document message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send embedding Started message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    }
  ]
}