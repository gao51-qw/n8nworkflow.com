{
  "id": 4513,
  "slug": "4513",
  "title": "Generate Azure VM timeline reports with Google Gemini AI chat assistant",
  "description": "An AI-powered chat assistant that analyzes Azure virtual machine activity and generates detailed timeline reports showing VM state changes, performance metrics, and operational events over time.\n\n## How It Works\n\nThe workflow starts with a chat trigger that accepts user queries about Azure VM analysis. A Google Gemini AI agent processes these requests and uses six specialized tools to gather comprehensive VM data from Azure APIs. The agent queries resource groups, retrieves VM configurations and instance views, pulls performance metrics (CPU, network, disk I/O), and collects activity log events. It then analyzes this data to create timeline reports showing what happened to VMs during specified periods, defaulting to the last 90 days unless the user specifies otherwise.\n\n## Prerequisites\n\nTo use this template, you'll need:\n\n- n8n instance (cloud or self-hosted)\n- Azure subscription with virtual machines\n- Microsoft Azure Monitor OAuth2 API credentials\n- Google Gemini API credentials\n- Proper Azure permissions to read VM data and activity logs\n\n## Setup Instructions\n\n1. **Import the template into n8n.**\n2. **Configure credentials:**  \n   - Add Microsoft Azure Monitor OAuth2 API credentials with read permissions for VMs and activity logs\n   - Add Google Gemini API credentials\n3. **Update workflow parameters:**  \n   - Open the \"Set Common Variables\" node  \n   - Replace `&lt;your azure subscription id here&gt;` with your actual Azure subscription ID\n4. **Configure triggers:**  \n   - The chat trigger will automatically generate a webhook URL for receiving chat messages\n   - No additional trigger configuration needed\n5. **Test the setup to ensure it works.**\n\n## Security Considerations\n\nUse minimum required Azure permissions (Reader role on subscription or resource groups). Store API credentials securely in n8n credential store. The Azure Monitor API has rate limits, so avoid excessive concurrent requests. Chat sessions use session-based memory that persists during conversations but doesn't retain data between separate chat sessions.\n\n## Extending the Template\n\nYou can add more Azure monitoring tools like disk metrics, network security group logs, or Application Insights data. The AI agent can be enhanced with additional tools for Azure cost analysis, security recommendations, or automated remediation actions. You could also integrate with alerting systems or export reports to external storage or reporting platforms.",
  "featuredImage": "/data/workflows/4513/4513.webp",
  "author": {
    "id": 101,
    "slug": "adbertram",
    "name": "Adam Bertram",
    "avatar": ""
  },
  "categories": [
    "DevOps",
    "AI Chatbot"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 652,
  "downloads": 65,
  "createdAt": "2025-05-30T13:38:24.059Z",
  "updatedAt": "2026-01-16T08:34:46.293Z",
  "publishedAt": "2025-05-30T13:38:24.059Z",
  "nodes": 11,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4513",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate Azure VM timeline reports with Google Gemini AI chat assistant",
    "workflowName": "Generate Azure VM timeline reports with Google Gemini AI chat assistant",
    "description": "An AI-powered chat assistant that analyzes Azure virtual machine activity and generates detailed timeline reports showing VM state changes, performance metrics, and operational events over time.\n\n## How It Works\n\nThe workflow starts with a chat trigger that accepts user queries about Azure VM analysis. A Google Gemini AI agent processes these requests and uses six specialized tools to gather comprehensive VM data from Azure APIs. The agent queries resource groups, retrieves VM configurations and instance views, pulls performance metrics (CPU, network, disk I/O), and collects activity log events. It then analyzes this data to create timeline reports showing what happened to VMs during specified periods, defaulting to the last 90 days unless the user specifies otherwise.\n\n## Prerequisites\n\nTo use this template, you'll need:\n\n- n8n instance (cloud or self-hosted)\n- Azure subscription with virtual machines\n- Microsoft Azure Monitor OAuth2 API credentials\n- Google Gemini API credentials\n- Proper Azure permissions to read VM data and activity logs\n\n## Setup Instructions\n\n1. **Import the template into n8n.**\n2. **Configure credentials:**  \n   - Add Microsoft Azure Monitor OAuth2 API credentials with read permissions for VMs and activity logs\n   - Add Google Gemini API credentials\n3. **Update workflow parameters:**  \n   - Open the \"Set Common Variables\" node  \n   - Replace `&lt;your azure subscription id here&gt;` with your actual Azure subscription ID\n4. **Configure triggers:**  \n   - The chat trigger will automatically generate a webhook URL for receiving chat messages\n   - No additional trigger configuration needed\n5. **Test the setup to ensure it works.**\n\n## Security Considerations\n\nUse minimum required Azure permissions (Reader role on subscription or resource groups). Store API credentials securely in n8n credential store. The Azure Monitor API has rate limits, so avoid excessive concurrent requests. Chat sessions use session-based memory that persists during conversations but doesn't retain data between separate chat sessions.\n\n## Extending the Template\n\nYou can add more Azure monitoring tools like disk metrics, network security group logs, or Application Insights data. The AI agent can be enhanced with additional tools for Azure cost analysis, security recommendations, or automated remediation actions. You could also integrate with alerting systems or export reports to external storage or reporting platforms.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Set Common Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get VM Performance Stats",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Get Azure Resource Groups",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get VM Information",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get VM Events",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get Current Date",
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "role": "toolCode",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Get VM Instance View",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "role": "toolHttpRequest",
      "configDescription": "Version 1.1"
    }
  ]
}