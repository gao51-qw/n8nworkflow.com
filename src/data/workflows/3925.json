{
  "id": 3925,
  "slug": "3925",
  "title": "Wix chat auto-responder with OpenAI GPT and email fallback",
  "description": "# Wix Chat Auto-Responder with OpenAI GPT and Email Fallback\n\nThis template connects Wix Chat with OpenAI via n8n to automate intelligent customer responses on your website only when no human has responded recently. It uses smart throttling, checks for member vs. anonymous visitors, pulls chat history, and optionally alerts support staff via email if AI shouldn't reply.\n\nPerfect for solopreneurs, agencies, or customer support teams looking to auto-handle conversations while maintaining a fallback system.\n\n## **Key Features**\n\n- üîå **Connects Wix Chat API to n8n seamlessly**\n- üß† **Uses GPT-4 (via OpenAI) to auto-generate replies**\n- üßç‚Äç‚ôÇÔ∏è **Detects member vs. guest via webhook payload**\n- üì¨ **Optional email alert to support staff if AI should not reply**\n- ‚è±Ô∏è **Only responds if a human hasn't answered in the past 12 hours**\n- ‚úÇÔ∏è **Splits long AI messages into chunks to fit Wix API constraints**\n- üß± **Modular & customizable‚Äîadapt for CRM, Slack, SMS, etc.**\n\n## **Requirements**\n\n- **Published Wix site with Wix Inbox enabled**\n- **Wix Developer App credentials** (Client ID, Secret, Instance ID)\n- **OpenAI API Key**\n- **Active n8n instance** (self-hosted or cloud)\n- **Working SMTP credentials** (for fallback email alert)\n\n## **Setup Instructions**\n\n### **1. Import the Workflow**\n\nDownload and import the `.json` file into your n8n instance. All nodes should appear in the visual editor.\n\n### **2. Rename Key Nodes (Recommended for Clarity)**\n\nRename the following nodes for easier maintenance:\n- `If` ‚Üí **Check Member vs Visitor**\n- `Execute Workflow` ‚Üí **Generate OAuth Token**\n- `Send Email` ‚Üí **Alert Technician via Email**\n\n### **3. Configure OAuth for Wix API**\n\nIn the node `HTTP Request1`, replace the placeholder values:\n```json\n\"client_id\": \"YOUR_WIX_APP_ID\",\n\"client_secret\": \"YOUR_WIX_APP_SECRET\",\n\"instance_id\": \"YOUR_WIX_INSTANCE_ID\"\n```\n\nüí° You may move this to a separate workflow and call it using `Execute Workflow`.\n\n### **4. Set Up the Webhook in Wix**\n\n1. Copy the Webhook URL from the `Webhook` node.\n2. Go to your Wix dashboard:\n   - Navigate to: `Settings &gt; Automations &gt; Create New`\n   - Trigger: **\"When someone sends a message via chat\"**\n   - Action: **\"Send a Webhook\"**\n3. Paste the n8n Webhook URL in the configuration.\n\n### **5. Add Your OpenAI API Key**\n\nOpen both `OpenAI Chat Model1` and `OpenAI Chat Model2` nodes:\n- Add your OpenAI credentials.\n- Adjust the model (e.g., GPT-4 or GPT-4o) and temperature as needed.\n\n### **6. Customize Response Logic (Optional)**\n\nIn the `Code` node labeled **Response Throttle**, modify:\n```js\nconst allowChat = true;\nconst allowEmail = false;\nconst humanResponseTimeWindow = 43200000; // 12 hours in ms\n```\n\nChange values to:\n- Disable chat or email\n- Modify the delay window before AI is allowed to respond\n\n### **7. Set Up Email Fallback (Optional)**\n\nIf human support is required, the workflow sends an email:\n- Add SMTP credentials in the `Send Email` node\n- Customize the message, or replace the node with Slack, webhook, or SMS alert\n\n### **8. Test**\n\n1. Open your Wix site in an incognito browser tab.\n2. Use the chat and monitor the bot's response.\n3. Check `Executions` in n8n to debug or verify the flow.\n\n## **How to Customize**\n\n- **Trigger follow-up actions** (e.g., Zapier, CRM sync) after AI response\n- **Customize GPT prompt** via `AI Agent` nodes\n- **Prevent replies by channel** (e.g., don‚Äôt reply via email)\n- **Add filters** for keywords, lead scoring, or VIP contacts with `If` or `Code` nodes\n\n## **Includes**\n\n- ‚úÖ **1 Workflow JSON file**\n- üîê **OAuth2 logic** (can be modularized into a separate workflow)\n- üìù **Sticky notes and comments** to guide usage\n- ‚öôÔ∏è **Production-ready, extensible logic for any support stack**\n",
  "featuredImage": "/data/workflows/3925/3925.webp",
  "author": {
    "id": 101,
    "slug": "owner232",
    "name": "Ryan McMahan",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 452,
  "downloads": 45,
  "createdAt": "2025-05-07T16:06:00.304Z",
  "updatedAt": "2026-01-16T08:32:12.368Z",
  "publishedAt": "2025-05-07T16:06:00.304Z",
  "nodes": 32,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3925",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Wix chat auto-responder with OpenAI GPT and email fallback",
    "workflowName": "Wix chat auto-responder with OpenAI GPT and email fallback",
    "description": "# Wix Chat Auto-Responder with OpenAI GPT and Email Fallback\n\nThis template connects Wix Chat with OpenAI via n8n to automate intelligent customer responses on your website only when no human has responded recently. It uses smart throttling, checks for member vs. anonymous visitors, pulls chat history, and optionally alerts support staff via email if AI shouldn't reply.\n\nPerfect for solopreneurs, agencies, or customer support teams looking to auto-handle conversations while maintaining a fallback system.\n\n## **Key Features**\n\n- üîå **Connects Wix Chat API to n8n seamlessly**\n- üß† **Uses GPT-4 (via OpenAI) to auto-generate replies**\n- üßç‚Äç‚ôÇÔ∏è **Detects member vs. guest via webhook payload**\n- üì¨ **Optional email alert to support staff if AI should not reply**\n- ‚è±Ô∏è **Only responds if a human hasn't answered in the past 12 hours**\n- ‚úÇÔ∏è **Splits long AI messages into chunks to fit Wix API constraints**\n- üß± **Modular & customizable‚Äîadapt for CRM, Slack, SMS, etc.**\n\n## **Requirements**\n\n- **Published Wix site with Wix Inbox enabled**\n- **Wix Developer App credentials** (Client ID, Secret, Instance ID)\n- **OpenAI API Key**\n- **Active n8n instance** (self-hosted or cloud)\n- **Working SMTP credentials** (for fallback email alert)\n\n## **Setup Instructions**\n\n### **1. Import the Workflow**\n\nDownload and import the `.json` file into your n8n instance. All nodes should appear in the visual editor.\n\n### **2. Rename Key Nodes (Recommended for Clarity)**\n\nRename the following nodes for easier maintenance:\n- `If` ‚Üí **Check Member vs Visitor**\n- `Execute Workflow` ‚Üí **Generate OAuth Token**\n- `Send Email` ‚Üí **Alert Technician via Email**\n\n### **3. Configure OAuth for Wix API**\n\nIn the node `HTTP Request1`, replace the placeholder values:\n```json\n\"client_id\": \"YOUR_WIX_APP_ID\",\n\"client_secret\": \"YOUR_WIX_APP_SECRET\",\n\"instance_id\": \"YOUR_WIX_INSTANCE_ID\"\n```\n\nüí° You may move this to a separate workflow and call it using `Execute Workflow`.\n\n### **4. Set Up the Webhook in Wix**\n\n1. Copy the Webhook URL from the `Webhook` node.\n2. Go to your Wix dashboard:\n   - Navigate to: `Settings &gt; Automations &gt; Create New`\n   - Trigger: **\"When someone sends a message via chat\"**\n   - Action: **\"Send a Webhook\"**\n3. Paste the n8n Webhook URL in the configuration.\n\n### **5. Add Your OpenAI API Key**\n\nOpen both `OpenAI Chat Model1` and `OpenAI Chat Model2` nodes:\n- Add your OpenAI credentials.\n- Adjust the model (e.g., GPT-4 or GPT-4o) and temperature as needed.\n\n### **6. Customize Response Logic (Optional)**\n\nIn the `Code` node labeled **Response Throttle**, modify:\n```js\nconst allowChat = true;\nconst allowEmail = false;\nconst humanResponseTimeWindow = 43200000; // 12 hours in ms\n```\n\nChange values to:\n- Disable chat or email\n- Modify the delay window before AI is allowed to respond\n\n### **7. Set Up Email Fallback (Optional)**\n\nIf human support is required, the workflow sends an email:\n- Add SMTP credentials in the `Send Email` node\n- Customize the message, or replace the node with Slack, webhook, or SMS alert\n\n### **8. Test**\n\n1. Open your Wix site in an incognito browser tab.\n2. Use the chat and monitor the bot's response.\n3. Check `Executions` in n8n to debug or verify the flow.\n\n## **How to Customize**\n\n- **Trigger follow-up actions** (e.g., Zapier, CRM sync) after AI response\n- **Customize GPT prompt** via `AI Agent` nodes\n- **Prevent replies by channel** (e.g., don‚Äôt reply via email)\n- **Add filters** for keywords, lead scoring, or VIP contacts with `If` or `Code` nodes\n\n## **Includes**\n\n- ‚úÖ **1 Workflow JSON file**\n- üîê **OAuth2 logic** (can be modularized into a separate workflow)\n- üìù **Sticky notes and comments** to guide usage\n- ‚öôÔ∏è **Production-ready, extensible logic for any support stack**",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "HTTP Request2",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Execute Workflow",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send Email",
      "type": "n8n-nodes-base.emailSendTool",
      "role": "emailSendTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "HTTP Request3",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "AI Agent1",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.6"
    },
    {
      "name": "HTTP Request4",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "If1",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "HTTP Request6",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Code5",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Window Buffer Memory1",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "End chat",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Window Buffer Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.6"
    },
    {
      "name": "HTTP Request5",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Code1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "If2",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Human reponse within last hour, END1",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Loop Over Items1",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Code6",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Email1",
      "type": "n8n-nodes-base.emailSendTool",
      "role": "emailSendTool",
      "configDescription": "Version 2.1"
    },
    {
      "name": "HTTP Request1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "role": "executeWorkflowTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}