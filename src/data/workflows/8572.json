{
  "id": 8572,
  "slug": "8572",
  "title": "Automated WhatsApp welcome messages for sales leads with Google Sheets & Rapiwa",
  "description": "# Automated WhatsApp Welcome Messages for Sales Leads with Google Sheets & Rapiwa\n\n## Who is this for?\n\nThis automation is ideal for sales teams, digital marketers, support agents, or small business owners who collect leads in Google Sheets and want to **automatically send WhatsApp welcome messages**. It's a cost-effective and easy-to-use solution built for those **not using the official WhatsApp Business API** but still looking to scale communication.\n\n---\n\n## What this Workflow Does\n\nThis **n8n automation** reads leads from a connected **Google Sheet**, verifies if the provided WhatsApp numbers are valid using the **Rapiwa API**, and sends a personalized welcome message. It updates the sheet based on delivery success or failure, and continues this process every 5 minutes — ensuring new leads are automatically engaged.\n\n---\n\n## Key Features\n- **Automatic Scheduling**: Runs every 5 minutes (adjustable)\n- **Google Sheets Integration**: Reads and updates lead data\n- **WhatsApp Number Validation**: Confirms number validity via Rapiwa\n- **Personalized Messaging**: Uses lead name for custom messages\n- **Batch Processing**: Sends up to 60 messages per cycle\n- **Safe API Usage**: Adds 5-second delay between each message\n- **Error Handling**: Marks failed messages as `not sent` and `unverified`\n- **Live Status Updates**: Sheet columns are updated after each attempt\n- **Loop Logic**: Repeats continuously to catch new rows\n\n---\n\n## How to Use\n\n### Step-by-step Setup\n\n1. **Prepare Your Google Sheet**\n   - Copy this [Sample Sheet](https://docs.google.com/spreadsheets/d/1amkVSIXrhOkf86YDYaddOcAamhUC4DlvFiSg3cpAH78/edit?usp=sharing)\n   - Ensure it includes the following columns:\n     - `WhatsApp No`\n     - `name ` (note: trailing space is required)\n     - `row_number`\n     - `status`, `check`, `validity`\n\n2. **Connect Google Sheets in n8n**\n   - Use OAuth2 credentials to allow n8n access\n   - Set the workflow to fetch rows where `check` is not empty\n\n3. **Get a Rapiwa Account**\n   - Sign up at [https://rapiwa.com](https://rapiwa.com)\n   - Add your WhatsApp number\n   - Retrieve your **Bearer Token** from your Rapiwa dashboard\n\n4. **Configure HTTP Request Nodes**\n   - Use Rapiwa's API endpoints:\n     - Verify Number: `https://app.rapiwa.com/api/verify-whatsapp`\n     - Send Message: `https://app.rapiwa.com/api/send-message`\n   - Add your Bearer Token to the header\n\n5. **Start Your Workflow**\n   - Run the n8n automation\n   - It will read leads, clean phone numbers, verify WhatsApp validity, send messages, and update the sheet accordingly\n\n---\n\n## Requirements\n- A **Google Sheet** with correctly formatted columns\n- Active **Rapiwa subscription** (~$5/month)\n- A **valid Bearer Token** from Rapiwa\n- Your **WhatsApp number** connected to Rapiwa\n- n8n instance with:\n  - **Google Sheets** integration (OAuth2 setup)\n  - **HTTP Request** capability\n\n---\n\n## Google Sheet Column Reference\n\n\n| name            | number        | email             | time                        | check   | validity   | status    |\n|-----------------|--------------|-------------------|-----------------------------|---------|------------|-----------|\n| Abdul Mannan\t  | 8801322827799| contact@spagreen.net| September 14th 2025, 10:34  | checked | verified   | sent      |\n| Abdul Mannan\t  | 8801322827798| contact@spagreen.net| September 14th 2025, 10:34  | checked | unverified | not sent  |\n\n---\n\n## Workflow Logic Summary\n1. **Trigger Every 5 Minutes**\n2. **Fetch All Rows with Pending Status**\n3. **Limit to 60 Rows per Execution**\n4. **Clean and Format Phone Numbers**\n5. **Check Number Validity via Rapiwa**\n6. **Condition Check**:\n   - If valid → Send Message\n   - If invalid → Update status as `not sent`, `unverified`\n7. **Send WhatsApp Message via Rapiwa**\n8. **Update Sheet Row**\n   - On success: `sent`, `verified`, `checked`\n   - On failure: `not sent`, `unverified`\n9. **Delay 5 seconds before next message**\n10. **Repeat for next lead**\n\n---\n\n## Customization Ideas\n- Add image or document sending support via Rapiwa\n- Customize messages based on additional fields (e.g., product, service)\n- Log failures to a separate sheet\n- Send admin email for failed batches\n- Add support for multilingual messages\n\n---\n\n## Notes & Warnings\n- The column name `\"name \"` includes a space — do **not remove or rename** it.\n- International number format is **required** for Rapiwa to work correctly.\n- If you're sending many messages, increase the `Wait` node delay to prevent API throttling.\n\n---\n\n## Support\n- WhatsApp Support: [Chat Now](https://wa.me/8801322827799)\n- Discord: [Join SpaGreen Community](https://discord.gg/SsCChWEP)\n- Facebook Group: [SpaGreen Support](https://www.facebook.com/groups/spagreenbd)\n- Website: [https://spagreen.net](https://spagreen.net)\n- Developer Portfolio: [Codecanyon SpaGreen](https://codecanyon.net/user/spagreen/portfolio)\n",
  "featuredImage": "/data/workflows/8572/8572.webp",
  "author": {
    "id": 101,
    "slug": "spagreen",
    "name": "SpaGreen Creative",
    "avatar": ""
  },
  "categories": [
    "Lead Nurturing",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 583,
  "downloads": 58,
  "createdAt": "2025-09-14T07:40:19.761Z",
  "updatedAt": "2026-01-16T08:56:33.708Z",
  "publishedAt": "2025-09-14T07:40:19.761Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8572",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated WhatsApp welcome messages for sales leads with Google Sheets & Rapiwa",
    "workflowName": "Automated WhatsApp welcome messages for sales leads with Google Sheets & Rapiwa",
    "description": "# Automated WhatsApp Welcome Messages for Sales Leads with Google Sheets & Rapiwa\n\n## Who is this for?\n\nThis automation is ideal for sales teams, digital marketers, support agents, or small business owners who collect leads in Google Sheets and want to **automatically send WhatsApp welcome messages**. It's a cost-effective and easy-to-use solution built for those **not using the official WhatsApp Business API** but still looking to scale communication.\n\n---\n\n## What this Workflow Does\n\nThis **n8n automation** reads leads from a connected **Google Sheet**, verifies if the provided WhatsApp numbers are valid using the **Rapiwa API**, and sends a personalized welcome message. It updates the sheet based on delivery success or failure, and continues this process every 5 minutes — ensuring new leads are automatically engaged.\n\n---\n\n## Key Features\n- **Automatic Scheduling**: Runs every 5 minutes (adjustable)\n- **Google Sheets Integration**: Reads and updates lead data\n- **WhatsApp Number Validation**: Confirms number validity via Rapiwa\n- **Personalized Messaging**: Uses lead name for custom messages\n- **Batch Processing**: Sends up to 60 messages per cycle\n- **Safe API Usage**: Adds 5-second delay between each message\n- **Error Handling**: Marks failed messages as `not sent` and `unverified`\n- **Live Status Updates**: Sheet columns are updated after each attempt\n- **Loop Logic**: Repeats continuously to catch new rows\n\n---\n\n## How to Use\n\n### Step-by-step Setup\n\n1. **Prepare Your Google Sheet**\n   - Copy this [Sample Sheet](https://docs.google.com/spreadsheets/d/1amkVSIXrhOkf86YDYaddOcAamhUC4DlvFiSg3cpAH78/edit?usp=sharing)\n   - Ensure it includes the following columns:\n     - `WhatsApp No`\n     - `name ` (note: trailing space is required)\n     - `row_number`\n     - `status`, `check`, `validity`\n\n2. **Connect Google Sheets in n8n**\n   - Use OAuth2 credentials to allow n8n access\n   - Set the workflow to fetch rows where `check` is not empty\n\n3. **Get a Rapiwa Account**\n   - Sign up at [https://rapiwa.com](https://rapiwa.com)\n   - Add your WhatsApp number\n   - Retrieve your **Bearer Token** from your Rapiwa dashboard\n\n4. **Configure HTTP Request Nodes**\n   - Use Rapiwa's API endpoints:\n     - Verify Number: `https://app.rapiwa.com/api/verify-whatsapp`\n     - Send Message: `https://app.rapiwa.com/api/send-message`\n   - Add your Bearer Token to the header\n\n5. **Start Your Workflow**\n   - Run the n8n automation\n   - It will read leads, clean phone numbers, verify WhatsApp validity, send messages, and update the sheet accordingly\n\n---\n\n## Requirements\n- A **Google Sheet** with correctly formatted columns\n- Active **Rapiwa subscription** (~$5/month)\n- A **valid Bearer Token** from Rapiwa\n- Your **WhatsApp number** connected to Rapiwa\n- n8n instance with:\n  - **Google Sheets** integration (OAuth2 setup)\n  - **HTTP Request** capability\n\n---\n\n## Google Sheet Column Reference\n\n\n| name            | number        | email             | time                        | check   | validity   | status    |\n|-----------------|--------------|-------------------|-----------------------------|---------|------------|-----------|\n| Abdul Mannan\t  | 8801322827799| contact@spagreen.net| September 14th 2025, 10:34  | checked | verified   | sent      |\n| Abdul Mannan\t  | 8801322827798| contact@spagreen.net| September 14th 2025, 10:34  | checked | unverified | not sent  |\n\n---\n\n## Workflow Logic Summary\n1. **Trigger Every 5 Minutes**\n2. **Fetch All Rows with Pending Status**\n3. **Limit to 60 Rows per Execution**\n4. **Clean and Format Phone Numbers**\n5. **Check Number Validity via Rapiwa**\n6. **Condition Check**:\n   - If valid → Send Message\n   - If invalid → Update status as `not sent`, `unverified`\n7. **Send WhatsApp Message via Rapiwa**\n8. **Update Sheet Row**\n   - On success: `sent`, `verified`, `checked`\n   - On failure: `not sent`, `unverified`\n9. **Delay 5 seconds before next message**\n10. **Repeat for next lead**\n\n---\n\n## Customization Ideas\n- Add image or document sending support via Rapiwa\n- Customize messages based on additional fields (e.g., product, service)\n- Log failures to a separate sheet\n- Send admin email for failed batches\n- Add support for multilingual messages\n\n---\n\n## Notes & Warnings\n- The column name `\"name \"` includes a space — do **not remove or rename** it.\n- International number format is **required** for Rapiwa to work correctly.\n- If you're sending many messages, increase the `Wait` node delay to prevent API throttling.\n\n---\n\n## Support\n- WhatsApp Support: [Chat Now](https://wa.me/8801322827799)\n- Discord: [Join SpaGreen Community](https://discord.gg/SsCChWEP)\n- Facebook Group: [SpaGreen Support](https://www.facebook.com/groups/spagreenbd)\n- Website: [https://spagreen.net](https://spagreen.net)\n- Developer Portfolio: [Codecanyon SpaGreen](https://codecanyon.net/user/spagreen/portfolio)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch All Pending Queries for Messaging1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Limit1",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Clean WhatsApp Number1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Send Message Using Rapiwa1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Update rows: not sent & unverified1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Update rows: sent & verified1",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Check valid whatsapp number Using Rapiwa1",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Trigger Every 5 Minute1",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "If",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    }
  ]
}