{
  "id": 3577,
  "slug": "3577",
  "title": "Travel planning assistant with MongoDB Atlas, Gemini LLM and vector search",
  "description": "Building agentic AI workflows often requires multiple moving parts: memory management, document retrieval, vector similarity, and orchestration. \n\nUntil now, these pieces had to be custom-wired. \n\nBut with the new native n8n nodes for MongoDB Atlas, we reduce that overhead dramatically.\n\n\nWith just a few clicks:\n\n- Store and recall long-term memory from MongoDB\n\n- Query vector embeddings stored in Atlas Vector Search\n\n- Use these results in your LLM chains and automation logic\n\nIn this example we present an ingestion and AI Agent flows that focus around Travel Planning. The different interest points that we want the agent to know about can be ingested into the vector store.\n\nThe AI Agent will use the vector store tool to get relevant context about those points of interest if it needs to. \n\n\n\n### Prerequisites\n- [MongoDB Atlas project and Cluster](https://www.mongodb.com/docs/atlas/tutorial/create-new-cluster/)\n- OpenAI Valid API Key for embeddings (can be other provider)\n- Gemini API Key for the LLM (can be other provider)\n\n### How it works:\n\nThere are 2 main flows. \n\n1. One is ingesting flow:\n- Gets a document from a webhook and use MongoDB Vector Atlas to embed the document `title` and `description` into `points_of_interest` collection.\n- Embeddings are stored in a field named `embedding`\n- Embeddings used are OpenAI's but it can be any type of supported embedders.\n\n2. Second flow is an AI Agent node with Chat Memory Stored in MongoDB Atlas and a Vector Search node as a tool:\n- **Chat Message Trigger**: Chatting with the AI Agent will trigger the conversation store in the MongoDB Chat Memory node.\n- When data is necessary like a location search or details it will go to the \"Vector Search\" tool.\n- **Vector Search Tool** - uses Atlas Vector Search index created on the `points_of_interest` collection:\n\n```\n// index name : \"vector_index\"\n// If you change an embedding provider make sure the numDimensions correspond to the model.\n{\n  \"fields\": [\n    {\n      \"type\": \"vector\",\n      \"path\": \"embedding\",\n      \"numDimensions\": 1536,\n      \"similarity\": \"cosine\"\n    }\n  ]\n}\n```\n\n**Additional Resources**\n- [MongoDB Atlas Vector Search](https://www.mongodb.com/docs/atlas/atlas-vector-search/tutorials/vector-search-quick-start/?utm=n8n.io)\n- [n8n Atlas Vector Search docs](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.vectorstoremongodbatlas?utm=n8n.io)\n\n",
  "featuredImage": "/data/workflows/3577/3577.webp",
  "author": {
    "id": 101,
    "slug": "pash",
    "name": "Pavel Duchovny",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI RAG"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 3386,
  "downloads": 338,
  "createdAt": "2025-04-16T15:14:03.770Z",
  "updatedAt": "2026-01-16T08:30:25.110Z",
  "publishedAt": "2025-04-16T15:14:03.770Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3577",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Travel planning assistant with MongoDB Atlas, Gemini LLM and vector search",
    "workflowName": "Travel planning assistant with MongoDB Atlas, Gemini LLM and vector search",
    "description": "Building agentic AI workflows often requires multiple moving parts: memory management, document retrieval, vector similarity, and orchestration. \n\nUntil now, these pieces had to be custom-wired. \n\nBut with the new native n8n nodes for MongoDB Atlas, we reduce that overhead dramatically.\n\n\nWith just a few clicks:\n\n- Store and recall long-term memory from MongoDB\n\n- Query vector embeddings stored in Atlas Vector Search\n\n- Use these results in your LLM chains and automation logic\n\nIn this example we present an ingestion and AI Agent flows that focus around Travel Planning. The different interest points that we want the agent to know about can be ingested into the vector store.\n\nThe AI Agent will use the vector store tool to get relevant context about those points of interest if it needs to. \n\n\n\n### Prerequisites\n- [MongoDB Atlas project and Cluster](https://www.mongodb.com/docs/atlas/tutorial/create-new-cluster/)\n- OpenAI Valid API Key for embeddings (can be other provider)\n- Gemini API Key for the LLM (can be other provider)\n\n### How it works:\n\nThere are 2 main flows. \n\n1. One is ingesting flow:\n- Gets a document from a webhook and use MongoDB Vector Atlas to embed the document `title` and `description` into `points_of_interest` collection.\n- Embeddings are stored in a field named `embedding`\n- Embeddings used are OpenAI's but it can be any type of supported embedders.\n\n2. Second flow is an AI Agent node with Chat Memory Stored in MongoDB Atlas and a Vector Search node as a tool:\n- **Chat Message Trigger**: Chatting with the AI Agent will trigger the conversation store in the MongoDB Chat Memory node.\n- When data is necessary like a location search or details it will go to the \"Vector Search\" tool.\n- **Vector Search Tool** - uses Atlas Vector Search index created on the `points_of_interest` collection:\n\n```\n// index name : \"vector_index\"\n// If you change an embedding provider make sure the numDimensions correspond to the model.\n{\n  \"fields\": [\n    {\n      \"type\": \"vector\",\n      \"path\": \"embedding\",\n      \"numDimensions\": 1536,\n      \"similarity\": \"cosine\"\n    }\n  ]\n}\n```\n\n**Additional Resources**\n- [MongoDB Atlas Vector Search](https://www.mongodb.com/docs/atlas/atlas-vector-search/tutorials/vector-search-quick-start/?utm=n8n.io)\n- [n8n Atlas Vector Search docs](https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.vectorstoremongodbatlas?utm=n8n.io)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When chat message received",
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "role": "chatTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "MongoDB Chat Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryMongoDbChat",
      "role": "memoryMongoDbChat",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "MongoDB Atlas Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreMongoDBAtlas",
      "role": "vectorStoreMongoDBAtlas",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Traveling Planner Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1"
    },
    {
      "name": "Recursive Character Text Splitter",
      "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
      "role": "textSplitterRecursiveCharacterTextSplitter",
      "configDescription": "Version 1"
    },
    {
      "name": "MongoDB Atlas Vector Store1",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreMongoDBAtlas",
      "role": "vectorStoreMongoDBAtlas",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Embeddings OpenAI1",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}