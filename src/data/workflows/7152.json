{
  "id": 7152,
  "slug": "7152",
  "title": "Loop over items ‚Äî beginner example",
  "description": "This workflow introduces beginners to one of the most fundamental concepts in n8n: **looping over items**. Using a simple use case‚Äîgenerating LinkedIn captions for content ideas‚Äîit demonstrates how to split a dataset into individual items, process them with AI, and collect the output for review or export.\n\n---\n\n## ‚úÖ Key Features\n\n- **üß™ Create Dummy Data**: Simulate a small dataset of content ideas.\n- **üîÅ Loop Over Items**: Process each row independently using the SplitInBatches node.\n- **üß† AI Caption Creation**: Automatically generate LinkedIn captions using OpenAI.\n- **üß∞ Tool Integration**: Enhance AI output with creativity-injection tools.\n- **üßæ Final Output Set**: Collect the original idea and generated caption.\n\n---\n\n## üß∞ What You‚Äôll Need\n\n- ‚úÖ An [OpenAI API key](https://platform.openai.com/signup)\n- ‚úÖ The **LangChain** nodes enabled in your n8n instance\n- ‚úÖ Basic knowledge of how to trigger and run workflows in n8n\n\n---\n\n## üîß Step-by-Step Setup\n\n### 1Ô∏è‚É£ Run Workflow\n\n- **Node**: `Manual Trigger (Run Workflow)`\n- **Purpose**: Manually start the workflow for testing or learning.\n\n---\n\n### 2Ô∏è‚É£ Create Random Data\n\n- **Node**: `Create Random Data (Code)`\n- **What it does**: Simulates incoming data with multiple content ideas.\n- **Code**:\n```js\nreturn [\n  {\n    json: {\n      row_number: 2,\n      id: 1,\n      Date: '2025-07-30',\n      idea: 'n8n rises to the top',\n      caption: '',\n      complete: ''\n    }\n  },\n  {\n    json: {\n      row_number: 3,\n      id: 2,\n      Date: '2025-07-31',\n      idea: 'n8n nodes',\n      caption: '',\n      complete: ''\n    }\n  },\n  {\n    json: {\n      row_number: 4,\n      id: 3,\n      Date: '2025-08-01',\n      idea: 'n8n use cases for marketing',\n      caption: '',\n      complete: ''\n    }\n  }\n];\n```\n\n---\n\n### 3Ô∏è‚É£ Loop Over Items\n\n- **Node**: `Loop Over Items (SplitInBatches)`\n- **Purpose**: Sends one record at a time to the next node.\n- **Why It Matters**: Loops in n8n are created using this node when you want to iterate over multiple items.\n\n---\n\n### 4Ô∏è‚É£ Create Captions with AI\n\n- **Node**: `Create Captions (LangChain Agent)`\n- **Prompt**: \n```text\nidea: {{ $json.idea }}\n```\n- **System Message**: \n```text\nYou are a helpful assistant creating captions for a LinkedIn post. Please create a LinkedIn caption for the idea.\n```\n- **Model**: GPT-4o Mini or GPT-3.5\n- **Credentials Required**:\n  - **OpenAI Credential**  \n    - Go to: [OpenAI API Keys](https://platform.openai.com/account/api-keys)\n    - Create a key and add it in n8n under credentials as ‚ÄúOpenAi account‚Äù\n\n---\n\n### 5Ô∏è‚É£ Inject Creativity (Optional)\n\n- **Node**: `Tool: Inject Creativity (LangChain Tool)`\n- **Purpose**: Demonstrates optional LangChain tools that can enhance or manipulate input/output.\n- **Why It‚Äôs Cool**: A great way to show chaining tools to AI agents.\n\n---\n\n### 6Ô∏è‚É£ Output Table\n\n- **Node**: `Output Table (Set)`\n- **Purpose**: Combines original ideas and generated captions into final structure.\n- **Fields**:\n  - `idea`: `={{ $('Create Random Data').item.json.idea }}`\n  - `output`: `={{ $json.output }}`\n\n---\n\n## üí° Educational Value\n\nThis workflow demonstrates:\n- Creating dynamic inputs with the **Code** node\n- Using **SplitInBatches** to simulate looping\n- Sending dynamic prompts to an AI model\n- Using **Set** to structure the output data\n\nBeginners will understand how item-level processing works in n8n and how powerful looping combined with AI can be.\n\n---\n\n## üì¨ Need Help or Want to Customize This?\n\n**Robert Breen**  \nAutomation Consultant | AI Workflow Designer | n8n Expert  \nüìß [robert@ynteractive.com](mailto:robert@ynteractive.com)  \nüåê [ynteractive.com](https://ynteractive.com)  \nüîó [LinkedIn](https://www.linkedin.com/in/robert-breen-29429625/)\n\n---\n\n## üè∑Ô∏è Tags\n\n`n8n` `loops` `OpenAI` `LangChain` `workflow` `training` `beginner` `LinkedIn automation` `caption generator`\n",
  "featuredImage": "/data/workflows/7152/7152.webp",
  "author": {
    "id": 101,
    "slug": "rbreen",
    "name": "Robert Breen",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 3836,
  "downloads": 383,
  "createdAt": "2025-08-07T23:43:53.041Z",
  "updatedAt": "2026-01-16T08:48:44.668Z",
  "publishedAt": "2025-08-07T23:43:53.041Z",
  "nodes": 8,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7152",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Loop over items ‚Äî beginner example",
    "workflowName": "Loop over items ‚Äî beginner example",
    "description": "This workflow introduces beginners to one of the most fundamental concepts in n8n: **looping over items**. Using a simple use case‚Äîgenerating LinkedIn captions for content ideas‚Äîit demonstrates how to split a dataset into individual items, process them with AI, and collect the output for review or export.\n\n---\n\n## ‚úÖ Key Features\n\n- **üß™ Create Dummy Data**: Simulate a small dataset of content ideas.\n- **üîÅ Loop Over Items**: Process each row independently using the SplitInBatches node.\n- **üß† AI Caption Creation**: Automatically generate LinkedIn captions using OpenAI.\n- **üß∞ Tool Integration**: Enhance AI output with creativity-injection tools.\n- **üßæ Final Output Set**: Collect the original idea and generated caption.\n\n---\n\n## üß∞ What You‚Äôll Need\n\n- ‚úÖ An [OpenAI API key](https://platform.openai.com/signup)\n- ‚úÖ The **LangChain** nodes enabled in your n8n instance\n- ‚úÖ Basic knowledge of how to trigger and run workflows in n8n\n\n---\n\n## üîß Step-by-Step Setup\n\n### 1Ô∏è‚É£ Run Workflow\n\n- **Node**: `Manual Trigger (Run Workflow)`\n- **Purpose**: Manually start the workflow for testing or learning.\n\n---\n\n### 2Ô∏è‚É£ Create Random Data\n\n- **Node**: `Create Random Data (Code)`\n- **What it does**: Simulates incoming data with multiple content ideas.\n- **Code**:\n```js\nreturn [\n  {\n    json: {\n      row_number: 2,\n      id: 1,\n      Date: '2025-07-30',\n      idea: 'n8n rises to the top',\n      caption: '',\n      complete: ''\n    }\n  },\n  {\n    json: {\n      row_number: 3,\n      id: 2,\n      Date: '2025-07-31',\n      idea: 'n8n nodes',\n      caption: '',\n      complete: ''\n    }\n  },\n  {\n    json: {\n      row_number: 4,\n      id: 3,\n      Date: '2025-08-01',\n      idea: 'n8n use cases for marketing',\n      caption: '',\n      complete: ''\n    }\n  }\n];\n```\n\n---\n\n### 3Ô∏è‚É£ Loop Over Items\n\n- **Node**: `Loop Over Items (SplitInBatches)`\n- **Purpose**: Sends one record at a time to the next node.\n- **Why It Matters**: Loops in n8n are created using this node when you want to iterate over multiple items.\n\n---\n\n### 4Ô∏è‚É£ Create Captions with AI\n\n- **Node**: `Create Captions (LangChain Agent)`\n- **Prompt**: \n```text\nidea: {{ $json.idea }}\n```\n- **System Message**: \n```text\nYou are a helpful assistant creating captions for a LinkedIn post. Please create a LinkedIn caption for the idea.\n```\n- **Model**: GPT-4o Mini or GPT-3.5\n- **Credentials Required**:\n  - **OpenAI Credential**  \n    - Go to: [OpenAI API Keys](https://platform.openai.com/account/api-keys)\n    - Create a key and add it in n8n under credentials as ‚ÄúOpenAi account‚Äù\n\n---\n\n### 5Ô∏è‚É£ Inject Creativity (Optional)\n\n- **Node**: `Tool: Inject Creativity (LangChain Tool)`\n- **Purpose**: Demonstrates optional LangChain tools that can enhance or manipulate input/output.\n- **Why It‚Äôs Cool**: A great way to show chaining tools to AI agents.\n\n---\n\n### 6Ô∏è‚É£ Output Table\n\n- **Node**: `Output Table (Set)`\n- **Purpose**: Combines original ideas and generated captions into final structure.\n- **Fields**:\n  - `idea`: `={{ $('Create Random Data').item.json.idea }}`\n  - `output`: `={{ $json.output }}`\n\n---\n\n## üí° Educational Value\n\nThis workflow demonstrates:\n- Creating dynamic inputs with the **Code** node\n- Using **SplitInBatches** to simulate looping\n- Sending dynamic prompts to an AI model\n- Using **Set** to structure the output data\n\nBeginners will understand how item-level processing works in n8n and how powerful looping combined with AI can be.\n\n---\n\n## üì¨ Need Help or Want to Customize This?\n\n**Robert Breen**  \nAutomation Consultant | AI Workflow Designer | n8n Expert  \nüìß [robert@ynteractive.com](mailto:robert@ynteractive.com)  \nüåê [ynteractive.com](https://ynteractive.com)  \nüîó [LinkedIn](https://www.linkedin.com/in/robert-breen-29429625/)\n\n---\n\n## üè∑Ô∏è Tags\n\n`n8n` `loops` `OpenAI` `LangChain` `workflow` `training` `beginner` `LinkedIn automation` `caption generator`",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Tool: Inject Creativity",
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "role": "toolThink",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Run Workflow",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Random Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Create Captions",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2"
    },
    {
      "name": "Output Table",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    }
  ]
}