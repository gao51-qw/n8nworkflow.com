{
  "id": 9608,
  "slug": "9608",
  "title": "Generate pro construction quotes from jotform to email with Supabase CRM",
  "description": "## Who it's for\n\nConstruction and renovation businesses that need to generate detailed quotes from customer inquiries—plasterers, painters, contractors, renovation specialists, or any construction service provider handling quote requests through online forms.\n\n## What it does\n\nAutomatically transforms JotForm submissions into professional, itemized construction quotes with complete CRM tracking—**no subscription needed** (saving €200-500/year). When a customer fills your project request form (specifying wall/ceiling areas, finish types, ceiling heights, wet areas, prep work), the workflow extracts measurements, normalizes service selections, applies intelligent pricing rules from your Supabase catalog, calculates line items with material and labor costs plus proper VAT handling, stores everything in a structured CRM pipeline (customer → project deal → estimate), and generates a branded HTML email ready for delivery. \n\nThis **self-hosted pricing engine** replaces paid invoicing software for quote generation, saving thousands over time while eliminating manual takeoffs and quote preparation—\n\nfrom 30-60 minutes to under 30 seconds.\n\n## How it works\n\n**Stage 1:** JotForm webhook triggers → Parser extracts project data (m² measurements, service types, property details) → Normalize Dutch construction terms to database values → Save raw submission for audit trail\n\n**Stage 2:** Upsert customer record (idempotent on email) → Create project deal → Link to form submission\n\n**Stage 3:** Fetch active pricing rules → Calculate line items based on square meters, service type (smooth plaster vs decorative), ceiling height premiums, property status (new build vs renovation), wet area requirements → Apply conditional logic (high ceilings = price multiplier, prep work charges, finish level) → Group duplicate items → Save estimate header + individual lines\n\n**Stage 4:** Query optimized view (single call, all data) → Generate professional HTML email with logo, itemized services table (description, m², unit price, totals), VAT breakdown, CTA buttons, legal disclaimer\n\n## Setup requirements\n\n- **Supabase account** (free tier sufficient) - Database for CRM + pricing catalog\n- **JotForm account** (free tier works) - Form builder with webhook support\n- **Email service** - Gmail, SendGrid, or similar (add your own email node)\n\n## How to set up\n\n**1. Database setup (2 minutes):**\n- Run this workflow's \"SQL Generator\" node to output complete schema\n- Copy output → Paste in Supabase SQL Editor → Click Run\n- Creates 9 tables + 1 optimized view + sample construction services (plastering €21-32/m², painting €12-15/m², ornamental work, ceiling finishes)\n\n**2. Credentials:**\n- Add Supabase credentials to n8n (Project URL + Service Role Key from Supabase Settings → API)\n- No JotForm credentials needed (uses webhook)\n\n**3. JotForm webhook:**\n- Clone demo construction form: [jotform stucco planet demo](https://form.jotform.com/252844786304060\n)- Form fields: Property type, postcode, services needed, wall/ceiling m², finish level, ornament quantities, molding meters, wet areas, ceiling heights, prep removal, start date, customer contact\n- Settings → Integrations → Webhooks → Add your n8n webhook URL\n- Test with preview submission\n\n**4. Customize email:**\n- Update company info in \"Generate Email HTML\" node (logo, business address, contact details, Chamber of Commerce number, VAT number)\n- Adjust colors/branding in HTML template\n- Available in Dutch and English versions\n\n## How to customize\n\n**Add your construction services:**\nEdit `price_catalog` table in Supabase (no code changes):\n```sql\nINSERT INTO price_catalog (item_code, name, unit_price, vat_rate, unit_type) \nVALUES ('DRYWALL_INSTALL', 'Drywall Installation', 18.50, 9, 'm²');",
  "featuredImage": "/data/workflows/9608/9608.webp",
  "author": {
    "id": 101,
    "slug": "reklaim",
    "name": "Stephan Koning",
    "avatar": ""
  },
  "categories": [
    "CRM"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 194,
  "downloads": 19,
  "createdAt": "2025-10-14T08:27:49.752Z",
  "updatedAt": "2026-01-16T09:01:13.488Z",
  "publishedAt": "2025-10-14T08:27:49.752Z",
  "nodes": 27,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9608",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate pro construction quotes from jotform to email with Supabase CRM",
    "workflowName": "Generate pro construction quotes from jotform to email with Supabase CRM",
    "description": "## Who it's for\n\nConstruction and renovation businesses that need to generate detailed quotes from customer inquiries—plasterers, painters, contractors, renovation specialists, or any construction service provider handling quote requests through online forms.\n\n## What it does\n\nAutomatically transforms JotForm submissions into professional, itemized construction quotes with complete CRM tracking—**no subscription needed** (saving €200-500/year). When a customer fills your project request form (specifying wall/ceiling areas, finish types, ceiling heights, wet areas, prep work), the workflow extracts measurements, normalizes service selections, applies intelligent pricing rules from your Supabase catalog, calculates line items with material and labor costs plus proper VAT handling, stores everything in a structured CRM pipeline (customer → project deal → estimate), and generates a branded HTML email ready for delivery. \n\nThis **self-hosted pricing engine** replaces paid invoicing software for quote generation, saving thousands over time while eliminating manual takeoffs and quote preparation—\n\nfrom 30-60 minutes to under 30 seconds.\n\n## How it works\n\n**Stage 1:** JotForm webhook triggers → Parser extracts project data (m² measurements, service types, property details) → Normalize Dutch construction terms to database values → Save raw submission for audit trail\n\n**Stage 2:** Upsert customer record (idempotent on email) → Create project deal → Link to form submission\n\n**Stage 3:** Fetch active pricing rules → Calculate line items based on square meters, service type (smooth plaster vs decorative), ceiling height premiums, property status (new build vs renovation), wet area requirements → Apply conditional logic (high ceilings = price multiplier, prep work charges, finish level) → Group duplicate items → Save estimate header + individual lines\n\n**Stage 4:** Query optimized view (single call, all data) → Generate professional HTML email with logo, itemized services table (description, m², unit price, totals), VAT breakdown, CTA buttons, legal disclaimer\n\n## Setup requirements\n\n- **Supabase account** (free tier sufficient) - Database for CRM + pricing catalog\n- **JotForm account** (free tier works) - Form builder with webhook support\n- **Email service** - Gmail, SendGrid, or similar (add your own email node)\n\n## How to set up\n\n**1. Database setup (2 minutes):**\n- Run this workflow's \"SQL Generator\" node to output complete schema\n- Copy output → Paste in Supabase SQL Editor → Click Run\n- Creates 9 tables + 1 optimized view + sample construction services (plastering €21-32/m², painting €12-15/m², ornamental work, ceiling finishes)\n\n**2. Credentials:**\n- Add Supabase credentials to n8n (Project URL + Service Role Key from Supabase Settings → API)\n- No JotForm credentials needed (uses webhook)\n\n**3. JotForm webhook:**\n- Clone demo construction form: [jotform stucco planet demo](https://form.jotform.com/252844786304060\n)- Form fields: Property type, postcode, services needed, wall/ceiling m², finish level, ornament quantities, molding meters, wet areas, ceiling heights, prep removal, start date, customer contact\n- Settings → Integrations → Webhooks → Add your n8n webhook URL\n- Test with preview submission\n\n**4. Customize email:**\n- Update company info in \"Generate Email HTML\" node (logo, business address, contact details, Chamber of Commerce number, VAT number)\n- Adjust colors/branding in HTML template\n- Available in Dutch and English versions\n\n## How to customize\n\n**Add your construction services:**\nEdit `price_catalog` table in Supabase (no code changes):\n```sql\nINSERT INTO price_catalog (item_code, name, unit_price, vat_rate, unit_type) \nVALUES ('DRYWALL_INSTALL', 'Drywall Installation', 18.50, 9, 'm²');",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "role": "splitOut",
      "configDescription": "Version 1"
    },
    {
      "name": "upsert form submission -error",
      "type": "n8n-nodes-base.stopAndError",
      "role": "stopAndError",
      "configDescription": "Version 1"
    },
    {
      "name": "upsert form customer -error",
      "type": "n8n-nodes-base.stopAndError",
      "role": "stopAndError",
      "configDescription": "Version 1"
    },
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Stage 1: Webhook Processing",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Stage 2: CRM Insert",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Stage 3: Quote Generation",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Parser",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Save Form Submission",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Upsert Customer",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Deal",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch Pricing Rules",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Calculate Quote Line Items",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Save Estimate Header",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Insert Line Items",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Prepare Line Item Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Fetch Complete Quote",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Email HTML",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Fetch Mapping Rules",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Prepare AI Context",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Normalize Form Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Stage 3: Quote Generation1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Email node",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "SQL Schema Generator",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    }
  ]
}