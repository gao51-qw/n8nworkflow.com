{
  "id": 7201,
  "slug": "7201",
  "title": "Generate AI-powered lease renewal offers with Ollama LLM, Supabase and Gmail",
  "description": "# üìÑ Automated Lease Renewal Offer by Email\n\n## ‚úÖ Features\n- Automated Lease Offer Generation using AI (Ollama model).\n- Duplicate File Check to avoid reprocessing the same customer.\n- Personalized Offer Letter creation based on customer details from Supabase.\n- PDF/Text File Conversion for formatted output.\n- Automatic Google Drive Management for storing and retrieving files.\n- Email Sending with generated offer letter attached.\n- Seamless Integration with Supabase, Google Drive, Gmail, and AI LLM.\n\n## ‚öôÔ∏è How It Works\n1. Trigger: Workflow starts on form submission with customer details.\n\n2. Customer Lookup:\n\n- Searches Supabase for customer data.\n- Updates customer information if needed.\n\n3. File Search & Duplication Check:\n\n- Looks for existing lease offer files in Google Drive.\n\n- If duplicate found, deletes old file before proceeding.\n\n4. AI Lease Offer Creation:\n\n- Uses the LLM Chain (offerLetter) to generate a customized lease renewal letter.\n\n5. File Conversion:\n\n- Converts AI-generated text into a downloadable file format.\n\n6. Upload to Drive:\n\n- Saves the new lease offer in Google Drive.\n\n7. Email Preparation:\n\n- Uses Basic LLM Chain-email to draft the email body.\n\n- Downloads the offer file from Drive and attaches it.\n\n8. Email Sending:\n\n- Sends the renewal offer email via Gmail to the customer.\n\n## üõ† Setup Steps\n1. Supabase Connection:\n\n- Add Supabase credentials in n8n.\n\n- Ensure a customers table exists with relevant columns.\n\n## üîúFuture Steps\n- Add specific letter template (organization template).\n- PDF offer letter\n",
  "featuredImage": "/data/workflows/7201/7201.webp",
  "author": {
    "id": 101,
    "slug": "laki99",
    "name": "Lakindu Siriwardana",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 279,
  "downloads": 27,
  "createdAt": "2025-08-09T20:12:22.179Z",
  "updatedAt": "2026-01-16T08:49:00.775Z",
  "publishedAt": "2025-08-09T20:12:22.179Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7201",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate AI-powered lease renewal offers with Ollama LLM, Supabase and Gmail",
    "workflowName": "Generate AI-powered lease renewal offers with Ollama LLM, Supabase and Gmail",
    "description": "# üìÑ Automated Lease Renewal Offer by Email\n\n## ‚úÖ Features\n- Automated Lease Offer Generation using AI (Ollama model).\n- Duplicate File Check to avoid reprocessing the same customer.\n- Personalized Offer Letter creation based on customer details from Supabase.\n- PDF/Text File Conversion for formatted output.\n- Automatic Google Drive Management for storing and retrieving files.\n- Email Sending with generated offer letter attached.\n- Seamless Integration with Supabase, Google Drive, Gmail, and AI LLM.\n\n## ‚öôÔ∏è How It Works\n1. Trigger: Workflow starts on form submission with customer details.\n\n2. Customer Lookup:\n\n- Searches Supabase for customer data.\n- Updates customer information if needed.\n\n3. File Search & Duplication Check:\n\n- Looks for existing lease offer files in Google Drive.\n\n- If duplicate found, deletes old file before proceeding.\n\n4. AI Lease Offer Creation:\n\n- Uses the LLM Chain (offerLetter) to generate a customized lease renewal letter.\n\n5. File Conversion:\n\n- Converts AI-generated text into a downloadable file format.\n\n6. Upload to Drive:\n\n- Saves the new lease offer in Google Drive.\n\n7. Email Preparation:\n\n- Uses Basic LLM Chain-email to draft the email body.\n\n- Downloads the offer file from Drive and attaches it.\n\n8. Email Sending:\n\n- Sends the renewal offer email via Gmail to the customer.\n\n## üõ† Setup Steps\n1. Supabase Connection:\n\n- Add Supabase credentials in n8n.\n\n- Ensure a customers table exists with relevant columns.\n\n## üîúFuture Steps\n- Add specific letter template (organization template).\n- PDF offer letter",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Ollama Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "role": "lmChatOllama",
      "configDescription": "Version 1"
    },
    {
      "name": "Edit Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "On form submission",
      "type": "n8n-nodes-base.formTrigger",
      "role": "formTrigger",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Convert to File",
      "type": "n8n-nodes-base.convertToFile",
      "role": "convertToFile",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Gmail",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Supabase-search_cust",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Drive-delete_dup",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "If-check_dup",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Supabase_cust_info",
      "type": "n8n-nodes-base.supabase",
      "role": "supabase",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Drive-search",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Google Drive-upload",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Basic LLM Chain-offerLetter",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Basic LLM Chain-email",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Google Drive-get_file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}