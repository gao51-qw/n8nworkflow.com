{
  "id": 609,
  "slug": "609",
  "title": "Manage incident reporting in PagerDuty and CrateDB",
  "description": "This workflow automatically monitors the functionality of a factory. The workflow logs machine data coming from factory sensors in a CrateDB database, generates an incident report in PagerDuty, and notifies the responsible staff members when the temperature of a machine crosses the threshold value.\n\nThis workflow builds on a [workflow that generates factory data](https://n8n.io/workflows/608).\n\nRead more about this use case and how to build both workflows with step-by-step instructions in the blog post [*How to automate your factory's incident reporting*](https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/).\n\n## Prerequisites\n\n- A PagerDuty account and [credentials](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.pagerduty/)\n- AMQP, an ActiveMQ  connection, and [credentials](https://docs.n8n.io/integrations/credentials/amqp/)\n- A CrateDB instance running locally or on a server, and [credentials](https://docs.n8n.io/integrations/credentials/cratedb/).\n\n## Nodes\n\n- [AMQP Trigger node](https://docs.n8n.io/integrations/trigger-nodes/n8n-nodes-base.amqptrigger/) starts the workflow.\n- [IF node](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.if/) filters sensor values higher than 50°C.\n- [PagerDuty node](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.pagerduty/) creates an incident in the account.\n- [Set nodes](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.set/) set the required incident information and sensor data, respectively.\n- [CrateDB nodes](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.cratedb/) ingest the information data and machine sensor data, respectively.\n- [Function node](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.function/) converts degrees from Celsius to Fahrenheit.",
  "featuredImage": "/data/workflows/609/609.webp",
  "author": {
    "id": 101,
    "slug": "harshil1712",
    "name": "Harshil Agrawal",
    "avatar": ""
  },
  "categories": [
    "Engineering"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 1006,
  "downloads": 100,
  "createdAt": "2020-08-12T11:36:23.114Z",
  "updatedAt": "2026-01-16T08:19:18.330Z",
  "publishedAt": "2020-08-12T11:36:23.114Z",
  "nodes": 10,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/609",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Manage incident reporting in PagerDuty and CrateDB",
    "workflowName": "Manage incident reporting in PagerDuty and CrateDB",
    "description": "This workflow automatically monitors the functionality of a factory. The workflow logs machine data coming from factory sensors in a CrateDB database, generates an incident report in PagerDuty, and notifies the responsible staff members when the temperature of a machine crosses the threshold value.\n\nThis workflow builds on a [workflow that generates factory data](https://n8n.io/workflows/608).\n\nRead more about this use case and how to build both workflows with step-by-step instructions in the blog post [*How to automate your factory's incident reporting*](https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/).\n\n## Prerequisites\n\n- A PagerDuty account and [credentials](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.pagerduty/)\n- AMQP, an ActiveMQ  connection, and [credentials](https://docs.n8n.io/integrations/credentials/amqp/)\n- A CrateDB instance running locally or on a server, and [credentials](https://docs.n8n.io/integrations/credentials/cratedb/).\n\n## Nodes\n\n- [AMQP Trigger node](https://docs.n8n.io/integrations/trigger-nodes/n8n-nodes-base.amqptrigger/) starts the workflow.\n- [IF node](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.if/) filters sensor values higher than 50°C.\n- [PagerDuty node](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.pagerduty/) creates an incident in the account.\n- [Set nodes](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.set/) set the required incident information and sensor data, respectively.\n- [CrateDB nodes](https://docs.n8n.io/integrations/nodes/n8n-nodes-base.cratedb/) ingest the information data and machine sensor data, respectively.\n- [Function node](https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.function/) converts degrees from Celsius to Fahrenheit.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Values higher than 50°C",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 1"
    },
    {
      "name": "Data from factory sensors",
      "type": "n8n-nodes-base.amqpTrigger",
      "role": "amqpTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Set sensor data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 1"
    },
    {
      "name": "Ingest machine data",
      "type": "n8n-nodes-base.crateDb",
      "role": "crateDb",
      "configDescription": "Version 1"
    },
    {
      "name": "Ingest incident data",
      "type": "n8n-nodes-base.crateDb",
      "role": "crateDb",
      "configDescription": "Version 1"
    },
    {
      "name": "Set incident info",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 1"
    },
    {
      "name": "Create an incident",
      "type": "n8n-nodes-base.pagerDuty",
      "role": "pagerDuty",
      "configDescription": "Version 1"
    },
    {
      "name": "Data enrichment (°C to °F)",
      "type": "n8n-nodes-base.function",
      "role": "function",
      "configDescription": "Version 1"
    },
    {
      "name": "Do  nothing",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    }
  ]
}