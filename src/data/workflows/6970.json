{
  "id": 6970,
  "slug": "6970",
  "title": "Track expenses from Telegram to Google Sheets with GPT-4.1 Mini",
  "description": "# üìí Telegram Expense Tracker to Google Sheets with GPT-4.1\n[![Watch the video](https://s3.ap-southeast-1.amazonaws.com/automatewith.me/track-expenses-from-telegram-to-google-sheets-with-gpt-41-mini+(1).jpg)](https://www.youtube.com/watch?v=DsSs1EF1lQg)\n&gt; A lightweight automation that lets users log daily expenses via a Telegram bot and instantly saves them into Google Sheets‚Äîperfect for anyone looking to manage spending on the go with AI-powered structure and ease.\n## üë§ Who‚Äôs it for\nThis workflow is for anyone who wants to log their daily expenses by simply chatting with a Telegram bot. Ideal for:\n- Individuals who want a quick way to track spending\n- Freelancers who log receipts and purchases on the go\n- Teams or small business owners who want lightweight expense capture\n\n## ‚öôÔ∏è How it works / What it does\n1. **User sends a text message on Telegram** describing an expense  \n   _(e.g., ‚ÄúBought coffee for 50k at Highlands‚Äù)_\n\n2. **Message format is validated**\n   - If the message is **text**, it proceeds to GPT-4.1 Mini for processing.\n   - If it's **not text** (e.g. image or file), the bot sends a fallback message.\n\n3. **OpenAI GPT-4.1 Mini parses the message** and returns:\n   - `relevant`: true/false\n   - `expense_record`: structured fields (date, amount, currency, category, description, source)\n   - `message`: a friendly confirmation or fallback\n\n4. **If valid**:\n   - The bot replies with a fun acknowledgment\n   - The data is saved to a connected Google Sheet\n\n5. **If invalid**:\n   - A fallback message is sent to encourage proper input\n\n## üõ†Ô∏è How to set up\n\n### 1. Telegram Bot Setup\n- Create a bot using [BotFather](https://t.me/botfather) on Telegram\n- Copy the bot token and paste it into the `Telegram Trigger` node\n\n### 2. Google Sheet Setup\n- Create a Google Sheet with these columns:\n  ```\n  Date | Amount | Currency | Category | Description | SourceMessage\n  ```\n- Share the sheet with your n8n service account email\n\n### 3. OpenAI Configuration\n- Connect the `OpenAI Chat Model` node using your OpenAI API key\n- Use GPT-4.1 Mini as the model\n- Apply a system prompt that extracts structured JSON with:\n  - `relevant`, `expense_record`, and `message`\n\n### 4. Add Parser\n- Use the `Structured Output Parser` node to safely parse the JSON response\n\n### 5. Conditional Logic Nodes\n- `Is text message?`  \n   - Checks if the message is in text format  \n- `Supported scenario?`  \n   - Checks if `relevant = true` in the LLM response\n\n### 6. Final Actions\n- **If relevant**:  \n   - Send confirmation via Telegram  \n   - Append row to Google Sheet  \n- **If not relevant**:  \n   - Send fallback message via Telegram\n\n## ‚úÖ Requirements\n- Telegram bot token\n- OpenAI GPT-4.1 Mini API access\n- n8n instance (self-hosted or cloud)\n- Google Sheet with access granted to n8n\n- Basic understanding of n8n node configuration\n\n## üß© How to customize the workflow\n\n| Feature                         | How to Customize                                                  |\n|----------------------------------|-------------------------------------------------------------------|\n| Add multi-currency support       | Update system prompt to detect and extract different currencies  |\n| Add more categories              | Modify the list of categories in the system prompt               |\n| Track multiple users             | Add `username` or `chat ID` column to the Google Sheet           |\n| Trigger alerts                   | Add Slack, Email, or Telegram alerts for specific expense types  |\n| Weekly summaries                 | Use a cron node + Google Sheet query + Telegram message          |\n| Visual dashboards                | Connect the sheet to Looker Studio or Google Data Studio         |\n\nBuilt with üí¨ Telegram + üß† GPT-4.1 Mini + üìä Google Sheets + ‚ö° n8n",
  "featuredImage": "/data/workflows/6970/6970.webp",
  "author": {
    "id": 101,
    "slug": "trungtran",
    "name": "Trung Tran",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 2102,
  "downloads": 210,
  "createdAt": "2025-08-04T14:53:50.938Z",
  "updatedAt": "2026-01-16T08:47:55.330Z",
  "publishedAt": "2025-08-04T14:53:50.938Z",
  "nodes": 23,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6970",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Track expenses from Telegram to Google Sheets with GPT-4.1 Mini",
    "workflowName": "Track expenses from Telegram to Google Sheets with GPT-4.1 Mini",
    "description": "# üìí Telegram Expense Tracker to Google Sheets with GPT-4.1\n[![Watch the video](https://s3.ap-southeast-1.amazonaws.com/automatewith.me/track-expenses-from-telegram-to-google-sheets-with-gpt-41-mini+(1).jpg)](https://www.youtube.com/watch?v=DsSs1EF1lQg)\n&gt; A lightweight automation that lets users log daily expenses via a Telegram bot and instantly saves them into Google Sheets‚Äîperfect for anyone looking to manage spending on the go with AI-powered structure and ease.\n## üë§ Who‚Äôs it for\nThis workflow is for anyone who wants to log their daily expenses by simply chatting with a Telegram bot. Ideal for:\n- Individuals who want a quick way to track spending\n- Freelancers who log receipts and purchases on the go\n- Teams or small business owners who want lightweight expense capture\n\n## ‚öôÔ∏è How it works / What it does\n1. **User sends a text message on Telegram** describing an expense  \n   _(e.g., ‚ÄúBought coffee for 50k at Highlands‚Äù)_\n\n2. **Message format is validated**\n   - If the message is **text**, it proceeds to GPT-4.1 Mini for processing.\n   - If it's **not text** (e.g. image or file), the bot sends a fallback message.\n\n3. **OpenAI GPT-4.1 Mini parses the message** and returns:\n   - `relevant`: true/false\n   - `expense_record`: structured fields (date, amount, currency, category, description, source)\n   - `message`: a friendly confirmation or fallback\n\n4. **If valid**:\n   - The bot replies with a fun acknowledgment\n   - The data is saved to a connected Google Sheet\n\n5. **If invalid**:\n   - A fallback message is sent to encourage proper input\n\n## üõ†Ô∏è How to set up\n\n### 1. Telegram Bot Setup\n- Create a bot using [BotFather](https://t.me/botfather) on Telegram\n- Copy the bot token and paste it into the `Telegram Trigger` node\n\n### 2. Google Sheet Setup\n- Create a Google Sheet with these columns:\n  ```\n  Date | Amount | Currency | Category | Description | SourceMessage\n  ```\n- Share the sheet with your n8n service account email\n\n### 3. OpenAI Configuration\n- Connect the `OpenAI Chat Model` node using your OpenAI API key\n- Use GPT-4.1 Mini as the model\n- Apply a system prompt that extracts structured JSON with:\n  - `relevant`, `expense_record`, and `message`\n\n### 4. Add Parser\n- Use the `Structured Output Parser` node to safely parse the JSON response\n\n### 5. Conditional Logic Nodes\n- `Is text message?`  \n   - Checks if the message is in text format  \n- `Supported scenario?`  \n   - Checks if `relevant = true` in the LLM response\n\n### 6. Final Actions\n- **If relevant**:  \n   - Send confirmation via Telegram  \n   - Append row to Google Sheet  \n- **If not relevant**:  \n   - Send fallback message via Telegram\n\n## ‚úÖ Requirements\n- Telegram bot token\n- OpenAI GPT-4.1 Mini API access\n- n8n instance (self-hosted or cloud)\n- Google Sheet with access granted to n8n\n- Basic understanding of n8n node configuration\n\n## üß© How to customize the workflow\n\n| Feature                         | How to Customize                                                  |\n|----------------------------------|-------------------------------------------------------------------|\n| Add multi-currency support       | Update system prompt to detect and extract different currencies  |\n| Add more categories              | Modify the list of categories in the system prompt               |\n| Track multiple users             | Add `username` or `chat ID` column to the Google Sheet           |\n| Trigger alerts                   | Add Slack, Email, or Telegram alerts for specific expense types  |\n| Weekly summaries                 | Use a cron node + Google Sheet query + Telegram message          |\n| Visual dashboards                | Connect the sheet to Looker Studio or Google Data Studio         |\n\nBuilt with üí¨ Telegram + üß† GPT-4.1 Mini + üìä Google Sheets + ‚ö° n8n",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "OpenAI Chat Model2",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Supported scenario?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Acknowledge the expense",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send un-supported scenario message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Transform the output to expense record",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Log expense record to google sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Budget Buddy Telegram Agent Text",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Is text message?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Un-supported message type",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}