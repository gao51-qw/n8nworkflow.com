{
  "id": 3193,
  "slug": "3193",
  "title": "Extract and log data to Airtable with Google Gemini, ILovePDF, and Google Drive",
  "description": "Who is this workflow template for?\n----------------------------------\n\nThis workflow template is perfect for freelancers, small business owners, accounting teams, or anyone responsible for managing and recording invoices regularly. If you deal with multiple invoices and spend considerable time manually entering invoice data into a database, this automation will significantly simplify your daily operations and reduce potential errors.\n\nWhat this workflow does\n-----------------------\n\nThe workflow automates the entire invoice logging process. It continuously monitors a designated Google Drive folder every minute for new PDF invoice uploads. Once a new invoice is detected, it is automatically converted from PDF to an image format using the ILovePDF API. After conversion, Google's Gemini AI analyzes the image, intelligently extracting essential details such as vendor name, item description, invoice amount, invoice date, payment date, and bank reference numbers. Finally, this structured data is automatically recorded in an Airtable database (or optionally in a Google Sheet), ensuring organized, accessible records.\n\nDetailed Workflow Explanation\n-----------------------------\n\n*   **Step 1: Invoice Detection**\n    \n    *   Monitors Google Drive for newly uploaded PDF invoices.\n        \n*   **Step 2: PDF to Image Conversion**\n    \n    *   Converts PDFs into images using ILovePDF.\n        \n*   **Step 3: Data Extraction via Gemini AI**\n    \n    *   Uses Gemini AI to analyze the invoice image.\n        \n    *   Extracts data such as Vendor, Description, Amount, Invoice Date, Paid Date, and Bank Reference.\n        \n    *   Provides clear descriptions even when original invoice descriptions are vague or missing by analyzing vendor context.\n        \n*   **Step 4: Structured Data Storage**\n    \n    *   Automatically sends extracted data to Airtable or Google Sheets.\n        \n*   **Step 5: File Management**\n    \n    *   Moves processed PDF files into a separate \"Done\" folder to clearly differentiate between processed and unprocessed invoices.\n        \n\nStep-by-Step Setup Instructions\n-------------------------------\n\n1.  **Set Up Google Drive:**\n    \n    *   Log in to Google Drive and create two folders:\n        \n        *   One named Invoices (for incoming PDF files)\n            \n        *   One named Processed (for processed files)\n            \n2.  **Obtain API Credentials:**\n    \n    *   **ILovePDF API**:\n        \n        *   Sign up at ILovePDF Developers.\n            \n        *   Retrieve your API key from your account dashboard.\n            \n    *   **Google Gemini AI API**:\n        \n        *   Register at [Google AI](https://ai.google.dev/) and generate an API key.\n            \n3.  **Airtable Database Preparation:**\n    \n    *   Create an Airtable base with the following columns:\n        \n        *   Vendor (Text)\n            \n        *   Description (Text)\n            \n        *   Amount (Number or Text)\n            \n        *   Invoice Date (Date)\n            \n        *   Paid Date (Date)\n            \n        *   Bank Reference (Text)\n            \n4.  **Import and Configure Workflow in n8n:**\n    \n    *   Import the provided workflow JSON file into your n8n instance.\n        \n    *   Connect your Google Drive, ILovePDF, Google Gemini AI, and Airtable accounts by entering your credentials in their respective nodes.\n        \n5.  **Adjust Workflow Settings:**\n    \n    *   In the Google Drive nodes, ensure your newly created Invoices and Processed folders are correctly selected.\n        \n    *   Update the ILovePDF public key in the appropriate HTTP Request node.\n        \n    *   Customize the Gemini AI prompt to refine or expand data extraction according to your specific needs.\n        \n6.  **Testing Your Setup:**\n    \n    *   Upload a sample PDF invoice into the Invoices folder.\n        \n    *   Execute the workflow by clicking Test Workflow in n8n and verify if data extraction and Airtable logging operate correctly.\n        \n\nAirtable Column Specifications\n------------------------------\n\nEnsure your Airtable includes the following structure:\n\n*   **Vendor**: Single Line Text\n    \n*   **Description**: Single Line Text\n    \n*   **Amount**: Currency or Single Line Text\n    \n*   **Invoice Date**: Date (formatted as YYYY-MM-DD)\n    \n*   **Paid Date**: Date (formatted as YYYY-MM-DD)\n    \n*   **Bank Reference**: Single Line Text\n    \n\nHow to Customize the Workflow\n-----------------------------\n\n*   **System Prompt:**\nAdjust the AI instructions by modifying the prompt text to focus on additional or fewer invoice details.\n    \n*   **Structured Output Parser:**\nModify the JSON schema in the parser node to match the structure and data points your project specifically requires:\n    \n\nBy following these instructions, you’ll have a fully automated, reliable system for handling and logging invoice data, significantly enhancing your productivity.",
  "featuredImage": "/data/workflows/3193/3193.webp",
  "author": {
    "id": 101,
    "slug": "auyeung",
    "name": "AlexAy",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 178,
  "downloads": 17,
  "createdAt": "2025-03-17T07:24:54.873Z",
  "updatedAt": "2026-01-16T08:28:37.947Z",
  "publishedAt": "2025-03-17T07:24:54.873Z",
  "nodes": 21,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3193",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Extract and log data to Airtable with Google Gemini, ILovePDF, and Google Drive",
    "workflowName": "Extract and log data to Airtable with Google Gemini, ILovePDF, and Google Drive",
    "description": "Who is this workflow template for?\n----------------------------------\n\nThis workflow template is perfect for freelancers, small business owners, accounting teams, or anyone responsible for managing and recording invoices regularly. If you deal with multiple invoices and spend considerable time manually entering invoice data into a database, this automation will significantly simplify your daily operations and reduce potential errors.\n\nWhat this workflow does\n-----------------------\n\nThe workflow automates the entire invoice logging process. It continuously monitors a designated Google Drive folder every minute for new PDF invoice uploads. Once a new invoice is detected, it is automatically converted from PDF to an image format using the ILovePDF API. After conversion, Google's Gemini AI analyzes the image, intelligently extracting essential details such as vendor name, item description, invoice amount, invoice date, payment date, and bank reference numbers. Finally, this structured data is automatically recorded in an Airtable database (or optionally in a Google Sheet), ensuring organized, accessible records.\n\nDetailed Workflow Explanation\n-----------------------------\n\n*   **Step 1: Invoice Detection**\n    \n    *   Monitors Google Drive for newly uploaded PDF invoices.\n        \n*   **Step 2: PDF to Image Conversion**\n    \n    *   Converts PDFs into images using ILovePDF.\n        \n*   **Step 3: Data Extraction via Gemini AI**\n    \n    *   Uses Gemini AI to analyze the invoice image.\n        \n    *   Extracts data such as Vendor, Description, Amount, Invoice Date, Paid Date, and Bank Reference.\n        \n    *   Provides clear descriptions even when original invoice descriptions are vague or missing by analyzing vendor context.\n        \n*   **Step 4: Structured Data Storage**\n    \n    *   Automatically sends extracted data to Airtable or Google Sheets.\n        \n*   **Step 5: File Management**\n    \n    *   Moves processed PDF files into a separate \"Done\" folder to clearly differentiate between processed and unprocessed invoices.\n        \n\nStep-by-Step Setup Instructions\n-------------------------------\n\n1.  **Set Up Google Drive:**\n    \n    *   Log in to Google Drive and create two folders:\n        \n        *   One named Invoices (for incoming PDF files)\n            \n        *   One named Processed (for processed files)\n            \n2.  **Obtain API Credentials:**\n    \n    *   **ILovePDF API**:\n        \n        *   Sign up at ILovePDF Developers.\n            \n        *   Retrieve your API key from your account dashboard.\n            \n    *   **Google Gemini AI API**:\n        \n        *   Register at [Google AI](https://ai.google.dev/) and generate an API key.\n            \n3.  **Airtable Database Preparation:**\n    \n    *   Create an Airtable base with the following columns:\n        \n        *   Vendor (Text)\n            \n        *   Description (Text)\n            \n        *   Amount (Number or Text)\n            \n        *   Invoice Date (Date)\n            \n        *   Paid Date (Date)\n            \n        *   Bank Reference (Text)\n            \n4.  **Import and Configure Workflow in n8n:**\n    \n    *   Import the provided workflow JSON file into your n8n instance.\n        \n    *   Connect your Google Drive, ILovePDF, Google Gemini AI, and Airtable accounts by entering your credentials in their respective nodes.\n        \n5.  **Adjust Workflow Settings:**\n    \n    *   In the Google Drive nodes, ensure your newly created Invoices and Processed folders are correctly selected.\n        \n    *   Update the ILovePDF public key in the appropriate HTTP Request node.\n        \n    *   Customize the Gemini AI prompt to refine or expand data extraction according to your specific needs.\n        \n6.  **Testing Your Setup:**\n    \n    *   Upload a sample PDF invoice into the Invoices folder.\n        \n    *   Execute the workflow by clicking Test Workflow in n8n and verify if data extraction and Airtable logging operate correctly.\n        \n\nAirtable Column Specifications\n------------------------------\n\nEnsure your Airtable includes the following structure:\n\n*   **Vendor**: Single Line Text\n    \n*   **Description**: Single Line Text\n    \n*   **Amount**: Currency or Single Line Text\n    \n*   **Invoice Date**: Date (formatted as YYYY-MM-DD)\n    \n*   **Paid Date**: Date (formatted as YYYY-MM-DD)\n    \n*   **Bank Reference**: Single Line Text\n    \n\nHow to Customize the Workflow\n-----------------------------\n\n*   **System Prompt:**\nAdjust the AI instructions by modifying the prompt text to focus on additional or fewer invoice details.\n    \n*   **Structured Output Parser:**\nModify the JSON schema in the parser node to match the structure and data points your project specifically requires:\n    \n\nBy following these instructions, you’ll have a fully automated, reliable system for handling and logging invoice data, significantly enhancing your productivity.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Google Gemini Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "role": "merge",
      "configDescription": "Version 3"
    },
    {
      "name": "Compression",
      "type": "n8n-nodes-base.compression",
      "role": "compression",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "get server get task",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "upload pdf",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "convert to jpg",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "download file",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Airtable",
      "type": "n8n-nodes-base.airtable",
      "role": "airtable",
      "configDescription": "Version 2.1"
    },
    {
      "name": "When clicking ‘Test workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "move file to done",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Download file",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Upload your file to google drive",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "role": "googleDriveTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get token",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    }
  ]
}