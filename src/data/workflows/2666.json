{
  "id": 2666,
  "slug": "2666",
  "title": "Analyze & sort suspicious email contents with ChatGPT",
  "description": "### Analyze & Sort Suspicious Email Contents with ChatGPT and Jira\n\n#### Who is this for?\nThis workflow is tailored for IT security teams, managed service providers (MSPs), and organizations aiming to streamline the detection and reporting of phishing emails. It's especially useful for teams handling high email volumes and requiring quick, automated analysis.\n\n#### What problem is this workflow solving?\nPhishing emails pose a significant cybersecurity threat, and manual review processes are time-consuming and prone to human error. This workflow automates the identification of malicious emails, provides AI-driven insights, and generates structured reports, enabling faster and more efficient responses to email-based threats.\n\n#### What this workflow does\nThis workflow integrates Gmail or Microsoft Outlook to monitor and capture incoming emails. It processes the email content and headers, converts the email's body to a visual screenshot for clarity, and uses ChatGPT's advanced AI to analyze the email for phishing indicators. Based on the analysis, it categorizes emails as potentially malicious or benign, creating detailed Jira tickets for each case. Attachments, including the email body and screenshots, are automatically uploaded for comprehensive reporting.\n\n**Key steps include:**\n1. **Email Integration**: Captures emails from Gmail or Microsoft Outlook.\n2. **Content Processing**: Extracts and organizes email content and metadata.\n3. **AI Analysis**: Uses ChatGPT to evaluate email content and headers.\n4. **Classification**: Categorizes emails as malicious or benign.\n5. **Automated Reporting**: Creates Jira tickets with detailed analysis and attachments.\n\n#### Setup\n1. **Authentication**: Configure Gmail or Microsoft Outlook credentials in n8n.\n2. **API Keys**: Add credentials for the HTML screenshot service (`hcti.io`) and OpenAI.\n3. **Jira Configuration**: Set up project and issue types in the Jira nodes.\n4. **Customization**: Update sticky notes and nodes to fit your organizational requirements, such as modifying the AI prompt or Jira ticket fields.\n\n#### How to customize this workflow to your needs\n- Adjust email triggers to include or exclude specific senders or subjects.\n- Refine the AI prompt in the ChatGPT node to tailor phishing detection criteria.\n- Modify Jira ticket content to include additional fields or match specific workflows.\n\nThis workflow is ideal for automating email threat detection, reducing response times, and enhancing overall cybersecurity processes. By leveraging AI-powered insights, it helps organizations stay ahead of phishing attacks.",
  "featuredImage": "/data/workflows/2666/2666.webp",
  "author": {
    "id": 101,
    "slug": "djangelic",
    "name": "Angel Menendez",
    "avatar": ""
  },
  "categories": [
    "SecOps",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 8488,
  "downloads": 848,
  "createdAt": "2024-12-21T00:48:36.281Z",
  "updatedAt": "2026-01-16T08:25:54.632Z",
  "publishedAt": "2024-12-21T00:48:36.281Z",
  "nodes": 25,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2666",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Analyze & sort suspicious email contents with ChatGPT",
    "workflowName": "Analyze & sort suspicious email contents with ChatGPT",
    "description": "### Analyze & Sort Suspicious Email Contents with ChatGPT and Jira\n\n#### Who is this for?\nThis workflow is tailored for IT security teams, managed service providers (MSPs), and organizations aiming to streamline the detection and reporting of phishing emails. It's especially useful for teams handling high email volumes and requiring quick, automated analysis.\n\n#### What problem is this workflow solving?\nPhishing emails pose a significant cybersecurity threat, and manual review processes are time-consuming and prone to human error. This workflow automates the identification of malicious emails, provides AI-driven insights, and generates structured reports, enabling faster and more efficient responses to email-based threats.\n\n#### What this workflow does\nThis workflow integrates Gmail or Microsoft Outlook to monitor and capture incoming emails. It processes the email content and headers, converts the email's body to a visual screenshot for clarity, and uses ChatGPT's advanced AI to analyze the email for phishing indicators. Based on the analysis, it categorizes emails as potentially malicious or benign, creating detailed Jira tickets for each case. Attachments, including the email body and screenshots, are automatically uploaded for comprehensive reporting.\n\n**Key steps include:**\n1. **Email Integration**: Captures emails from Gmail or Microsoft Outlook.\n2. **Content Processing**: Extracts and organizes email content and metadata.\n3. **AI Analysis**: Uses ChatGPT to evaluate email content and headers.\n4. **Classification**: Categorizes emails as malicious or benign.\n5. **Automated Reporting**: Creates Jira tickets with detailed analysis and attachments.\n\n#### Setup\n1. **Authentication**: Configure Gmail or Microsoft Outlook credentials in n8n.\n2. **API Keys**: Add credentials for the HTML screenshot service (`hcti.io`) and OpenAI.\n3. **Jira Configuration**: Set up project and issue types in the Jira nodes.\n4. **Customization**: Update sticky notes and nodes to fit your organizational requirements, such as modifying the AI prompt or Jira ticket fields.\n\n#### How to customize this workflow to your needs\n- Adjust email triggers to include or exclude specific senders or subjects.\n- Refine the AI prompt in the ChatGPT node to tailor phishing detection criteria.\n- Modify Jira ticket content to include additional fields or match specific workflows.\n\nThis workflow is ideal for automating email threat detection, reducing response times, and enhancing overall cybersecurity processes. By leveraging AI-powered insights, it helps organizations stay ahead of phishing attacks.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Gmail Trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "role": "gmailTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Microsoft Outlook Trigger",
      "type": "n8n-nodes-base.microsoftOutlookTrigger",
      "role": "microsoftOutlookTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Screenshot HTML",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Retrieve Screenshot",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Set Outlook Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Set Gmail Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Retrieve Headers of Email",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Format Headers",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Analyze Email with ChatGPT",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.6"
    },
    {
      "name": "Create Potentially Malicious Ticket",
      "type": "n8n-nodes-base.jira",
      "role": "jira",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Potentially Benign Ticket",
      "type": "n8n-nodes-base.jira",
      "role": "jira",
      "configDescription": "Version 1"
    },
    {
      "name": "Rename Screenshot",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Set Jira ID",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Upload Screenshot of Email to Jira",
      "type": "n8n-nodes-base.jira",
      "role": "jira",
      "configDescription": "Version 1"
    },
    {
      "name": "Upload Email Body to Jira",
      "type": "n8n-nodes-base.jira",
      "role": "jira",
      "configDescription": "Version 1"
    },
    {
      "name": "Convert Email Body to File",
      "type": "n8n-nodes-base.convertToFile",
      "role": "convertToFile",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Set Email Variables",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Rename Email Body Screenshot",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Check if Malicious",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}