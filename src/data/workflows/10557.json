{
  "id": 10557,
  "slug": "10557",
  "title": "Classify and respond to Facebook Messenger inquiries with GPT-4, Slack and Sheets",
  "description": "## üìä Description\nStreamline Facebook Messenger inbox management with an AI-powered categorization and response system. üí¨‚öôÔ∏è\n This workflow automatically classifies new messages as Lead, Query, or Spam using GPT-4, routes them for approval via Slack, responds on Facebook once approved, and logs all interactions into Google Sheets for tracking. Perfect for support and marketing teams managing high volumes of inbound DMs. üöÄüìà\n\n## What This Template Does\n1Ô∏è‚É£ Trigger ‚Äì Runs hourly to fetch new Facebook Page messages. ‚è∞\n 2Ô∏è‚É£ Extract & Format ‚Äì Collects sender info, timestamps, and message content for analysis. üìã\n 3Ô∏è‚É£ AI Categorization ‚Äì Uses GPT-4 to identify message type (Lead, Query, Spam) and suggest replies. üß†\n 4Ô∏è‚É£ Slack Approval Flow ‚Äì Sends categorized leads and queries to Slack for quick team approval. üí¨\n 5Ô∏è‚É£ Facebook Response ‚Äì Posts AI-suggested replies back to the original sender once approved. üíå\n 6Ô∏è‚É£ Data Logging ‚Äì Records every message, reply, and approval status into Google Sheets for analytics. üìä\n 7Ô∏è‚É£ Error Handling ‚Äì Automatically alerts via Slack if the workflow encounters an error. üö®\n\n## Key Benefits\n‚úÖ Reduces manual message triage on Facebook Messenger\n ‚úÖ Ensures consistent and professional customer replies\n ‚úÖ Provides full visibility via Google Sheets logs\n ‚úÖ Centralizes team approvals in Slack for faster response times\n ‚úÖ Leverages GPT-4 for accurate categorization and natural replies\n\n## Features\n- Hourly Facebook message fetch with Graph API\n- GPT-4 powered text classification and reply suggestion\n- Slack-based dual approval flow\n- Automated Facebook replies post-approval\n- Google Sheets logging for all categorized messages\n- Built-in error detection and Slack alerting\n\n## Requirements\nFacebook Graph API credentials with page message permissions\nOpenAI API key for GPT-4 processing\nSlack API credentials with chat:write permission\nGoogle Sheets OAuth2 credentials\n\n## Environment Variables:\nFACEBOOK_PAGE_ID\nGOOGLE_SHEET_ID\nGOOGLE_SHEET_NAME\nSLACK_CHANNEL_ID\n\n## Target Audience\n- Marketing and lead-generation teams using Facebook Pages üì£\n- Customer support teams managing Messenger queries üí¨\n- Businesses seeking automated lead routing and CRM sync üßæ\n- Teams leveraging AI for customer engagement optimization ü§ñ\n\n## Step-by-Step Setup Instructions\n1Ô∏è‚É£ Connect Facebook Graph API credentials and set your page ID.\n 2Ô∏è‚É£ Add OpenAI API credentials for GPT-4.\n 3Ô∏è‚É£ Configure Slack channel ID and credentials.\n 4Ô∏è‚É£ Link your Google Sheet for message logging.\n 5Ô∏è‚É£ Replace environment variable placeholders with your actual IDs.\n 6Ô∏è‚É£ Test the workflow manually before enabling automation.\n 7Ô∏è‚É£ Activate the schedule trigger for ongoing hourly execution. ‚úÖ\n",
  "featuredImage": "/data/workflows/10557/10557.webp",
  "author": {
    "id": 101,
    "slug": "rahul08",
    "name": "Rahul Joshi",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 243,
  "downloads": 24,
  "createdAt": "2025-11-06T07:00:40.916Z",
  "updatedAt": "2026-01-16T09:05:29.277Z",
  "publishedAt": "2025-11-06T07:00:40.916Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10557",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Classify and respond to Facebook Messenger inquiries with GPT-4, Slack and Sheets",
    "workflowName": "Classify and respond to Facebook Messenger inquiries with GPT-4, Slack and Sheets",
    "description": "## üìä Description\nStreamline Facebook Messenger inbox management with an AI-powered categorization and response system. üí¨‚öôÔ∏è\n This workflow automatically classifies new messages as Lead, Query, or Spam using GPT-4, routes them for approval via Slack, responds on Facebook once approved, and logs all interactions into Google Sheets for tracking. Perfect for support and marketing teams managing high volumes of inbound DMs. üöÄüìà\n\n## What This Template Does\n1Ô∏è‚É£ Trigger ‚Äì Runs hourly to fetch new Facebook Page messages. ‚è∞\n 2Ô∏è‚É£ Extract & Format ‚Äì Collects sender info, timestamps, and message content for analysis. üìã\n 3Ô∏è‚É£ AI Categorization ‚Äì Uses GPT-4 to identify message type (Lead, Query, Spam) and suggest replies. üß†\n 4Ô∏è‚É£ Slack Approval Flow ‚Äì Sends categorized leads and queries to Slack for quick team approval. üí¨\n 5Ô∏è‚É£ Facebook Response ‚Äì Posts AI-suggested replies back to the original sender once approved. üíå\n 6Ô∏è‚É£ Data Logging ‚Äì Records every message, reply, and approval status into Google Sheets for analytics. üìä\n 7Ô∏è‚É£ Error Handling ‚Äì Automatically alerts via Slack if the workflow encounters an error. üö®\n\n## Key Benefits\n‚úÖ Reduces manual message triage on Facebook Messenger\n ‚úÖ Ensures consistent and professional customer replies\n ‚úÖ Provides full visibility via Google Sheets logs\n ‚úÖ Centralizes team approvals in Slack for faster response times\n ‚úÖ Leverages GPT-4 for accurate categorization and natural replies\n\n## Features\n- Hourly Facebook message fetch with Graph API\n- GPT-4 powered text classification and reply suggestion\n- Slack-based dual approval flow\n- Automated Facebook replies post-approval\n- Google Sheets logging for all categorized messages\n- Built-in error detection and Slack alerting\n\n## Requirements\nFacebook Graph API credentials with page message permissions\nOpenAI API key for GPT-4 processing\nSlack API credentials with chat:write permission\nGoogle Sheets OAuth2 credentials\n\n## Environment Variables:\nFACEBOOK_PAGE_ID\nGOOGLE_SHEET_ID\nGOOGLE_SHEET_NAME\nSLACK_CHANNEL_ID\n\n## Target Audience\n- Marketing and lead-generation teams using Facebook Pages üì£\n- Customer support teams managing Messenger queries üí¨\n- Businesses seeking automated lead routing and CRM sync üßæ\n- Teams leveraging AI for customer engagement optimization ü§ñ\n\n## Step-by-Step Setup Instructions\n1Ô∏è‚É£ Connect Facebook Graph API credentials and set your page ID.\n 2Ô∏è‚É£ Add OpenAI API credentials for GPT-4.\n 3Ô∏è‚É£ Configure Slack channel ID and credentials.\n 4Ô∏è‚É£ Link your Google Sheet for message logging.\n 5Ô∏è‚É£ Replace environment variable placeholders with your actual IDs.\n 6Ô∏è‚É£ Test the workflow manually before enabling automation.\n 7Ô∏è‚É£ Activate the schedule trigger for ongoing hourly execution. ‚úÖ",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Error Handler Trigger",
      "type": "n8n-nodes-base.errorTrigger",
      "role": "errorTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Slack: Send Error Alert",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Workflow Description",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Data Input Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Processing Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Routing & Approval Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Response & Logging Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Trigger ‚Äì Fetch New Facebook Messages (Every Hour)",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Format Incoming Message Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Fetch Facebook Conversations (Graph API)",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Model ‚Äì GPT-4 Language Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "AI ‚Äì Classify Message (Lead / Query / Spam)",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Parse AI Output (JSON Parser)",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Memory ‚Äì Conversation Context Buffer",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Route Messages by Category",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3"
    },
    {
      "name": "Slack Approval ‚Äì Lead Message",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Check Lead Approval Status",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Send AI Reply ‚Äì Lead Approved",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Fallback Reply ‚Äì Lead Rejected",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Log to Google Sheets ‚Äì Lead Approved",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Log to Google Sheets ‚Äì Lead Rejected",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Slack Approval ‚Äì Query Message",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    },
    {
      "name": "Check Query Approval Status",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.3"
    },
    {
      "name": "Send AI Reply ‚Äì Query Approved",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Fallback Reply ‚Äì Query Rejected",
      "type": "n8n-nodes-base.facebookGraphApi",
      "role": "facebookGraphApi",
      "configDescription": "Version 1"
    },
    {
      "name": "Log to Google Sheets ‚Äì Query Approved",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Log to Google Sheets ‚Äì Query Rejected",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Log to Google Sheets ‚Äì Spam Messages",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    }
  ]
}