{
  "id": 10849,
  "slug": "10849",
  "title": "Extract & process Q&A from URLs with Airtop, OpenRouter AI & Safety Guardrails",
  "description": "Transform your Telegram bot into a secure content analyzer: send any URL, and get safe, structured Q&A extractions with AI-powered safety checks and web search capabilities.\n\n## üìã What This Template Does\nThis workflow activates when a user sends a valid URL to your Telegram bot. It extracts questions and answers from the webpage using Airtop, applies NSFW and PII guardrails to ensure safe content, then uses an OpenRouter AI agent (with optional Tavily search) to generate and send a concise response. If guardrails fail, it alerts the user instead.\n- Filters for valid URLs only to prevent unnecessary processing\n- Extracts structured Q&A from documents or forms\n- Enforces safety checks for harmful or private content\n- Supports web searches for enhanced responses when needed\n\n## üîß Prerequisites\n- A Telegram bot created via @BotFather\n- Accounts with Airtop, OpenRouter, and Tavily\n\n## üîë Required Credentials\n\n### Telegram API Setup\n1. Open Telegram ‚Üí Search @BotFather ‚Üí Use /newbot command\n2. Follow prompts to create bot and obtain API token\n3. Add to n8n as **Telegram API** credential type\n\n### Airtop API Setup\n1. Visit https://airtop.ai ‚Üí Sign up or log in ‚Üí Navigate to Dashboard ‚Üí API Keys\n2. Generate a new API key with extraction permissions\n3. Add to n8n as **Airtop API** credential type\n\n### OpenRouter API Setup\n1. Go to https://openrouter.ai ‚Üí Sign up or log in ‚Üí Navigate to API Keys section\n2. Generate and copy your API key (free tier sufficient for basic use)\n3. Add to n8n as **OpenRouter API** credential type\n\n### Tavily API Setup\n1. Visit https://app.tavily.com ‚Üí Sign up or log in ‚Üí Go to API Keys\n2. Generate and copy your API key\n3. Add to n8n as **Tavily API** credential type\n\n## ‚öôÔ∏è Configuration Steps\n1. Import the workflow JSON into n8n\n2. Assign your Telegram, Airtop, OpenRouter, and Tavily credentials to the respective nodes\n3. Activate the workflow to register the Telegram trigger\n4. Test by sending a plain URL (no extra text) to your bot in Telegram\n5. Monitor the first execution and adjust guardrail thresholds if needed\n\n## üéØ Use Cases\n- Researchers summarizing academic papers or reports while ensuring no sensitive data leaks\n- Support teams extracting info from customer-submitted docs/forms with automatic safety filtering\n- Content creators pulling Q&A from articles for bots, blocking inappropriate responses\n- Educators analyzing educational resources safely for student-facing chat tools\n\n## ‚ö†Ô∏è Troubleshooting\n- No response from bot: Verify the message contains only a valid URL; adjust regex in Filter Only URLs node if needed\n- Guardrail failures: Lower NSFW threshold (e.g., from 0.7 to 0.5) or disable PII checks in Apply Safety Guardrails node\n- Extraction errors: Test with public, text-heavy URLs; some JS-heavy sites may require alternative extractors\n- Rate limits hit: Check OpenRouter/Tavily dashboards for usage; upgrade to paid tiers for heavy traffic",
  "featuredImage": "/data/workflows/10849/10849.webp",
  "author": {
    "id": 101,
    "slug": "daniel-automates",
    "name": "Daniel Nkencho",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 66,
  "downloads": 6,
  "createdAt": "2025-11-14T18:29:25.162Z",
  "updatedAt": "2026-01-16T09:06:30.995Z",
  "publishedAt": "2025-11-14T18:29:25.162Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10849",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Extract & process Q&A from URLs with Airtop, OpenRouter AI & Safety Guardrails",
    "workflowName": "Extract & process Q&A from URLs with Airtop, OpenRouter AI & Safety Guardrails",
    "description": "Transform your Telegram bot into a secure content analyzer: send any URL, and get safe, structured Q&A extractions with AI-powered safety checks and web search capabilities.\n\n## üìã What This Template Does\nThis workflow activates when a user sends a valid URL to your Telegram bot. It extracts questions and answers from the webpage using Airtop, applies NSFW and PII guardrails to ensure safe content, then uses an OpenRouter AI agent (with optional Tavily search) to generate and send a concise response. If guardrails fail, it alerts the user instead.\n- Filters for valid URLs only to prevent unnecessary processing\n- Extracts structured Q&A from documents or forms\n- Enforces safety checks for harmful or private content\n- Supports web searches for enhanced responses when needed\n\n## üîß Prerequisites\n- A Telegram bot created via @BotFather\n- Accounts with Airtop, OpenRouter, and Tavily\n\n## üîë Required Credentials\n\n### Telegram API Setup\n1. Open Telegram ‚Üí Search @BotFather ‚Üí Use /newbot command\n2. Follow prompts to create bot and obtain API token\n3. Add to n8n as **Telegram API** credential type\n\n### Airtop API Setup\n1. Visit https://airtop.ai ‚Üí Sign up or log in ‚Üí Navigate to Dashboard ‚Üí API Keys\n2. Generate a new API key with extraction permissions\n3. Add to n8n as **Airtop API** credential type\n\n### OpenRouter API Setup\n1. Go to https://openrouter.ai ‚Üí Sign up or log in ‚Üí Navigate to API Keys section\n2. Generate and copy your API key (free tier sufficient for basic use)\n3. Add to n8n as **OpenRouter API** credential type\n\n### Tavily API Setup\n1. Visit https://app.tavily.com ‚Üí Sign up or log in ‚Üí Go to API Keys\n2. Generate and copy your API key\n3. Add to n8n as **Tavily API** credential type\n\n## ‚öôÔ∏è Configuration Steps\n1. Import the workflow JSON into n8n\n2. Assign your Telegram, Airtop, OpenRouter, and Tavily credentials to the respective nodes\n3. Activate the workflow to register the Telegram trigger\n4. Test by sending a plain URL (no extra text) to your bot in Telegram\n5. Monitor the first execution and adjust guardrail thresholds if needed\n\n## üéØ Use Cases\n- Researchers summarizing academic papers or reports while ensuring no sensitive data leaks\n- Support teams extracting info from customer-submitted docs/forms with automatic safety filtering\n- Content creators pulling Q&A from articles for bots, blocking inappropriate responses\n- Educators analyzing educational resources safely for student-facing chat tools\n\n## ‚ö†Ô∏è Troubleshooting\n- No response from bot: Verify the message contains only a valid URL; adjust regex in Filter Only URLs node if needed\n- Guardrail failures: Lower NSFW threshold (e.g., from 0.7 to 0.5) or disable PII checks in Apply Safety Guardrails node\n- Extraction errors: Test with public, text-heavy URLs; some JS-heavy sites may require alternative extractors\n- Rate limits hit: Check OpenRouter/Tavily dashboards for usage; upgrade to paid tiers for heavy traffic",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Filter Only URLs",
      "type": "n8n-nodes-base.filter",
      "role": "filter",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Extract Q&A from URL",
      "type": "n8n-nodes-base.airtop",
      "role": "airtop",
      "configDescription": "Version 1"
    },
    {
      "name": "Apply Safety Guardrails",
      "type": "@n8n/n8n-nodes-langchain.guardrails",
      "role": "guardrails",
      "configDescription": "Version 1"
    },
    {
      "name": "OpenRouter Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Send Safe Response",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Send Violation Alert",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Tavily Web Search",
      "type": "@tavily/n8n-nodes-tavily.tavilyTool",
      "role": "tavilyTool",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: URL Filter",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Extraction",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Guardrails",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Language Model",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Web Search",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Overview Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Telegram Trigger1",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Note: Trigger2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Note: Agent1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Main agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 3"
    }
  ]
}