{
  "id": 11153,
  "slug": "11153",
  "title": "Create weather-aware morning alarms with Spotify, Gemini AI and OpenMeteo",
  "description": "**Description:** More than an alarm. A smart morning experience that adapts to the weather. üé∏‚òîÔ∏è‚òÄÔ∏è\n\nThis workflow demonstrates how to upgrade a simple automation into a smart, context-aware system. By integrating OpenMeteo (Weather API), Google Gemini (AI), and Spotify, it creates a personalized DJ experience for your morning.\n\n## Why is this \"Advanced\"?\n\nContext Awareness: It doesn't just play music; it checks the weather (via OpenMeteo API) to understand the user's environment.\n\nAI Persona: Gemini acts as a live DJ, generating commentary that connects the specific Led Zeppelin track to the current weather conditions (e.g., \"It's rainy, perfect for 'The Rain Song'\").\n\nData Logging: It logs every wake-up session (Song, Time, Weather) to Google Sheets, creating a personal music history database.\n\nRobust Error Handling: Includes logic to detect offline speakers and send fallback alerts.\n\n## How it works:\n\nCheck Context: Fetches real-time weather data for your location and checks your Spotify speaker status.\n\nSelect Music: Picks a random track from Led Zeppelin's top hits.\n\nGenerate: Gemini generates a unique \"Good Morning\" script combining the song title and the weather.\n\nAction: Plays the music, logs the data to Google Sheets, and emails you the AI's greeting with album art.\n\n## Setup Requirements:\n\nSpotify Premium\n\nGoogle Gemini API Key\n\nGoogle Sheets: Create a sheet named History with headers: date, time, weather, temperature, song, artist.\n\nGmail",
  "featuredImage": "/data/workflows/11153/11153.webp",
  "author": {
    "id": 101,
    "slug": "shuichi",
    "name": "NODA shuichi",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 25,
  "downloads": 2,
  "createdAt": "2025-11-23T11:22:49.221Z",
  "updatedAt": "2026-01-16T09:07:45.112Z",
  "publishedAt": "2025-11-23T11:22:49.221Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11153",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Create weather-aware morning alarms with Spotify, Gemini AI and OpenMeteo",
    "workflowName": "Create weather-aware morning alarms with Spotify, Gemini AI and OpenMeteo",
    "description": "**Description:** More than an alarm. A smart morning experience that adapts to the weather. üé∏‚òîÔ∏è‚òÄÔ∏è\n\nThis workflow demonstrates how to upgrade a simple automation into a smart, context-aware system. By integrating OpenMeteo (Weather API), Google Gemini (AI), and Spotify, it creates a personalized DJ experience for your morning.\n\n## Why is this \"Advanced\"?\n\nContext Awareness: It doesn't just play music; it checks the weather (via OpenMeteo API) to understand the user's environment.\n\nAI Persona: Gemini acts as a live DJ, generating commentary that connects the specific Led Zeppelin track to the current weather conditions (e.g., \"It's rainy, perfect for 'The Rain Song'\").\n\nData Logging: It logs every wake-up session (Song, Time, Weather) to Google Sheets, creating a personal music history database.\n\nRobust Error Handling: Includes logic to detect offline speakers and send fallback alerts.\n\n## How it works:\n\nCheck Context: Fetches real-time weather data for your location and checks your Spotify speaker status.\n\nSelect Music: Picks a random track from Led Zeppelin's top hits.\n\nGenerate: Gemini generates a unique \"Good Morning\" script combining the song title and the weather.\n\nAction: Plays the music, logs the data to Google Sheets, and emails you the AI's greeting with album art.\n\n## Setup Requirements:\n\nSpotify Premium\n\nGoogle Gemini API Key\n\nGoogle Sheets: Create a sheet named History with headers: date, time, weather, temperature, song, artist.\n\nGmail",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Sticky Note Setup",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note Music",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note AI",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note Main",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger (7AM)",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Workflow Configuration",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Get Spotify Devices",
      "type": "n8n-nodes-base.spotify",
      "role": "spotify",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Weather (OpenMeteo)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "Find Target Device",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Device Found?",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get Artist Tracks",
      "type": "n8n-nodes-base.spotify",
      "role": "spotify",
      "configDescription": "Version 1"
    },
    {
      "name": "Pick Random Track",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Start Playback",
      "type": "n8n-nodes-base.spotify",
      "role": "spotify",
      "configDescription": "Version 1"
    },
    {
      "name": "Message a model",
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "role": "googleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Log to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.7"
    },
    {
      "name": "Send DJ Email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Send Error Email",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    }
  ]
}