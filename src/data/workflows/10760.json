{
  "id": 10760,
  "slug": "10760",
  "title": "Scrape & enrich Google Maps leads with Decodo API and Gemini 2.5 Flash",
  "description": "This workflow scrapes Google Maps via Decodo API, analyzes each business using Google Gemini 2.5 Flash, scores lead quality, and generates ready to send outreach emails.\n\n\n## Why Use This Workflow?\n\n- **Time Savings:** Reduces manual lead research from 20 minutes per lead to 30 seconds processing 100 leads in under an hour\n- **Cost Reduction:** Eliminates $300-500/month spent on lead databases and enrichment tools like Apollo or ZoomInfo\n\n- **Scalability:** Process 500+ leads daily without additional staff or subscription costs\n\n\n## Ideal For\n\n- **Sales Teams & BDRs:** Building targeted prospect lists for local businesses (restaurants, retail, service providers) with verified contact data and personalized outreach hooks\n- **Digital Marketing Agencies:** Identifying high-value clients in specific niches (e.g., \"restaurants without websites in Chicago\") and automating first-touch campaigns\n- **B2B SaaS Companies:** Finding businesses matching ideal customer profiles based on ratings, reviews, and digital maturity indicators\n- **Local Service Providers:** Generating qualified leads for web design, SEO, POS systems, or booking software tailored to underserved markets\n\n\n\n## How It Works\n\n1. **Trigger:** Manually start the workflow or schedule it to run on specific intervals (e.g., daily/weekly)\n2. **Data Collection:** Scrapes Google Maps search results using Decodo API based on your query (e.g., \"coffee shops in Austin\"), country, and language settings\n3. **Processing:** Parses raw HTML responses into structured lead objects with business name, address, phone, website, ratings, reviews, and coordinates\n4. **Intelligence Layer:** Google Gemini 2.5 Flash analyzes each lead to generate value propositions, identify pain points, create outreach hooks, and assign a 1-10 quality score\n5. **Output & Delivery:** Filters leads scoring ≥7, generates personalized email templates, and saves all data to Google Sheets with enrichment timestamps\n6. **Storage & Logging:** Maintains complete lead database with outreach status tracking; error handler sends Telegram notifications for failed executions\n\n\n\n## Setup Guide\n\n### Prerequisites\n\n| Requirement | Type | Purpose |\n|-------------|------|---------|\n| [n8n instance](https://n8n.partnerlinks.io/khmuhtadin) | Essential | Workflow execution platform |\n| Decodo Scraper API | Essential | Google Maps data extraction (get key at [dashboard.decodo.com](https://dashboard.decodo.com/web-scraping-api/scraper)) |\n| Google Gemini API | Essential | AI-powered lead analysis and scoring |\n| Google Sheets | Essential | Lead database and outreach tracking |\n| Telegram Bot (optional) | Optional | Real-time error notifications |\n\n### Installation Steps\n\n1. Import the JSON file to your [n8n instance](https://n8n.partnerlinks.io/khmuhtadin)\n\n2. **Configure credentials:**\n   - **Decodo API:** Create HTTP Header Auth credential with header name `Authorization` and value `Basic [YOUR_API_KEY]` get from [Decodo dashboard](https://dashboard.decodo.com/web-scraping-api/scraper)\n   - **Google Gemini API:** Add your Google AI API key in the \"2.5 Flash\" node credentials\n   - **Google Sheets OAuth2:** Authenticate with your Google account (both \"Save to Google Sheets\" and \"Save Outreach To Sheets\" nodes)\n   - **Telegram (optional):** Add bot token and replace `YOUR-CHAT-ID` in \"Send Error Notification\" node\n\n3. **Update environment-specific values:**\n   - In \"Set Search Parameters\" node: Update `searchQuery` (e.g., \"Italian restaurants in Miami\"), `country`, `targetLanguage`, and `resultsLimit`\n   - In both Google Sheets nodes: Select your destination spreadsheet and sheet name\n\n4. **Customize settings:**\n   - Adjust lead score threshold in \"Filter Hot Leads\" (default: ≥7)\n   - Modify AI prompt in \"Lead Enrichment\" node to match your value proposition\n   - Customize outreach email template in \"Prepare Outreach Message\" node\n\n5. **Test execution:**\n   - Start with `resultsLimit: 5` to verify all connections work\n   - Check Google Sheets for properly formatted data\n   - Verify AI enrichment produces actionable insights\n\n## Technical Details\n\n### Core Nodes\n\n| Node | Purpose | Key Configuration |\n|------|---------|-------------------|\n| Decodo Maps Scraper | Fetches Google Maps listings via API | Set `target: google_maps`, adjust `page_to` based on resultsLimit |\n| Parse & Normalize Data | Extracts business data from HTML | Custom JavaScript handles multiple response formats |\n| Lead Enrichment (AI Chain) | Analyzes leads with Gemini 2.5 Flash | Structured output parser ensures JSON compliance |\n| Filter Hot Leads | Isolates high-quality prospects | Combines lead score ≥7 + contact info validation |\n| Save to Google Sheets | Stores all enriched leads | Uses `appendOrUpdate` with `id` as matching column |\n| Save Outreach To Sheets | Updates hot leads with messages | Marks leads as \"HOT\" category for prioritization |\n\n## Customization Options\n\n### Basic Adjustments\n\n- **Search Parameters:** Modify `searchQuery`, `country`, `targetLanguage` in \"Set Search Parameters\" to target different markets (supports all Google Maps locales)\n- **Lead Scoring Threshold:** Change filter condition from `≥7` to `≥6` for broader lead pool or `≥8` for ultra-qualified prospects\n- **Batch Size:** Adjust \"Split Into Batches\" to process 10-50 items per cycle (lower = more reliable, higher = faster execution)\n\n### Advanced Enhancements\n\n- **Email Automation:** Connect \"Prepare Outreach Message\" to Gmail/SendGrid nodes for automatic campaign sends (medium complexity)\n- **CRM Integration:** Add HubSpot/Salesforce nodes after enrichment to sync leads directly (requires CRM API credentials)\n- **Multi-Channel Outreach:** Branch hot leads to LinkedIn automation tools or SMS providers (high complexity, needs additional services)\n- **Custom Scoring Models:** Modify AI prompt to prioritize industry-specific signals (e.g., verified badges for healthcare, delivery options for restaurants)\n\n## Troubleshooting\n\n### Common Issues\n\n| Problem | Cause | Solution |\n|---------|-------|----------|\n| \"No valid leads extracted\" error | Decodo response format changed or empty results | Check Decodo API response in \"Parse & Normalize Data\" execution logs; verify search query returns results in Google Maps manually |\n| AI enrichment produces invalid JSON | Gemini output doesn't match schema | Review \"Result Parser\" schema; add retry logic or simplify AI prompt to reduce complexity |\n| Google Sheets \"matching column not found\" | Spreadsheet missing \"id\" column header | Ensure Sheet1 has headers: id, businessName, category, address, phone, website, rating, reviewCount, valueProposition, painPoints, outreachHook, leadScore, engagementStrategy, googleMapsUrl, scrapedAt, enrichedAt, outreachMessage, status |\n| Timeout on large batches | Processing 100+ leads exceeds execution limits | Reduce `resultsLimit` to 25-50; run workflow multiple times with different queries |\n\n\n## Use Case Examples\n\n### Scenario 1: Digital Marketing Agency Prospecting\n\n**Challenge:** Agency needs 200 qualified restaurant leads monthly for web design services, spending 40 hours on manual research\n\n**Solution:** Configure workflow with query \"restaurants in [city]\" filtered by ratings ≥4.0 and missing professional websites (AI scoring detects this)\n\n**Result:** Generated 312 leads in 8 hours across 3 cities; 89 scored ≥8 (hot prospects); closed 14 clients in first month at $2,500 average contract value\n\n### Scenario 2: SaaS Company Market Entry\n\n**Challenge:** Booking software startup targeting salons/spas in new geographic market with zero existing contacts\n\n**Solution:** Ran workflow with \"beauty salons in Denver\" + \"day spas in Denver\"; AI identified pain points like \"manual appointment booking\" and \"no online presence\"\n\n**Result:** 156 leads enriched in 2 days; personalized outreach hooks increased demo booking rate from 2% (cold template) to 11%; secured 8 pilot customers in 3 weeks\n\n### Scenario 3: Local Service Provider Lead Generation\n\n**Challenge:** POS system reseller needs to identify retail stores still using cash registers, wasting days driving to scout locations\n\n**Solution:** Configured workflow for \"retail stores in [neighborhood]\" with AI analyzing reviews for mentions of \"cash only\" or payment friction\n\n**Result:** Identified 47 high-probability prospects in 90 minutes; field sales team prioritized top 15 leads (score ≥9), closed 6 deals worth $32K total revenue\n\n---\n\n## Credits & Links\n\n**Created by:** [Khaisa Studio](https://khaisa.studio)\n\n**Category:** Sales & CRM | **Tags:** lead-generation, google-maps, ai-enrichment, sales-automation, prospecting\n\n**Need custom workflows?** [Contact us](https://khaisa.studio/contact)\n\n**Connect with the creator:**\n\n[Portfolio](https://khmuhtadin.com) • [Workflows](https://khaisa.studio/products/) • [LinkedIn](https://www.linkedin.com/in/khmuhtadin/) • [Medium](https://medium.com/@khaisastudio) • [Threads](https://www.threads.com/@khmuhtadin)",
  "featuredImage": "/data/workflows/10760/10760.webp",
  "author": {
    "id": 101,
    "slug": "khmuhtadin",
    "name": "Khairul Muhtadin",
    "avatar": ""
  },
  "categories": [
    "Lead Generation",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 263,
  "downloads": 26,
  "createdAt": "2025-11-12T14:38:19.143Z",
  "updatedAt": "2026-01-16T09:06:11.167Z",
  "publishedAt": "2025-11-12T14:38:19.143Z",
  "nodes": 23,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10760",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Scrape & enrich Google Maps leads with Decodo API and Gemini 2.5 Flash",
    "workflowName": "Scrape & enrich Google Maps leads with Decodo API and Gemini 2.5 Flash",
    "description": "This workflow scrapes Google Maps via Decodo API, analyzes each business using Google Gemini 2.5 Flash, scores lead quality, and generates ready to send outreach emails.\n\n\n## Why Use This Workflow?\n\n- **Time Savings:** Reduces manual lead research from 20 minutes per lead to 30 seconds processing 100 leads in under an hour\n- **Cost Reduction:** Eliminates $300-500/month spent on lead databases and enrichment tools like Apollo or ZoomInfo\n\n- **Scalability:** Process 500+ leads daily without additional staff or subscription costs\n\n\n## Ideal For\n\n- **Sales Teams & BDRs:** Building targeted prospect lists for local businesses (restaurants, retail, service providers) with verified contact data and personalized outreach hooks\n- **Digital Marketing Agencies:** Identifying high-value clients in specific niches (e.g., \"restaurants without websites in Chicago\") and automating first-touch campaigns\n- **B2B SaaS Companies:** Finding businesses matching ideal customer profiles based on ratings, reviews, and digital maturity indicators\n- **Local Service Providers:** Generating qualified leads for web design, SEO, POS systems, or booking software tailored to underserved markets\n\n\n\n## How It Works\n\n1. **Trigger:** Manually start the workflow or schedule it to run on specific intervals (e.g., daily/weekly)\n2. **Data Collection:** Scrapes Google Maps search results using Decodo API based on your query (e.g., \"coffee shops in Austin\"), country, and language settings\n3. **Processing:** Parses raw HTML responses into structured lead objects with business name, address, phone, website, ratings, reviews, and coordinates\n4. **Intelligence Layer:** Google Gemini 2.5 Flash analyzes each lead to generate value propositions, identify pain points, create outreach hooks, and assign a 1-10 quality score\n5. **Output & Delivery:** Filters leads scoring ≥7, generates personalized email templates, and saves all data to Google Sheets with enrichment timestamps\n6. **Storage & Logging:** Maintains complete lead database with outreach status tracking; error handler sends Telegram notifications for failed executions\n\n\n\n## Setup Guide\n\n### Prerequisites\n\n| Requirement | Type | Purpose |\n|-------------|------|---------|\n| [n8n instance](https://n8n.partnerlinks.io/khmuhtadin) | Essential | Workflow execution platform |\n| Decodo Scraper API | Essential | Google Maps data extraction (get key at [dashboard.decodo.com](https://dashboard.decodo.com/web-scraping-api/scraper)) |\n| Google Gemini API | Essential | AI-powered lead analysis and scoring |\n| Google Sheets | Essential | Lead database and outreach tracking |\n| Telegram Bot (optional) | Optional | Real-time error notifications |\n\n### Installation Steps\n\n1. Import the JSON file to your [n8n instance](https://n8n.partnerlinks.io/khmuhtadin)\n\n2. **Configure credentials:**\n   - **Decodo API:** Create HTTP Header Auth credential with header name `Authorization` and value `Basic [YOUR_API_KEY]` get from [Decodo dashboard](https://dashboard.decodo.com/web-scraping-api/scraper)\n   - **Google Gemini API:** Add your Google AI API key in the \"2.5 Flash\" node credentials\n   - **Google Sheets OAuth2:** Authenticate with your Google account (both \"Save to Google Sheets\" and \"Save Outreach To Sheets\" nodes)\n   - **Telegram (optional):** Add bot token and replace `YOUR-CHAT-ID` in \"Send Error Notification\" node\n\n3. **Update environment-specific values:**\n   - In \"Set Search Parameters\" node: Update `searchQuery` (e.g., \"Italian restaurants in Miami\"), `country`, `targetLanguage`, and `resultsLimit`\n   - In both Google Sheets nodes: Select your destination spreadsheet and sheet name\n\n4. **Customize settings:**\n   - Adjust lead score threshold in \"Filter Hot Leads\" (default: ≥7)\n   - Modify AI prompt in \"Lead Enrichment\" node to match your value proposition\n   - Customize outreach email template in \"Prepare Outreach Message\" node\n\n5. **Test execution:**\n   - Start with `resultsLimit: 5` to verify all connections work\n   - Check Google Sheets for properly formatted data\n   - Verify AI enrichment produces actionable insights\n\n## Technical Details\n\n### Core Nodes\n\n| Node | Purpose | Key Configuration |\n|------|---------|-------------------|\n| Decodo Maps Scraper | Fetches Google Maps listings via API | Set `target: google_maps`, adjust `page_to` based on resultsLimit |\n| Parse & Normalize Data | Extracts business data from HTML | Custom JavaScript handles multiple response formats |\n| Lead Enrichment (AI Chain) | Analyzes leads with Gemini 2.5 Flash | Structured output parser ensures JSON compliance |\n| Filter Hot Leads | Isolates high-quality prospects | Combines lead score ≥7 + contact info validation |\n| Save to Google Sheets | Stores all enriched leads | Uses `appendOrUpdate` with `id` as matching column |\n| Save Outreach To Sheets | Updates hot leads with messages | Marks leads as \"HOT\" category for prioritization |\n\n## Customization Options\n\n### Basic Adjustments\n\n- **Search Parameters:** Modify `searchQuery`, `country`, `targetLanguage` in \"Set Search Parameters\" to target different markets (supports all Google Maps locales)\n- **Lead Scoring Threshold:** Change filter condition from `≥7` to `≥6` for broader lead pool or `≥8` for ultra-qualified prospects\n- **Batch Size:** Adjust \"Split Into Batches\" to process 10-50 items per cycle (lower = more reliable, higher = faster execution)\n\n### Advanced Enhancements\n\n- **Email Automation:** Connect \"Prepare Outreach Message\" to Gmail/SendGrid nodes for automatic campaign sends (medium complexity)\n- **CRM Integration:** Add HubSpot/Salesforce nodes after enrichment to sync leads directly (requires CRM API credentials)\n- **Multi-Channel Outreach:** Branch hot leads to LinkedIn automation tools or SMS providers (high complexity, needs additional services)\n- **Custom Scoring Models:** Modify AI prompt to prioritize industry-specific signals (e.g., verified badges for healthcare, delivery options for restaurants)\n\n## Troubleshooting\n\n### Common Issues\n\n| Problem | Cause | Solution |\n|---------|-------|----------|\n| \"No valid leads extracted\" error | Decodo response format changed or empty results | Check Decodo API response in \"Parse & Normalize Data\" execution logs; verify search query returns results in Google Maps manually |\n| AI enrichment produces invalid JSON | Gemini output doesn't match schema | Review \"Result Parser\" schema; add retry logic or simplify AI prompt to reduce complexity |\n| Google Sheets \"matching column not found\" | Spreadsheet missing \"id\" column header | Ensure Sheet1 has headers: id, businessName, category, address, phone, website, rating, reviewCount, valueProposition, painPoints, outreachHook, leadScore, engagementStrategy, googleMapsUrl, scrapedAt, enrichedAt, outreachMessage, status |\n| Timeout on large batches | Processing 100+ leads exceeds execution limits | Reduce `resultsLimit` to 25-50; run workflow multiple times with different queries |\n\n\n## Use Case Examples\n\n### Scenario 1: Digital Marketing Agency Prospecting\n\n**Challenge:** Agency needs 200 qualified restaurant leads monthly for web design services, spending 40 hours on manual research\n\n**Solution:** Configure workflow with query \"restaurants in [city]\" filtered by ratings ≥4.0 and missing professional websites (AI scoring detects this)\n\n**Result:** Generated 312 leads in 8 hours across 3 cities; 89 scored ≥8 (hot prospects); closed 14 clients in first month at $2,500 average contract value\n\n### Scenario 2: SaaS Company Market Entry\n\n**Challenge:** Booking software startup targeting salons/spas in new geographic market with zero existing contacts\n\n**Solution:** Ran workflow with \"beauty salons in Denver\" + \"day spas in Denver\"; AI identified pain points like \"manual appointment booking\" and \"no online presence\"\n\n**Result:** 156 leads enriched in 2 days; personalized outreach hooks increased demo booking rate from 2% (cold template) to 11%; secured 8 pilot customers in 3 weeks\n\n### Scenario 3: Local Service Provider Lead Generation\n\n**Challenge:** POS system reseller needs to identify retail stores still using cash registers, wasting days driving to scout locations\n\n**Solution:** Configured workflow for \"retail stores in [neighborhood]\" with AI analyzing reviews for mentions of \"cash only\" or payment friction\n\n**Result:** Identified 47 high-probability prospects in 90 minutes; field sales team prioritized top 15 leads (score ≥9), closed 6 deals worth $32K total revenue\n\n---\n\n## Credits & Links\n\n**Created by:** [Khaisa Studio](https://khaisa.studio)\n\n**Category:** Sales & CRM | **Tags:** lead-generation, google-maps, ai-enrichment, sales-automation, prospecting\n\n**Need custom workflows?** [Contact us](https://khaisa.studio/contact)\n\n**Connect with the creator:**\n\n[Portfolio](https://khmuhtadin.com) • [Workflows](https://khaisa.studio/products/) • [LinkedIn](https://www.linkedin.com/in/khmuhtadin/) • [Medium](https://medium.com/@khaisastudio) • [Threads](https://www.threads.com/@khmuhtadin)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Parse & Normalize Data",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Split Into Batches",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Save to Google Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Filter Hot Leads",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2"
    },
    {
      "name": "Error Handler",
      "type": "n8n-nodes-base.errorTrigger",
      "role": "errorTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Result Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "2.5 Flash",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "role": "lmChatGoogleGemini",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Lead Enrichment",
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "role": "chainLlm",
      "configDescription": "Version 1.7"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Decodo Maps Scraper",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Merge Enrichment Data",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Prepare Outreach Message",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Save Outreach To Sheets",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Format Error Message",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Error Notification",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Set Search Parameters",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    }
  ]
}