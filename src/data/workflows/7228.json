{
  "id": 7228,
  "slug": "7228",
  "title": "Log food calories from images to Google Sheets using LINE and OpenAI Vision",
  "description": "This workflow allows a LINE user to send either text or an image of food to a connected LINE bot.\n\nIf text is sent, the AI agent responds directly via LINE.\n\nIf an image is sent, the workflow downloads it from LINE’s API, analyzes it using OpenAI’s Vision model, estimates calories (only if the image contains food), and formats the result into JSON.\n\nDetected dishes and calories are appended to a Google Sheet, and a confirmation message is sent back to the user via LINE.\n\nKey Features:\n\nIntegrates LINE Messaging API webhook with n8n\n\nUses OpenAI Vision to detect food and estimate calories\n\nAutomatically logs results into Google Sheets\n\nSends real-time feedback to the LINE user\n\nHow to use:\n\nSet up a LINE Messaging API channel and get your channel access token.\n\nAdd your OpenAI API credentials in n8n.\n\nReplace placeholders for {channel access token}, {your id}, and Google Sheet IDs with your own.\n\nActivate the workflow and send a food image or text message to your LINE bot.",
  "featuredImage": "/data/workflows/7228/7228.webp",
  "author": {
    "id": 101,
    "slug": "kote2",
    "name": "kote2",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1074,
  "downloads": 107,
  "createdAt": "2025-08-11T02:53:14.845Z",
  "updatedAt": "2026-01-16T08:49:09.216Z",
  "publishedAt": "2025-08-11T02:53:14.845Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7228",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Log food calories from images to Google Sheets using LINE and OpenAI Vision",
    "workflowName": "Log food calories from images to Google Sheets using LINE and OpenAI Vision",
    "description": "This workflow allows a LINE user to send either text or an image of food to a connected LINE bot.\n\nIf text is sent, the AI agent responds directly via LINE.\n\nIf an image is sent, the workflow downloads it from LINE’s API, analyzes it using OpenAI’s Vision model, estimates calories (only if the image contains food), and formats the result into JSON.\n\nDetected dishes and calories are appended to a Google Sheet, and a confirmation message is sent back to the user via LINE.\n\nKey Features:\n\nIntegrates LINE Messaging API webhook with n8n\n\nUses OpenAI Vision to detect food and estimate calories\n\nAutomatically logs results into Google Sheets\n\nSends real-time feedback to the LINE user\n\nHow to use:\n\nSet up a LINE Messaging API channel and get your channel access token.\n\nAdd your OpenAI API credentials in n8n.\n\nReplace placeholders for {channel access token}, {your id}, and Google Sheet IDs with your own.\n\nActivate the workflow and send a food image or text message to your LINE bot.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.1"
    },
    {
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Analyze image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Edit Fields1",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "role": "memoryBufferWindow",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Code",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Append row in sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Code1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "LINE webhook",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2"
    },
    {
      "name": "user verification",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "images download",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "only message",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "send LINE",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}