{
  "id": 11369,
  "slug": "11369",
  "title": "Notify users when features ship with Semantic Search from Tally to Gmail",
  "description": "## Who is this for?\nThis workflow is for Product Managers, Indie Hackers, and Customer Success teams who collect feature requests but struggle to notify specific users when those features actually ship. It helps you turn old feedback into customer loyalty and potential upsells.\n\n## What it does\nThis workflow creates a \"Semantic Memory\" of user requests. Instead of relying on exact keyword tags, it uses Vector Embeddings to understand the *meaning* of a request.\n\nFor example, if a user asks for \"Night theme,\" and months later you release \"Dark Mode,\" this workflow understands they are the same thing, finds that user, and drafts a personal email to them.\n\n## How it works\n1. **Listen:** Receives new requests via **Tally Forms**, vectorizes the text using **Nomic Embed Text** (via Ollama or OpenAI), and stores them in **Supabase**.\n2. **Watch:** Monitors your Changelog (**RSS**) or waits for a manual trigger when you ship a new feature.\n3. **Match:** Performs a Vector Similarity Search in Supabase to find users who requested semantically similar features in the past.\n4. **Notify:** An **AI Agent** drafts a hyper-personalized email connecting the user's specific past request to the new feature, saving it as a **Gmail Draft** (for safety).\n\n## Requirements\n* **Supabase Project:** You need a project with the `vector` extension enabled.\n* **AI Model:** This template is pre-configured for **Ollama (Local)** to keep it free, but works perfectly with OpenAI.\n* **Tally Forms & Gmail:** For input and output.\n\n## Setup steps\n1.  **Database Setup (Crucial):** Copy the SQL script provided in the workflow's **Red Sticky Note** and run it in your Supabase SQL Editor. This creates the necessary tables and the vector search function.\n2.  **Credentials:** Add your credentials for Tally, Supabase, and Gmail.\n3.  **URL Config:** Update the `HTTP Request` node with your specific Supabase Project URL.\n\n## SQL Script\nOpen your **Supabase SQL Editor** and paste this script to set up the tables and search function:\n\n```sql\n-- 1. Enable Vector Extension\ncreate extension if not exists vector;\n\n-- 2. Create Request Table (Smart Columns)\ncreate table feature_requests (\n  id bigint generated by default as identity primary key,\n  content text,\n  metadata jsonb,\n  embedding vector(768), -- 768 for Nomic, 1536 for OpenAI\n  created_at timestamp with time zone default timezone('utc'::text, now()),\n  user_email text generated always as (metadata-&gt;&gt;'user_email') stored,\n  user_name text generated always as (metadata-&gt;&gt;'user_name') stored\n);\n\n-- 3. Create Search Function\ncreate or replace function match_feature_requests (\n  query_embedding vector(768),\n  match_threshold float,\n  match_count int\n)\nreturns table (\n  id bigint,\n  user_email text,\n  user_name text,\n  content text,\n  similarity float\n)\nlanguage plpgsql\nas $$\nbegin\n  return query\n  select\n    feature_requests.id,\n    feature_requests.user_email,\n    feature_requests.user_name,\n    feature_requests.content,\n    1 - (feature_requests.embedding &lt;=&gt; query_embedding) as similarity\n  from feature_requests\n  where 1 - (feature_requests.embedding &lt;=&gt; query_embedding) &gt; match_threshold\n  order by feature_requests.embedding &lt;=&gt; query_embedding\n  limit match_count;\nend;\n$$;\n```\n\n⚠️ Dimension Warning: This SQL is set up for 768 dimensions (compatible with the local nomic-embed-text model included in the template).\n\nIf you decide to switch the Embeddings node to use OpenAI's text-embedding-3-small, you must change all instances of 768 to 1536 in the SQL script above before running it.\n## How to customize\n* **Change Input:** Swap the Tally node for Typeform, Intercom, or Google Sheets.\n* **Change AI:** The template includes notes on how to swap the local Ollama nodes for OpenAI nodes if you prefer cloud hosting.\n* **Change Output:** Swap Gmail for Slack, SendGrid, or HubSpot to notify your sales team instead of the user directly.",
  "featuredImage": "/data/workflows/11369/11369.webp",
  "author": {
    "id": 101,
    "slug": "ehsan-z",
    "name": "Ehsan",
    "avatar": ""
  },
  "categories": [
    "CRM",
    "AI RAG"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 131,
  "downloads": 13,
  "createdAt": "2025-11-30T12:03:40.641Z",
  "updatedAt": "2026-01-16T09:08:30.016Z",
  "publishedAt": "2025-11-30T12:03:40.641Z",
  "nodes": 27,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11369",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Notify users when features ship with Semantic Search from Tally to Gmail",
    "workflowName": "Notify users when features ship with Semantic Search from Tally to Gmail",
    "description": "## Who is this for?\nThis workflow is for Product Managers, Indie Hackers, and Customer Success teams who collect feature requests but struggle to notify specific users when those features actually ship. It helps you turn old feedback into customer loyalty and potential upsells.\n\n## What it does\nThis workflow creates a \"Semantic Memory\" of user requests. Instead of relying on exact keyword tags, it uses Vector Embeddings to understand the *meaning* of a request.\n\nFor example, if a user asks for \"Night theme,\" and months later you release \"Dark Mode,\" this workflow understands they are the same thing, finds that user, and drafts a personal email to them.\n\n## How it works\n1. **Listen:** Receives new requests via **Tally Forms**, vectorizes the text using **Nomic Embed Text** (via Ollama or OpenAI), and stores them in **Supabase**.\n2. **Watch:** Monitors your Changelog (**RSS**) or waits for a manual trigger when you ship a new feature.\n3. **Match:** Performs a Vector Similarity Search in Supabase to find users who requested semantically similar features in the past.\n4. **Notify:** An **AI Agent** drafts a hyper-personalized email connecting the user's specific past request to the new feature, saving it as a **Gmail Draft** (for safety).\n\n## Requirements\n* **Supabase Project:** You need a project with the `vector` extension enabled.\n* **AI Model:** This template is pre-configured for **Ollama (Local)** to keep it free, but works perfectly with OpenAI.\n* **Tally Forms & Gmail:** For input and output.\n\n## Setup steps\n1.  **Database Setup (Crucial):** Copy the SQL script provided in the workflow's **Red Sticky Note** and run it in your Supabase SQL Editor. This creates the necessary tables and the vector search function.\n2.  **Credentials:** Add your credentials for Tally, Supabase, and Gmail.\n3.  **URL Config:** Update the `HTTP Request` node with your specific Supabase Project URL.\n\n## SQL Script\nOpen your **Supabase SQL Editor** and paste this script to set up the tables and search function:\n\n```sql\n-- 1. Enable Vector Extension\ncreate extension if not exists vector;\n\n-- 2. Create Request Table (Smart Columns)\ncreate table feature_requests (\n  id bigint generated by default as identity primary key,\n  content text,\n  metadata jsonb,\n  embedding vector(768), -- 768 for Nomic, 1536 for OpenAI\n  created_at timestamp with time zone default timezone('utc'::text, now()),\n  user_email text generated always as (metadata-&gt;&gt;'user_email') stored,\n  user_name text generated always as (metadata-&gt;&gt;'user_name') stored\n);\n\n-- 3. Create Search Function\ncreate or replace function match_feature_requests (\n  query_embedding vector(768),\n  match_threshold float,\n  match_count int\n)\nreturns table (\n  id bigint,\n  user_email text,\n  user_name text,\n  content text,\n  similarity float\n)\nlanguage plpgsql\nas $$\nbegin\n  return query\n  select\n    feature_requests.id,\n    feature_requests.user_email,\n    feature_requests.user_name,\n    feature_requests.content,\n    1 - (feature_requests.embedding &lt;=&gt; query_embedding) as similarity\n  from feature_requests\n  where 1 - (feature_requests.embedding &lt;=&gt; query_embedding) &gt; match_threshold\n  order by feature_requests.embedding &lt;=&gt; query_embedding\n  limit match_count;\nend;\n$$;\n```\n\n⚠️ Dimension Warning: This SQL is set up for 768 dimensions (compatible with the local nomic-embed-text model included in the template).\n\nIf you decide to switch the Embeddings node to use OpenAI's text-embedding-3-small, you must change all instances of 768 to 1536 in the SQL script above before running it.\n## How to customize\n* **Change Input:** Swap the Tally node for Typeform, Intercom, or Google Sheets.\n* **Change AI:** The template includes notes on how to swap the local Ollama nodes for OpenAI nodes if you prefer cloud hosting.\n* **Change Output:** Swap Gmail for Slack, SendGrid, or HubSpot to notify your sales team instead of the user directly.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Tally Trigger",
      "type": "n8n-nodes-tallyforms.tallyTrigger",
      "role": "tallyTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Data Cleaner",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Supabase Vector Store",
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "role": "vectorStoreSupabase",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Embeddings OpenAI",
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "role": "embeddingsOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Default Data Loader",
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "role": "documentDefaultDataLoader",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "RSS Feed Trigger",
      "type": "n8n-nodes-base.rssFeedReadTrigger",
      "role": "rssFeedReadTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Generate Embedding (Ollama)",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "Loop Matches",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Create Draft",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Done!",
      "type": "n8n-nodes-base.noOp",
      "role": "noOp",
      "configDescription": "Version 1"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "OpenAI Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "role": "lmChatOpenAi",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Lunch description",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Manage input - Code in JavaScript",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "HTTP Request - Supabase Search",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.3"
    },
    {
      "name": "AI Agent - Draft text maker",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}