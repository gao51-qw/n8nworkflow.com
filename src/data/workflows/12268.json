{
  "id": 12268,
  "slug": "12268",
  "title": "Screen DPDP consent manager registrations with GPT-4o, Google Sheets and Gmail",
  "description": "## ğŸ“˜ Description\nThis workflow automates the complete DPDP-aligned Consent Manager Registration screening pipeline â€” from intake to eligibility evaluation and final compliance routing.\nEvery incoming registration request is normalized, validated, logged, evaluated by an AI compliance engine (GPT-4o), and then routed into either approval or rejection flows.\nIt intelligently handles missing documentation (treated as a minor issue), evaluates financial/technical/operational capacity, generates structured eligibility JSON, updates registration records in Google Sheets, and sends outcome-specific emails to applicants and compliance teams.\n The workflow creates a full audit trail while reducing manual screening workload and ensuring consistent eligibility decisions.\n\n## âš™ï¸ What This Workflow Does (Step-by-Step)\nâ–¶ï¸ Receive Consent Registration Event (Webhook)\n Collects incoming Consent Manager registration applications and triggers the processing pipeline.\nğŸ§¹ Extract & Normalize Registration Payload (Code Node)\n Cleans the body payload and extracts key fields:\n action, organizationName, applicationType, contactEmail, netWorth, technicalCapacity, operationalCapacity, documentAttached, submittedAt.\nğŸ” Validate Registration Payload Structure (IF Node)\n Checks the presence of mandatory fields.\n Valid â†’ continue to eligibility evaluation\n Invalid â†’ log in the audit sheet.\nğŸ“„ Log Invalid Registration Requests to Sheet (Google Sheets)\n Stores malformed or incomplete submissions for audit, follow-up, and retry handling.\nğŸ“ Write Initial Registration Entry to Sheet (Google Sheets)\n Creates the initial intake row in the master registration sheet before applying eligibility logic.\nğŸ§  Configure GPT-4o â€” Eligibility Evaluation Model (Azure OpenAI)\n Prepares the AI model used to determine whether the applicant meets DPDPâ€™s eligibility criteria.\nğŸ¤– AI Eligibility Evaluator (DPDP Compliance)\n Analyzes applicant data and evaluates their eligibility based on:\n financial capacity, technical capability, operational readiness, and documentation status.\n Missing documents â†’ NOT a rejection condition.\n Returns strictly formatted JSON with: eligible, riskLevel, decisionReason, missingItems, recommendedNextSteps.\nğŸ§¼ Parse AI Eligibility JSON Output (Code Node)\n Converts AI output into valid JSON by removing markdown artifacts and ensuring safe parsing.\nğŸ” Validate Eligibility Status (IF Node)\n Routes the outcome:\n Eligible â†’ approval workflow\n Ineligible â†’ rejection email.\nğŸ“§ Send Rejection Email to Applicant (Gmail)\n Sends a structured rejection email listing issues and re-submission instructions.\nğŸ”— Merge Registration + Eligibility Summary (Code Node)\n Combines raw registration data with AI eligibility results into one unified JSON package.\nğŸ“¬ Send Approval Email to Compliance Team (Gmail)\n Notifies compliance officers that an applicant passed eligibility and is ready for verification.\nğŸ§© Prepare Status Update Fields (Set Node)\n Constructs the final status value (e.g., â€œpassedâ€) for updating the database.\nğŸ“˜ Update Registration Status in Sheet (Google Sheets)\n Updates the applicantâ€™s record using contactEmail as the key, marking the final eligibility status.\n\n## ğŸ§© Prerequisites\nAzure OpenAI (GPT-4o) credentials\nGmail OAuth connection\nGoogle Sheets OAuth connection\nValid webhook endpoint for intake\n\n## ğŸ’¡ Key Benefits\n âœ” Fully automates DPDP Consent Manager registration screening\n âœ” AI-driven eligibility evaluation with standardized JSON output\n âœ” Smart handling of missing documents without unnecessary rejections\n âœ” Automatic routing to approval or rejection flows\n âœ” Complete audit logs for all submissions\n âœ” Reduces manual review time and improves consistency\n\n## ğŸ‘¥ Perfect For\n- DPDP compliance teams\n- Regulatory operations units\n- SaaS platforms handling consent manager onboarding\n- Organizations managing structured eligibility workflows\n",
  "featuredImage": "/data/workflows/12268/12268.webp",
  "author": {
    "id": 101,
    "slug": "rahul08",
    "name": "Rahul Joshi",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 10,
  "downloads": 1,
  "createdAt": "2025-12-29T12:42:26.620Z",
  "updatedAt": "2026-01-16T09:11:54.578Z",
  "publishedAt": "2025-12-29T12:42:26.620Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/12268",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Screen DPDP consent manager registrations with GPT-4o, Google Sheets and Gmail",
    "workflowName": "Screen DPDP consent manager registrations with GPT-4o, Google Sheets and Gmail",
    "description": "## ğŸ“˜ Description\nThis workflow automates the complete DPDP-aligned Consent Manager Registration screening pipeline â€” from intake to eligibility evaluation and final compliance routing.\nEvery incoming registration request is normalized, validated, logged, evaluated by an AI compliance engine (GPT-4o), and then routed into either approval or rejection flows.\nIt intelligently handles missing documentation (treated as a minor issue), evaluates financial/technical/operational capacity, generates structured eligibility JSON, updates registration records in Google Sheets, and sends outcome-specific emails to applicants and compliance teams.\n The workflow creates a full audit trail while reducing manual screening workload and ensuring consistent eligibility decisions.\n\n## âš™ï¸ What This Workflow Does (Step-by-Step)\nâ–¶ï¸ Receive Consent Registration Event (Webhook)\n Collects incoming Consent Manager registration applications and triggers the processing pipeline.\nğŸ§¹ Extract & Normalize Registration Payload (Code Node)\n Cleans the body payload and extracts key fields:\n action, organizationName, applicationType, contactEmail, netWorth, technicalCapacity, operationalCapacity, documentAttached, submittedAt.\nğŸ” Validate Registration Payload Structure (IF Node)\n Checks the presence of mandatory fields.\n Valid â†’ continue to eligibility evaluation\n Invalid â†’ log in the audit sheet.\nğŸ“„ Log Invalid Registration Requests to Sheet (Google Sheets)\n Stores malformed or incomplete submissions for audit, follow-up, and retry handling.\nğŸ“ Write Initial Registration Entry to Sheet (Google Sheets)\n Creates the initial intake row in the master registration sheet before applying eligibility logic.\nğŸ§  Configure GPT-4o â€” Eligibility Evaluation Model (Azure OpenAI)\n Prepares the AI model used to determine whether the applicant meets DPDPâ€™s eligibility criteria.\nğŸ¤– AI Eligibility Evaluator (DPDP Compliance)\n Analyzes applicant data and evaluates their eligibility based on:\n financial capacity, technical capability, operational readiness, and documentation status.\n Missing documents â†’ NOT a rejection condition.\n Returns strictly formatted JSON with: eligible, riskLevel, decisionReason, missingItems, recommendedNextSteps.\nğŸ§¼ Parse AI Eligibility JSON Output (Code Node)\n Converts AI output into valid JSON by removing markdown artifacts and ensuring safe parsing.\nğŸ” Validate Eligibility Status (IF Node)\n Routes the outcome:\n Eligible â†’ approval workflow\n Ineligible â†’ rejection email.\nğŸ“§ Send Rejection Email to Applicant (Gmail)\n Sends a structured rejection email listing issues and re-submission instructions.\nğŸ”— Merge Registration + Eligibility Summary (Code Node)\n Combines raw registration data with AI eligibility results into one unified JSON package.\nğŸ“¬ Send Approval Email to Compliance Team (Gmail)\n Notifies compliance officers that an applicant passed eligibility and is ready for verification.\nğŸ§© Prepare Status Update Fields (Set Node)\n Constructs the final status value (e.g., â€œpassedâ€) for updating the database.\nğŸ“˜ Update Registration Status in Sheet (Google Sheets)\n Updates the applicantâ€™s record using contactEmail as the key, marking the final eligibility status.\n\n## ğŸ§© Prerequisites\nAzure OpenAI (GPT-4o) credentials\nGmail OAuth connection\nGoogle Sheets OAuth connection\nValid webhook endpoint for intake\n\n## ğŸ’¡ Key Benefits\n âœ” Fully automates DPDP Consent Manager registration screening\n âœ” AI-driven eligibility evaluation with standardized JSON output\n âœ” Smart handling of missing documents without unnecessary rejections\n âœ” Automatic routing to approval or rejection flows\n âœ” Complete audit logs for all submissions\n âœ” Reduces manual review time and improves consistency\n\n## ğŸ‘¥ Perfect For\n- DPDP compliance teams\n- Regulatory operations units\n- SaaS platforms handling consent manager onboarding\n- Organizations managing structured eligibility workflows",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Receive Consent Registration Event",
      "type": "n8n-nodes-base.webhook",
      "role": "webhook",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Extract & Normalize Registration Payload",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Validate Registration Payload Structure",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Log Invalid Registration Requests to Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Configure GPT-4o â€” Eligibility Evaluation Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatAzureOpenAi",
      "role": "lmChatAzureOpenAi",
      "configDescription": "Version 1"
    },
    {
      "name": "AI Eligibility Evaluator (DPDP Compliance)",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Parse AI Eligibility JSON Output",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Validate Eligibility Status",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Send Rejection Email to Applicant",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Merge Registration + Eligibility Summary",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send Approval Email to Compliance Team",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Write Initial Registration Entry to Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Prepare Status Update Fields",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Update Registration Status in Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.6"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}