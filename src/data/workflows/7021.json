{
  "id": 7021,
  "slug": "7021",
  "title": "Send deduplicated Kubernetes(EKS/GKE/AKS) error logs from Grafana Loki to Slack",
  "description": "## ‚ú® Summary \nEfficiently monitor Kubernetes environments by sending only unique error logs from Grafana Loki to Slack. Reduces alert fatigue while keeping your team informed about critical log events.\n\n## üßë‚Äçüíª Who‚Äôs it for\n- DevOps or SRE engineers running EKS/GKE/AKS\n- Anyone using Grafana Loki and Promtail for centralized logging\n- Teams that want Slack alerts but hate alert spam\n\n## üîç What it does\nThis n8n workflow queries your Loki logs every 5 minutes, filters only the critical ones (error, timeout, exception, etc.), removes duplicate alerts within the batch, and sends clean alerts to a Slack channel with full metadata (pod, namespace, node, container, log, timestamp).\n\n## üß† How it works\n#### üïí Schedule Trigger\nEvery 5 minutes (customizable)\n\n#### üåê Loki HTTP Query\nPulls logs from the last 10 minutes\nKeyword match: error, failed, oom, etc.\n\n#### üßπ Log Parsing\nExtracts log fields (pod, container, etc.)\nSkips empty/malformed results\n\n#### üß† Deduplication\nRemoves repeated error messages (within query window)\n\n#### üì§ Slack Notification\nSends nicely formatted message to Slack\n\n## ‚öôÔ∏è Requirements\n#### Tool\t      Notes\nLoki-\t   Exposed internally or externally\nSlack App- With chat:write OAuth \nn8n-\t   Cloud or self-hosted\n\n## üîß How to Set It Up\nImport the JSON file into n8n\n\nUpdate:\n\n- Loki API URL (e.g., http://loki-gateway.monitoring.svc.cluster.local)\n- Slack Bearer Token (via credentials)\n- Target Slack channel (e.g., #k8s-alerts)\n- (Optional) Change keywords in the query regex\n- Activate the workflow\n- Ensure n8n pod/container is having access to your kubernetes cluster/pods/namespaces\n\n## üõ† How to Customize\n- Want more or fewer keywords? Adjust the regex in the Query Loki for Error Logs node.\n- Need to increase deduplication logic? Enhance the Remove Duplicate Alerts node.\n- Want 5-log summaries every 5 min? Fork this and add a Batch + Slack group sender.\n\n## Grafana Loki logs to Slack Output\n\n![image.png](fileId:1946)",
  "featuredImage": "/data/workflows/7021/7021.webp",
  "author": {
    "id": 101,
    "slug": "johnpranay",
    "name": "John Pranay Kumar Reddy",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 224,
  "downloads": 22,
  "createdAt": "2025-08-05T18:09:46.893Z",
  "updatedAt": "2026-01-16T08:48:11.065Z",
  "publishedAt": "2025-08-05T18:09:46.893Z",
  "nodes": 11,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7021",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Send deduplicated Kubernetes(EKS/GKE/AKS) error logs from Grafana Loki to Slack",
    "workflowName": "Send deduplicated Kubernetes(EKS/GKE/AKS) error logs from Grafana Loki to Slack",
    "description": "## ‚ú® Summary \nEfficiently monitor Kubernetes environments by sending only unique error logs from Grafana Loki to Slack. Reduces alert fatigue while keeping your team informed about critical log events.\n\n## üßë‚Äçüíª Who‚Äôs it for\n- DevOps or SRE engineers running EKS/GKE/AKS\n- Anyone using Grafana Loki and Promtail for centralized logging\n- Teams that want Slack alerts but hate alert spam\n\n## üîç What it does\nThis n8n workflow queries your Loki logs every 5 minutes, filters only the critical ones (error, timeout, exception, etc.), removes duplicate alerts within the batch, and sends clean alerts to a Slack channel with full metadata (pod, namespace, node, container, log, timestamp).\n\n## üß† How it works\n#### üïí Schedule Trigger\nEvery 5 minutes (customizable)\n\n#### üåê Loki HTTP Query\nPulls logs from the last 10 minutes\nKeyword match: error, failed, oom, etc.\n\n#### üßπ Log Parsing\nExtracts log fields (pod, container, etc.)\nSkips empty/malformed results\n\n#### üß† Deduplication\nRemoves repeated error messages (within query window)\n\n#### üì§ Slack Notification\nSends nicely formatted message to Slack\n\n## ‚öôÔ∏è Requirements\n#### Tool\t      Notes\nLoki-\t   Exposed internally or externally\nSlack App- With chat:write OAuth \nn8n-\t   Cloud or self-hosted\n\n## üîß How to Set It Up\nImport the JSON file into n8n\n\nUpdate:\n\n- Loki API URL (e.g., http://loki-gateway.monitoring.svc.cluster.local)\n- Slack Bearer Token (via credentials)\n- Target Slack channel (e.g., #k8s-alerts)\n- (Optional) Change keywords in the query regex\n- Activate the workflow\n- Ensure n8n pod/container is having access to your kubernetes cluster/pods/namespaces\n\n## üõ† How to Customize\n- Want more or fewer keywords? Adjust the regex in the Query Loki for Error Logs node.\n- Need to increase deduplication logic? Enhance the Remove Duplicate Alerts node.\n- Want 5-log summaries every 5 min? Fork this and add a Batch + Slack group sender.\n\n## Grafana Loki logs to Slack Output\n\n![image.png](fileId:1946)",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "üì• Query Loki for Error Logs",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "üïí Every 5 Min Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "üßπ Extract Log Fields",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "üß† Remove Duplicate Alerts",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "üì§ Send Alerts to Slack",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}