{
  "id": 4539,
  "slug": "4539",
  "title": "Automate lead generation with Apollo, AI scoring and Brevo email outreach",
  "description": "# AI Scoring, Personalized Email Creation and Outreach\n\n## Overview\n\nThis comprehensive automation flow helps you scale your outreach to potential customers through intelligent personalized email campaigns. The system combines web scraping, AI-powered lead scoring, and automated email sequences to maximize your conversion rates.\n\n### Key Features\n- **Intelligent Website Analysis** with automated scraping\n- **AI-Powered Lead Scoring** for prioritization\n- **Personalized Email Generation** using AI\n- **Automated Email Outreach** with tracking\n- **Real-time Event Monitoring** via Brevo webhooks\n- **Centralized Data Management** with NocoDB\n\n### System Architecture\nThe workflow integrates multiple platforms to create a seamless lead generation pipeline:\n- **NocoDB** - Central database and CRM\n- **Crawl4AI** - Website content analysis\n- **OpenAI** - Lead scoring and email personalization\n- **Brevo** - Email delivery and tracking\n\n---\n\n## Setup Requirements\n\n### Prerequisites\nBefore starting, ensure you have accounts for the following services:\n1. **NocoDB** (Database & CRM)\n2. **Apify** (Web scraping platform)\n3. **OpenAI** (AI processing)\n4. **Brevo** (Email delivery service)\n\n&gt; **ðŸ’¡ Pro Tip:** For advanced users, consider self-hosting NocoDB and Crawl4AI to significantly reduce operational costs.\n\n---\n\n## Step-by-Step Setup\n\n### 1. NocoDB Database Configuration\n\n#### Create Your NocoDB Account\n1. Sign up at [nocodb.com](https://nocodb.com)\n2. Create a new workspace\n3. Set up your first base (database)\n\n#### Database Schema Setup\nCreate a new table with the following field structure:\n\n| Field Name | Field Type | Configuration |\n|------------|------------|---------------|\n| `first_name` | Single Line Text | - |\n| `last_name` | Single Line Text | - |\n| `email` | Email | - |\n| `headline` | Single Line Text | - |\n| `linkedin_url` | URL | - |\n| `industry` | Single Line Text | - |\n| `organization_name` | Single Line Text | - |\n| `organization_website` | URL | - |\n| `organization_size` | Number | - |\n| `organization_linkedin_url` | URL | - |\n| `organization_facebook_url` | URL | - |\n| `market_cap` | Single Line Text | - |\n| `job_title` | Single Line Text | - |\n| `country` | Single Line Text | - |\n| `city` | Single Line Text | - |\n| `lead_status` | Single Select | Options: `entered`(make it default!), `processed`, `email_created`, `contacted`, `trash`, `failed_to_process`, `opened_email`, `warm` | Default Value: `entered`\n| `website_summary` | Long Text | - |\n| `score` | Number | Default: 0 |\n| `organization_description` | Long Text | - |\n| `primary_phone` | Phone Number | - |\n| `keywords` | Single Line Text | - |\n| `email_subject` | Single Line Text | - |\n| `email_body` | Long Text | - |\n| `email_opened_times` | Number | Default: 0 |\n| `personal_email` | Single Line Text | - |\n\n### 2. External Service Setup\n\n#### Apify Configuration\n1. Create account at [apify.com](https://apify.com)\n2. Navigate to **Settings** â†’ **API tokens**\n3. Generate new API token\n4. Save token securely for automation setup\n\n#### OpenAI API Setup\n1. Visit [platform.openai.com](https://platform.openai.com)\n2. Go to **API Keys** section\n3. Create new secret key\n4. Store API key securely\n5. Ensure billing is configured for API usage\n\n#### Brevo Email Service\n1. Sign up at [brevo.com](https://brevo.com)\n2. Complete account verification\n3. Navigate to **SMTP & API** settings\n4. Generate API key for integration\n5. Configure sender authentication (SPF/DKIM)\n\n---\n\n## Workflow Process\n\n### Phase 1: Lead Discovery & Data Collection\n1. **Data Import** - Populate NocoDB with lead information\n2. **Status Update** - Mark leads as `entered`\n\n### Phase 2: Website Analysis & Lead Scoring\n1. **Website Scraping** - Analyze company websites using Crawl4AI\n2. **Content Processing** - Extract key business information\n3. **AI Scoring** - Evaluate lead quality using OpenAI\n4. **Database Update** - Store analysis results and scores\n\n### Phase 3: Email Personalization & Outreach\n1. **Content Generation** - Create personalized email content\n2. **Email Preparation** - Format messages for delivery\n3. **Automated Sending** - Deploy via Brevo\n4. **Status Tracking** - Monitor delivery and engagement\n\n### Phase 4: Performance Monitoring\n1. **Webhook Processing** - Capture Brevo email events\n2. **Engagement Tracking** - Update open/click metrics\n3. **Lead Qualification** - Adjust lead status based on engagement\n4. **Pipeline Management** - Maintain lead progression\n\n---\n\n## Lead Status Workflow\n\n```\nentered â†’ processed â†’ email_created â†’ contacted â†’ opened_email â†’ warm\n    â†“\nfailed_to_process / trash (for low-quality leads)\n```\n\n### Status Definitions\n- **entered**: Initial lead data captured\n- **processed**: Website analyzed and scored\n- **email_created**: Personalized email generated\n- **contacted**: Email successfully sent\n- **opened_email**: Recipient opened the email\n- **warm**: High engagement, ready for follow-up\n- **failed_to_process**: Technical issues during processing\n- **trash**: Low-quality lead, removed from active pipeline\n\n---\n\n## Best Practices\n\n### Data Quality\n- Regularly clean and deduplicate your lead database\n- Monitor lead scores to refine your targeting criteria\n- Archive or remove inactive leads to maintain performance\n\n### Email Deliverability\n- Warm up your sending domain before high-volume campaigns\n- Monitor bounce rates and adjust list quality\n- Implement proper SPF, DKIM, and DMARC records\n\n### Compliance\n- Ensure GDPR/CAN-SPAM compliance in all communications\n- Provide clear unsubscribe mechanisms\n- Respect recipient preferences and opt-outs\n\n### Performance Optimization\n- A/B test email subject lines and content\n- Analyze open rates and adjust sending times\n- Segment leads based on engagement levels for targeted follow-up\n\n---\n\n## Next Steps\n\nOnce your setup is complete, you'll have a powerful, automated lead generation system that can:\n- Process hundreds of leads simultaneously\n- Provide intelligent lead prioritization\n- Generate personalized outreach at scale\n- Track and optimize campaign performance\n\nReady to transform your lead generation process? Start with the NocoDB setup and work through each integration step by step.",
  "featuredImage": "/data/workflows/4539/4539.webp",
  "author": {
    "id": 101,
    "slug": "zivkovic58",
    "name": "Luka Zivkovic",
    "avatar": ""
  },
  "categories": [
    "Lead Generation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1747,
  "downloads": 174,
  "createdAt": "2025-05-31T17:18:03.659Z",
  "updatedAt": "2026-01-16T08:34:52.222Z",
  "publishedAt": "2025-05-31T17:18:03.659Z",
  "nodes": 63,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4539",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automate lead generation with Apollo, AI scoring and Brevo email outreach",
    "workflowName": "Automate lead generation with Apollo, AI scoring and Brevo email outreach",
    "description": "# AI Scoring, Personalized Email Creation and Outreach\n\n## Overview\n\nThis comprehensive automation flow helps you scale your outreach to potential customers through intelligent personalized email campaigns. The system combines web scraping, AI-powered lead scoring, and automated email sequences to maximize your conversion rates.\n\n### Key Features\n- **Intelligent Website Analysis** with automated scraping\n- **AI-Powered Lead Scoring** for prioritization\n- **Personalized Email Generation** using AI\n- **Automated Email Outreach** with tracking\n- **Real-time Event Monitoring** via Brevo webhooks\n- **Centralized Data Management** with NocoDB\n\n### System Architecture\nThe workflow integrates multiple platforms to create a seamless lead generation pipeline:\n- **NocoDB** - Central database and CRM\n- **Crawl4AI** - Website content analysis\n- **OpenAI** - Lead scoring and email personalization\n- **Brevo** - Email delivery and tracking\n\n---\n\n## Setup Requirements\n\n### Prerequisites\nBefore starting, ensure you have accounts for the following services:\n1. **NocoDB** (Database & CRM)\n2. **Apify** (Web scraping platform)\n3. **OpenAI** (AI processing)\n4. **Brevo** (Email delivery service)\n\n&gt; **ðŸ’¡ Pro Tip:** For advanced users, consider self-hosting NocoDB and Crawl4AI to significantly reduce operational costs.\n\n---\n\n## Step-by-Step Setup\n\n### 1. NocoDB Database Configuration\n\n#### Create Your NocoDB Account\n1. Sign up at [nocodb.com](https://nocodb.com)\n2. Create a new workspace\n3. Set up your first base (database)\n\n#### Database Schema Setup\nCreate a new table with the following field structure:\n\n| Field Name | Field Type | Configuration |\n|------------|------------|---------------|\n| `first_name` | Single Line Text | - |\n| `last_name` | Single Line Text | - |\n| `email` | Email | - |\n| `headline` | Single Line Text | - |\n| `linkedin_url` | URL | - |\n| `industry` | Single Line Text | - |\n| `organization_name` | Single Line Text | - |\n| `organization_website` | URL | - |\n| `organization_size` | Number | - |\n| `organization_linkedin_url` | URL | - |\n| `organization_facebook_url` | URL | - |\n| `market_cap` | Single Line Text | - |\n| `job_title` | Single Line Text | - |\n| `country` | Single Line Text | - |\n| `city` | Single Line Text | - |\n| `lead_status` | Single Select | Options: `entered`(make it default!), `processed`, `email_created`, `contacted`, `trash`, `failed_to_process`, `opened_email`, `warm` | Default Value: `entered`\n| `website_summary` | Long Text | - |\n| `score` | Number | Default: 0 |\n| `organization_description` | Long Text | - |\n| `primary_phone` | Phone Number | - |\n| `keywords` | Single Line Text | - |\n| `email_subject` | Single Line Text | - |\n| `email_body` | Long Text | - |\n| `email_opened_times` | Number | Default: 0 |\n| `personal_email` | Single Line Text | - |\n\n### 2. External Service Setup\n\n#### Apify Configuration\n1. Create account at [apify.com](https://apify.com)\n2. Navigate to **Settings** â†’ **API tokens**\n3. Generate new API token\n4. Save token securely for automation setup\n\n#### OpenAI API Setup\n1. Visit [platform.openai.com](https://platform.openai.com)\n2. Go to **API Keys** section\n3. Create new secret key\n4. Store API key securely\n5. Ensure billing is configured for API usage\n\n#### Brevo Email Service\n1. Sign up at [brevo.com](https://brevo.com)\n2. Complete account verification\n3. Navigate to **SMTP & API** settings\n4. Generate API key for integration\n5. Configure sender authentication (SPF/DKIM)\n\n---\n\n## Workflow Process\n\n### Phase 1: Lead Discovery & Data Collection\n1. **Data Import** - Populate NocoDB with lead information\n2. **Status Update** - Mark leads as `entered`\n\n### Phase 2: Website Analysis & Lead Scoring\n1. **Website Scraping** - Analyze company websites using Crawl4AI\n2. **Content Processing** - Extract key business information\n3. **AI Scoring** - Evaluate lead quality using OpenAI\n4. **Database Update** - Store analysis results and scores\n\n### Phase 3: Email Personalization & Outreach\n1. **Content Generation** - Create personalized email content\n2. **Email Preparation** - Format messages for delivery\n3. **Automated Sending** - Deploy via Brevo\n4. **Status Tracking** - Monitor delivery and engagement\n\n### Phase 4: Performance Monitoring\n1. **Webhook Processing** - Capture Brevo email events\n2. **Engagement Tracking** - Update open/click metrics\n3. **Lead Qualification** - Adjust lead status based on engagement\n4. **Pipeline Management** - Maintain lead progression\n\n---\n\n## Lead Status Workflow\n\n```\nentered â†’ processed â†’ email_created â†’ contacted â†’ opened_email â†’ warm\n    â†“\nfailed_to_process / trash (for low-quality leads)\n```\n\n### Status Definitions\n- **entered**: Initial lead data captured\n- **processed**: Website analyzed and scored\n- **email_created**: Personalized email generated\n- **contacted**: Email successfully sent\n- **opened_email**: Recipient opened the email\n- **warm**: High engagement, ready for follow-up\n- **failed_to_process**: Technical issues during processing\n- **trash**: Low-quality lead, removed from active pipeline\n\n---\n\n## Best Practices\n\n### Data Quality\n- Regularly clean and deduplicate your lead database\n- Monitor lead scores to refine your targeting criteria\n- Archive or remove inactive leads to maintain performance\n\n### Email Deliverability\n- Warm up your sending domain before high-volume campaigns\n- Monitor bounce rates and adjust list quality\n- Implement proper SPF, DKIM, and DMARC records\n\n### Compliance\n- Ensure GDPR/CAN-SPAM compliance in all communications\n- Provide clear unsubscribe mechanisms\n- Respect recipient preferences and opt-outs\n\n### Performance Optimization\n- A/B test email subject lines and content\n- Analyze open rates and adjust sending times\n- Segment leads based on engagement levels for targeted follow-up\n\n---\n\n## Next Steps\n\nOnce your setup is complete, you'll have a powerful, automated lead generation system that can:\n- Process hundreds of leads simultaneously\n- Provide intelligent lead prioritization\n- Generate personalized outreach at scale\n- Track and optimize campaign performance\n\nReady to transform your lead generation process? Start with the NocoDB setup and work through each integration step by step.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "When clicking â€˜Test workflowâ€™",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Fetch data to prepare for scoring",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "If not scored",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Add a score",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Crawl4AI",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Crawl4AI resolve",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "role": "wait",
      "configDescription": "Version 1.1"
    },
    {
      "name": "If mail not created",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Add Personalized mail",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Ai Scoring",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Email Personalization",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "role": "openAi",
      "configDescription": "Version 1.8"
    },
    {
      "name": "Personalized Mail Loop",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Mark as contacted",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Email Exists -> Mark as Contacted",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Email Send",
      "type": "n8n-nodes-base.sendInBlue",
      "role": "sendInBlue",
      "configDescription": "Version 1"
    },
    {
      "name": "Create Contact",
      "type": "n8n-nodes-base.sendInBlue",
      "role": "sendInBlue",
      "configDescription": "Version 1"
    },
    {
      "name": "If not contacted and email created",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If pending",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Mark as Trash",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "If not success",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get by email",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Lead Status -> Trash",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Delete Contact In Brevo",
      "type": "n8n-nodes-base.sendInBlue",
      "role": "sendInBlue",
      "configDescription": "Version 1"
    },
    {
      "name": "Email Opened",
      "type": "n8n-nodes-base.sendInBlueTrigger",
      "role": "sendInBlueTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Lead Status -> Email Opened",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "If Email Opened More Than Once",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Lead Status -> Warm",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Apify Crawl Request",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "Process Apify Crawl",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Mark as failed_to_process",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note15",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note16",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Get Entered Leads From Crawl4AI",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Get 'Entered' Leads From Apify",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Set Lead Status -> 'processed'",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Set Lead Status -> 'failed_to_process'",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Loop over entered leads",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Loop Over Entered Leads Crawl4AI",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Fetch processed leads",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Loop Over Processed Leads",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Loop Over Leads For Scoring",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Fetch Leads With Created Emails",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Get by user email",
      "type": "n8n-nodes-base.nocoDb",
      "role": "nocoDb",
      "configDescription": "Version 3"
    },
    {
      "name": "Sticky Note17",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note18",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "If organization website exists Crawl4AI",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "If organization website exists",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Sticky Note19",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note20",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note21",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note22",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Email Unwanted",
      "type": "n8n-nodes-base.sendInBlueTrigger",
      "role": "sendInBlueTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note23",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}