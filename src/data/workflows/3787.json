{
  "id": 3787,
  "slug": "3787",
  "title": "Automated Workflow Backup System with Google Drive, Gmail and Discord Alerts'",
  "description": "---\n\n## How it works\n\nThis workflow automates the backup of all your n8n workflows to a specified Google Drive folder. It operates in two main phases:\n\n1.  **Orchestration (Scheduled Task):**\n    *   The workflow is initiated by a **Schedule Trigger** (e.g., daily at 1:30 AM by default).\n    *   It then uses an **n8n API Node** to fetch a list of all existing workflows in your n8n instance.\n    *   A **Loop Over Items** node processes each fetched workflow individually.\n    *   For every workflow in the list, an **Execute Workflow** node calls the \"worker\" part of this same workflow, passing the individual workflow's data.\n\n2.  **Individual Workflow Backup (Worker Task):**\n    *   This part is triggered by the **When Executed by Another Workflow** node (called by the orchestrator part).\n    *   It first retrieves the passed workflow data.\n    *   A **Parameters** node defines the target Google Drive directory.\n    *   The **Get Google Drive File Data** node searches the specified Google Drive folder to see if a backup file for the current workflow (named as `WorkflowName_WorkflowID.json`) already exists.\n    *   An **IF Node** (`ifDriveEmpty`) checks the result:\n        *   If a backup file **exists**, the workflow data is converted to a binary JSON file using a **Code Node**, and then the existing file on Google Drive is **updated** (`Backup to Google Drive2`).\n        *   If a backup file **does not exist**, the workflow data is first formatted as JSON, converted to a binary JSON file using another **Code Node**, and then **uploaded as a new file** to Google Drive (`Backup to Google Drive4`).\n    *   If any Google Drive upload/update operation fails, a **Failure Email** is sent.\n\nAfter the loop in the orchestration phase completes (all workflows processed), a **Limit** node ensures only one signal proceeds to send a **Success Email** and a **Discord** message indicating the overall backup process was completed.\n\n## Setup\n\n1.  **Clone Workflow:** Clone this workflow into your n8n environment.\n2.  **Credentials:**\n    *   **n8n API:** In the \"Get all n8n Workflows\" node, select or create n8n API credentials. This allows the workflow to list all your other workflows.\n    *   **Google Drive:** In the \"getDriveFileData\", \"Backup to Google Drive2\", and \"Backup to Google Drive4\" nodes, select or create your Google Drive OAuth2 API credentials.\n    *   **Gmail:** In the \"successEmail\" and \"failureEmail\" nodes, select or create your Gmail credentials.\n    *   **Discord (Optional):** If you wish to use Discord notifications, configure your Discord Bot API credentials in the \"Discord\" node.\n3.  **Configuration:**\n    *   **Schedule:** Open the \"Schedule Trigger\" node and adjust the trigger interval (e.g., time of day) as needed.\n    *   **Google Drive Folder:** Open the \"Parameters\" node (connected after \"Workflow Data\"). Edit the `directory` value to the full URL of the Google Drive folder where you want to store your backups (e.g., `https://drive.google.com/drive/folders/YOUR_FOLDER_ID`).\n    *   **Email Recipients:** Open the \"successEmail\" and \"failureEmail\" nodes and update the \"Send To\" field with your desired recipient email address(es).\n    *   **Discord Channel (Optional):** If using Discord, open the \"Discord\" node and set the \"Channel ID\" for notifications.\n    *   **Sub-Workflow ID:** The \"Execute Workflow\" node is pre-configured to call this workflow itself using its ID. If you import this workflow and its ID changes, you *may* need to update the `workflowId` in the \"Execute Workflow\" node to the new ID of this imported workflow. *However, n8n usually handles this if it's self-referential within the same imported workflow.*\n\n## How to use\n\n1.  **Activate:** After completing the setup steps, activate the workflow. It will automatically run according to the defined schedule.\n2.  **Manual Execution:** You can also manually trigger the workflow by clicking the \"Execute Workflow\" play button on the \"Schedule Trigger\" node to perform an immediate backup of all workflows.\n3.  **Check Backups:** Your n8n workflows will be saved as `.json` files (named `WorkflowName_WorkflowID.json`) in the Google Drive folder you specified in the \"Parameters\" node.\n4.  **Notifications:** You will receive an email (and optionally a Discord message) upon successful completion of the entire backup process, or individual failure emails if a specific workflow backup to Google Drive fails.\n\n## Author & Credits\n\n*   **Creator:** Hochien Chang\n*   **YouTube Channel (Chinese):** [HC AI說人話](https://www.youtube.com/channel/UCvGfUB-wBdG4i_TdDGBCwJg)\n*   **YouTube Channel (English):** [HC HumanizeAI](https://www.youtube.com/@HC-HumanizeAI)\n*   **Original Explanation Video:** [https://youtu.be/PA15H5qunC0](https://youtu.be/PA15H5qunC0)\n*   **Based on:** [n8n Workflow Backup to Google Drive](https://n8n.io/workflows/3112-backup-n8n-workflows-to-google-drive/)\n\n---",
  "featuredImage": "/data/workflows/3787/3787.webp",
  "author": {
    "id": 101,
    "slug": "hochien-chang",
    "name": "HoChien Chang",
    "avatar": ""
  },
  "categories": [
    "DevOps"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 948,
  "downloads": 94,
  "createdAt": "2025-04-29T13:56:52.793Z",
  "updatedAt": "2026-01-16T08:31:27.395Z",
  "publishedAt": "2025-04-29T13:56:52.793Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3787",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Automated Workflow Backup System with Google Drive, Gmail and Discord Alerts'",
    "workflowName": "Automated Workflow Backup System with Google Drive, Gmail and Discord Alerts'",
    "description": "---\n\n## How it works\n\nThis workflow automates the backup of all your n8n workflows to a specified Google Drive folder. It operates in two main phases:\n\n1.  **Orchestration (Scheduled Task):**\n    *   The workflow is initiated by a **Schedule Trigger** (e.g., daily at 1:30 AM by default).\n    *   It then uses an **n8n API Node** to fetch a list of all existing workflows in your n8n instance.\n    *   A **Loop Over Items** node processes each fetched workflow individually.\n    *   For every workflow in the list, an **Execute Workflow** node calls the \"worker\" part of this same workflow, passing the individual workflow's data.\n\n2.  **Individual Workflow Backup (Worker Task):**\n    *   This part is triggered by the **When Executed by Another Workflow** node (called by the orchestrator part).\n    *   It first retrieves the passed workflow data.\n    *   A **Parameters** node defines the target Google Drive directory.\n    *   The **Get Google Drive File Data** node searches the specified Google Drive folder to see if a backup file for the current workflow (named as `WorkflowName_WorkflowID.json`) already exists.\n    *   An **IF Node** (`ifDriveEmpty`) checks the result:\n        *   If a backup file **exists**, the workflow data is converted to a binary JSON file using a **Code Node**, and then the existing file on Google Drive is **updated** (`Backup to Google Drive2`).\n        *   If a backup file **does not exist**, the workflow data is first formatted as JSON, converted to a binary JSON file using another **Code Node**, and then **uploaded as a new file** to Google Drive (`Backup to Google Drive4`).\n    *   If any Google Drive upload/update operation fails, a **Failure Email** is sent.\n\nAfter the loop in the orchestration phase completes (all workflows processed), a **Limit** node ensures only one signal proceeds to send a **Success Email** and a **Discord** message indicating the overall backup process was completed.\n\n## Setup\n\n1.  **Clone Workflow:** Clone this workflow into your n8n environment.\n2.  **Credentials:**\n    *   **n8n API:** In the \"Get all n8n Workflows\" node, select or create n8n API credentials. This allows the workflow to list all your other workflows.\n    *   **Google Drive:** In the \"getDriveFileData\", \"Backup to Google Drive2\", and \"Backup to Google Drive4\" nodes, select or create your Google Drive OAuth2 API credentials.\n    *   **Gmail:** In the \"successEmail\" and \"failureEmail\" nodes, select or create your Gmail credentials.\n    *   **Discord (Optional):** If you wish to use Discord notifications, configure your Discord Bot API credentials in the \"Discord\" node.\n3.  **Configuration:**\n    *   **Schedule:** Open the \"Schedule Trigger\" node and adjust the trigger interval (e.g., time of day) as needed.\n    *   **Google Drive Folder:** Open the \"Parameters\" node (connected after \"Workflow Data\"). Edit the `directory` value to the full URL of the Google Drive folder where you want to store your backups (e.g., `https://drive.google.com/drive/folders/YOUR_FOLDER_ID`).\n    *   **Email Recipients:** Open the \"successEmail\" and \"failureEmail\" nodes and update the \"Send To\" field with your desired recipient email address(es).\n    *   **Discord Channel (Optional):** If using Discord, open the \"Discord\" node and set the \"Channel ID\" for notifications.\n    *   **Sub-Workflow ID:** The \"Execute Workflow\" node is pre-configured to call this workflow itself using its ID. If you import this workflow and its ID changes, you *may* need to update the `workflowId` in the \"Execute Workflow\" node to the new ID of this imported workflow. *However, n8n usually handles this if it's self-referential within the same imported workflow.*\n\n## How to use\n\n1.  **Activate:** After completing the setup steps, activate the workflow. It will automatically run according to the defined schedule.\n2.  **Manual Execution:** You can also manually trigger the workflow by clicking the \"Execute Workflow\" play button on the \"Schedule Trigger\" node to perform an immediate backup of all workflows.\n3.  **Check Backups:** Your n8n workflows will be saved as `.json` files (named `WorkflowName_WorkflowID.json`) in the Google Drive folder you specified in the \"Parameters\" node.\n4.  **Notifications:** You will receive an email (and optionally a Discord message) upon successful completion of the entire backup process, or individual failure emails if a specific workflow backup to Google Drive fails.\n\n## Author & Credits\n\n*   **Creator:** Hochien Chang\n*   **YouTube Channel (Chinese):** [HC AI說人話](https://www.youtube.com/channel/UCvGfUB-wBdG4i_TdDGBCwJg)\n*   **YouTube Channel (English):** [HC HumanizeAI](https://www.youtube.com/@HC-HumanizeAI)\n*   **Original Explanation Video:** [https://youtu.be/PA15H5qunC0](https://youtu.be/PA15H5qunC0)\n*   **Based on:** [n8n Workflow Backup to Google Drive](https://n8n.io/workflows/3112-backup-n8n-workflows-to-google-drive/)\n\n---",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Get all n8n Workflows",
      "type": "n8n-nodes-base.n8n",
      "role": "n8n",
      "configDescription": "Version 1"
    },
    {
      "name": "Backup to Google Drive2",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Backup to Google Drive4",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "ifDriveEmpty",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "firstWorkflowJson",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "JsonToFile",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "CodeJsonToFile1",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Limit",
      "type": "n8n-nodes-base.limit",
      "role": "limit",
      "configDescription": "Version 1"
    },
    {
      "name": "Workflow Data",
      "type": "n8n-nodes-base.executionData",
      "role": "executionData",
      "configDescription": "Version 1"
    },
    {
      "name": "successEmail",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "failureEmail",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "getDriveFileData",
      "type": "n8n-nodes-base.googleDrive",
      "role": "googleDrive",
      "configDescription": "Version 3"
    },
    {
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "role": "executeWorkflowTrigger",
      "configDescription": "Version 1.1"
    },
    {
      "name": "Execute Workflow",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Parameters",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note10",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Discord",
      "type": "n8n-nodes-base.discord",
      "role": "discord",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note11",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note12",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note13",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note14",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}