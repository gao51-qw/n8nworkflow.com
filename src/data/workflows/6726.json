{
  "id": 6726,
  "slug": "6726",
  "title": "Track stock prices with ScrapeGraphAI, Yahoo Finance & Google Sheets",
  "description": "# AI-Powered Stock Tracker with Yahoo Finance & Google Sheets\n\n![Stock Tracker Workflow](https://via.placeholder.com/800x400/4A90E2/FFFFFF?text=AI-Powered+Stock+Tracker+Workflow+Preview)\n\n**⚠️ COMMUNITY TEMPLATE DISCLAIMER: This is a community-contributed template that uses ScrapeGraphAI (a community node). Please ensure you have the ScrapeGraphAI community node installed in your n8n instance before using this template.**\n\nThis automated workflow monitors stock prices by scraping real-time data from Yahoo Finance. It uses a scheduled trigger to run at specified intervals, extracts key stock metrics using AI-powered extraction, formats the data through a custom code node, and automatically saves the structured information to Google Sheets for tracking and analysis.\n\n## Pre-conditions/Requirements\n\n### Prerequisites\n- n8n instance (self-hosted or cloud)\n- ScrapeGraphAI community node installed\n- Google Sheets API access\n- Yahoo Finance access (no API key required)\n\n### Required Credentials\n- **ScrapeGraphAI API Key** - For web scraping capabilities\n- **Google Sheets OAuth2** - For spreadsheet integration\n\n### Google Sheets Setup\nCreate a Google Sheets document with the following column structure:\n\n| Column A | Column B | Column C | Column D | Column E | Column F | Column G |\n|----------|----------|----------|----------|----------|----------|----------|\n| **symbol** | **current_price** | **change** | **change_percent** | **volume** | **market_cap** | **timestamp** |\n| AAPL | 225.50 | +2.15 | +0.96% | 45,234,567 | 3.45T | 2024-01-15 14:30:00 |\n\n## How it works\n\nThis automated workflow monitors stock prices by scraping real-time data from Yahoo Finance. It uses a scheduled trigger to run at specified intervals, extracts key stock metrics using AI-powered extraction, formats the data through a custom code node, and automatically saves the structured information to Google Sheets for tracking and analysis.\n\n## Key Steps:\n- **Scheduled Trigger**: Runs automatically at specified intervals to collect fresh stock data\n- **AI-Powered Scraping**: Uses ScrapeGraphAI to intelligently extract stock information (symbol, current price, price change, change percentage, volume, and market cap) from Yahoo Finance\n- **Data Processing**: Formats extracted data through a custom Code node for optimal spreadsheet compatibility and handles both single and multiple stock formats\n- **Automated Storage**: Saves all stock data to Google Sheets with proper column mapping for easy filtering, analysis, and historical tracking\n\n## Set up steps\n\n**Setup Time: 5-10 minutes**\n\n1. **Configure Credentials**: Set up your ScrapeGraphAI API key and Google Sheets OAuth2 credentials\n2. **Customize Target**: Update the website URL in the ScrapeGraphAI node to your desired stock symbol (currently set to AAPL)\n3. **Configure Schedule**: Set your preferred trigger frequency (daily, hourly, etc.) for stock price monitoring\n4. **Map Spreadsheet**: Connect to your Google Sheets document and configure column mapping for the stock data fields\n\n## Node Descriptions\n\n### Core Workflow Nodes:\n- **Schedule Trigger** - Initiates the workflow at specified intervals\n- **Yahoo Finance Stock Scraper** - Extracts real-time stock data using ScrapeGraphAI\n- **Stock Data Formatter** - Processes and formats extracted data for spreadsheet compatibility\n- **Google Sheets Stock Logger** - Saves formatted stock data to your spreadsheet\n\n### Data Flow:\n1. **Trigger** → **Scraper** → **Formatter** → **Logger**\n\n## Customization Examples\n\n### Track Multiple Stocks\n```javascript\n// In the ScrapeGraphAI node, modify the URL to track different stocks:\nconst stockSymbols = ['AAPL', 'GOOGL', 'MSFT', 'TSLA'];\nconst baseUrl = 'https://finance.yahoo.com/quote/';\n```\n\n### Add Additional Data Fields\n```javascript\n// In the Code node, extend the data structure:\nconst extendedData = {\n  ...stockData,\n  pe_ratio: extractedData.pe_ratio,\n  dividend_yield: extractedData.dividend_yield,\n  day_range: extractedData.day_range\n};\n```\n\n### Custom Scheduling\n```javascript\n// Modify the Schedule Trigger for different frequencies:\n// Daily at 9:30 AM (market open): \"0 30 9 * * *\"\n// Every 15 minutes during market hours: \"0 */15 9-16 * * 1-5\"\n// Weekly on Monday: \"0 0 9 * * 1\"\n```\n\n## Data Output Format\n\nThe workflow outputs structured JSON data with the following fields:\n\n```json\n{\n  \"symbol\": \"AAPL\",\n  \"current_price\": \"225.50\",\n  \"change\": \"+2.15\",\n  \"change_percent\": \"+0.96%\",\n  \"volume\": \"45,234,567\",\n  \"market_cap\": \"3.45T\",\n  \"timestamp\": \"2024-01-15T14:30:00Z\"\n}\n```\n\n## Troubleshooting\n\n### Common Issues\n1. **ScrapeGraphAI Rate Limits** - Implement delays between requests\n2. **Yahoo Finance Structure Changes** - Update scraping prompts\n3. **Google Sheets Permission Errors** - Verify OAuth2 credentials and document permissions\n\n### Performance Tips\n- Use appropriate trigger intervals (avoid excessive scraping)\n- Implement error handling for network issues\n- Consider data validation before saving to sheets\n\n**Pro Tips:**\n- Keep detailed configuration notes in the sticky notes within the workflow\n- Test with a single stock first before scaling to multiple stocks\n- Consider modifying the Code node to handle different stock symbols or add additional data fields\n- Perfect for building a historical database of stock performance over time\n- Can be extended to track multiple stocks by modifying the ScrapeGraphAI prompt\n",
  "featuredImage": "/data/workflows/6726/6726.webp",
  "author": {
    "id": 101,
    "slug": "vinci-king-01",
    "name": "vinci-king-01",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 1373,
  "downloads": 137,
  "createdAt": "2025-07-31T07:52:09.897Z",
  "updatedAt": "2026-01-16T08:46:45.840Z",
  "publishedAt": "2025-07-31T07:52:09.897Z",
  "nodes": 8,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6726",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Track stock prices with ScrapeGraphAI, Yahoo Finance & Google Sheets",
    "workflowName": "Track stock prices with ScrapeGraphAI, Yahoo Finance & Google Sheets",
    "description": "# AI-Powered Stock Tracker with Yahoo Finance & Google Sheets\n\n![Stock Tracker Workflow](https://via.placeholder.com/800x400/4A90E2/FFFFFF?text=AI-Powered+Stock+Tracker+Workflow+Preview)\n\n**⚠️ COMMUNITY TEMPLATE DISCLAIMER: This is a community-contributed template that uses ScrapeGraphAI (a community node). Please ensure you have the ScrapeGraphAI community node installed in your n8n instance before using this template.**\n\nThis automated workflow monitors stock prices by scraping real-time data from Yahoo Finance. It uses a scheduled trigger to run at specified intervals, extracts key stock metrics using AI-powered extraction, formats the data through a custom code node, and automatically saves the structured information to Google Sheets for tracking and analysis.\n\n## Pre-conditions/Requirements\n\n### Prerequisites\n- n8n instance (self-hosted or cloud)\n- ScrapeGraphAI community node installed\n- Google Sheets API access\n- Yahoo Finance access (no API key required)\n\n### Required Credentials\n- **ScrapeGraphAI API Key** - For web scraping capabilities\n- **Google Sheets OAuth2** - For spreadsheet integration\n\n### Google Sheets Setup\nCreate a Google Sheets document with the following column structure:\n\n| Column A | Column B | Column C | Column D | Column E | Column F | Column G |\n|----------|----------|----------|----------|----------|----------|----------|\n| **symbol** | **current_price** | **change** | **change_percent** | **volume** | **market_cap** | **timestamp** |\n| AAPL | 225.50 | +2.15 | +0.96% | 45,234,567 | 3.45T | 2024-01-15 14:30:00 |\n\n## How it works\n\nThis automated workflow monitors stock prices by scraping real-time data from Yahoo Finance. It uses a scheduled trigger to run at specified intervals, extracts key stock metrics using AI-powered extraction, formats the data through a custom code node, and automatically saves the structured information to Google Sheets for tracking and analysis.\n\n## Key Steps:\n- **Scheduled Trigger**: Runs automatically at specified intervals to collect fresh stock data\n- **AI-Powered Scraping**: Uses ScrapeGraphAI to intelligently extract stock information (symbol, current price, price change, change percentage, volume, and market cap) from Yahoo Finance\n- **Data Processing**: Formats extracted data through a custom Code node for optimal spreadsheet compatibility and handles both single and multiple stock formats\n- **Automated Storage**: Saves all stock data to Google Sheets with proper column mapping for easy filtering, analysis, and historical tracking\n\n## Set up steps\n\n**Setup Time: 5-10 minutes**\n\n1. **Configure Credentials**: Set up your ScrapeGraphAI API key and Google Sheets OAuth2 credentials\n2. **Customize Target**: Update the website URL in the ScrapeGraphAI node to your desired stock symbol (currently set to AAPL)\n3. **Configure Schedule**: Set your preferred trigger frequency (daily, hourly, etc.) for stock price monitoring\n4. **Map Spreadsheet**: Connect to your Google Sheets document and configure column mapping for the stock data fields\n\n## Node Descriptions\n\n### Core Workflow Nodes:\n- **Schedule Trigger** - Initiates the workflow at specified intervals\n- **Yahoo Finance Stock Scraper** - Extracts real-time stock data using ScrapeGraphAI\n- **Stock Data Formatter** - Processes and formats extracted data for spreadsheet compatibility\n- **Google Sheets Stock Logger** - Saves formatted stock data to your spreadsheet\n\n### Data Flow:\n1. **Trigger** → **Scraper** → **Formatter** → **Logger**\n\n## Customization Examples\n\n### Track Multiple Stocks\n```javascript\n// In the ScrapeGraphAI node, modify the URL to track different stocks:\nconst stockSymbols = ['AAPL', 'GOOGL', 'MSFT', 'TSLA'];\nconst baseUrl = 'https://finance.yahoo.com/quote/';\n```\n\n### Add Additional Data Fields\n```javascript\n// In the Code node, extend the data structure:\nconst extendedData = {\n  ...stockData,\n  pe_ratio: extractedData.pe_ratio,\n  dividend_yield: extractedData.dividend_yield,\n  day_range: extractedData.day_range\n};\n```\n\n### Custom Scheduling\n```javascript\n// Modify the Schedule Trigger for different frequencies:\n// Daily at 9:30 AM (market open): \"0 30 9 * * *\"\n// Every 15 minutes during market hours: \"0 */15 9-16 * * 1-5\"\n// Weekly on Monday: \"0 0 9 * * 1\"\n```\n\n## Data Output Format\n\nThe workflow outputs structured JSON data with the following fields:\n\n```json\n{\n  \"symbol\": \"AAPL\",\n  \"current_price\": \"225.50\",\n  \"change\": \"+2.15\",\n  \"change_percent\": \"+0.96%\",\n  \"volume\": \"45,234,567\",\n  \"market_cap\": \"3.45T\",\n  \"timestamp\": \"2024-01-15T14:30:00Z\"\n}\n```\n\n## Troubleshooting\n\n### Common Issues\n1. **ScrapeGraphAI Rate Limits** - Implement delays between requests\n2. **Yahoo Finance Structure Changes** - Update scraping prompts\n3. **Google Sheets Permission Errors** - Verify OAuth2 credentials and document permissions\n\n### Performance Tips\n- Use appropriate trigger intervals (avoid excessive scraping)\n- Implement error handling for network issues\n- Consider data validation before saving to sheets\n\n**Pro Tips:**\n- Keep detailed configuration notes in the sticky notes within the workflow\n- Test with a single stock first before scaling to multiple stocks\n- Consider modifying the Code node to handle different stock symbols or add additional data fields\n- Perfect for building a historical database of stock performance over time\n- Can be extended to track multiple stocks by modifying the ScrapeGraphAI prompt",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Yahoo Finance Stock Scraper",
      "type": "n8n-nodes-scrapegraphai.scrapegraphAi",
      "role": "scrapegraphAi",
      "configDescription": "Version 1"
    },
    {
      "name": "Google Sheets Stock Logger",
      "type": "n8n-nodes-base.googleSheets",
      "role": "googleSheets",
      "configDescription": "Version 4.5"
    },
    {
      "name": "Stock Data Formatter",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    }
  ]
}