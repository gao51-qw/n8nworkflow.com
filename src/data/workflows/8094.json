{
  "id": 8094,
  "slug": "8094",
  "title": "Generate stock market insights with technical analysis, AI, and Telegram publishing",
  "description": "# üìà AI Stock Analytics & BCS \"Profit\" Social Network Publishing Workflow  \n\nThis workflow automatically generates stock market insights for selected tickers (e.g. GAZP, SBER, LKOH) using historical data, technical indicators, and an AI model. The results are then sent to Telegram for quick moderation and publishing.  \n\n## üîë What this workflow does\n- **Runs twice a day** on a schedule with a predefined list of tickers.  \n- **Fetches historical market data** from a broker API.  \n- **Calculates key technical indicators** (RSI, EMA/SMA, MACD, Bollinger Bands, ADX).  \n- **Generates an investment post** (title + summary) using an LLM.  \n- **Stores results** in a PostgreSQL database.  \n- **Sends a draft post to Telegram** with inline buttons *‚ÄúPublish‚Äù* and *‚ÄúRetry‚Äù*.  \n- **Handles Telegram actions**: publishes the post to the final channel or re-runs the generation process.  \n\n## üìå Key features\n- Multi-ticker support in a single run.  \n- Automatic error handling (e.g. missing data or invalid AI JSON output).  \n- Human-in-the-loop moderation through Telegram before publishing.  \n- PostgreSQL integration for history and analytics storage.  \n- Flexible structure: easy to extend with new tickers, indicators, or publishing channels.  \n\n## üõ†Ô∏è Nodes used\n- **Trigger:** Schedule (twice daily) + Telegram Trigger (button callbacks).  \n- **Data:** HTTP Request (broker API), Function (technical analysis calculations).  \n- **AI:** OpenAI / OpenRouter with structured JSON output.  \n- **Storage:** PostgreSQL (analytics history).  \n- **Messaging:** Telegram (drafts and publishing).  \n\n## üöÄ Who is this for\n- Fintech startups looking to automate market content.  \n- Investment bloggers posting daily stock analysis.  \n- Analysts experimenting with trading strategies on real market data.  \n",
  "featuredImage": "/data/workflows/8094/8094.webp",
  "author": {
    "id": 101,
    "slug": "cepreusa",
    "name": "Sergey Skorobogatov",
    "avatar": ""
  },
  "categories": [
    "Crypto Trading",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1066,
  "downloads": 106,
  "createdAt": "2025-08-31T20:55:20.434Z",
  "updatedAt": "2026-01-16T08:54:06.712Z",
  "publishedAt": "2025-08-31T20:55:20.434Z",
  "nodes": 25,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8094",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Generate stock market insights with technical analysis, AI, and Telegram publishing",
    "workflowName": "Generate stock market insights with technical analysis, AI, and Telegram publishing",
    "description": "# üìà AI Stock Analytics & BCS \"Profit\" Social Network Publishing Workflow  \n\nThis workflow automatically generates stock market insights for selected tickers (e.g. GAZP, SBER, LKOH) using historical data, technical indicators, and an AI model. The results are then sent to Telegram for quick moderation and publishing.  \n\n## üîë What this workflow does\n- **Runs twice a day** on a schedule with a predefined list of tickers.  \n- **Fetches historical market data** from a broker API.  \n- **Calculates key technical indicators** (RSI, EMA/SMA, MACD, Bollinger Bands, ADX).  \n- **Generates an investment post** (title + summary) using an LLM.  \n- **Stores results** in a PostgreSQL database.  \n- **Sends a draft post to Telegram** with inline buttons *‚ÄúPublish‚Äù* and *‚ÄúRetry‚Äù*.  \n- **Handles Telegram actions**: publishes the post to the final channel or re-runs the generation process.  \n\n## üìå Key features\n- Multi-ticker support in a single run.  \n- Automatic error handling (e.g. missing data or invalid AI JSON output).  \n- Human-in-the-loop moderation through Telegram before publishing.  \n- PostgreSQL integration for history and analytics storage.  \n- Flexible structure: easy to extend with new tickers, indicators, or publishing channels.  \n\n## üõ†Ô∏è Nodes used\n- **Trigger:** Schedule (twice daily) + Telegram Trigger (button callbacks).  \n- **Data:** HTTP Request (broker API), Function (technical analysis calculations).  \n- **AI:** OpenAI / OpenRouter with structured JSON output.  \n- **Storage:** PostgreSQL (analytics history).  \n- **Messaging:** Telegram (drafts and publishing).  \n\n## üöÄ Who is this for\n- Fintech startups looking to automate market content.  \n- Investment bloggers posting daily stock analysis.  \n- Analysts experimenting with trading strategies on real market data.",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "role": "agent",
      "configDescription": "Version 2.2"
    },
    {
      "name": "OpenRouter Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "role": "lmChatOpenRouter",
      "configDescription": "Version 1"
    },
    {
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "role": "scheduleTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Execute Auth Login",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Execute Auth Trade API",
      "type": "n8n-nodes-base.executeWorkflow",
      "role": "executeWorkflow",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "role": "telegramTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "–£—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "role": "outputParserStructured",
      "configDescription": "Version 1.3"
    },
    {
      "name": "Get Action Type",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Exist type and id",
      "type": "n8n-nodes-base.if",
      "role": "if",
      "configDescription": "Version 2.2"
    },
    {
      "name": "Get Post By Id",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.1"
    },
    {
      "name": "–†–∞—Å—Å—á–µ—Ç TA",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "ID Generation",
      "type": "n8n-nodes-base.crypto",
      "role": "crypto",
      "configDescription": "Version 1"
    },
    {
      "name": "–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å—Ç–∞ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—é",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "–ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤ –≤ –ü—Ä–æ—Ñ–∏—Ç–µ",
      "type": "n8n-nodes-base.httpRequest",
      "role": "httpRequest",
      "configDescription": "Version 4.2"
    },
    {
      "name": "–†–∞–∑–≤–∏–ª–∫–∞",
      "type": "n8n-nodes-base.switch",
      "role": "switch",
      "configDescription": "Version 3.2"
    },
    {
      "name": "–°–æ–±–∏—Ä–∞–µ–º –ø–æ—Å—Ç",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Send a text message",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    },
    {
      "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–∞",
      "type": "n8n-nodes-base.postgres",
      "role": "postgres",
      "configDescription": "Version 2.6"
    },
    {
      "name": "–î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (—Ç—É—Ç —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è ticker)",
      "type": "n8n-nodes-base.code",
      "role": "code",
      "configDescription": "Version 2"
    },
    {
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "role": "stickyNote",
      "configDescription": "Version 1"
    },
    {
      "name": "Query callback",
      "type": "n8n-nodes-base.telegram",
      "role": "telegram",
      "configDescription": "Version 1.2"
    }
  ]
}