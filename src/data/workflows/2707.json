{
  "id": 2707,
  "slug": "2707",
  "title": "Food delivery notifications and easy expense tracking",
  "description": "# Workflow Description\nThis workflow automates the process of retrieving emails from a food delivery platform, extracting key order details, and sending notifications to a Slack channel. Additionally, the Slack message includes a **Moze accounting app URL scheme** link for quick expense tracking.\n\n---\n\n## Key Features\n1. **Manual Trigger**: Allows the workflow to be executed manually for immediate testing.\n2. **Gmail Integration**: Retrieves emails containing specific keywords in the subject line (e.g., \"透過 Uber Eats 系統送出的訂單\"). (You can adjust the keywords to fit your language.)\n3. **Data Extraction**: Parses the email content to extract key details such as:\n   - Order price\n   - Shop name\n   - Order date and time\n4. **Slack Notification**: Sends a notification to a specified Slack channel using a structured block format, including a link to record the expense in the **Moze accounting app**.\n\n---\n\n## Node Configurations\n\n### 1. Manual Trigger\n- **Purpose**: Starts the workflow manually for testing or immediate execution.\n- **Configuration**: No setup needed.\n\n---\n\n### 2. Gmail Trigger\n- **Purpose**: Automatically polls Gmail for new emails matching specific subject keywords.\n- **Configuration**:\n  - **Filters**:\n    - `q`: `subject:透過 Uber Eats 系統送出的訂單` (You can adjust the keywords to fit your language.)\n  - **Polling Frequency**: Every hour at 30 minutes past the hour.\n  - **Credentials**: Linked Gmail account.\n\n---\n\n### 3. Extract Price, Shop, Date, Time\n- **Purpose**: Extracts key information from the email content using regular expressions.\n- **Extracted Data**:\n  - `price`: Order price (e.g., `$200`).\n  - `shop`: Shop name (e.g., \"店名\").\n  - `date`: Order date (e.g., `2024.01.01`).\n  - `time`: Order time converted to 24-hour format (e.g., `14:30`).\n\n---\n\n### 4. Slack Notification\n- **Purpose**: Sends a formatted message to a Slack channel with extracted order details.\n- **Message Content**:\n  - **Text**:\n    ```\n    Ubereat 訂餐資訊:\n    商家: {{ shop }}\n    金額: {{ price }}\n    日期: {{ date }}\n    ```\n  - **Moze App Link**: Includes a clickable button in the Slack message with a pre-filled Moze app URL scheme:\n    ```\n    moze3://expense?amount={{ price }}&account=信用卡&subcategory=外送&store={{ shop }}&date={{ date }}&time={{ time }}&project=生活開銷\n    ```\n  - **Channel**: Slack channel ID associated with food delivery notifications.\n\n---\n\n## Additional Notes\n- **Customization**: Adjust the email subject filter (`subject`) to match other types of food delivery platforms or services.\n- **Error Handling**: Ensure regular expressions for data extraction match the email format. Test with sample emails before deployment.\n- **Moze URL Scheme Reference**: Learn more about Moze app URL schemes for customization by visiting the [Moze Documentation](https://moze.app/).\n\nThis workflow is ideal for automating expense tracking and centralizing notifications for food delivery orders, streamlining personal or team expense management.\n\n---\n\nImage:\nUberEat Gmail with order information\n![n8n_delievery_slack_moze_step1.PNG](fileId:890)\n\nSlack text with button\n![n8n_delievery_slack_moze_step2.jpg](fileId:888)\n\nClick the button will call moze url scheme\n![n8n_delievery_slack_moze_step3.jpg](fileId:889)\n\n---\n\n# 工作流程描述\n此工作流程自動化從外送平台獲取郵件，提取關鍵訂單詳細資訊，並將通知發送到指定的 Slack 頻道。此外，Slack 消息中包含一個 **Moze 記帳 App URL Scheme** 的連結，方便快速記帳。\n\n---\n\n## 主要功能\n1. **Manual Trigger**：允許手動執行工作流程，方便測試。\n2. **Gmail Integration**：從 Gmail 中提取包含特定關鍵字（例如：「透過 Uber Eats 系統送出的訂單」）的郵件。\n3. **資料提取**：解析郵件內容，提取以下關鍵資訊：\n   - 訂單金額\n   - 商家名稱\n   - 訂單日期與時間\n4. **Slack 通知**：將結構化的通知發送到指定的 Slack 頻道，並包含一個連結供用戶快速記帳。\n\n---\n\n## 節點設定\n\n### 1. Manual Trigger\n- **用途**：手動啟動工作流程以進行測試或即時執行。\n- **設定**：無需額外設定。\n\n---\n\n### 2. Gmail Trigger\n- **用途**：自動檢查 Gmail 中是否有符合特定主題關鍵字的新郵件。\n- **設定**：\n  - **篩選條件**：\n    - `q`: `subject:透過 Uber Eats 系統送出的訂單`\n  - **檢查頻率**：每小時的 30 分。\n  - **憑證**：已連結的 Gmail 帳號。\n\n---\n\n### 3. Extract Price, Shop, Date, Time\n- **用途**：使用正則表達式從郵件內容中提取關鍵資訊。\n- **提取的資料**：\n  - `price`：訂單金額（例如：`$200`）。\n  - `shop`：商家名稱（例如：「店名」）。\n  - `date`：訂單日期（例如：`2024.01.01`）。\n  - `time`：訂單時間（24 小時制，例如：`14:30`）。\n\n---\n\n### 4. Slack 通知\n- **用途**：將訂單詳細資訊以格式化消息發送到 Slack。\n- **消息內容**：\n  - **文字**：\n    ```\n    Ubereat 訂餐資訊:\n    商家: {{ shop }}\n    金額: {{ price }}\n    日期: {{ date }}\n    ```\n  - **Moze App 連結**：Slack 消息中包含一個可點擊按鈕，預填 Moze App URL Scheme：\n    ```\n    moze3://expense?amount={{ price }}&account=信用卡&subcategory=外送&store={{ shop }}&date={{ date }}&time={{ time }}&project=生活開銷\n    ```\n  - **頻道**：與外送通知相關的 Slack 頻道。\n\n---\n\n## 補充說明\n- **自訂化**：可調整郵件主題篩選條件（`subject`），以匹配其他外送平台或服務。\n- **錯誤處理**：確保正則表達式匹配郵件格式。在部署前使用樣本郵件進行測試。\n- **Moze URL Scheme 參考**：了解更多關於 Moze App URL Scheme 的客製化資訊，請參閱 [Moze 官方文件](https://moze.app/)。\n\n此工作流程適合自動化費用記帳以及集中管理外送訂單通知，提升個人或團隊的費用管理效率。",
  "featuredImage": "/data/workflows/2707/2707.webp",
  "author": {
    "id": 101,
    "slug": "darrelltw",
    "name": "darrell_tw",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 2308,
  "downloads": 230,
  "createdAt": "2025-01-08T07:41:52.038Z",
  "updatedAt": "2026-01-16T08:26:06.497Z",
  "publishedAt": "2025-01-08T07:41:52.038Z",
  "nodes": 6,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2707",
  "disclaimer": "This workflow is provided as-is. Please review and test before using in production.",
  "overview": {
    "title": "Food delivery notifications and easy expense tracking",
    "workflowName": "Food delivery notifications and easy expense tracking",
    "description": "# Workflow Description\nThis workflow automates the process of retrieving emails from a food delivery platform, extracting key order details, and sending notifications to a Slack channel. Additionally, the Slack message includes a **Moze accounting app URL scheme** link for quick expense tracking.\n\n---\n\n## Key Features\n1. **Manual Trigger**: Allows the workflow to be executed manually for immediate testing.\n2. **Gmail Integration**: Retrieves emails containing specific keywords in the subject line (e.g., \"透過 Uber Eats 系統送出的訂單\"). (You can adjust the keywords to fit your language.)\n3. **Data Extraction**: Parses the email content to extract key details such as:\n   - Order price\n   - Shop name\n   - Order date and time\n4. **Slack Notification**: Sends a notification to a specified Slack channel using a structured block format, including a link to record the expense in the **Moze accounting app**.\n\n---\n\n## Node Configurations\n\n### 1. Manual Trigger\n- **Purpose**: Starts the workflow manually for testing or immediate execution.\n- **Configuration**: No setup needed.\n\n---\n\n### 2. Gmail Trigger\n- **Purpose**: Automatically polls Gmail for new emails matching specific subject keywords.\n- **Configuration**:\n  - **Filters**:\n    - `q`: `subject:透過 Uber Eats 系統送出的訂單` (You can adjust the keywords to fit your language.)\n  - **Polling Frequency**: Every hour at 30 minutes past the hour.\n  - **Credentials**: Linked Gmail account.\n\n---\n\n### 3. Extract Price, Shop, Date, Time\n- **Purpose**: Extracts key information from the email content using regular expressions.\n- **Extracted Data**:\n  - `price`: Order price (e.g., `$200`).\n  - `shop`: Shop name (e.g., \"店名\").\n  - `date`: Order date (e.g., `2024.01.01`).\n  - `time`: Order time converted to 24-hour format (e.g., `14:30`).\n\n---\n\n### 4. Slack Notification\n- **Purpose**: Sends a formatted message to a Slack channel with extracted order details.\n- **Message Content**:\n  - **Text**:\n    ```\n    Ubereat 訂餐資訊:\n    商家: {{ shop }}\n    金額: {{ price }}\n    日期: {{ date }}\n    ```\n  - **Moze App Link**: Includes a clickable button in the Slack message with a pre-filled Moze app URL scheme:\n    ```\n    moze3://expense?amount={{ price }}&account=信用卡&subcategory=外送&store={{ shop }}&date={{ date }}&time={{ time }}&project=生活開銷\n    ```\n  - **Channel**: Slack channel ID associated with food delivery notifications.\n\n---\n\n## Additional Notes\n- **Customization**: Adjust the email subject filter (`subject`) to match other types of food delivery platforms or services.\n- **Error Handling**: Ensure regular expressions for data extraction match the email format. Test with sample emails before deployment.\n- **Moze URL Scheme Reference**: Learn more about Moze app URL schemes for customization by visiting the [Moze Documentation](https://moze.app/).\n\nThis workflow is ideal for automating expense tracking and centralizing notifications for food delivery orders, streamlining personal or team expense management.\n\n---\n\nImage:\nUberEat Gmail with order information\n![n8n_delievery_slack_moze_step1.PNG](fileId:890)\n\nSlack text with button\n![n8n_delievery_slack_moze_step2.jpg](fileId:888)\n\nClick the button will call moze url scheme\n![n8n_delievery_slack_moze_step3.jpg](fileId:889)\n\n---\n\n# 工作流程描述\n此工作流程自動化從外送平台獲取郵件，提取關鍵訂單詳細資訊，並將通知發送到指定的 Slack 頻道。此外，Slack 消息中包含一個 **Moze 記帳 App URL Scheme** 的連結，方便快速記帳。\n\n---\n\n## 主要功能\n1. **Manual Trigger**：允許手動執行工作流程，方便測試。\n2. **Gmail Integration**：從 Gmail 中提取包含特定關鍵字（例如：「透過 Uber Eats 系統送出的訂單」）的郵件。\n3. **資料提取**：解析郵件內容，提取以下關鍵資訊：\n   - 訂單金額\n   - 商家名稱\n   - 訂單日期與時間\n4. **Slack 通知**：將結構化的通知發送到指定的 Slack 頻道，並包含一個連結供用戶快速記帳。\n\n---\n\n## 節點設定\n\n### 1. Manual Trigger\n- **用途**：手動啟動工作流程以進行測試或即時執行。\n- **設定**：無需額外設定。\n\n---\n\n### 2. Gmail Trigger\n- **用途**：自動檢查 Gmail 中是否有符合特定主題關鍵字的新郵件。\n- **設定**：\n  - **篩選條件**：\n    - `q`: `subject:透過 Uber Eats 系統送出的訂單`\n  - **檢查頻率**：每小時的 30 分。\n  - **憑證**：已連結的 Gmail 帳號。\n\n---\n\n### 3. Extract Price, Shop, Date, Time\n- **用途**：使用正則表達式從郵件內容中提取關鍵資訊。\n- **提取的資料**：\n  - `price`：訂單金額（例如：`$200`）。\n  - `shop`：商家名稱（例如：「店名」）。\n  - `date`：訂單日期（例如：`2024.01.01`）。\n  - `time`：訂單時間（24 小時制，例如：`14:30`）。\n\n---\n\n### 4. Slack 通知\n- **用途**：將訂單詳細資訊以格式化消息發送到 Slack。\n- **消息內容**：\n  - **文字**：\n    ```\n    Ubereat 訂餐資訊:\n    商家: {{ shop }}\n    金額: {{ price }}\n    日期: {{ date }}\n    ```\n  - **Moze App 連結**：Slack 消息中包含一個可點擊按鈕，預填 Moze App URL Scheme：\n    ```\n    moze3://expense?amount={{ price }}&account=信用卡&subcategory=外送&store={{ shop }}&date={{ date }}&time={{ time }}&project=生活開銷\n    ```\n  - **頻道**：與外送通知相關的 Slack 頻道。\n\n---\n\n## 補充說明\n- **自訂化**：可調整郵件主題篩選條件（`subject`），以匹配其他外送平台或服務。\n- **錯誤處理**：確保正則表達式匹配郵件格式。在部署前使用樣本郵件進行測試。\n- **Moze URL Scheme 參考**：了解更多關於 Moze App URL Scheme 的客製化資訊，請參閱 [Moze 官方文件](https://moze.app/)。\n\n此工作流程適合自動化費用記帳以及集中管理外送訂單通知，提升個人或團隊的費用管理效率。",
    "features": [],
    "useCases": []
  },
  "logicalBlocks": [],
  "nodeDetails": [
    {
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "role": "splitInBatches",
      "configDescription": "Version 3"
    },
    {
      "name": "Click to Test Flow",
      "type": "n8n-nodes-base.manualTrigger",
      "role": "manualTrigger",
      "configDescription": "Version 1"
    },
    {
      "name": "Get emails from Gmail with certain subject",
      "type": "n8n-nodes-base.gmail",
      "role": "gmail",
      "configDescription": "Version 2.1"
    },
    {
      "name": "Receive certain keyword Gmail Trigger",
      "type": "n8n-nodes-base.gmailTrigger",
      "role": "gmailTrigger",
      "configDescription": "Version 1.2"
    },
    {
      "name": "Extract Price, Shop, Date, TIme",
      "type": "n8n-nodes-base.set",
      "role": "set",
      "configDescription": "Version 3.4"
    },
    {
      "name": "Send to Slack with Block",
      "type": "n8n-nodes-base.slack",
      "role": "slack",
      "configDescription": "Version 2.3"
    }
  ]
}