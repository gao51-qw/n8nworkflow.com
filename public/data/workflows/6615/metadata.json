{
  "id": 6615,
  "slug": "6615",
  "title": "JSON data utility: extract key-value pairs by index",
  "description": "## Extract a key–value pair by index from JSON to fields in n8n\n\nThis template takes a JSON object and a **row index** and returns exactly one **key–value pair** at that index. It’s a handy helper when you only need a single entry from a structured JSON payload (e.g., picking one form field for downstream logic).\n\n## Who’s it for\n- Makers who want a quick **JSON picker** without writing full parsing logic.\n- Developers testing API payloads or building **proofs of concept**.\n- Ops/analysts who need to **pluck a single field** for emails, documents or notifications.\n\n## How it works\n1. **Manual Trigger** (`When clicking ‘Test workflow’`) starts the flow.\n2. **Set → Input JSON Node** holds your sample payload with:\n   - `myData`: an object of key → value pairs.\n   - `rowIndex`: a 0‑based index indicating which pair to extract.\n3. **Code (Python) → Find Key‑Value Pair** iterates `myData` and returns `[key, value]` at `rowIndex` as `result`.\n4. **Set → Key** maps `result[0]` to a field named `result`.\n5. **Set → Value** maps `result[1]` to a field named `result[1]`.\n6. The selected **key** and **value** are then available to any downstream nodes.\n\n## How to set up\n1. Open the workflow and select **Input JSON Node**.\n2. Replace the sample with your own JSON:\n   ```json\n   {\n     \"myData\": { \"name\": \"Alice\", \"age\": \"30\", \"city\": \"Paris\" },\n     \"rowIndex\": \"1\"\n   }\n   ```\n3. Click **Execute Workflow**. Check the **Key** and **Value** nodes for the outputs.\n\n## Requirements\n- n8n running (cloud or self‑hosted).\n- **Code node (Python)** enabled in your n8n version.\n- Input payload structure:\n  - `myData`: object with keys/values\n  - `rowIndex`: integer (0‑based)\n\n## How to customize\n- **Pick by key name** (instead of index): adjust the Python code to look up a specific key.\n- **Handle nested objects/arrays**: walk or flatten the structure before selecting.\n- **Change output shape**: return `{ \"key\": ..., \"value\": ... }` or write directly to next‑node fields.\n- **Validate inputs**: add checks for out‑of‑range `rowIndex`, non‑object `myData`, or empty objects.\n\n## Add‑ons\n- **Webhook intake**: Replace Manual Trigger with a Webhook to accept live JSON.\n- **Schema guard**: Add an If/Function step to ensure `myData` is an object and `rowIndex` is numeric.\n- **Audit log**: Append the selected key/value to Google Sheets or a database.\n\n## Use Case Examples\n- Pull one field from a large API response to include in an **email**.\n- Extract a specific answer from a **form submission** for conditional routing.\n- Read a configuration pair from a **settings object** to control a downstream step.\n\n## Common troubleshooting\n| Issue | Possible Cause | Solution |\n|---|---|---|\n| “Index out of range” | `rowIndex` is larger than the number of keys | Use a valid 0‑based index; add a guard in the Code node to clamp or default. |\n| Wrong key returned | Object key **order** differs from expectations | Object key order isn’t guaranteed across sources—prefer **pick by key name** for reliability. |\n| Empty/invalid output | `myData` is not an object or is empty | Ensure `myData` is a flat object with at least one key. |\n| Python errors | Code node’s Python runtime not available | Enable Python in the Code node or convert the snippet to JavaScript. |\n| Value type mismatch | Value isn’t a string | Cast as needed in the Set node or normalize types in the Code node. |\n\n## Need Help?\nIf you’d like this to **pick by key**, handle **nested JSON**, accept data via **Webhook** or fully customized to your needs, write to us and we’ll adapt the template to your exact use case.\n",
  "featuredImage": "/data/workflows/6615/6615.webp",
  "author": {
    "id": 101,
    "slug": "weblineindia",
    "name": "WeblineIndia",
    "avatar": ""
  },
  "categories": [
    "Engineering"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 147,
  "downloads": 14,
  "createdAt": "2025-07-29T08:58:46.887Z",
  "updatedAt": "2026-01-16T08:45:59.154Z",
  "publishedAt": "2025-07-29T08:58:46.887Z",
  "nodes": 5,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6615"
}