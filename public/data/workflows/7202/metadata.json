{
  "id": 7202,
  "slug": "7202",
  "title": "Triage AWS security misconfigurations with GPT-4.1 Mini and send alerts to Gmail",
  "description": "## What this workflow does\n\nAutomatically triages risky AWS misconfigurations and alerts your team.\n\n**Pipeline:** Security Hub or AWS Config -&gt; EventBridge rules -&gt; SNS (HTTP) -&gt; n8n Webhook -&gt; Normalize -&gt; AI Prioritizer -&gt; Airtable (log) -&gt; Gmail (email)\n\n-   Normalizes incoming findings (S3 / Security Groups / IAM / RDS) into a consistent JSON.\n    \n-   Uses an LLM to assign a priority (**P0–P3**) with rationale and remediation steps.\n    \n-   Upserts the finding into Airtable (avoids duplicates).\n    \n-   Emails a compact incident summary to your inbox. This can be swapped for Microsoft Teams or Slack, etc.\n    \n\n**Category:** Security / Cloud / Alerting  \n**Time to set up:** ~10–15 minutes  \n**Difficulty:** Beginner–Intermediate  \n**Cost:** Mostly free (n8n CE + AWS SNS/EventBridge; OpenAI + Airtable/Gmail as used)\n\n----------\n\n## What you’ll need\n\n-   An n8n instance reachable over **HTTP**.\n    \n-   AWS account (one region) with permissions to create **SNS topics** and **EventBridge rules**.\n    \n-   **Security Hub** enabled (or AWS Config rules that emit compliance events).\n    \n-   n8n credentials: **OpenAI**, **Airtable**, **Gmail**.\n    \n\n----------\n\n## Nodes used\n\n-   **Webhook** (POST `/aws-misconfig`)\n    \n-   **Code:** SNS Handler (token check, confirm/unwrap)\n    \n-   **IF:** route `mode === \"confirm\"` vs notification\n    \n-   **HTTP Request:** SNS `SubscriptionConfirmation` (GET)\n    \n-   **Code:** Normalize Finding\n    \n-   **Message a model:** AI Prioritizer (JSON out)\n    \n-   **Airtable:** Create/Upsert\n    \n-   **Gmail:** Send message\n    \n-   **Edit Fields:** final JSON response\n    \n\n----------\n\n## Setup steps\n\n1.  **Import and activate** the workflow in n8n.\n    \n    -   Webhook Respond: **When Last Node Finishes -&gt; First Entry JSON**.\n        \n    -   Append a shared secret to the URL, e.g. `?token=MY_SUPER_TOKEN`, and keep the check in the SNS Handler code node.\n        \n2.  **Create an SNS topic** (e.g., `misconfig-events`) in the same region as your EventBridge rules.\n    \n3.  **Create EventBridge rules** targeting the SNS topic:\n    \n    -   **Rule A (Security Hub):** `source = aws.securityhub`, `detail-type = Security Hub Findings - Imported`\n        \n    -   **Rule B (AWS Config):** `source = aws.config`, `detail-type = Config Rules Compliance Change`\n        \n4.  **Create an SNS subscription** with **Protocol = HTTP** and **Endpoint = your production webhook URL**:  \n    `http://YOUR_HOST:5678/webhook/aws-misconfig?token=MY_SUPER_TOKEN`  \n    (The workflow auto-confirms the subscription on first POST.)\n    \n5.  Configure **Airtable** (Upsert on **Finding ID**) and **Gmail** recipients.\n",
  "featuredImage": "/data/workflows/7202/7202.webp",
  "author": {
    "id": 101,
    "slug": "ca7ai",
    "name": "Calistus Christian",
    "avatar": ""
  },
  "categories": [
    "SecOps",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 288,
  "downloads": 28,
  "createdAt": "2025-08-09T23:22:36.481Z",
  "updatedAt": "2026-01-16T08:49:00.950Z",
  "publishedAt": "2025-08-09T23:22:36.481Z",
  "nodes": 12,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7202"
}