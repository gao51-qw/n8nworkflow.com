{
  "workflow": {
    "id": 11448,
    "name": "Automated B2B lead management and AI outreach",
    "views": 205,
    "recentViews": 2,
    "totalViews": 205,
    "createdAt": "2025-12-03T04:49:17.528Z",
    "description": "This workflow is a comprehensive, production-grade automation for B2B lead management and multichannel outreach, designed for Sales Development Representatives (SDRs), growth teams, and sales operations. It covers the entire SDR pipeline: from lead ingestion and validation, through enrichment, scoring, AI-powered outreach, reply handling, analytics, and reporting.\n\n**Key Features:**\n- Lead validation (email, suppression, geo/GDPR)\n- Multi-source data enrichment\n- Lead scoring and tiering (HIGH/MEDIUM/LOW)\n- AI-generated personalized cold emails (with A/B subject testing)\n- Multichannel outreach (Email, LinkedIn, WhatsApp) with rate limiting and compliance\n- AI-based reply simulation and intent classification\n- Automated routing (qualification, follow-up, manual review)\n- Full event logging to database\n- Aggregated analytics and daily reporting\n- Human-readable AI summary and Slack notifications\n\n---\n\n## What This Workflow Does\n\n### 1. Lead Ingestion & Validation\n- Loads leads from a source (test data, CRM, webhook, etc.)\n- Validates email format and checks against suppression lists (blocked domains/emails)\n- Applies geo and GDPR compliance logic (blocks/flags leads from restricted countries)\n\n### 2. Data Enrichment\n- Enriches each lead via one or more external APIs (company info, tech stack, revenue, etc.)\n- Handles enrichment failures gracefully and logs them for analytics\n\n### 3. Lead Scoring & Segmentation\n- Scores leads based on industry, country, company size, revenue, and pain points\n- Segments leads into HIGH, MEDIUM, or LOW tiers for tailored outreach\n\n### 4. AI-Powered Outreach Generation\n- Uses OpenAI (or compatible LLM) to generate personalized cold email content\n- Creates A/B tested subject lines for each email\n- Generates LinkedIn and WhatsApp message variants for multichannel outreach\n\n### 5. Multichannel Outreach Execution\n- Sends emails via SMTP (with rate limiting and quiet hours)\n- Simulates LinkedIn and WhatsApp sends (can be replaced with real integrations)\n- Logs all outreach events to a Postgres database\n\n### 6. Reply Simulation & AI Classification\n- Simulates a variety of lead replies (interested, not interested, follow-up, unclear)\n- Uses AI to classify reply intent and suggest next actions\n\n### 7. Automated Routing & Follow-up\n- Routes leads based on AI classification:\n  - **Interested:** Schedules meeting, logs qualification, proposes follow-up\n  - **Follow-up Later:** Schedules future follow-up\n  - **Not Interested:** Marks as closed/lost\n  - **Unclear:** Flags for manual review and notifies team via Slack\n\n### 8. Event Logging & Analytics\n- Logs every significant event (enrichment, outreach, reply, status change) to a database\n- Aggregates results by lead score, channel, and status\n- Calculates key metrics (qualification rate, enrichment success, multichannel rate, etc.)\n\n### 9. Reporting & Team Notification\n- Generates a daily analytics row and stores it in the database\n- Uses AI to create a human-readable summary of the run\n- Posts a detailed summary to a Slack channel\n\n---\n\n## Use Cases\n\n- **Automated SDR Workflows:** Replace manual lead research, outreach, and follow-up with a fully automated, auditable process.\n- **Growth Experiments:** Run A/B tests on messaging, subject lines, and channels at scale.\n- **Sales Analytics:** Get transparent, granular reporting on every step of the SDR funnel.\n- **Compliance-First Outreach:** Ensure all outreach respects geo, GDPR, and suppression rules.\n- **AI-Driven Personalization:** Use LLMs to generate highly relevant, non-generic outreach at scale.\n\n---\n\n## Installation & Setup\n\n### 1. Import the Workflow\n- Download or copy the workflow from the n8n Template Store.\n- In your n8n editor, click **Import** and paste the workflow JSON, or use the \"Use Template\" button.\n\n### 2. Configure Required Credentials\n- **Postgres:** Set up a Postgres credential for event and analytics logging.\n- **SMTP:** Add your email provider's SMTP credentials for sending emails.\n- **OpenAI:** Add your OpenAI API key for AI-powered nodes.\n- **Slack:** Add your Slack API credential for notifications.\n- **Enrichment APIs:** Add credentials for any external enrichment APIs you use.\n\n### 3. Customize Lead Source\n- Replace the test data in the `Load Test Leads` node with your real lead source (e.g., webhook, CRM, Google Sheets, etc.).\n\n### 4. Adjust Compliance & Suppression Logic\n- Update the suppression lists and geo/GDPR logic in the relevant nodes to match your organization's requirements.\n\n### 5. Review Multichannel Logic\n- The workflow simulates LinkedIn and WhatsApp sends. Replace these with real integrations if needed.\n\n### 6. Database Preparation\n- Ensure your Postgres database has the following tables (or adjust node configs):\n  - `lead_events` (for all event logs)\n  - `analytics_daily` (for daily summary rows)\n  - `meetings` (for scheduled meetings)\n  - `execution_runs` (for workflow run metadata)\n\n### 7. Test the Workflow\n- Run the workflow manually with sample data.\n- Check the database and Slack for logs and notifications.\n- Review AI-generated content for tone and compliance.\n\n---\n\n## Configuration Details\n\n- **Rate Limiting:** Email, LinkedIn, and WhatsApp sends are rate-limited and respect quiet hours.\n- **A/B Testing:** Each email uses a randomly selected subject variant for ongoing optimization.\n- **AI Models:** Uses OpenAI GPT-4o-mini by default; can be swapped for other models.\n- **Event Logging:** Every action (enrichment, outreach, reply, status change) is logged with timestamp and payload for full traceability.\n- **Analytics:** Aggregates by lead score, channel, and status; calculates rates and averages.\n- **Slack Notifications:** Posts a summary of each run, including key metrics and AI-generated insights.\n\n---\n\n## Advanced Customization\n\n- **Add/Replace Enrichment APIs:** Plug in any HTTP-based enrichment service.\n- **Custom Lead Scoring:** Adjust the scoring logic in the `Compute Lead Score` node to fit your ICP.\n- **Custom AI Prompts:** Edit the system messages in AI nodes for your brand voice.\n- **Additional Channels:** Integrate SMS, phone, or other channels as needed.\n- **Webhook Triggers:** Replace manual trigger with webhook for real-time automation.\n\n---\n\n## Requirements\n\n- n8n version **1.123.0** or later\n- Postgres database (or adapt for your DB)\n- SMTP email provider\n- OpenAI API key (or compatible LLM)\n- Slack workspace (for notifications)\n- (Optional) Enrichment API keys\n\n---\n\n## Template Store Submission Notes\n\n- All credentials are handled via n8n's credential system (no hardcoded secrets).\n- The workflow is modular, well-commented, and ready for production use.\n- All event and analytics logging is auditable and GDPR-compliant.\n- Please review and test all integrations in your environment before using in production.\n\n---\n\n## Example Analytics Output\n\n| Metric                | Value   |\n|-----------------------|---------|\n| Total Leads           | 100     |\n| Qualified             | 22      |\n| Follow-up Scheduled   | 15      |\n| Closed Lost           | 40      |\n| Manual Review         | 3       |\n| Qualification Rate    | 22%     |\n| Enrichment Success    | 90%     |\n| Multichannel Rate     | 60%     |\n\n---\nReady to automate your SDR pipeline? Import this workflow and start scaling your B2B outreach today!",
    "workflow": {
      "id": "lU8MeTqvPE0Eqxvw",
      "meta": {
        "instanceId": "c2d487d22eb340f8f43c55ff61f8c69909cb5c9301a99030a4a4ab5908a80ca6"
      },
      "name": "Automated B2B Lead Management and AI Outreach",
      "tags": [],
      "nodes": [
        {
          "id": "04d0678d-d5a0-4fd0-bcee-9ebd0a70d990",
          "name": "Manual Trigger",
          "type": "n8n-nodes-base.manualTrigger",
          "position": [
            -32,
            752
          ],
          "parameters": {},
          "typeVersion": 1
        },
        {
          "id": "ce7c0fa0-ef44-408a-8c3a-e1aa6b7ec8fa",
          "name": "Load Test Leads",
          "type": "n8n-nodes-base.code",
          "position": [
            192,
            752
          ],
          "parameters": {
            "jsCode": "const leads = [{client_id: 'client_001', company_name: 'TechCorp Solutions', website: 'https://techcorp.example.com', contact_name: 'Sarah Johnson', contact_email: 'user@example.com', industry: 'SaaS', country: 'USA'}, {client_id: 'client_001', company_name: 'DataFlow Inc', website: 'https://dataflow.example.com', contact_name: 'Michael Chen', contact_email: 'user@example.com', industry: 'Data Analytics', country: 'Canada'}, {client_id: 'client_002', company_name: 'CloudScale Systems', website: 'https://cloudscale.example.com', contact_name: 'Emma Williams', contact_email: 'user@example.com', industry: 'Cloud Infrastructure', country: 'UK'}, {client_id: 'client_002', company_name: 'AI Innovations Ltd', website: 'https://aiinnovations.example.com', contact_name: 'David Martinez', contact_email: 'user@example.com', industry: 'Artificial Intelligence', country: 'Germany'}, {client_id: 'client_003', company_name: 'SecureNet Technologies', website: 'https://securenet.example.com', contact_name: 'Lisa Anderson', contact_email: 'user@example.com', industry: 'Cybersecurity', country: 'Australia'}]; return leads.map(lead => ({json: lead}));"
          },
          "typeVersion": 2
        },
        {
          "id": "ab087ddc-58fd-4bc0-b974-3f88e5721eb2",
          "name": "Enrich Lead via HTTP",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -16,
            1408
          ],
          "parameters": {
            "url": "https://jsonplaceholder.typicode.com/users/1",
            "options": {
              "response": {
                "response": {
                  "responseFormat": "json"
                }
              }
            }
          },
          "typeVersion": 4.3
        },
        {
          "id": "fe998826-49d3-4173-89a4-b220299d58a1",
          "name": "Check Enrichment Success",
          "type": "n8n-nodes-base.if",
          "position": [
            176,
            1408
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "string",
                    "operation": "notEmpty"
                  },
                  "leftValue": "={{ $json.id }}"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "7ad98c76-2d01-4eb0-b24a-a4c77be9aaf0",
          "name": "Merge Enrichment Data",
          "type": "n8n-nodes-base.set",
          "position": [
            672,
            1264
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "enrichment_status",
                  "type": "string",
                  "value": "success"
                },
                {
                  "id": "id-2",
                  "name": "enriched",
                  "type": "boolean",
                  "value": true
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "7180fe74-2c6c-41b4-ab82-eaf246d162d3",
          "name": "Set Enrichment Failed Flag",
          "type": "n8n-nodes-base.set",
          "position": [
            432,
            1488
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "enrichment_status",
                  "type": "string",
                  "value": "failed"
                },
                {
                  "id": "id-2",
                  "name": "enriched",
                  "type": "boolean",
                  "value": false
                },
                {
                  "id": "id-3",
                  "name": "tech_stack",
                  "type": "array",
                  "value": "[]"
                },
                {
                  "id": "id-4",
                  "name": "employee_count",
                  "type": "number",
                  "value": 0
                },
                {
                  "id": "id-5",
                  "name": "estimated_revenue",
                  "type": "number",
                  "value": 0
                },
                {
                  "id": "id-6",
                  "name": "pain_points",
                  "type": "string",
                  "value": "Generic pain points - enrichment unavailable"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "4ff6a775-c1bb-4dee-bdc2-6f1aee9b6edc",
          "name": "Parse Enrichment Response",
          "type": "n8n-nodes-base.code",
          "position": [
            448,
            1264
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Get the original lead data from Load Test Leads node\nconst originalLead = $('Load Test Leads').item.json;\n\n// Get the enrichment response from the HTTP request\nconst enrichmentData = $input.item.json;\n\n// Extract and merge the data\nreturn {\n  ...originalLead,\n  enriched_name: enrichmentData.name || '',\n  enriched_username: enrichmentData.username || '',\n  enriched_email: enrichmentData.email || '',\n  enriched_phone: enrichmentData.phone || '',\n  enriched_website: enrichmentData.website || '',\n  enriched_company: enrichmentData.company?.name || '',\n  enriched_address: enrichmentData.address ? `${enrichmentData.address.street}, ${enrichmentData.address.city}` : '',\n  tech_stack: ['React', 'Node.js', 'PostgreSQL', 'AWS'],\n  employee_count: Math.floor(Math.random() * 500) + 50,\n  estimated_revenue: Math.floor(Math.random() * 10000000) + 1000000,\n  pain_points: `Scaling challenges in ${originalLead.industry}, need for automation and efficiency improvements`\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "c05662b5-d98f-4523-8835-1dd809b5a9d5",
          "name": "AI - Generate Outreach Email",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            2272,
            2080
          ],
          "parameters": {
            "text": "=Generate a personalized cold outreach email for: Company: {{ $json.company_name }}, Industry: {{ $json.industry }}, Contact: {{ $json.contact_name }}, Pain Points: {{ $json.pain_points }}, Tech Stack: {{ $json.tech_stack.join(\", \") }}",
            "options": {
              "systemMessage": "You are an expert B2B sales copywriter specializing in cold outreach emails.\n\nYour task is to:\n1. Write a compelling subject line (under 50 characters)\n2. Write a personalized email body (under 150 words) that:\n   - References the company and industry\n   - Addresses their specific pain points\n   - Mentions their tech stack if relevant\n   - Includes a clear call-to-action\n   - Sounds natural and conversational, not salesy\n\nReturn the subject and body in the structured format."
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 3
        },
        {
          "id": "399939a2-022f-47b4-92e5-a456df1eaa84",
          "name": "OpenAI Chat Model - Email Gen",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
          "position": [
            2208,
            2288
          ],
          "parameters": {
            "model": {
              "__rl": true,
              "mode": "list",
              "value": "gpt-4o-mini"
            },
            "options": {},
            "builtInTools": {}
          },
          "typeVersion": 1.3
        },
        {
          "id": "bddc7898-5746-42fa-a37c-74e8f97b158a",
          "name": "Structured Output - Email",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            2368,
            2288
          ],
          "parameters": {
            "schemaType": "manual",
            "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"subject\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"description\": \"Email subject line\"\n\t\t},\n\t\t\"body\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"description\": \"Email body content\"\n\t\t}\n\t},\n\t\"required\": [\"subject\", \"body\"]\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "a20c7674-68ef-4ccf-9c99-e80d4516e287",
          "name": "Extract Email Fields",
          "type": "n8n-nodes-base.code",
          "position": [
            2592,
            2080
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Extract email subject and body from AI output\nconst aiOutput = $json.output || {};\nconst emailSubject = aiOutput.subject || 'No subject generated';\nconst emailBody = aiOutput.body || 'No body generated';\n\n// Merge with existing lead data\nreturn {\n  ...item.json,\n  email_subject: emailSubject,\n  email_body: emailBody\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "643bc71b-e3fc-461b-9af9-f23aea8f0216",
          "name": "Send Email",
          "type": "n8n-nodes-base.emailSend",
          "position": [
            6880,
            2240
          ],
          "webhookId": "a6fbcd53-b491-4776-ad78-4a50ee405e7d",
          "parameters": {
            "text": "={{ $json.email_body }}",
            "options": {},
            "subject": "={{ $json.email_subject }}",
            "toEmail": "={{ $json.contact_email }}",
            "fromEmail": "AI SDR Bot <user@example.com>",
            "emailFormat": "text"
          },
          "typeVersion": 2.1
        },
        {
          "id": "c6fad90c-05de-49c2-b72b-14df7e6a17e5",
          "name": "Prepare Email Event Log",
          "type": "n8n-nodes-base.set",
          "position": [
            7072,
            2240
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "event_type",
                  "type": "string",
                  "value": "email_sent"
                },
                {
                  "id": "id-2",
                  "name": "event_timestamp",
                  "type": "string",
                  "value": "={{ $now.toISO() }}"
                },
                {
                  "id": "id-3",
                  "name": "payload_json",
                  "type": "string",
                  "value": "={{ JSON.stringify({subject: $json.email_subject, body: $json.email_body, to: $json.contact_email}) }}"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "4aace4a3-b6c9-4112-91a0-478b1b55d8be",
          "name": "Log Email Sent to DB",
          "type": "n8n-nodes-base.postgres",
          "position": [
            7280,
            2240
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $json.event_timestamp }}",
                "event_type": "={{ $json.event_type }}",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ $json.payload_json }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "4f093306-c04a-40ea-864b-9c381959dcbc",
          "name": "Simulate Reply Text",
          "type": "n8n-nodes-base.code",
          "position": [
            7760,
            2240
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Simulate different types of lead replies\nconst replies = [\n  // Interested replies\n  \"This looks interesting! Can we schedule a call next week to discuss further?\",\n  \"I'd love to learn more about this. What's the best time to chat?\",\n  \"We're actually looking for a solution like this. Can you send me more details?\",\n  \"Sounds promising. Let's set up a demo.\",\n  \n  // Not interested replies\n  \"Thanks, but we're not interested at this time.\",\n  \"We already have a solution in place. Please remove me from your list.\",\n  \"Not a fit for us right now.\",\n  \"Please unsubscribe me.\",\n  \n  // Follow up later replies\n  \"Interesting, but can you reach out again in Q3? We're tied up right now.\",\n  \"Not the right time, but maybe in a few months.\",\n  \"We're in the middle of a project. Can you follow up in 6 weeks?\",\n  \"Timing isn't great. Check back with me next quarter.\",\n  \n  // Unclear replies\n  \"Maybe. Send me some info.\",\n  \"I'll think about it.\",\n  \"Can you tell me more?\",\n  \"Hmm, not sure if this is relevant to us.\"\n];\n\n// Randomly select a reply\nconst randomReply = replies[Math.floor(Math.random() * replies.length)];\n\n// Return the item with the simulated reply added\nreturn {\n  json: {\n    ...($input.item.json),\n    reply_text: randomReply,\n    reply_received_at: new Date().toISOString()\n  }\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "6f2552ff-1f0e-4062-a264-39d9bed010f4",
          "name": "AI - Classify Reply Intent",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            8016,
            2240
          ],
          "parameters": {
            "text": "=Classify this reply from {{ $json.contact_name }} at {{ $json.company_name }}: \"{{ $json.reply_text }}\"",
            "options": {
              "systemMessage": "You are an expert sales AI that classifies lead replies and suggests appropriate follow-up actions.\n\nYour task is to:\n1. Classify the intent as one of: interested, not_interested, follow_up_later, unclear\n2. Provide a confidence score (0-1)\n3. Suggest a brief follow-up message (under 100 words)\n\nClassification guidelines:\n- interested: Shows clear interest, asks questions, wants to learn more, requests a call/demo\n- not_interested: Explicitly declines, says not a fit, unsubscribes\n- follow_up_later: Asks to reconnect later, mentions timing issues, says \"maybe in the future\"\n- unclear: Vague response, needs clarification, ambiguous intent\n\nReturn the classification in the structured format."
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 3
        },
        {
          "id": "b76288f4-8a00-4d6b-a4a9-c462d5b1f28e",
          "name": "OpenAI Chat Model - Reply Classifier",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
          "position": [
            7952,
            2480
          ],
          "parameters": {
            "model": {
              "__rl": true,
              "mode": "list",
              "value": "gpt-4o-mini"
            },
            "options": {},
            "builtInTools": {}
          },
          "typeVersion": 1.3
        },
        {
          "id": "8757e926-8f58-48bf-a443-60c2336b5963",
          "name": "Structured Output - Classification",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            8112,
            2480
          ],
          "parameters": {
            "schemaType": "manual",
            "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"intent\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"enum\": [\"interested\", \"not_interested\", \"follow_up_later\", \"unclear\"],\n\t\t\t\"description\": \"Classification of reply intent\"\n\t\t},\n\t\t\"confidence\": {\n\t\t\t\"type\": \"number\",\n\t\t\t\"description\": \"Confidence score 0-1\"\n\t\t},\n\t\t\"suggested_reply\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"description\": \"Suggested next message to send\"\n\t\t}\n\t},\n\t\"required\": [\"intent\", \"confidence\", \"suggested_reply\"]\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "5e421561-1120-413e-8e1b-feff6c355eeb",
          "name": "Route by Intent",
          "type": "n8n-nodes-base.switch",
          "position": [
            8448,
            2208
          ],
          "parameters": {
            "rules": {
              "values": [
                {
                  "outputKey": "interested",
                  "conditions": {
                    "options": {
                      "leftValue": "",
                      "caseSensitive": true,
                      "typeValidation": "strict"
                    },
                    "combinator": "and",
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "={{ $json.output.intent }}",
                        "rightValue": "interested"
                      }
                    ]
                  },
                  "renameOutput": true
                },
                {
                  "outputKey": "follow_up_later",
                  "conditions": {
                    "options": {
                      "leftValue": "",
                      "caseSensitive": true,
                      "typeValidation": "strict"
                    },
                    "combinator": "and",
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "={{ $json.output.intent }}",
                        "rightValue": "follow_up_later"
                      }
                    ]
                  },
                  "renameOutput": true
                },
                {
                  "outputKey": "not_interested",
                  "conditions": {
                    "options": {
                      "leftValue": "",
                      "caseSensitive": true,
                      "typeValidation": "strict"
                    },
                    "combinator": "and",
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "={{ $json.output.intent }}",
                        "rightValue": "not_interested"
                      }
                    ]
                  },
                  "renameOutput": true
                },
                {
                  "outputKey": "unclear",
                  "conditions": {
                    "options": {
                      "leftValue": "",
                      "caseSensitive": true,
                      "typeValidation": "strict"
                    },
                    "combinator": "and",
                    "conditions": [
                      {
                        "operator": {
                          "type": "string",
                          "operation": "equals"
                        },
                        "leftValue": "={{ $json.output.intent }}",
                        "rightValue": "unclear"
                      }
                    ]
                  },
                  "renameOutput": true
                }
              ]
            },
            "options": {}
          },
          "typeVersion": 3.4
        },
        {
          "id": "f263ceb7-c1cb-40da-a31a-0e346636f79f",
          "name": "Mark as Qualified",
          "type": "n8n-nodes-base.set",
          "position": [
            9120,
            1904
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "lead_status",
                  "type": "string",
                  "value": "qualified"
                },
                {
                  "id": "id-2",
                  "name": "qualification_date",
                  "type": "string",
                  "value": "={{ $now.toISO() }}"
                },
                {
                  "id": "id-3",
                  "name": "ai_confidence",
                  "type": "number",
                  "value": "={{ $json.output.confidence }}"
                },
                {
                  "id": "id-4",
                  "name": "suggested_reply",
                  "type": "string",
                  "value": "={{ $json.output.suggested_reply }}"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "1c07b4ab-6f1c-467a-87a8-4fd3d21a2def",
          "name": "Log Qualified Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            10272,
            2048
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "qualified",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({status: 'qualified', confidence: $json.ai_confidence, reply: $json.reply_text}) }}"
              },
              "schema": [
                {
                  "id": "client_id",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "client_id",
                  "defaultMatch": true,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "lead_email",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "lead_email",
                  "defaultMatch": true,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "event_type",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "event_type",
                  "defaultMatch": true,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "payload_json",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "payload_json",
                  "defaultMatch": true,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "created_at",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "created_at",
                  "defaultMatch": true,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "client_id",
                "lead_email",
                "event_type",
                "payload_json",
                "created_at"
              ]
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "1db6decc-685b-4ab8-a553-7b3c2c7aff47",
          "name": "Calculate Follow-up Date",
          "type": "n8n-nodes-base.code",
          "position": [
            9120,
            2320
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Calculate follow-up date 7 days from now\nconst followUpDate = new Date();\nfollowUpDate.setDate(followUpDate.getDate() + 7);\n\nreturn {\n  json: {\n    ...item.json,\n    follow_up_date: followUpDate.toISOString()\n  }\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "963bb757-b701-4518-bb59-e78617e00d28",
          "name": "Prepare Follow-up Event",
          "type": "n8n-nodes-base.set",
          "position": [
            9936,
            2320
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "lead_status",
                  "type": "string",
                  "value": "follow_up_scheduled"
                },
                {
                  "id": "id-2",
                  "name": "scheduled_date",
                  "type": "string",
                  "value": "={{ $json.follow_up_date }}"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "c6e10226-b26d-42a7-b974-521190b6862b",
          "name": "Log Follow-up Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            10256,
            2320
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "follow_up_scheduled",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({follow_up_date: $json.follow_up_date, reply: $json.reply_text}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "9dacbdea-af90-43b8-802b-2377de7cd24f",
          "name": "Mark as Not Interested",
          "type": "n8n-nodes-base.set",
          "position": [
            9120,
            2496
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "lead_status",
                  "type": "string",
                  "value": "closed_lost"
                },
                {
                  "id": "id-2",
                  "name": "closed_date",
                  "type": "string",
                  "value": "={{ $now.toISO() }}"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "2bae1599-4933-47e4-aa0c-9304625586b4",
          "name": "Log Closed Lost Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            9392,
            2496
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "closed_lost",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({reason: 'not_interested', reply: $json.reply_text}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "196d20b1-b571-41ac-b2a4-0e391f4fe4c4",
          "name": "Mark as Needs Review",
          "type": "n8n-nodes-base.set",
          "position": [
            9120,
            2672
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "lead_status",
                  "type": "string",
                  "value": "needs_manual_review"
                },
                {
                  "id": "id-2",
                  "name": "flagged_date",
                  "type": "string",
                  "value": "={{ $now.toISO() }}"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "3e0eb401-0e65-4040-8471-037da7c01d26",
          "name": "Log Manual Review Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            9920,
            2672
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "needs_manual_review",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({reason: 'unclear_intent', reply: $json.reply_text}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "2ac0e1e6-ee42-477f-bcdd-46fc258dc95d",
          "name": "Aggregate All Results",
          "type": "n8n-nodes-base.aggregate",
          "position": [
            10624,
            2080
          ],
          "parameters": {
            "options": {},
            "aggregate": "aggregateAllItemData"
          },
          "typeVersion": 1
        },
        {
          "id": "c5b989f7-0f63-4609-92a4-80f6105dd461",
          "name": "Calculate Final Stats",
          "type": "n8n-nodes-base.code",
          "position": [
            11904,
            2336
          ],
          "parameters": {
            "jsCode": "// Calculate final statistics from all processed leads\nconst allData = $input.all();\n\nconst stats = {\n  total_leads: allData.length,\n  qualified: 0,\n  follow_up_scheduled: 0,\n  closed_lost: 0,\n  needs_manual_review: 0,\n  enrichment_success: 0,\n  enrichment_failed: 0,\n  avg_confidence: 0\n};\n\nlet totalConfidence = 0;\nlet confidenceCount = 0;\n\nfor (const item of allData) {\n  const data = item.json;\n  \n  // Count lead statuses\n  if (data.lead_status === 'qualified') {\n    stats.qualified++;\n  } else if (data.lead_status === 'follow_up_scheduled') {\n    stats.follow_up_scheduled++;\n  } else if (data.lead_status === 'closed_lost') {\n    stats.closed_lost++;\n  } else if (data.lead_status === 'needs_manual_review') {\n    stats.needs_manual_review++;\n  }\n  \n  // Count enrichment success/failure\n  if (data.enrichment_status === 'success') {\n    stats.enrichment_success++;\n  } else if (data.enrichment_status === 'failed') {\n    stats.enrichment_failed++;\n  }\n  \n  // Calculate average confidence\n  if (data.ai_confidence !== undefined && data.ai_confidence !== null) {\n    totalConfidence += data.ai_confidence;\n    confidenceCount++;\n  }\n}\n\n// Calculate average confidence\nif (confidenceCount > 0) {\n  stats.avg_confidence = (totalConfidence / confidenceCount).toFixed(2);\n}\n\n// Calculate percentages\nstats.qualified_rate = ((stats.qualified / stats.total_leads) * 100).toFixed(1) + '%';\nstats.enrichment_success_rate = ((stats.enrichment_success / stats.total_leads) * 100).toFixed(1) + '%';\n\nreturn [{ json: stats }];"
          },
          "typeVersion": 2
        },
        {
          "id": "979fa778-6ad4-4063-83af-14e010a721e5",
          "name": "Extra Enrichment API 2",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            656,
            1488
          ],
          "parameters": {
            "url": "=https://jsonplaceholder.typicode.com/posts/{{ Math.floor(Math.random() * 10) + 1 }}",
            "options": {
              "response": {
                "response": {
                  "responseFormat": "json"
                }
              }
            }
          },
          "typeVersion": 4.3
        },
        {
          "id": "97de1599-b0c9-4a1b-b1f5-fb3fc3085b06",
          "name": "Normalize Enrichment Data",
          "type": "n8n-nodes-base.code",
          "position": [
            1184,
            1280
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Get the original lead data from Load Test Leads node\nconst originalLead = $('Load Test Leads').item.json;\n\n// Get the first enrichment response from Enrich Lead via HTTP\nconst firstEnrichment = $('Enrich Lead via HTTP').item.json;\n\n// Get the second enrichment response from Extra Enrichment API 2\nconst secondEnrichment = $input.item.json;\n\n// Normalize and merge all enrichment data\nreturn {\n  ...originalLead,\n  // First enrichment data\n  enriched_name: firstEnrichment.name || '',\n  enriched_username: firstEnrichment.username || '',\n  enriched_email: firstEnrichment.email || '',\n  enriched_phone: firstEnrichment.phone || '',\n  enriched_website: firstEnrichment.website || '',\n  enriched_company: firstEnrichment.company?.name || '',\n  enriched_address: firstEnrichment.address ? `${firstEnrichment.address.street}, ${firstEnrichment.address.city}` : '',\n  \n  // Second enrichment data (additional fields)\n  extra_enriched_data: secondEnrichment.data || {},\n  extra_enriched_score: secondEnrichment.score || 0,\n  extra_enriched_tags: secondEnrichment.tags || [],\n  \n  // Combined tech stack and other fields\n  tech_stack: secondEnrichment.tech_stack || ['React', 'Node.js', 'PostgreSQL', 'AWS'],\n  employee_count: secondEnrichment.employee_count || Math.floor(Math.random() * 500) + 50,\n  estimated_revenue: secondEnrichment.estimated_revenue || Math.floor(Math.random() * 10000000) + 1000000,\n  pain_points: secondEnrichment.pain_points || `Scaling challenges in ${originalLead.industry}, need for automation and efficiency improvements`\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "3b8953fc-4f54-47ea-b34f-3e1edf50cd1c",
          "name": "Check Extra Enrichment Success",
          "type": "n8n-nodes-base.if",
          "position": [
            896,
            1488
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "string",
                    "operation": "notEmpty"
                  },
                  "leftValue": "={{ $json.id }}"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "2e49688f-d11f-4c40-bbc5-eed790e830f3",
          "name": "Log Enrichment Success",
          "type": "n8n-nodes-base.set",
          "position": [
            1424,
            1280
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "extra_enrichment_status",
                  "type": "string",
                  "value": "success"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "8698436d-f5da-4d5b-8cb5-0e923a77a05e",
          "name": "Insert Enrichment Success Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            1680,
            1280
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "enrichment_success",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({extra_data: true}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "1e384c69-c4fd-4287-9747-5fc815fb4cc1",
          "name": "Log Enrichment Failure",
          "type": "n8n-nodes-base.set",
          "position": [
            1184,
            1504
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "extra_enrichment_status",
                  "type": "string",
                  "value": "failed"
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "6544838f-3b0e-499b-b215-09e60c4c62dd",
          "name": "Insert Enrichment Failed Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            1424,
            1504
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "enrichment_failed",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({reason: 'extra_api_failed'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "df3aa0db-5a61-4c44-937b-9d1647675467",
          "name": "Compute Lead Score",
          "type": "n8n-nodes-base.code",
          "position": [
            992,
            2080
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Calculate lead score based on multiple factors\nconst item = $input.item.json;\n\nlet score = 0;\n\n// Industry scoring (0-30 points)\nconst highValueIndustries = ['SaaS', 'Cloud Infrastructure', 'Artificial Intelligence', 'Cybersecurity', 'Data Analytics'];\nconst mediumValueIndustries = ['FinTech', 'E-commerce', 'Healthcare Tech', 'EdTech'];\n\nif (highValueIndustries.includes(item.industry)) {\n  score += 30;\n} else if (mediumValueIndustries.includes(item.industry)) {\n  score += 20;\n} else {\n  score += 10;\n}\n\n// Country scoring (0-20 points)\nconst tier1Countries = ['USA', 'UK', 'Germany', 'Canada', 'Australia'];\nconst tier2Countries = ['France', 'Netherlands', 'Sweden', 'Singapore', 'Japan'];\n\nif (tier1Countries.includes(item.country)) {\n  score += 20;\n} else if (tier2Countries.includes(item.country)) {\n  score += 15;\n} else {\n  score += 10;\n}\n\n// Employee count scoring (0-25 points)\nconst employeeCount = item.employee_count || 0;\nif (employeeCount >= 200) {\n  score += 25;\n} else if (employeeCount >= 100) {\n  score += 20;\n} else if (employeeCount >= 50) {\n  score += 15;\n} else {\n  score += 10;\n}\n\n// Estimated revenue scoring (0-25 points)\nconst revenue = item.estimated_revenue || 0;\nif (revenue >= 5000000) {\n  score += 25;\n} else if (revenue >= 2000000) {\n  score += 20;\n} else if (revenue >= 1000000) {\n  score += 15;\n} else {\n  score += 10;\n}\n\n// Pain points detail scoring (0-10 points)\nconst painPointsLength = (item.pain_points || '').length;\nif (painPointsLength > 100) {\n  score += 10;\n} else if (painPointsLength > 50) {\n  score += 7;\n} else {\n  score += 5;\n}\n\n// Enrichment success bonus (0-10 points)\nif (item.enrichment_status === 'success') {\n  score += 10;\n}\n\n// Determine score tier\nlet scoreTier = 'LOW';\nif (score >= 80) {\n  scoreTier = 'HIGH';\n} else if (score >= 60) {\n  scoreTier = 'MEDIUM';\n}\n\nreturn {\n  ...item,\n  lead_score: score,\n  score_tier: scoreTier\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "3700fef3-2fbf-4072-9a3a-9ec616ed543d",
          "name": "Branch by Lead Score",
          "type": "n8n-nodes-base.switch",
          "position": [
            1216,
            2064
          ],
          "parameters": {
            "rules": {
              "values": [
                {
                  "outputKey": "HIGH",
                  "conditions": {
                    "options": {
                      "leftValue": "",
                      "caseSensitive": true,
                      "typeValidation": "strict"
                    },
                    "combinator": "and",
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        },
                        "leftValue": "={{ $json.lead_score }}",
                        "rightValue": 70
                      }
                    ]
                  },
                  "renameOutput": true
                },
                {
                  "outputKey": "MEDIUM",
                  "conditions": {
                    "options": {
                      "leftValue": "",
                      "caseSensitive": true,
                      "typeValidation": "strict"
                    },
                    "combinator": "and",
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "gte"
                        },
                        "leftValue": "={{ $json.lead_score }}",
                        "rightValue": 40
                      }
                    ]
                  },
                  "renameOutput": true
                },
                {
                  "outputKey": "LOW",
                  "conditions": {
                    "options": {
                      "leftValue": "",
                      "caseSensitive": true,
                      "typeValidation": "strict"
                    },
                    "combinator": "and",
                    "conditions": [
                      {
                        "operator": {
                          "type": "number",
                          "operation": "lt"
                        },
                        "leftValue": "={{ $json.lead_score }}",
                        "rightValue": 40
                      }
                    ]
                  },
                  "renameOutput": true
                }
              ]
            },
            "options": {}
          },
          "typeVersion": 3.4
        },
        {
          "id": "2cd99946-6af3-4877-b192-04579ca323e3",
          "name": "Set HIGH Score Attributes",
          "type": "n8n-nodes-base.set",
          "position": [
            1504,
            1872
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "score_tier",
                  "type": "string",
                  "value": "HIGH"
                },
                {
                  "id": "id-2",
                  "name": "outreach_tone",
                  "type": "string",
                  "value": "premium"
                },
                {
                  "id": "id-3",
                  "name": "priority_flag",
                  "type": "boolean",
                  "value": true
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "dbf73d0d-82bf-4e38-8b4b-545170439df9",
          "name": "Log HIGH Score Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            1680,
            1872
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "lead_scored_high",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({score: $json.lead_score, tier: 'HIGH'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "3bccd5ca-85d9-487f-8967-fae75f413309",
          "name": "Set MEDIUM Score Attributes",
          "type": "n8n-nodes-base.set",
          "position": [
            1504,
            2080
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "score_tier",
                  "type": "string",
                  "value": "MEDIUM"
                },
                {
                  "id": "id-2",
                  "name": "outreach_tone",
                  "type": "string",
                  "value": "standard"
                },
                {
                  "id": "id-3",
                  "name": "priority_flag",
                  "type": "boolean",
                  "value": false
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "a5eb6b54-5104-4f75-9086-a302f9a64cde",
          "name": "Log MEDIUM Score Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            1680,
            2080
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "lead_scored_medium",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({score: $json.lead_score, tier: 'MEDIUM'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "9e870315-d671-4157-baef-76fffb6756c1",
          "name": "Set LOW Score Attributes",
          "type": "n8n-nodes-base.set",
          "position": [
            1504,
            2288
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "id-1",
                  "name": "score_tier",
                  "type": "string",
                  "value": "LOW"
                },
                {
                  "id": "id-2",
                  "name": "outreach_tone",
                  "type": "string",
                  "value": "basic"
                },
                {
                  "id": "id-3",
                  "name": "priority_flag",
                  "type": "boolean",
                  "value": false
                }
              ]
            },
            "includeOtherFields": true
          },
          "typeVersion": 3.4
        },
        {
          "id": "f379f08d-5980-479e-b90e-bc9a4edf7745",
          "name": "Log LOW Score Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            1680,
            2288
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "lead_scored_low",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({score: $json.lead_score, tier: 'LOW'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "26a901ad-2990-4f61-b708-48264cd88273",
          "name": "Generate LinkedIn Message",
          "type": "n8n-nodes-base.code",
          "position": [
            3728,
            2096
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Generate a short LinkedIn DM message based on the email body\nconst emailBody = $json.email_body || '';\nconst contactName = $json.contact_name || 'there';\nconst companyName = $json.company_name || '';\n\n// Create a shorter, more casual version for LinkedIn\n// Extract key points from email and make it conversational\nconst linkedInMessage = `Hi ${contactName},\\n\\nI sent you an email about how we can help ${companyName}, but thought I'd reach out here too.\\n\\nWould love to connect and chat about the challenges you're facing in ${$json.industry || 'your industry'}.\\n\\nBest,\\nAI SDR Bot`;\n\nreturn {\n  json: {\n    ...item.json,\n    linkedin_message: linkedInMessage\n  }\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "5c7826e0-e548-438d-b4d4-541a4c3ebccf",
          "name": "Generate WhatsApp Message",
          "type": "n8n-nodes-base.code",
          "position": [
            3904,
            2096
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Generate a short WhatsApp/SMS message based on the email body\nconst emailBody = $json.email_body || '';\nconst contactName = $json.contact_name || 'there';\nconst companyName = $json.company_name || '';\n\n// Extract first sentence or key point from email body\nlet shortMessage = emailBody.split('.')[0] + '.';\n\n// If too long, create a custom short message\nif (shortMessage.length > 160) {\n  shortMessage = `Hi ${contactName.split(' ')[0]}, I noticed ${companyName} might benefit from our solution. Quick chat? Reply YES for details.`;\n}\n\n// Ensure it's under SMS character limit (160 chars)\nif (shortMessage.length > 160) {\n  shortMessage = shortMessage.substring(0, 157) + '...';\n}\n\nreturn {\n  ...item.json,\n  whatsapp_message: shortMessage,\n  message_length: shortMessage.length\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "08476904-e459-41c1-b1d3-e2ca015c6ba8",
          "name": "Check if Multichannel Eligible",
          "type": "n8n-nodes-base.if",
          "position": [
            4096,
            2096
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "or",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "string",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.score_tier }}",
                  "rightValue": "HIGH"
                },
                {
                  "id": "id-2",
                  "operator": {
                    "type": "string",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.score_tier }}",
                  "rightValue": "MEDIUM"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "5ede2ca6-7cf6-49a1-a463-8db3bca380db",
          "name": "Simulate LinkedIn Send",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            4336,
            2000
          ],
          "parameters": {
            "url": "https://jsonplaceholder.typicode.com/posts",
            "method": "POST",
            "options": {
              "response": {
                "response": {
                  "responseFormat": "json"
                }
              }
            },
            "sendBody": true,
            "bodyParameters": {
              "parameters": [
                {
                  "name": "message",
                  "value": "={{ $json.linkedin_message }}"
                }
              ]
            }
          },
          "typeVersion": 4.3
        },
        {
          "id": "fc42a215-a14e-410d-9a5a-77a557ec8a8f",
          "name": "Check LinkedIn Send Success",
          "type": "n8n-nodes-base.if",
          "position": [
            5136,
            2016
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "string",
                    "operation": "notEmpty"
                  },
                  "leftValue": "={{ $json.id }}"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "4b4b7f5c-5f57-4889-a99b-819d369fa223",
          "name": "Log LinkedIn Success",
          "type": "n8n-nodes-base.postgres",
          "position": [
            5568,
            1936
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "linkedin_sent",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({message: $json.linkedin_message}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "8f7ea44d-a3ac-49af-8ebe-533eb26067cc",
          "name": "Log LinkedIn Failure",
          "type": "n8n-nodes-base.postgres",
          "position": [
            5344,
            2032
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "linkedin_failed",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({reason: 'api_error'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "e86411ae-e356-41df-bbe3-7d7af600f490",
          "name": "Simulate WhatsApp Send",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            5792,
            2032
          ],
          "parameters": {
            "url": "https://jsonplaceholder.typicode.com/posts",
            "method": "POST",
            "options": {
              "response": {
                "response": {
                  "responseFormat": "json"
                }
              }
            },
            "sendBody": true,
            "bodyParameters": {
              "parameters": [
                {
                  "name": "message",
                  "value": "={{ $json.whatsapp_message }}"
                }
              ]
            }
          },
          "typeVersion": 4.3
        },
        {
          "id": "a2000b43-df14-485f-abf1-77ccd43162e2",
          "name": "Check WhatsApp Send Success",
          "type": "n8n-nodes-base.if",
          "position": [
            6656,
            2016
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "string",
                    "operation": "notEmpty"
                  },
                  "leftValue": "={{ $json.id }}"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "b736ae57-1090-4969-950c-c7b99c506d5a",
          "name": "Log WhatsApp Success",
          "type": "n8n-nodes-base.postgres",
          "position": [
            6896,
            1920
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "whatsapp_sent",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({message: $json.whatsapp_message}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "f84aa8fd-0a55-42c5-b24d-f8f8036936f2",
          "name": "Log WhatsApp Failure",
          "type": "n8n-nodes-base.postgres",
          "position": [
            7056,
            2032
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "whatsapp_failed",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({reason: 'api_error'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "547495e0-56dd-4012-a247-20d75a879a09",
          "name": "Create Subject Variants A/B",
          "type": "n8n-nodes-base.code",
          "position": [
            2768,
            2080
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Create A/B test variants for email subject line\nconst originalSubject = $json.email_subject || 'No subject';\n\n// Create two variants\nconst subject_A = originalSubject;\nconst subject_B = originalSubject.replace(/^/, ' '); // Add emoji prefix for variant B\n\n// Randomly choose which variant to use\nconst chosen_variant = Math.random() < 0.5 ? 'A' : 'B';\nconst final_subject = chosen_variant === 'A' ? subject_A : subject_B;\n\nreturn {\n  ...item.json,\n  subject_A: subject_A,\n  subject_B: subject_B,\n  chosen_variant: chosen_variant,\n  email_subject: final_subject\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "5c4c1413-c371-4143-a41a-aa46de1d5f04",
          "name": "Log Subject Variant",
          "type": "n8n-nodes-base.postgres",
          "position": [
            2944,
            2080
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "subject_variant",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({variant: $json.chosen_variant, subject_A: $json.subject_A, subject_B: $json.subject_B}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "3835a177-c174-4c30-aa1a-92fe40f61715",
          "name": "AI - Draft Meeting Follow-up",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            9296,
            1904
          ],
          "parameters": {
            "text": "=Draft a meeting follow-up for {{ $json.contact_name }} at {{ $json.company_name }} who showed interest",
            "options": {
              "systemMessage": "You are a sales assistant. Draft a brief meeting follow-up message proposing a 30-minute call. Suggest a time 2 days from now at 2pm. Return meeting_message, suggested_time, and duration_minutes."
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 3
        },
        {
          "id": "b13e9b63-677a-45f2-a37c-3ceb421dbbf2",
          "name": "OpenAI Chat Model - Meeting",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
          "position": [
            9248,
            2096
          ],
          "parameters": {
            "model": {
              "__rl": true,
              "mode": "list",
              "value": "gpt-4o-mini"
            },
            "options": {},
            "builtInTools": {}
          },
          "typeVersion": 1.3
        },
        {
          "id": "51bc0d26-5f33-4426-8469-060cc74a543d",
          "name": "Structured Output - Meeting",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            9408,
            2096
          ],
          "parameters": {
            "schemaType": "manual",
            "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"meeting_message\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"description\": \"Meeting follow-up message\"\n\t\t},\n\t\t\"suggested_time\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"description\": \"Suggested meeting time\"\n\t\t},\n\t\t\"duration_minutes\": {\n\t\t\t\"type\": \"number\",\n\t\t\t\"description\": \"Meeting duration in minutes\"\n\t\t}\n\t},\n\t\"required\": [\"meeting_message\", \"suggested_time\", \"duration_minutes\"]\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "d1636f71-c508-419f-9190-acf72672d541",
          "name": "Create Meeting Object",
          "type": "n8n-nodes-base.code",
          "position": [
            9680,
            1904
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Create meeting object from AI-generated meeting follow-up\nconst aiOutput = $json.output || {};\n\n// Extract meeting details from AI output\nconst meetingObject = {\n  client_id: $json.client_id,\n  lead_email: $json.contact_email,\n  status: 'scheduled',\n  suggested_time: aiOutput.suggested_time || new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),\n  metadata_json: JSON.stringify({\n    company_name: $json.company_name,\n    contact_name: $json.contact_name,\n    industry: $json.industry,\n    ai_confidence: $json.ai_confidence,\n    meeting_notes: aiOutput.meeting_notes || '',\n    agenda: aiOutput.agenda || ''\n  })\n};\n\nreturn {\n  json: {\n    ...$json,\n    ...meetingObject\n  }\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "e9316ad2-9b86-4a4f-b209-cef168bad7fd",
          "name": "Insert Meeting Record",
          "type": "n8n-nodes-base.postgres",
          "position": [
            10048,
            2048
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "meetings"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "status": "proposed",
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "lead_email": "={{ $json.contact_email }}",
                "metadata_json": "={{ $json.metadata_json }}",
                "suggested_time": "={{ $json.suggested_time }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "731f2d70-ce53-4d0e-a2a9-19dc01d503f6",
          "name": "Calculate Extended Follow-up Date",
          "type": "n8n-nodes-base.code",
          "position": [
            9376,
            2320
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "// Calculate follow-up date 14 days from now\nconst followUpDate = new Date();\nfollowUpDate.setDate(followUpDate.getDate() + 14);\n\nreturn {\n  json: {\n    ...item.json,\n    follow_up_date: followUpDate.toISOString()\n  }\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "0798406a-1c6a-4e6a-88a2-1e825806a4f4",
          "name": "Insert Extended Follow-up Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            9680,
            2320
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "extended_follow_up_scheduled",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({follow_up_date: $json.extended_follow_up_date, days: 14}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "1a018f04-1670-4182-ae1e-5cd6258c5c3e",
          "name": "Send Slack Notification",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            9408,
            2672
          ],
          "parameters": {
            "url": "https://hooks.slack.com/services/DUMMY/WEBHOOK",
            "method": "POST",
            "options": {
              "response": {
                "response": {
                  "responseFormat": "json"
                }
              }
            },
            "jsonBody": "={\n  \"text\": \"Manual review needed for {{ $json.contact_name }}\"\n}",
            "sendBody": true,
            "specifyBody": "json"
          },
          "typeVersion": 4.3
        },
        {
          "id": "e650c2bc-8dc2-4f7c-a6ee-63fcd31cd449",
          "name": "Log Manual Review Notification",
          "type": "n8n-nodes-base.postgres",
          "position": [
            9664,
            2672
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "slack_notification_sent",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({reason: 'manual_review'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "4fbecab6-a64a-4fb0-830e-cdf4c0155857",
          "name": "Aggregate by Lead Score",
          "type": "n8n-nodes-base.code",
          "position": [
            11120,
            2080
          ],
          "parameters": {
            "jsCode": "// Aggregate counts by lead score tier (HIGH/MEDIUM/LOW)\nconst allData = $input.all();\n\nconst scoreAggregation = {\n  HIGH: 0,\n  MEDIUM: 0,\n  LOW: 0,\n  UNKNOWN: 0\n};\n\nfor (const item of allData) {\n  const data = item.json;\n  const leadScore = data.score_tier || 'UNKNOWN';\n  \n  if (scoreAggregation.hasOwnProperty(leadScore)) {\n    scoreAggregation[leadScore]++;\n  } else {\n    scoreAggregation.UNKNOWN++;\n  }\n}\n\nreturn [{ json: scoreAggregation }];"
          },
          "typeVersion": 2
        },
        {
          "id": "5ceb9b79-83bf-489f-91b6-5e6dddb77457",
          "name": "Aggregate by Channel",
          "type": "n8n-nodes-base.code",
          "position": [
            11376,
            2080
          ],
          "parameters": {
            "jsCode": "// Aggregate counts by channel used (email_only vs multichannel)\nconst allData = $input.all();\n\nconst channelStats = {\n  email_only: 0,\n  multichannel: 0,\n  linkedin_sent: 0,\n  whatsapp_sent: 0,\n  total_touchpoints: 0\n};\n\nfor (const item of allData) {\n  const data = item.json;\n  \n  // Check if multichannel was used (LinkedIn or WhatsApp)\n  const hasLinkedIn = data.linkedin_sent === true || data.linkedin_status === 'success';\n  const hasWhatsApp = data.whatsapp_sent === true || data.whatsapp_status === 'success';\n  \n  if (hasLinkedIn || hasWhatsApp) {\n    channelStats.multichannel++;\n    channelStats.total_touchpoints++; // Email\n    \n    if (hasLinkedIn) {\n      channelStats.linkedin_sent++;\n      channelStats.total_touchpoints++;\n    }\n    \n    if (hasWhatsApp) {\n      channelStats.whatsapp_sent++;\n      channelStats.total_touchpoints++;\n    }\n  } else {\n    channelStats.email_only++;\n    channelStats.total_touchpoints++;\n  }\n}\n\n// Calculate percentages\nconst totalLeads = channelStats.email_only + channelStats.multichannel;\nif (totalLeads > 0) {\n  channelStats.multichannel_rate = ((channelStats.multichannel / totalLeads) * 100).toFixed(1) + '%';\n  channelStats.avg_touchpoints_per_lead = (channelStats.total_touchpoints / totalLeads).toFixed(2);\n}\n\nreturn [{ json: channelStats }];"
          },
          "typeVersion": 2
        },
        {
          "id": "212f746b-3f73-4ac9-93ab-e80355bc871d",
          "name": "Prepare Analytics Daily Row",
          "type": "n8n-nodes-base.code",
          "position": [
            11648,
            2080
          ],
          "parameters": {
            "jsCode": "// Prepare analytics_daily row with aggregated metrics\nconst allData = $input.all();\n\n// Initialize counters\nconst analytics = {\n  date: new Date().toISOString().split('T')[0], // YYYY-MM-DD format\n  total_leads: allData.length,\n  high_score: 0,\n  medium_score: 0,\n  low_score: 0,\n  meetings_created: 0,\n  multichannel_count: 0\n};\n\n// Count metrics from all items\nfor (const item of allData) {\n  const data = item.json;\n  \n  // Count by lead score\n  if (data.score_tier === 'HIGH') {\n    analytics.high_score++;\n  } else if (data.score_tier === 'MEDIUM') {\n    analytics.medium_score++;\n  } else if (data.score_tier === 'LOW') {\n    analytics.low_score++;\n  }\n  \n  // Count meetings created\n  if (data.meeting_scheduled === true || data.lead_status === 'qualified') {\n    analytics.meetings_created++;\n  }\n  \n  // Count multichannel outreach\n  if (data.linkedin_sent === true || data.whatsapp_sent === true) {\n    analytics.multichannel_count++;\n  }\n}\n\nreturn [{ json: analytics }];"
          },
          "typeVersion": 2
        },
        {
          "id": "9c12b7c9-b4c5-4cb9-9247-7a63272bf3eb",
          "name": "Insert Analytics Daily Row",
          "type": "n8n-nodes-base.postgres",
          "position": [
            11120,
            2336
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "analytics_daily"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "date": "={{ $now.format('yyyy-MM-dd') }}",
                "low_score": "={{ $json.low_score }}",
                "created_at": "={{ $now.toISO() }}",
                "high_score": "={{ $json.high_score }}",
                "total_leads": "={{ $json.total_leads }}",
                "medium_score": "={{ $json.medium_score }}",
                "meetings_created": "={{ $json.meetings_created }}",
                "multichannel_count": "={{ $json.multichannel_count }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "36637bfd-f264-4db9-8dbc-55f170e214da",
          "name": "Enrich Final Stats",
          "type": "n8n-nodes-base.code",
          "position": [
            11680,
            2336
          ],
          "parameters": {
            "jsCode": "// Enrich final stats with new metrics from analytics aggregation\nconst allData = $input.all();\n\n// Get the base stats from Calculate Final Stats node\nconst baseStats = allData[0]?.json || {};\n\n// Calculate additional enrichment metrics\nlet totalEnrichmentAttempts = 0;\nlet successfulEnrichments = 0;\nlet failedEnrichments = 0;\nlet avgEnrichmentScore = 0;\nlet enrichmentScoreCount = 0;\n\n// Calculate channel distribution\nconst channelStats = {\n  email_only: 0,\n  email_linkedin: 0,\n  email_whatsapp: 0,\n  multichannel: 0\n};\n\n// Calculate lead score distribution\nconst scoreDistribution = {\n  high: 0,\n  medium: 0,\n  low: 0\n};\n\nfor (const item of allData) {\n  const data = item.json;\n  \n  // Count enrichment metrics\n  if (data.enrichment_status) {\n    totalEnrichmentAttempts++;\n    if (data.enrichment_status === 'success') {\n      successfulEnrichments++;\n    } else if (data.enrichment_status === 'failed') {\n      failedEnrichments++;\n    }\n  }\n  \n  // Calculate enrichment scores if available\n  if (data.enrichment_score !== undefined && data.enrichment_score !== null) {\n    avgEnrichmentScore += data.enrichment_score;\n    enrichmentScoreCount++;\n  }\n  \n  // Count channel usage\n  if (data.linkedin_sent && data.whatsapp_sent) {\n    channelStats.multichannel++;\n  } else if (data.linkedin_sent) {\n    channelStats.email_linkedin++;\n  } else if (data.whatsapp_sent) {\n    channelStats.email_whatsapp++;\n  } else {\n    channelStats.email_only++;\n  }\n  \n  // Count lead score distribution\n  if (data.score_tier === 'high') {\n    scoreDistribution.high++;\n  } else if (data.score_tier === 'medium') {\n    scoreDistribution.medium++;\n  } else if (data.score_tier === 'low') {\n    scoreDistribution.low++;\n  }\n}\n\n// Calculate averages\nif (enrichmentScoreCount > 0) {\n  avgEnrichmentScore = (avgEnrichmentScore / enrichmentScoreCount).toFixed(2);\n}\n\n// Merge with base stats\nconst enrichedStats = {\n  ...baseStats,\n  enrichment_metrics: {\n    total_attempts: totalEnrichmentAttempts,\n    successful: successfulEnrichments,\n    failed: failedEnrichments,\n    success_rate: totalEnrichmentAttempts > 0 ? ((successfulEnrichments / totalEnrichmentAttempts) * 100).toFixed(1) + '%' : '0%',\n    avg_enrichment_score: avgEnrichmentScore\n  },\n  channel_distribution: channelStats,\n  lead_score_distribution: scoreDistribution,\n  multichannel_rate: baseStats.total_leads > 0 ? ((channelStats.multichannel / baseStats.total_leads) * 100).toFixed(1) + '%' : '0%',\n  high_score_rate: baseStats.total_leads > 0 ? ((scoreDistribution.high / baseStats.total_leads) * 100).toFixed(1) + '%' : '0%'\n};\n\nreturn [{ json: enrichedStats }];"
          },
          "typeVersion": 2
        },
        {
          "id": "8bd2cd97-2411-421c-9486-1a855a8a6620",
          "name": "Validate Email Format",
          "type": "n8n-nodes-base.code",
          "position": [
            416,
            752
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const email = $json.contact_email || '';\nconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\nconst isValid = emailRegex.test(email);\nconst domain = email.includes('@') ? email.split('@')[1] : '';\n\nreturn {\n  ...item.json,\n  invalid_email: !isValid,\n  email_domain: domain\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "7249f15b-a036-4ded-b518-e373214a845e",
          "name": "Check Suppression List",
          "type": "n8n-nodes-base.code",
          "position": [
            640,
            752
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const blockedDomains = ['spam.com', 'blocked.net', 'noreply.org'];\nconst blockedEmails = ['test@example.com', 'user@example.com'];\n\nconst email = $json.contact_email || '';\nconst domain = $json.email_domain || '';\n\nconst isBlocked = blockedDomains.includes(domain) || blockedEmails.includes(email);\n\nreturn {\n  ...item.json,\n  blocked_domain: blockedDomains.includes(domain),\n  blocked_email: blockedEmails.includes(email),\n  is_suppressed: isBlocked\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "d8df6962-2015-441b-b039-785c225a59b5",
          "name": "Check if Invalid or Suppressed",
          "type": "n8n-nodes-base.if",
          "position": [
            864,
            752
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "or",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "boolean",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.invalid_email }}",
                  "rightValue": true
                },
                {
                  "id": "id-2",
                  "operator": {
                    "type": "boolean",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.is_suppressed }}",
                  "rightValue": true
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "9ca556a9-dbd3-46d3-a36d-ba4a94b945d6",
          "name": "Log Invalid Lead Event",
          "type": "n8n-nodes-base.postgres",
          "position": [
            1136,
            736
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "suppressed",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({invalid_email: $json.invalid_email, is_suppressed: $json.is_suppressed, reason: $json.invalid_email ? 'invalid_email' : 'suppressed'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "162bbc08-9e96-49dc-a741-ec468c42484b",
          "name": "Load Config",
          "type": "n8n-nodes-base.code",
          "position": [
            1664,
            1504
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const config = {\n  email_limit: 100,\n  linkedin_limit: 50,\n  whatsapp_limit: 30,\n  quiet_hours: false,\n  quiet_start: 22,\n  quiet_end: 8\n};\n\nconst currentHour = new Date().getHours();\nconst isQuietHours = currentHour >= config.quiet_start || currentHour < config.quiet_end;\n\nreturn {\n  ...item.json,\n  config: config,\n  is_quiet_hours: isQuietHours\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "cf547e84-dc89-4ab0-9076-d0c69c29ae58",
          "name": "Check Email Rate Limit",
          "type": "n8n-nodes-base.code",
          "position": [
            3120,
            2080
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const config = $json.config || {};\nconst emailLimit = config.email_limit || 100;\nconst isQuietHours = $json.is_quiet_hours || false;\nconst currentCount = Math.floor(Math.random() * 120);\n\nconst withinLimit = currentCount < emailLimit && !isQuietHours;\n\nreturn {\n  ...item.json,\n  email_rate_ok: withinLimit,\n  email_current_count: currentCount\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "3f449110-8f36-4a94-9b17-899e4f56e292",
          "name": "Email Rate OK?",
          "type": "n8n-nodes-base.if",
          "position": [
            3296,
            2080
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "boolean",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.email_rate_ok }}",
                  "rightValue": true
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "5819bf89-2ae8-440d-9941-7f1eb6640c5f",
          "name": "Log Email Rate Limited",
          "type": "n8n-nodes-base.postgres",
          "position": [
            3504,
            2000
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "rate_limited_email",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({current_count: $json.email_current_count, is_quiet_hours: $json.is_quiet_hours}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "9658c74e-8d04-4be7-afcc-8c065de85681",
          "name": "Check LinkedIn Rate Limit",
          "type": "n8n-nodes-base.code",
          "position": [
            4544,
            2000
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const config = $json.config || {};\nconst linkedinLimit = config.linkedin_limit || 50;\nconst currentCount = Math.floor(Math.random() * 60);\n\nconst withinLimit = currentCount < linkedinLimit;\n\nreturn {\n  ...item.json,\n  linkedin_rate_ok: withinLimit,\n  linkedin_current_count: currentCount\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "c2517e5f-308e-4c36-9b5b-969b06c5cfb8",
          "name": "LinkedIn Rate OK?",
          "type": "n8n-nodes-base.if",
          "position": [
            4736,
            2000
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "boolean",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.linkedin_rate_ok }}",
                  "rightValue": true
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "249cf3ce-d80b-43d5-8a32-1c52a8a0e21c",
          "name": "Log LinkedIn Rate Limited",
          "type": "n8n-nodes-base.postgres",
          "position": [
            4944,
            1904
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "rate_limited_linkedin",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({current_count: $json.linkedin_current_count}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "79c38f58-73d2-4b3f-89b4-d09856538862",
          "name": "Check WhatsApp Rate Limit",
          "type": "n8n-nodes-base.code",
          "position": [
            6032,
            1936
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const config = $json.config || {};\nconst whatsappLimit = config.whatsapp_limit || 30;\nconst currentCount = Math.floor(Math.random() * 40);\n\nconst withinLimit = currentCount < whatsappLimit;\nconst gdprSensitive = $json.gdpr_sensitive || false;\nconst allowWhatsApp = withinLimit && !gdprSensitive;\n\nreturn {\n  ...item.json,\n  whatsapp_rate_ok: allowWhatsApp,\n  whatsapp_current_count: currentCount\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "230a8685-c5ea-4bb4-b33c-2eb67f76aefa",
          "name": "WhatsApp Rate OK?",
          "type": "n8n-nodes-base.if",
          "position": [
            6240,
            1936
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "boolean",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.whatsapp_rate_ok }}",
                  "rightValue": true
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "56b2a16e-f8d7-42d3-aa70-bc2e8d97b18d",
          "name": "Log WhatsApp Rate Limited",
          "type": "n8n-nodes-base.postgres",
          "position": [
            6480,
            1856
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "rate_limited_whatsapp",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({current_count: $json.whatsapp_current_count, gdpr_blocked: $json.gdpr_sensitive}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "1c17b9d8-c224-4114-90c8-c0cf2ab1c0b4",
          "name": "Set Geo Compliance Flags",
          "type": "n8n-nodes-base.code",
          "position": [
            1856,
            1504
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const country = $json.country || '';\nconst gdprCountries = ['UK', 'Germany', 'France', 'Italy', 'Spain', 'Netherlands', 'Belgium', 'Austria', 'Sweden', 'Denmark', 'Finland', 'Ireland', 'Poland'];\nconst blockedCountries = ['North Korea', 'Iran', 'Syria'];\n\nconst gdprSensitive = gdprCountries.includes(country);\nconst doNotContact = blockedCountries.includes(country);\n\nreturn {\n  ...item.json,\n  gdpr_sensitive: gdprSensitive,\n  do_not_contact: doNotContact\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "fadbe2eb-c1a0-44ae-b5e2-d297259acfe5",
          "name": "Check Do Not Contact",
          "type": "n8n-nodes-base.if",
          "position": [
            -16,
            2064
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 3,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "boolean",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.do_not_contact }}",
                  "rightValue": "true"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "fb009c16-0f6e-41f4-8423-b89460c69a5c",
          "name": "Log Geo Blocked",
          "type": "n8n-nodes-base.postgres",
          "position": [
            10208,
            1472
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "geo_blocked",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({country: $json.country, reason: 'do_not_contact'}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "db865351-7d9c-4fea-867c-02a4f84b3d7a",
          "name": "Check GDPR Sensitive",
          "type": "n8n-nodes-base.if",
          "position": [
            176,
            2064
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "boolean",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.gdpr_sensitive }}",
                  "rightValue": "true"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "2e49a3fa-528f-4d7c-87d1-e861c065e256",
          "name": "Log GDPR Sensitive",
          "type": "n8n-nodes-base.postgres",
          "position": [
            400,
            1984
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "gdpr_sensitive",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({country: $json.country, gdpr_sensitive: true}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "ca12bbb5-874d-4f59-9ca0-492633f04af9",
          "name": "Check if Needs Human Review",
          "type": "n8n-nodes-base.if",
          "position": [
            9120,
            1600
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "leftValue": "",
                "caseSensitive": false,
                "typeValidation": "loose"
              },
              "combinator": "or",
              "conditions": [
                {
                  "id": "id-1",
                  "operator": {
                    "type": "string",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.output.intent }}",
                  "rightValue": "interested"
                },
                {
                  "id": "id-2",
                  "operator": {
                    "type": "number",
                    "operation": "gt"
                  },
                  "leftValue": "={{ $json.output.confidence }}",
                  "rightValue": "0.8"
                },
                {
                  "id": "id-3",
                  "operator": {
                    "type": "string",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.output.intent }}",
                  "rightValue": "unclear"
                }
              ]
            }
          },
          "typeVersion": 2.3
        },
        {
          "id": "9997cb54-3bef-4b37-88bf-47c4002cb914",
          "name": "Send Human Review Alert",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            9520,
            1584
          ],
          "parameters": {
            "url": "https://hooks.slack.com/services/DUMMY/HUMAN_REVIEW",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"text\": \" Human review needed\",\n  \"lead\": $json.contact_name,\n  \"company\": $json.company_name,\n  \"email\": $json.contact_email,\n  \"intent\": $json.output.intent,\n  \"confidence\": $json.output.confidence,\n  \"reply\": $json.reply_text\n}",
            "sendBody": true,
            "specifyBody": "json"
          },
          "typeVersion": 4.3
        },
        {
          "id": "ca5f3230-9b44-4b44-bd29-0170167b512e",
          "name": "Log Escalated to Human",
          "type": "n8n-nodes-base.postgres",
          "position": [
            9760,
            1584
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "escalated_to_human",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({intent: $json.output.intent, confidence: $json.output.confidence, reply: $json.reply_text}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "7e26afa0-e9ad-4f7d-85ef-9afd0f23e559",
          "name": "Calculate Best Send Time",
          "type": "n8n-nodes-base.code",
          "position": [
            608,
            2080
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const country = $json.country || 'USA';\nconst timezoneMap = {\n  'USA': 'America/New_York',\n  'UK': 'Europe/London',\n  'Germany': 'Europe/Berlin',\n  'Canada': 'America/Toronto',\n  'Australia': 'Australia/Sydney'\n};\n\nconst timezone = timezoneMap[country] || 'UTC';\nconst tomorrow = new Date();\ntomorrow.setDate(tomorrow.getDate() + 1);\ntomorrow.setHours(10, 0, 0, 0);\n\nreturn {\n  ...item.json,\n  timezone: timezone,\n  best_send_time: tomorrow.toISOString()\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "789113d4-2b97-4ff1-9443-2e1219e171c3",
          "name": "Log Send Time Planned",
          "type": "n8n-nodes-base.postgres",
          "position": [
            800,
            2080
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "lead_events"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "client_id": "={{ $json.client_id }}",
                "created_at": "={{ $now.toISO() }}",
                "event_type": "send_time_planned",
                "lead_email": "={{ $json.contact_email }}",
                "payload_json": "={{ JSON.stringify({best_send_time: $json.best_send_time, timezone: $json.timezone}) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "5e97956a-9895-473d-97f8-f4509b50e224",
          "name": "Estimate Lead Cost",
          "type": "n8n-nodes-base.code",
          "position": [
            11392,
            2432
          ],
          "parameters": {
            "mode": "runOnceForEachItem",
            "jsCode": "const emailCost = 0.01;\nconst linkedinCost = 0.05;\nconst whatsappCost = 0.03;\nconst aiCallCost = 0.10;\n\nlet totalCost = 0;\nlet aiCalls = 0;\n\nif ($json.email_sent || $json.event_type === 'email_sent') {\n  totalCost += emailCost;\n}\nif ($json.linkedin_sent || $json.event_type === 'linkedin_sent') {\n  totalCost += linkedinCost;\n}\nif ($json.whatsapp_sent || $json.event_type === 'whatsapp_sent') {\n  totalCost += whatsappCost;\n}\n\naiCalls = 2;\ntotalCost += aiCalls * aiCallCost;\n\nreturn {\n  ...item.json,\n  lead_cost: parseFloat(totalCost.toFixed(2)),\n  ai_calls: aiCalls\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "2b70c4b5-b293-415b-932b-de1c5a7531e4",
          "name": "Build Execution Metadata",
          "type": "n8n-nodes-base.code",
          "position": [
            11664,
            2592
          ],
          "parameters": {
            "jsCode": "// Generate execution metadata from final stats\nconst stats = $input.first().json;\n\n// Generate a random UUID for run_id\nconst generateUUID = () => {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    const r = Math.random() * 16 | 0;\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\n\nconst executionMetadata = {\n  run_id: generateUUID(),\n  timestamp: new Date().toISOString(),\n  total_leads: stats.total_leads || 0,\n  qualified_leads: stats.qualified || 0,\n  meetings_created: stats.qualified || 0,\n  total_cost: stats.total_cost || 0\n};\n\nreturn {\n  json: {\n    ...stats,\n    execution_metadata: executionMetadata\n  }\n};"
          },
          "typeVersion": 2
        },
        {
          "id": "47145c9f-a54c-4614-afaa-1e32b372e856",
          "name": "Insert Execution Run Record",
          "type": "n8n-nodes-base.postgres",
          "position": [
            11904,
            2592
          ],
          "parameters": {
            "table": {
              "__rl": true,
              "mode": "name",
              "value": "execution_runs"
            },
            "schema": {
              "__rl": true,
              "mode": "list",
              "value": "public"
            },
            "columns": {
              "value": {
                "run_id": "={{ $json.execution_metadata.run_id }}",
                "created_at": "={{ $now.toISO() }}",
                "summary_json": "={{ JSON.stringify($json) }}"
              },
              "mappingMode": "defineBelow"
            },
            "options": {}
          },
          "typeVersion": 2.6
        },
        {
          "id": "9142c60a-b181-4595-8855-b7e33646e364",
          "name": "AI - Generate Human Summary",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            11152,
            2880
          ],
          "parameters": {
            "text": "=Summarize this workflow run: Total leads: {{ $json.total_leads }}, Qualified: {{ $json.qualified }}, Meetings: {{ $json.meetings_created }}, Cost: {{ $json.total_cost }}",
            "options": {
              "systemMessage": "You are a workflow analyst. Create a concise 2-3 sentence human-readable summary of this workflow execution. Highlight key metrics and any notable insights or patterns. Return only the summary text in the summary field."
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 3
        },
        {
          "id": "4ca74924-e98f-4a44-bc90-9b6a3a72d8e6",
          "name": "OpenAI Chat Model - Summary",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
          "position": [
            11056,
            3088
          ],
          "parameters": {
            "model": {
              "__rl": true,
              "mode": "list",
              "value": "gpt-4o-mini"
            },
            "options": {},
            "builtInTools": {}
          },
          "typeVersion": 1.3
        },
        {
          "id": "600e633a-9210-41df-9358-1b86da7bc850",
          "name": "Structured Output - Summary",
          "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
          "position": [
            11360,
            3088
          ],
          "parameters": {
            "schemaType": "manual",
            "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"summary\": {\n\t\t\t\"type\": \"string\",\n\t\t\t\"description\": \"Human-readable summary of the workflow execution\"\n\t\t}\n\t},\n\t\"required\": [\"summary\"]\n}"
          },
          "typeVersion": 1.3
        },
        {
          "id": "9c37a1df-3c3c-4b46-9f40-a5f323666093",
          "name": "Merge Summary with Stats",
          "type": "n8n-nodes-base.code",
          "position": [
            11552,
            2880
          ],
          "parameters": {
            "jsCode": "// Merge AI-generated summary with final stats\nconst aiSummary = $json.output || {};\nconst stats = $json;\n\n// Create final summary object\nconst finalSummary = {\n  ...stats,\n  ai_summary: aiSummary.summary || '',\n  key_insights: aiSummary.key_insights || [],\n  recommendations: aiSummary.recommendations || [],\n  final_summary: `Workflow completed successfully. ${aiSummary.summary || 'No summary available.'}`\n};\n\nreturn [{ json: finalSummary }];"
          },
          "typeVersion": 2
        },
        {
          "id": "1d94b817-6cfd-4d9e-984e-58b3c954d018",
          "name": "Prepare Final Output",
          "type": "n8n-nodes-base.code",
          "position": [
            11792,
            2880
          ],
          "parameters": {
            "jsCode": "// Prepare final clean output with stats, summary, and run metadata\nconst inputData = $input.all();\nconst firstItem = inputData[0]?.json || {};\n\n// Extract stats from the enriched stats\nconst stats = {\n  total_leads: firstItem.total_leads || 0,\n  qualified: firstItem.qualified || 0,\n  follow_up_scheduled: firstItem.follow_up_scheduled || 0,\n  closed_lost: firstItem.closed_lost || 0,\n  needs_manual_review: firstItem.needs_manual_review || 0,\n  enrichment_success: firstItem.enrichment_success || 0,\n  enrichment_failed: firstItem.enrichment_failed || 0,\n  avg_confidence: firstItem.avg_confidence || 0,\n  qualified_rate: firstItem.qualified_rate || '0%',\n  enrichment_success_rate: firstItem.enrichment_success_rate || '0%',\n  multichannel_rate: firstItem.multichannel_rate || '0%',\n  high_score_rate: firstItem.high_score_rate || '0%'\n};\n\n// Extract summary if available\nconst final_summary = firstItem.summary || firstItem.ai_summary || 'Workflow execution completed successfully';\n\n// Generate run ID\nconst run_id = $execution.id || `run_${Date.now()}`;\nconst run_timestamp = new Date().toISOString();\n\n// Build final output\nconst finalOutput = {\n  run_id: run_id,\n  run_timestamp: run_timestamp,\n  stats: stats,\n  final_summary: final_summary,\n  execution_status: 'completed'\n};\n\nreturn [{ json: finalOutput }];"
          },
          "typeVersion": 2
        },
        {
          "id": "9649936c-2ea0-4ce0-9485-0b2d5e6b3723",
          "name": "Notify Team  Run Summary",
          "type": "n8n-nodes-base.slack",
          "position": [
            11648,
            3200
          ],
          "webhookId": "44fb004a-65b5-44e2-80cb-8b1a1d652ba7",
          "parameters": {
            "text": "= *SDR Workflow Run Complete*\n\n*Run ID:* {{ $json.run_id }}\n*Timestamp:* {{ $json.run_timestamp }}\n\n*Results:*\n Total Leads: {{ $json.stats.total_leads }}\n Qualified: {{ $json.stats.qualified }}\n Follow-ups: {{ $json.stats.follow_up_scheduled }}\n Closed Lost: {{ $json.stats.closed_lost }}\n Manual Review: {{ $json.stats.needs_manual_review }}\n\n*Rates:*\n Qualification Rate: {{ $json.stats.qualified_rate }}\n Enrichment Success: {{ $json.stats.enrichment_success_rate }}\n Multichannel: {{ $json.stats.multichannel_rate }}\n\n*Summary:* {{ $json.final_summary }}",
            "select": "channel",
            "channelId": {
              "__rl": true,
              "mode": "name",
              "value": "#sdr-runs"
            },
            "otherOptions": {}
          },
          "typeVersion": 2.4
        },
        {
          "id": "0c222e82-8e99-4a4e-ae87-2d953413b6eb",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -1344,
            1392
          ],
          "parameters": {
            "width": 1168,
            "height": 384,
            "content": "## How it works\nThis workflow takes raw B2B leads, validates and enriches them, then uses AI to send personalized cold emails and classify replies.\n\n1. Leads come in (test data, CSV, Sheet, or webhook). Emails are validated and checked against a suppression list so bad or blocked contacts are filtered out.\n2. Valid leads are enriched via HTTP APIs (company, role, website, etc.). Failed enrichments are flagged and skipped for outreach.\n3. For enriched leads, an AI node generates a short personalized outreach email, which is sent via your email provider. All send events are logged.\n4. When replies come back (or in test mode, from a simulator), another AI node classifies intent (interested / follow-up / not a fit / unclear) and routes the lead accordingly.\n5. At the end, stats are calculated and a summary is sent to Slack.\n\n## Setup steps\n1. Connect credentials: email service, enrichment API(s), database, and Slack.\n2. Review suppression rules and lead fields (country, industry, etc.).\n3. Edit the AI prompts (email copy + reply classification) to match your offer and tone.\n4. Set your real entry node (Sheet/webhook/CSV) and disable the test lead generator.\n5. Run once with a small test list, check logs and Slack summary, then go live."
          },
          "typeVersion": 1
        },
        {
          "id": "f821a604-3b8d-47b4-bad8-5e537ae996d6",
          "name": "Sticky Note8",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -64,
            624
          ],
          "parameters": {
            "color": 7,
            "width": 1344,
            "height": 320,
            "content": "## Input & Lead Validation\n\nReceives leads from test data, CSV, Sheets, or webhooks, validates email format, and checks the suppression list. Only clean, eligible leads continue, while rejected leads are logged."
          },
          "typeVersion": 1
        },
        {
          "id": "67e1b5de-76fc-4324-b2e3-b77ecbfbf3f2",
          "name": "Sticky Note9",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -64,
            1136
          ],
          "parameters": {
            "color": 7,
            "width": 2064,
            "height": 528,
            "content": "## Lead Enrichment\n\nCalls one or more external enrichment APIs to add company, website, role and other details. Normalizes responses, flags leads where enrichment failed, and logs both success and failure."
          },
          "typeVersion": 1
        },
        {
          "id": "37376a8a-a799-4436-954f-2e0dfbf32689",
          "name": "Sticky Note10",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -64,
            1808
          ],
          "parameters": {
            "color": 7,
            "width": 2064,
            "height": 640,
            "content": "## Lead Scoring & Segmentation\n\nComputes a lead score using industry, country, company size and other signals. Splits leads into HIGH / MEDIUM / LOW segments and logs scoring events for analytics."
          },
          "typeVersion": 1
        },
        {
          "id": "32bf7b58-41f6-4b64-afcd-b0eac940ecc9",
          "name": "Sticky Note11",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            2112,
            1808
          ],
          "parameters": {
            "color": 7,
            "width": 5328,
            "height": 640,
            "content": "## AI Email Generation & Send\n\nUses AI to generate personalized cold emails, creates subject line A/B variants, sends the emails, and logs every send event to the database."
          },
          "typeVersion": 1
        },
        {
          "id": "4e1e4ed6-fed2-4370-864f-46313200046e",
          "name": "Sticky Note12",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            7600,
            2080
          ],
          "parameters": {
            "color": 7,
            "width": 1088,
            "height": 544,
            "content": "## Replies & AI Classification\n\nSimulates or ingests replies from leads, uses AI to classify intent (interested, follow-up, not interested, unclear), and routes each lead to the appropriate branch."
          },
          "typeVersion": 1
        },
        {
          "id": "8469f085-d4ac-4c61-b3af-5264482c2fbc",
          "name": "Sticky Note13",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            8928,
            1328
          ],
          "parameters": {
            "color": 7,
            "width": 1840,
            "height": 1552,
            "content": "## Status & Follow-up\n\nUpdates lead status (qualified, follow-up, not interested, needs review), generates AI-powered follow-ups and meeting info, calculates follow-up dates, and sends alerts when human review is needed."
          },
          "typeVersion": 1
        },
        {
          "id": "9a78c7fe-f87d-4fe7-aee9-c53661a048bf",
          "name": "Sticky Note14",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            10880,
            1888
          ],
          "parameters": {
            "color": 7,
            "width": 1392,
            "height": 1488,
            "content": "## Analytics & Reporting\n\nAggregates results by score, channel, and status, calculates final metrics and cost estimates, stores daily analytics rows, and uses AI to generate a human-readable summary sent to the team (e.g. via Slack)."
          },
          "typeVersion": 1
        }
      ],
      "active": false,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "d573cd76-8911-4e83-b412-3cb3c6c40369",
      "connections": {
        "Send Email": {
          "main": [
            [
              {
                "node": "Prepare Email Event Log",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Load Config": {
          "main": [
            [
              {
                "node": "Set Geo Compliance Flags",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Email Rate OK?": {
          "main": [
            [
              {
                "node": "Log Email Rate Limited",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Generate LinkedIn Message",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Manual Trigger": {
          "main": [
            [
              {
                "node": "Load Test Leads",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Load Test Leads": {
          "main": [
            [
              {
                "node": "Validate Email Format",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Geo Blocked": {
          "main": [
            [
              {
                "node": "Aggregate All Results",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Route by Intent": {
          "main": [
            [
              {
                "node": "Mark as Qualified",
                "type": "main",
                "index": 0
              },
              {
                "node": "Check if Needs Human Review",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Calculate Follow-up Date",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Mark as Not Interested",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Mark as Needs Review",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "LinkedIn Rate OK?": {
          "main": [
            [
              {
                "node": "Log LinkedIn Rate Limited",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Check LinkedIn Send Success",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Mark as Qualified": {
          "main": [
            [
              {
                "node": "AI - Draft Meeting Follow-up",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "WhatsApp Rate OK?": {
          "main": [
            [
              {
                "node": "Log WhatsApp Rate Limited",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Check WhatsApp Send Success",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Compute Lead Score": {
          "main": [
            [
              {
                "node": "Branch by Lead Score",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Enrich Final Stats": {
          "main": [
            [
              {
                "node": "Calculate Final Stats",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Estimate Lead Cost": {
          "main": [
            [
              {
                "node": "Enrich Final Stats",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log GDPR Sensitive": {
          "main": [
            [
              {
                "node": "Calculate Best Send Time",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Follow-up Event": {
          "main": [
            [
              {
                "node": "Aggregate All Results",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log LOW Score Event": {
          "main": [
            [
              {
                "node": "AI - Generate Outreach Email",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Qualified Event": {
          "main": [
            [
              {
                "node": "Aggregate All Results",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Subject Variant": {
          "main": [
            [
              {
                "node": "Check Email Rate Limit",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Simulate Reply Text": {
          "main": [
            [
              {
                "node": "AI - Classify Reply Intent",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Aggregate by Channel": {
          "main": [
            [
              {
                "node": "Prepare Analytics Daily Row",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Branch by Lead Score": {
          "main": [
            [
              {
                "node": "Set HIGH Score Attributes",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Set MEDIUM Score Attributes",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Set LOW Score Attributes",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check Do Not Contact": {
          "main": [
            [
              {
                "node": "Log Geo Blocked",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Check GDPR Sensitive",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check GDPR Sensitive": {
          "main": [
            [
              {
                "node": "Log GDPR Sensitive",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Calculate Best Send Time",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Enrich Lead via HTTP": {
          "main": [
            [
              {
                "node": "Check Enrichment Success",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Extract Email Fields": {
          "main": [
            [
              {
                "node": "Create Subject Variants A/B",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Email Sent to DB": {
          "main": [
            [
              {
                "node": "Simulate Reply Text",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log HIGH Score Event": {
          "main": [
            [
              {
                "node": "AI - Generate Outreach Email",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log LinkedIn Failure": {
          "main": [
            [
              {
                "node": "Simulate WhatsApp Send",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log LinkedIn Success": {
          "main": [
            [
              {
                "node": "Simulate WhatsApp Send",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log WhatsApp Failure": {
          "main": [
            [
              {
                "node": "Send Email",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log WhatsApp Success": {
          "main": [
            [
              {
                "node": "Send Email",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Mark as Needs Review": {
          "main": [
            [
              {
                "node": "Send Slack Notification",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Prepare Final Output": {
          "main": [
            [
              {
                "node": "Notify Team  Run Summary",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Aggregate All Results": {
          "main": [
            [
              {
                "node": "Aggregate by Lead Score",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Calculate Final Stats": {
          "main": [
            [
              {
                "node": "Build Execution Metadata",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Create Meeting Object": {
          "main": [
            [
              {
                "node": "Insert Meeting Record",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Insert Meeting Record": {
          "main": [
            [
              {
                "node": "Log Qualified Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Closed Lost Event": {
          "main": [
            [
              {
                "node": "Aggregate All Results",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Send Time Planned": {
          "main": [
            [
              {
                "node": "Compute Lead Score",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Merge Enrichment Data": {
          "main": [
            [
              {
                "node": "Extra Enrichment API 2",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Validate Email Format": {
          "main": [
            [
              {
                "node": "Check Suppression List",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check Email Rate Limit": {
          "main": [
            [
              {
                "node": "Email Rate OK?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check Suppression List": {
          "main": [
            [
              {
                "node": "Check if Invalid or Suppressed",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Extra Enrichment API 2": {
          "main": [
            [
              {
                "node": "Check Extra Enrichment Success",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Email Rate Limited": {
          "main": [
            [
              {
                "node": "Generate LinkedIn Message",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Enrichment Failure": {
          "main": [
            [
              {
                "node": "Insert Enrichment Failed Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Enrichment Success": {
          "main": [
            [
              {
                "node": "Insert Enrichment Success Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Escalated to Human": {
          "main": [
            [
              {
                "node": "Mark as Qualified",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Invalid Lead Event": {
          "main": [
            [
              {
                "node": "Aggregate All Results",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log MEDIUM Score Event": {
          "main": [
            [
              {
                "node": "AI - Generate Outreach Email",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Mark as Not Interested": {
          "main": [
            [
              {
                "node": "Log Closed Lost Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Simulate LinkedIn Send": {
          "main": [
            [
              {
                "node": "Check LinkedIn Rate Limit",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Simulate WhatsApp Send": {
          "main": [
            [
              {
                "node": "Check WhatsApp Send Success",
                "type": "main",
                "index": 0
              },
              {
                "node": "Check WhatsApp Rate Limit",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Aggregate by Lead Score": {
          "main": [
            [
              {
                "node": "Aggregate by Channel",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Manual Review Event": {
          "main": [
            [
              {
                "node": "Aggregate All Results",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Prepare Email Event Log": {
          "main": [
            [
              {
                "node": "Log Email Sent to DB",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Prepare Follow-up Event": {
          "main": [
            [
              {
                "node": "Log Follow-up Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Send Human Review Alert": {
          "main": [
            [
              {
                "node": "Log Escalated to Human",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Send Slack Notification": {
          "main": [
            [
              {
                "node": "Log Manual Review Notification",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Build Execution Metadata": {
          "main": [
            [
              {
                "node": "Insert Execution Run Record",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Calculate Best Send Time": {
          "main": [
            [
              {
                "node": "Log Send Time Planned",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Calculate Follow-up Date": {
          "main": [
            [
              {
                "node": "Calculate Extended Follow-up Date",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check Enrichment Success": {
          "main": [
            [
              {
                "node": "Parse Enrichment Response",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Set Enrichment Failed Flag",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Merge Summary with Stats": {
          "main": [
            [
              {
                "node": "Prepare Final Output",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Set Geo Compliance Flags": {
          "main": [
            [
              {
                "node": "Check Do Not Contact",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Set LOW Score Attributes": {
          "main": [
            [
              {
                "node": "Log LOW Score Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check LinkedIn Rate Limit": {
          "main": [
            [
              {
                "node": "LinkedIn Rate OK?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check WhatsApp Rate Limit": {
          "main": [
            [
              {
                "node": "WhatsApp Rate OK?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Generate LinkedIn Message": {
          "main": [
            [
              {
                "node": "Generate WhatsApp Message",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Generate WhatsApp Message": {
          "main": [
            [
              {
                "node": "Check if Multichannel Eligible",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log LinkedIn Rate Limited": {
          "main": [
            [
              {
                "node": "Check LinkedIn Send Success",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log WhatsApp Rate Limited": {
          "main": [
            [
              {
                "node": "Check WhatsApp Send Success",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Normalize Enrichment Data": {
          "main": [
            [
              {
                "node": "Log Enrichment Success",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Parse Enrichment Response": {
          "main": [
            [
              {
                "node": "Merge Enrichment Data",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Set HIGH Score Attributes": {
          "main": [
            [
              {
                "node": "Log HIGH Score Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output - Email": {
          "ai_outputParser": [
            [
              {
                "node": "AI - Generate Outreach Email",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "AI - Classify Reply Intent": {
          "main": [
            [
              {
                "node": "Route by Intent",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Insert Analytics Daily Row": {
          "main": [
            [
              {
                "node": "Enrich Final Stats",
                "type": "main",
                "index": 0
              },
              {
                "node": "Estimate Lead Cost",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Set Enrichment Failed Flag": {
          "main": [
            [
              {
                "node": "Extra Enrichment API 2",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "AI - Generate Human Summary": {
          "main": [
            [
              {
                "node": "Merge Summary with Stats",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check LinkedIn Send Success": {
          "main": [
            [
              {
                "node": "Log LinkedIn Success",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Log LinkedIn Failure",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check WhatsApp Send Success": {
          "main": [
            [
              {
                "node": "Log WhatsApp Success",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Log WhatsApp Failure",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check if Needs Human Review": {
          "main": [
            [
              {
                "node": "Send Human Review Alert",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Mark as Qualified",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Create Subject Variants A/B": {
          "main": [
            [
              {
                "node": "Log Subject Variant",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Insert Execution Run Record": {
          "main": [
            [
              {
                "node": "AI - Generate Human Summary",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "OpenAI Chat Model - Meeting": {
          "ai_languageModel": [
            [
              {
                "node": "AI - Draft Meeting Follow-up",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "OpenAI Chat Model - Summary": {
          "ai_languageModel": [
            [
              {
                "node": "AI - Generate Human Summary",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "Prepare Analytics Daily Row": {
          "main": [
            [
              {
                "node": "Insert Analytics Daily Row",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Set MEDIUM Score Attributes": {
          "main": [
            [
              {
                "node": "Log MEDIUM Score Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output - Meeting": {
          "ai_outputParser": [
            [
              {
                "node": "AI - Draft Meeting Follow-up",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output - Summary": {
          "ai_outputParser": [
            [
              {
                "node": "AI - Generate Human Summary",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "AI - Draft Meeting Follow-up": {
          "main": [
            [
              {
                "node": "Create Meeting Object",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "AI - Generate Outreach Email": {
          "main": [
            [
              {
                "node": "Extract Email Fields",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "OpenAI Chat Model - Email Gen": {
          "ai_languageModel": [
            [
              {
                "node": "AI - Generate Outreach Email",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "Check Extra Enrichment Success": {
          "main": [
            [
              {
                "node": "Normalize Enrichment Data",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Log Enrichment Failure",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check if Invalid or Suppressed": {
          "main": [
            [
              {
                "node": "Log Invalid Lead Event",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Enrich Lead via HTTP",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check if Multichannel Eligible": {
          "main": [
            [
              {
                "node": "Simulate LinkedIn Send",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Send Email",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Insert Enrichment Failed Event": {
          "main": [
            [
              {
                "node": "Load Config",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Log Manual Review Notification": {
          "main": [
            [
              {
                "node": "Log Manual Review Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Insert Enrichment Success Event": {
          "main": [
            [
              {
                "node": "Load Config",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Insert Extended Follow-up Event": {
          "main": [
            [
              {
                "node": "Prepare Follow-up Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Calculate Extended Follow-up Date": {
          "main": [
            [
              {
                "node": "Insert Extended Follow-up Event",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Structured Output - Classification": {
          "ai_outputParser": [
            [
              {
                "node": "AI - Classify Reply Intent",
                "type": "ai_outputParser",
                "index": 0
              }
            ]
          ]
        },
        "OpenAI Chat Model - Reply Classifier": {
          "ai_languageModel": [
            [
              {
                "node": "AI - Classify Reply Intent",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 29,
    "workflowInfo": {
      "nodeCount": 113,
      "nodeTypes": {
        "n8n-nodes-base.if": {
          "count": 12
        },
        "n8n-nodes-base.set": {
          "count": 12
        },
        "n8n-nodes-base.code": {
          "count": 29
        },
        "n8n-nodes-base.slack": {
          "count": 1
        },
        "n8n-nodes-base.switch": {
          "count": 2
        },
        "n8n-nodes-base.postgres": {
          "count": 28
        },
        "n8n-nodes-base.aggregate": {
          "count": 1
        },
        "n8n-nodes-base.emailSend": {
          "count": 1
        },
        "n8n-nodes-base.stickyNote": {
          "count": 8
        },
        "n8n-nodes-base.httpRequest": {
          "count": 6
        },
        "n8n-nodes-base.manualTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.agent": {
          "count": 4
        },
        "@n8n/n8n-nodes-langchain.lmChatOpenAi": {
          "count": 4
        },
        "@n8n/n8n-nodes-langchain.outputParserStructured": {
          "count": 4
        }
      }
    },
    "status": "published",
    "user": {
      "name": "ugui Drago",
      "username": "tuguidragos",
      "bio": "Automation | AI workflows, lead generation & data operations",
      "verified": true,
      "links": [
        "https://tuguidragos.com/"
      ],
      "avatar": "https://gravatar.com/avatar/7e49ca103e7682d6a86a8dea0ad0d2697b517a1292f7bb2003aa6b7464431dca?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 11,
        "icon": "fa:envelope",
        "name": "n8n-nodes-base.emailSend",
        "codex": {
          "data": {
            "alias": [
              "SMTP",
              "email",
              "human",
              "form",
              "wait",
              "hitl",
              "approval"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                  "icon": "",
                  "label": "Build your own virtual assistant with n8n: A step by step guide"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.sendemail/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/sendemail/"
                }
              ]
            },
            "categories": [
              "Communication",
              "HITL",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "HITL": [
                "Human in the Loop"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "Send Email",
          "color": "#00bb88"
        },
        "iconData": {
          "icon": "envelope",
          "type": "icon"
        },
        "displayName": "Send Email",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 6,
            "name": "Communication"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          },
          {
            "id": 28,
            "name": "HITL"
          }
        ]
      },
      {
        "id": 19,
        "icon": "file:httprequest.svg",
        "name": "n8n-nodes-base.httpRequest",
        "codex": {
          "data": {
            "alias": [
              "API",
              "Request",
              "URL",
              "Build",
              "cURL"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                  "icon": "",
                  "label": "Learn how to automatically cross-post your content with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                  "icon": "",
                  "label": "Running n8n on ships: An interview with Maranics"
                },
                {
                  "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                  "icon": " ",
                  "label": "What are APIs and how to use them with no code"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                  "icon": "",
                  "label": "Celebrating World Poetry Day with a daily poem in Telegram"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                  "icon": "",
                  "label": "Automate Designs with Bannerbear and n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                  "icon": "",
                  "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                  "icon": "",
                  "label": "Learn how to use webhooks with Mattermost slash commands"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/automations-for-activists/",
                  "icon": "",
                  "label": "How Common Knowledge use workflow automation for activism"
                },
                {
                  "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                  "icon": "",
                  "label": "Creating scheduled text affirmations with n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "HTTP Request",
          "color": "#0004F5"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
        },
        "displayName": "HTTP Request",
        "typeVersion": 4,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 20,
        "icon": "fa:map-signs",
        "name": "n8n-nodes-base.if",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                  "icon": "",
                  "label": "Create a toxic language detector for Telegram in 4 step"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                  "icon": "",
                  "label": "How to automatically manage contributions to open-source projects"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "If",
          "color": "#408000"
        },
        "iconData": {
          "icon": "map-signs",
          "type": "icon"
        },
        "displayName": "If",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 30,
        "icon": "file:postgres.svg",
        "name": "n8n-nodes-base.postgres",
        "codex": {
          "data": {
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/love-at-first-sight-ricardos-n8n-journey/",
                  "icon": "",
                  "label": "Love at first sight: Ricardos n8n journey"
                },
                {
                  "url": "https://n8n.io/blog/why-i-chose-n8n-over-zapier-in-2020/",
                  "icon": "",
                  "label": "Why I chose n8n over Zapier in 2020"
                },
                {
                  "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                  "icon": "",
                  "label": "Database Monitoring and Alerting with n8n"
                },
                {
                  "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                  "icon": "",
                  "label": "Running n8n on ships: An interview with Maranics"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-honest-burgers-use-automation-to-save-100k-per-year/",
                  "icon": "",
                  "label": "How Honest Burgers Use Automation to Save $100k per year"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.postgres/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/postgres/"
                }
              ]
            },
            "categories": [
              "Development",
              "Data & Storage"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Postgres"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNzkgODEiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTc3LjM5MSA0Ny45MjJjLS40NjYtMS40MTItMS42ODgtMi4zOTYtMy4yNjgtMi42MzItLjc0NS0uMTExLTEuNTk4LS4wNjQtMi42MDguMTQ0LTEuNzYuMzYzLTMuMDY1LjUwMS00LjAxOC41MjggMy41OTYtNi4wNzIgNi41MjEtMTIuOTk3IDguMjA0LTE5LjUxNSAyLjcyMi0xMC41NCAxLjI2OC0xNS4zNDEtLjQzMi0xNy41MTNDNzAuNzcgMy4xODUgNjQuMjA2LjA5NyA1Ni4yODcuMDAyYy00LjIyNC0uMDUyLTcuOTMzLjc4Mi05Ljg2NyAxLjM4MmEzNyAzNyAwIDAgMC01Ljc3LS41MjhjLTMuODA5LS4wNjEtNy4xNzQuNzctMTAuMDUgMi40NzZhNDYgNDYgMCAwIDAtNy4wOTgtMS43ODJDMTYuNTYxLjQxMSAxMC45NjggMS4yOTkgNi44NzYgNC4xOSAxLjkyMiA3LjY4OS0uMzc1IDEzLjc3LjA1IDIyLjI2MmMuMTM1IDIuNjk2IDEuNjQzIDEwLjkgNC4wMTggMTguNjggMS4zNjUgNC40NzIgMi44MiA4LjE4NSA0LjMyNiAxMS4wMzggMi4xMzUgNC4wNDYgNC40MTkgNi40MjggNi45ODQgNy4yODQgMS40MzguNDc5IDQuMDQ5LjgxNCA2Ljc5Ny0xLjQ3M2E2IDYgMCAwIDAgMS40MjkgMS4yM2MuNzgzLjQ5NCAxLjc0Ljg5NyAyLjY5NiAxLjEzNiAzLjQ0Ni44NjIgNi42NzQuNjQ2IDkuNDI3LS41NjFsLjA0MSAxLjM2Mi4wNiAxLjg5OWMuMTYzIDQuMDY0LjQ0IDcuMjIzIDEuMjU5IDkuNDM0LjA0NS4xMjIuMTA1LjMwNy4xNjkuNTAzLjQwOSAxLjI1MSAxLjA5MiAzLjM0NiAyLjgzIDQuOTg3IDEuOCAxLjY5OSAzLjk3OCAyLjIyIDUuOTcyIDIuMjIgMSAwIDEuOTU1LS4xMzEgMi43OTItLjMxMSAyLjk4NC0uNjM5IDYuMzczLTEuNjE0IDguODI0LTUuMTA0IDIuMzE4LTMuMyAzLjQ0NC04LjI3IDMuNjQ4LTE2LjEwMWwuMDc0LS42MzQuMDQ4LS40MTQuNTQ2LjA0OC4xNDEuMDFjMy4wMzkuMTM4IDYuNzU1LS41MDYgOS4wMzctMS41NjYgMS44MDMtLjgzNyA3LjU4Mi0zLjg4OCA2LjIyMS04LjAwNyIvPjxwYXRoIGZpbGw9IiMzMzY3OTEiIGQ9Ik03Mi4xOTUgNDguNzIzYy05LjAzNiAxLjg2NC05LjY1Ny0xLjE5NS05LjY1Ny0xLjE5NSA5LjU0MS0xNC4xNTcgMTMuNTI5LTMyLjEyNyAxMC4wODctMzYuNTI1QzYzLjIzNS0uOTk0IDQ2Ljk4MSA0LjY4IDQ2LjcxIDQuODI3bC0uMDg3LjAxNmMtMS43ODUtLjM3MS0zLjc4My0uNTkxLTYuMDI5LS42MjgtNC4wODktLjA2Ny03LjE5IDEuMDcyLTkuNTQ0IDIuODU3IDAgMC0yOC45OTUtMTEuOTQ1LTI3LjY0NyAxNS4wMjMuMjg3IDUuNzM3IDguMjIzIDQzLjQxIDE3LjY4OSAzMi4wMzEgMy40Ni00LjE2MSA2LjgwMy03LjY3OSA2LjgwMy03LjY3OSAxLjY2IDEuMTAzIDMuNjQ4IDEuNjY2IDUuNzMyIDEuNDYzbC4xNjItLjEzN2E2LjMgNi4zIDAgMCAwIC4wNjUgMS42MmMtMi40MzkgMi43MjUtMS43MjIgMy4yMDMtNi41OTcgNC4yMDYtNC45MzMgMS4wMTctMi4wMzUgMi44MjYtLjE0MyAzLjI5OSAyLjI5NC41NzQgNy42IDEuMzg2IDExLjE4NS0zLjYzM2wtLjE0My41NzNjLjk1Ni43NjUgMS42MjYgNC45NzggMS41MTQgOC43OTdzLS4xODggNi40NDEuNTY1IDguNDg5IDEuNTAzIDYuNjU2IDcuOTEyIDUuMjgyYzUuMzU1LTEuMTQ4IDguMTMtNC4xMjEgOC41MTYtOS4wODEuMjc0LTMuNTI2Ljg5NC0zLjAwNS45MzMtNi4xNThsLjQ5Ny0xLjQ5M2MuNTczLTQuNzguMDkxLTYuMzIyIDMuMzktNS42MDVsLjgwMi4wN2MyLjQyOC4xMSA1LjYwNi0uMzkxIDcuNDcxLTEuMjU3IDQuMDE2LTEuODY0IDYuMzk4LTQuOTc2IDIuNDM4LTQuMTU4Ii8+PHBhdGggZD0iTTMyLjc0NyAyNC42NmMtLjgxNC0uMTEzLTEuNTUyLS4wMDgtMS45MjUuMjc0YS43LjcgMCAwIDAtLjI5Mi40N2MtLjA0Ny4zMzYuMTg4LjcwNy4zMzMuODk4LjQwOS41NDIgMS4wMDYuOTE1IDEuNTk4Ljk5N2EyIDIgMCAwIDAgLjI1Ni4wMThjLjk4NiAwIDEuODgzLS43NjggMS45NjItMS4zMzUuMDk5LS43MS0uOTMyLTEuMTgzLTEuOTMxLTEuMzIybTI2Ljk3NS4wMjJjLS4wNzgtLjU1Ni0xLjA2OC0uNzE1LTIuMDA3LS41ODRzLTEuODQ4LjU1NC0xLjc3MiAxLjExMmMuMDYxLjQzNC44NDQgMS4xNzQgMS43NzEgMS4xNzRxLjExNyAwIC4yMzctLjAxNmMuNjE5LS4wODYgMS4wNzMtLjQ3OSAxLjI4OC0uNzA1LjMyOS0uMzQ1LjUxOC0uNzMuNDg0LS45OG0xNS40NzcgMjMuODI4Yy0uMzQ1LTEuMDQyLTEuNDUzLTEuMzc3LTMuMjk2LS45OTctNS40NzEgMS4xMjktNy40My4zNDctOC4wNzMtLjEyNyA0LjI1Mi02LjQ3OCA3Ljc1LTE0LjMwOCA5LjYzNy0yMS42MTQuODk0LTMuNDYxIDEuMzg4LTYuNjc1IDEuNDI4LTkuMjk0LjA0NS0yLjg3Ni0uNDQ1LTQuOTg4LTEuNDU1LTYuMjc5LTQuMDcyLTUuMjAzLTEwLjA0OC03Ljk5NC0xNy4yODMtOC4wNy00Ljk3My0uMDU2LTkuMTc1IDEuMjE3LTkuOTkgMS41NzVhMjUgMjUgMCAwIDAtNS42MjItLjcyMmMtMy43MzQtLjA2LTYuOTYxLjgzNC05LjYzMyAyLjY1NWE0MyA0MyAwIDAgMC03LjgyOC0yLjA1MmMtNi4zNDItMS4wMjEtMTEuMzgxLS4yNDgtMTQuOTc4IDIuMy00LjI5MSAzLjA0LTYuMjcyIDguNDc1LTUuODg4IDE2LjE1Mi4xMjkgMi41ODMgMS42MDEgMTAuNTI5IDMuOTIzIDE4LjEzOSAzLjA1NyAxMC4wMTYgNi4zOCAxNS42ODYgOS44NzcgMTYuODUyYTQuNCA0LjQgMCAwIDAgMS40MDIuMjMyYzEuMjc2IDAgMi44MzktLjU3NSA0LjQ2Ni0yLjUzMWExNjEgMTYxIDAgMCAxIDYuMTU2LTYuOTY2IDkuOSA5LjkgMCAwIDAgNC40MjkgMS4xOTFsLjAxLjEyMWMtLjMxLjM2OC0uNTY0LjY5LS43ODEuOTY1LTEuMDcgMS4zNTgtMS4yOTMgMS42NDEtNC43MzggMi4zNTEtLjk4LjIwMi0zLjU4Mi43MzgtMy42MiAyLjU2My0uMDQxIDEuOTkzIDMuMDc2IDIuODMgMy40MzEgMi45MTkgMS4yMzguMzEgMi40My40NjMgMy41NjguNDYzIDIuNzY2IDAgNS4yLS45MDkgNy4xNDUtMi42NjgtLjA2IDcuMTA2LjIzNiAxNC4xMDcgMS4wODkgMTYuMjQxLjY5OSAxLjc0NiAyLjQwNiA2LjAxNCA3Ljc5OCA2LjAxNC43OTEgMCAxLjY2Mi0uMDkyIDIuNjItLjI5NyA1LjYyNy0xLjIwNyA4LjA3MS0zLjY5NCA5LjAxNi05LjE3Ny41MDYtMi45MyAxLjM3NC05LjkyOCAxLjc4Mi0xMy42ODIuODYyLjI2OSAxLjk3MS4zOTIgMy4xNy4zOTIgMi41MDEgMCA1LjM4Ny0uNTMxIDcuMTk3LTEuMzcyIDIuMDMzLS45NDQgNS43MDItMy4yNjEgNS4wMzctNS4yNzR6TTYxLjggMjMuMTQ3Yy0uMDE5IDEuMTA4LS4xNzEgMi4xMTQtLjMzMyAzLjE2NC0uMTc0IDEuMTI5LS4zNTQgMi4yOTctLjM5OSAzLjcxNS0uMDQ1IDEuMzc5LjEyOCAyLjgxNC4yOTQgNC4yLjMzNyAyLjgwMS42ODIgNS42ODUtLjY1NSA4LjUzMWExMSAxMSAwIDAgMS0uNTkyLTEuMjE4Yy0uMTY2LS40MDMtLjUyNy0xLjA1LTEuMDI3LTEuOTQ2LTEuOTQ0LTMuNDg3LTYuNDk3LTExLjY1Mi00LjE2Ny0xNC45ODQuNjk0LS45OTIgMi40NTYtMi4wMTEgNi44NzktMS40NjN6TTU2LjQzOSA0LjM3NGM2LjQ4Mi4xNDMgMTEuNjA5IDIuNTY4IDE1LjI0IDcuMjA3IDIuNzg0IDMuNTU4LS4yODIgMTkuNzQ5LTkuMTU4IDMzLjcxNmwtLjI2OS0uMzM5LS4xMTItLjE0YzIuMjk0LTMuNzg4IDEuODQ1LTcuNTM2IDEuNDQ2LTEwLjg1OS0uMTY0LTEuMzY0LS4zMTktMi42NTItLjI4LTMuODYxLjA0MS0xLjI4My4yMS0yLjM4Mi4zNzQtMy40NDYuMjAyLTEuMzExLjQwNy0yLjY2Ny4zNS00LjI2NWExLjggMS44IDAgMCAwIC4wMzctLjYwMWMtLjE0NC0xLjUzMy0xLjg5NC02LjEyLTUuNDYyLTEwLjI3My0xLjk1MS0yLjI3MS00Ljc5Ny00LjgxMy04LjY4Mi02LjUyN2EyOS4zIDI5LjMgMCAwIDEgNi41MTUtLjYxMnpNMjAuMTY3IDUzLjI5OGMtMS43OTMgMi4xNTUtMy4wMzEgMS43NDItMy40MzggMS42MDctMi42NTMtLjg4NS01LjczLTYuNDkxLTguNDQ0LTE1LjM4Mi0yLjM0OC03LjY5My0zLjcyLTE1LjQyOC0zLjgyOS0xNy41OTctLjM0My02Ljg2IDEuMzItMTEuNjQxIDQuOTQzLTE0LjIxIDUuODk2LTQuMTgxIDE1LjU4OS0xLjY3OSAxOS40ODQtLjQwOWwtLjE3LjE2M2MtNi4zOTEgNi40NTUtNi4yNCAxNy40ODMtNi4yMjQgMTguMTU3YTIyIDIyIDAgMCAwIC4wNTEgMS4xMzVjLjExIDEuODU1LjMxNSA1LjMwNy0uMjMyIDkuMjE3LS41MDggMy42MzMuNjEyIDcuMTg5IDMuMDcyIDkuNzU2cS4zODMuMzk4Ljc5NS43NWExNjQgMTY0IDAgMCAwLTYuMDA4IDYuODE0em02LjgzLTkuMTEzYy0xLjk4My0yLjA2OS0yLjg4NC00Ljk0Ny0yLjQ3MS03Ljg5Ni41NzctNC4xMy4zNjQtNy43MjcuMjUtOS42NTlsLS4wMzktLjY5NGMuOTM0LS44MjggNS4yNjEtMy4xNDYgOC4zNDYtMi40MzkgMS40MDguMzIzIDIuMjY2IDEuMjgxIDIuNjIzIDIuOTMxIDEuODQ2IDguNTM5LjI0NCAxMi4wOTgtMS4wNDMgMTQuOTU3LS4yNjUuNTg5LS41MTYgMS4xNDYtLjczIDEuNzIybC0uMTY2LjQ0NWMtLjQyIDEuMTI2LS44MTEgMi4xNzMtMS4wNTMgMy4xNjctMi4xMDgtLjAwNi00LjE1OS0uOTA3LTUuNzE4LTIuNTM0em0uMzI0IDExLjUxNmE1IDUgMCAwIDEtMS40OTQtLjY0MmMuMjcxLS4xMjguNzU0LS4zMDEgMS41OTEtLjQ3NCA0LjA1Mi0uODM0IDQuNjc4LTEuNDIzIDYuMDQ1LTMuMTU4LjMxMy0uMzk4LjY2OS0uODQ5IDEuMTYtMS4zOTguNzMzLS44MjEgMS4wNjgtLjY4MiAxLjY3Ni0uNDMuNDkzLjIwNC45NzIuODIxIDEuMTY3IDEuNTAxLjA5Mi4zMjEuMTk1LjkzLS4xNDMgMS40MDQtMi44NTUgMy45OTctNy4wMTUgMy45NDYtMTAuMDAzIDMuMTk4em0yMS4yMDcgMTkuNzM1Yy00Ljk1NyAxLjA2Mi02LjcxMy0xLjQ2Ny03Ljg2OS00LjM1OS0uNzQ3LTEuODY3LTEuMTEzLTEwLjI4NS0uODUzLTE5LjU4MmExLjEgMS4xIDAgMCAwLS4wNDgtLjM1NiA1IDUgMCAwIDAtLjEzOS0uNjU3Yy0uMzg3LTEuMzUzLTEuMzMxLTIuNDg0LTIuNDYyLTIuOTUzLS40NS0uMTg2LTEuMjc1LS41MjgtMi4yNjctLjI3NC4yMTItLjg3MS41NzgtMS44NTUuOTc2LTIuOTIxbC4xNjctLjQ0OGMuMTg4LS41MDUuNDIzLTEuMDI5LjY3My0xLjU4MyAxLjM0Ny0yLjk5MiAzLjE5Mi03LjA5MSAxLjE5LTE2LjM1LS43NS0zLjQ2OC0zLjI1NC01LjE2MS03LjA1LTQuNzY4LTIuMjc2LjIzNS00LjM1OCAxLjE1NC01LjM5NiAxLjY4cS0uMzM0LjE2OS0uNjE4LjMyOWMuMjktMy40OTQgMS4zODUtMTAuMDI0IDUuNDgxLTE0LjE1NiAyLjU3OS0yLjYwMSA2LjAxNC0zLjg4NiAxMC4xOTktMy44MTcgOC4yNDYuMTM1IDEzLjUzNCA0LjM2NyAxNi41MTggNy44OTMgMi41NzEgMy4wMzkgMy45NjQgNi4xIDQuNTIgNy43NTEtNC4xNzktLjQyNS03LjAyMi40LTguNDYzIDIuNDYtMy4xMzUgNC40ODEgMS43MTUgMTMuMTc4IDQuMDQ2IDE3LjM1OC40MjcuNzY2Ljc5NiAxLjQyOC45MTIgMS43MDkuNzU5IDEuODM5IDEuNzQyIDMuMDY3IDIuNDU5IDMuOTY0LjIyLjI3NS40MzMuNTQxLjU5Ni43NzQtMS4yNjYuMzY1LTMuNTM5IDEuMjA4LTMuMzMyIDUuNDIyLS4xNjcgMi4xMTUtMS4zNTYgMTIuMDE2LTEuOTU5IDE1LjUxNC0uNzk3IDQuNjIxLTIuNDk3IDYuMzQzLTcuMjc5IDcuMzY4em0yMC42OTMtMjMuNjhjLTEuMjk0LjYwMS0zLjQ2IDEuMDUyLTUuNTE4IDEuMTQ4LTIuMjczLjEwNy0zLjQzLS4yNTUtMy43MDItLjQ3Ny0uMTI4LTIuNjI2Ljg1LTIuOTAxIDEuODg0LTMuMTkxLjE2My0uMDQ2LjMyMS0uMDkuNDc0LS4xNDRhNCA0IDAgMCAwIC4zMTMuMjNjMS44MjcgMS4yMDYgNS4wODUgMS4zMzYgOS42ODUuMzg2bC4wNS0uMDFjLS42Mi41OC0xLjY4MiAxLjM1OS0zLjE4NyAyLjA1OHoiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
        },
        "displayName": "Postgres",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 3,
            "name": "Data & Storage"
          },
          {
            "id": 5,
            "name": "Development"
          }
        ]
      },
      {
        "id": 38,
        "icon": "fa:pen",
        "name": "n8n-nodes-base.set",
        "codex": {
          "data": {
            "alias": [
              "Set",
              "JS",
              "JSON",
              "Filter",
              "Transform",
              "Map"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                  "icon": "",
                  "label": "Database Monitoring and Alerting with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " ",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                  "icon": "",
                  "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                  "icon": "",
                  "label": "Learn to Build Powerful API Endpoints Using Webhooks"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Edit Fields"
        },
        "iconData": {
          "icon": "pen",
          "type": "icon"
        },
        "displayName": "Edit Fields (Set)",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 40,
        "icon": "file:slack.svg",
        "name": "n8n-nodes-base.slack",
        "codex": {
          "data": {
            "alias": [
              "human",
              "form",
              "wait",
              "hitl",
              "approval"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                  "icon": "",
                  "label": "Build your own virtual assistant with n8n: A step by step guide"
                },
                {
                  "url": "https://n8n.io/blog/how-to-automatically-give-kudos-to-contributors-with-github-slack-and-n8n/",
                  "icon": "",
                  "label": "How to automatically give kudos to contributors with GitHub, Slack, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/automations-for-activists/",
                  "icon": "",
                  "label": "How Common Knowledge use workflow automation for activism"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.slack/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/slack/"
                }
              ]
            },
            "categories": [
              "Communication",
              "HITL"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "HITL": [
                "Human in the Loop"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "Slack"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgMTUwLjg1MiAxNTAuODUyIj48dXNlIHhsaW5rOmhyZWY9IiNhIiB4PSIuOTI2IiB5PSIuOTI2Ii8+PHN5bWJvbCBpZD0iYSIgb3ZlcmZsb3c9InZpc2libGUiPjxnIHN0cm9rZS13aWR0aD0iMS44NTIiPjxwYXRoIGZpbGw9IiNlMDFlNWEiIHN0cm9rZT0iI2UwMWU1YSIgZD0iTTQwLjc0MSA5My41NWMwLTguNzM1IDYuNjA3LTE1Ljc3MiAxNC44MTUtMTUuNzcyczE0LjgxNSA3LjAzNyAxNC44MTUgMTUuNzcydjM4LjgyNGMwIDguNzM3LTYuNjA3IDE1Ljc3NC0xNC44MTUgMTUuNzc0cy0xNC44MTUtNy4wMzctMTQuODE1LTE1Ljc3MnoiLz48cGF0aCBmaWxsPSIjZWNiMjJkIiBzdHJva2U9IiNlY2IyMmQiIGQ9Ik05My41NSAxMDcuNDA4Yy04LjczNSAwLTE1Ljc3Mi02LjYwNy0xNS43NzItMTQuODE1czcuMDM3LTE0LjgxNSAxNS43NzItMTQuODE1aDM4LjgyNmM4LjczNSAwIDE1Ljc3MiA2LjYwNyAxNS43NzIgMTQuODE1cy03LjAzNyAxNC44MTUtMTUuNzcyIDE0LjgxNXoiLz48cGF0aCBmaWxsPSIjMmZiNjdjIiBzdHJva2U9IiMyZmI2N2MiIGQ9Ik03Ny43NzggMTUuNzcyQzc3Ljc3OCA3LjAzNyA4NC4zODUgMCA5Mi41OTMgMHMxNC44MTUgNy4wMzcgMTQuODE1IDE1Ljc3MnYzOC44MjZjMCA4LjczNS02LjYwNyAxNS43NzItMTQuODE1IDE1Ljc3MnMtMTQuODE1LTcuMDM3LTE0LjgxNS0xNS43NzJ6Ii8+PHBhdGggZmlsbD0iIzM2YzVmMSIgc3Ryb2tlPSIjMzZjNWYxIiBkPSJNMTUuNzcyIDcwLjM3MUM3LjAzNyA3MC4zNzEgMCA2My43NjMgMCA1NS41NTZzNy4wMzctMTQuODE1IDE1Ljc3Mi0xNC44MTVoMzguODI2YzguNzM1IDAgMTUuNzcyIDYuNjA3IDE1Ljc3MiAxNC44MTVzLTcuMDM3IDE0LjgxNS0xNS43NzIgMTQuODE1eiIvPjxnIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiPjxwYXRoIGZpbGw9IiNlY2IyMmQiIHN0cm9rZT0iI2VjYjIyZCIgZD0iTTc3Ljc3OCAxMzMuMzMzYzAgOC4yMDggNi42MDcgMTQuODE1IDE0LjgxNSAxNC44MTVzMTQuODE1LTYuNjA3IDE0LjgxNS0xNC44MTUtNi42MDctMTQuODE1LTE0LjgxNS0xNC44MTVINzcuNzc4eiIvPjxwYXRoIGZpbGw9IiMyZmI2N2MiIHN0cm9rZT0iIzJmYjY3YyIgZD0iTTEzMy4zMzQgNzAuMzcxaC0xNC44MTVWNTUuNTU2YzAtOC4yMDcgNi42MDctMTQuODE1IDE0LjgxNS0xNC44MTVzMTQuODE1IDYuNjA3IDE0LjgxNSAxNC44MTUtNi42MDcgMTQuODE1LTE0LjgxNSAxNC44MTV6Ii8+PHBhdGggZmlsbD0iI2UwMWU1YSIgc3Ryb2tlPSIjZTAxZTVhIiBkPSJNMTQuODE1IDc3Ljc3OEgyOS42M3YxNC44MTVjMCA4LjIwNy02LjYwNyAxNC44MTUtMTQuODE1IDE0LjgxNVMwIDEwMC44IDAgOTIuNTkzczYuNjA3LTE0LjgxNSAxNC44MTUtMTQuODE1eiIvPjxwYXRoIGZpbGw9IiMzNmM1ZjEiIHN0cm9rZT0iIzM2YzVmMSIgZD0iTTcwLjM3MSAxNC44MTVWMjkuNjNINTUuNTU2Yy04LjIwNyAwLTE0LjgxNS02LjYwNy0xNC44MTUtMTQuODE1UzQ3LjM0OCAwIDU1LjU1NiAwczE0LjgxNSA2LjYwNyAxNC44MTUgMTQuODE1eiIvPjwvZz48L2c+PC9zeW1ib2w+PC9zdmc+"
        },
        "displayName": "Slack",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 6,
            "name": "Communication"
          },
          {
            "id": 28,
            "name": "HITL"
          }
        ]
      },
      {
        "id": 112,
        "icon": "fa:map-signs",
        "name": "n8n-nodes-base.switch",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "If",
              "Path",
              "Filter",
              "Condition",
              "Logic",
              "Branch",
              "Case"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                  "icon": "",
                  "label": "Build your own virtual assistant with n8n: A step by step guide"
                },
                {
                  "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                  "icon": "",
                  "label": "How to automatically manage contributions to open-source projects"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.switch/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Switch",
          "color": "#506000"
        },
        "iconData": {
          "icon": "map-signs",
          "type": "icon"
        },
        "displayName": "Switch",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 834,
        "icon": "file:code.svg",
        "name": "n8n-nodes-base.code",
        "codex": {
          "data": {
            "alias": [
              "cpde",
              "Javascript",
              "JS",
              "Python",
              "Script",
              "Custom Code",
              "Function"
            ],
            "details": "The Code node allows you to execute JavaScript in your workflow.",
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Code"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
        },
        "displayName": "Code",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 838,
        "icon": "fa:mouse-pointer",
        "name": "n8n-nodes-base.manualTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When clicking Execute workflow",
          "color": "#909298"
        },
        "iconData": {
          "icon": "mouse-pointer",
          "type": "icon"
        },
        "displayName": "Manual Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1119,
        "icon": "fa:robot",
        "name": "@n8n/n8n-nodes-langchain.agent",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "Chat",
              "Conversational",
              "Plan and Execute",
              "ReAct",
              "Tools"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Agents",
                "Root Nodes"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "AI Agent",
          "color": "#404040"
        },
        "iconData": {
          "icon": "robot",
          "type": "icon"
        },
        "displayName": "AI Agent",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1153,
        "icon": "file:openAiLight.svg",
        "name": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatopenai/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Language Models",
                "Root Nodes"
              ],
              "Language Models": [
                "Chat Models (Recommended)"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "OpenAI Chat Model"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg0IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NyAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MiA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSIjN0Q3RDg3Ii8+Cjwvc3ZnPgo="
        },
        "displayName": "OpenAI Chat Model",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1179,
        "icon": "fa:code",
        "name": "@n8n/n8n-nodes-langchain.outputParserStructured",
        "codex": {
          "data": {
            "alias": [
              "json",
              "zod"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.outputparserstructured/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Output Parsers"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Structured Output Parser"
        },
        "iconData": {
          "icon": "code",
          "type": "icon"
        },
        "displayName": "Structured Output Parser",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1236,
        "icon": "file:aggregate.svg",
        "name": "n8n-nodes-base.aggregate",
        "codex": {
          "data": {
            "alias": [
              "Aggregate",
              "Combine",
              "Flatten",
              "Transform",
              "Array",
              "List",
              "Item"
            ],
            "details": "",
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.aggregate/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Aggregate"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJub25lIj48ZyBmaWxsPSIjRkY2RDVBIiBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTMyIDE0OGMwLTYuNjI3IDUuMzczLTEyIDEyLTEyaDE0NmM2LjYyNyAwIDEyIDUuMzczIDEyIDEydjI0YzAgNi42MjctNS4zNzMgMTItMTIgMTJINDRjLTYuNjI3IDAtMTItNS4zNzMtMTItMTJ6bTAgOTZjMC02LjYyNyA1LjM3My0xMiAxMi0xMmgxNDZjNi42MjcgMCAxMiA1LjM3MyAxMiAxMnYyNGMwIDYuNjI3LTUuMzczIDEyLTEyIDEySDQ0Yy02LjYyNyAwLTEyLTUuMzczLTEyLTEyem0wIDk2YzAtNi42MjcgNS4zNzMtMTIgMTItMTJoMTQ2YzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MjRjMCA2LjYyNy01LjM3MyAxMi0xMiAxMkg0NGMtNi42MjcgMC0xMi01LjM3My0xMi0xMnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGQ9Ik03NCA3NmMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDExNi4yMTdjMTcuNjczIDAgMzIgMTQuMzI3IDMyIDMydjU2YzAgMjYuOTc4IDEwLjI3MiA1MS41NTcgMjcuMTE5IDcwLjAzOSA1LjA1NSA1LjU0NSA1LjA1NSAxNC4zNzcgMCAxOS45MjItMTYuODQ3IDE4LjQ4Mi0yNy4xMTkgNDMuMDYxLTI3LjExOSA3MC4wMzl2NTZjMCAxNy42NzMtMTQuMzI3IDMyLTMyIDMySDg2Yy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoMTE2LjIxN2M0NC4xODMgMCA4MC0zNS44MTcgODAtODB2LTU2YzAtMzAuOTI4IDI1LjA3Mi01NiA1Ni01NmE1Ljc4MyA1Ljc4MyAwIDAgMCA1Ljc4My01Ljc4M3YtMzYuNDM0YTUuNzgzIDUuNzgzIDAgMCAwLTUuNzgzLTUuNzgzYy0zMC45MjggMC01Ni0yNS4wNzItNTYtNTZ2LTU2YzAtNDQuMTgzLTM1LjgxNy04MC04MC04MEg4NmMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnoiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNzYgMjQ0YzAtNi42MjcgNS4zNzMtMTIgMTItMTJoMTEyYzYuNjI3IDAgMTIgNS4zNzMgMTIgMTJ2MjRjMCA2LjYyNy01LjM3MyAxMi0xMiAxMkgzODhjLTYuNjI3IDAtMTItNS4zNzMtMTItMTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUxMnY1MTJIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4="
        },
        "displayName": "Aggregate",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 37,
        "name": "Lead Generation"
      },
      {
        "id": 49,
        "name": "AI Summarization"
      }
    ],
    "image": []
  }
}