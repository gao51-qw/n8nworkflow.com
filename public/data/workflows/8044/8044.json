{
  "workflow": {
    "id": 8044,
    "name": "Automate token purchases with dollar cost averaging on Uniswap V3 & 1Shot API",
    "views": 181,
    "recentViews": 0,
    "totalViews": 181,
    "createdAt": "2025-08-30T05:39:26.365Z",
    "description": "*This workflow contains community nodes that are only compatible with the self-hosted version of n8n.*\n\n![DCAdemo.gif](fileId:2287)\n# Dollar Cost Averaging with Uniswap V3\n\nThis workflow lets you set up an scheduled workflow to dollar cost average (DCA) into any token on a custom schedule using [1Shot API](https://1shotapi.com) and the [Uniswap V3](https://app.uniswap.org/) protocol. Choose your schedule input token and output token and optionally configure the workflow to send you notifications in Telegram everytime your workflow completes a swap. \n\n## YouTube Tutorial\n\nYou can watch the full [end-to-end tutorial](https://youtu.be/JiyLR5NtU7I) for this workflow on our [YouTube channel](https://www.youtube.com/@1shotapi). \n\n## Wallet Delegation\n\nImportantly, this workflow uses Metamasks [Delegation Framework](https://metamask.io/developer/delegation-toolkit) which lets you DCA from an account you custody whithout ever exporting your private key or giving up control of your assets. \n\n## Setup\n\n1. Create a free [1Shot API](https://1shotapi.com) account, provision a [server wallet](https://app.1shotapi.com/wallets) to relay transactions, and generate an API key to connect to n8n.  \n2. Import the following [Uniswap contracts](https://docs.uniswap.org/contracts/v3/reference/deployments/) into your 1Shot API account for the chain you want to swap on: QuoterV2, SwapRouter02, and the token pool (needed to compute time-weighted average price (TWAP). \n3. Import the `approve` function for the ERC-20 token you want to use to purchase your target asset (this should be the `token0` or `token1` of the pool you imported in step 2).\n4. Click on the server wallet details you created, fund it with enough gas tokens to pay for your transactions, then generate a delegation for the SwapRouter02 contract and the ERC-20 token from steps 2 and 3. \n5. Import the DCA workflow and use your 1Shot API key/secret to create a credential.\n6. Point the 1Shot API nodes at the appropriate smart contract functions you imported in steps 2 and 3. \n7. In the `Swap Configs` node, set the amount of the *in* token you want to spend on each purchase - for example, if you are using USDC (which has 6 decimals) and you want to purchase $10 every purchase, then `amountDCA` should be `10000000`. Also set the correct addresses for the SwapRouterV2, `token0`, `token1` and `fee` of the pool you are using. \n8. Lastly, set the frequency of your DCA in the trigger node and activate!\n\n## Optional Telegram Notifications\n\nYou can configure a Telegarm bot to notifiy you everytime the workflow completes to send you a transaction has and you remaining balance in your purchasing funds. ",
    "workflow": {
      "id": "maYy0i7nYbJwepaQ",
      "meta": {
        "instanceId": "62f017ec8f130d172e2e5f39bbf09515036bfd403dfa60fe06f5ab14b78705d0",
        "templateCredsSetupCompleted": true
      },
      "name": "DCA w/ Uniswap V3",
      "tags": [],
      "nodes": [
        {
          "id": "f43b592f-1203-47b8-9dac-61e8a9d3c9d3",
          "name": "Calculate TWAP",
          "type": "n8n-nodes-base.code",
          "position": [
            432,
            160
          ],
          "parameters": {
            "jsCode": "// Constants\nconst MaxUint256 = (1n << 256n) - 1n;\nconst Q32 = 1n << 32n;\nconst ZERO = 0n;\nconst ONE = 1n;\n\nfunction mulShift(val, mulBy) {\n  return (val * BigInt(mulBy)) >> 128n;\n}\n\n/**\n * Returns the sqrt ratio as a Q64.96 for the given tick.\n * The sqrt ratio is computed as sqrt(1.0001)^tick\n * @param {number} tick the tick for which to compute the sqrt ratio\n */\nfunction getSqrtRatioAtTick(tick) {\n  if (!Number.isInteger(tick)) throw new Error(\"Tick must be integer\");\n  const MIN_TICK = -887272;\n  const MAX_TICK = 887272;\n\n  if (tick < MIN_TICK || tick > MAX_TICK) throw new Error(\"Tick out of bounds\");\n\n  const absTick = tick < 0 ? -tick : tick;\n\n  let ratio =\n    (absTick & 0x1) != 0\n      ? 0xfffcb933bd6fad37aa2d162d1a594001n\n      : 0x1+1234567890+1234567890n;\n  if ((absTick & 0x2) != 0) ratio = mulShift(ratio, 0xfff97272373d413259a46990580e213an);\n  if ((absTick & 0x4) != 0) ratio = mulShift(ratio, 0xfff2e50f5f656932ef12357cf3c7fdccn);\n  if ((absTick & 0x8) != 0) ratio = mulShift(ratio, 0xffe5caca7e10e4e61c3624eaa0941cd0n);\n  if ((absTick & 0x10) != 0) ratio = mulShift(ratio, 0xffcb9843d60f6159c9db58835c926644n);\n  if ((absTick & 0x20) != 0) ratio = mulShift(ratio, 0xff973b41fa98c081472e6896dfb254c0n);\n  if ((absTick & 0x40) != 0) ratio = mulShift(ratio, 0xff2ea16466c96a3843ec78b326b52861n);\n  if ((absTick & 0x80) != 0) ratio = mulShift(ratio, 0xfe5dee046a99a2a811c461f1969c3053n);\n  if ((absTick & 0x100) != 0) ratio = mulShift(ratio, 0xfcbe86c7900a88aedcffc83b479aa3a4n);\n  if ((absTick & 0x200) != 0) ratio = mulShift(ratio, 0xf987a7253ac413176f2b074cf7815e54n);\n  if ((absTick & 0x400) != 0) ratio = mulShift(ratio, 0xf3392b0822b70005940c7a398e4b70f3n);\n  if ((absTick & 0x800) != 0) ratio = mulShift(ratio, 0xe7159475a2c29b7443b29c7fa6e889d9n);\n  if ((absTick & 0x1000) != 0) ratio = mulShift(ratio, 0xd097f3bdfd2022b8845ad8f792aa5825n);\n  if ((absTick & 0x2000) != 0) ratio = mulShift(ratio, 0xa9f746462d870fdf8a65dc1f90e061e5n);\n  if ((absTick & 0x4000) != 0) ratio = mulShift(ratio, 0x70d869a156d2a1b890bb3df62baf32f7n);\n  if ((absTick & 0x8000) != 0) ratio = mulShift(ratio, 0x31be135f97d08fd981231505542fcfa6n);\n  if ((absTick & 0x10000) != 0) ratio = mulShift(ratio, 0x9aa508b5b7a84e1c677de54f3e99bc9n);\n  if ((absTick & 0x20000) != 0) ratio = mulShift(ratio, 0x5d6af8dedb81196699c329225ee604n);\n  if ((absTick & 0x40000) != 0) ratio = mulShift(ratio, 0x2216e584f5fa1ea926041bedfe98n);\n  if ((absTick & 0x80000) != 0) ratio = mulShift(ratio, 0x48a170391f7dc42444e8fa2n);\n\n  if (tick > 0) {\n    ratio = MaxUint256 / ratio;\n  }\n\n  // back to Q96\n  return ratio % Q32 > 0n ? ratio / Q32 + ONE : ratio / Q32;\n}\n\nfunction getPriceFromSqrtPriceX96(sqrtPriceX96, decimals0, decimals1) {\n  // Ensure input is BigInt\n  const sqrtPrice = BigInt(sqrtPriceX96.toString());\n\n  // (sqrtPriceX96 ^ 2)\n  const numerator = sqrtPrice * sqrtPrice;\n\n  // Denominator = 2^192\n  const denominator = 1n << 192n;\n\n  // Raw price ratio (tokenOut per tokenIn, no decimals adjusted)\n  let ratio = Number(numerator * 10n**18n / denominator) / 1e18; \n  // (we scale by 1e18 to stay precise when converting to Number)\n\n  // Adjust for token decimals\n  const decimalFactor = 10 ** (decimals0 - decimals1);\n  const price = ratio * decimalFactor;\n\n  return price;\n}\n\nconst amountOut = $input.first().json.result.decodedData[0];\nconst diffTickCumulative = parseInt($('Fetch Pool TWA Observations').first().json.response[0][0]) - parseInt($('Fetch Pool TWA Observations').first().json.response[0][1]);\nconst diffSecondsPerLIquidityX128 = parseInt($('Fetch Pool TWA Observations').first().json.response[1][0]) - parseInt($('Fetch Pool TWA Observations').first().json.response[1][1]);\nconst secondsBetween = parseInt($('Swap Configs').first().json.secondsAgo);\nconst secondsBetweenX128 = BigInt(secondsBetween) << BigInt(128);\nconst averageTick = parseInt(diffTickCumulative/secondsBetween);\n\nconst sqrtPriceX96After = $input.first().json.result.decodedData[1];\nconst priceAfter = getPriceFromSqrtPriceX96(sqrtPriceX96After, $('Swap Configs').first().json.tokenInDecimals, $('Swap Configs').first().json.tokenOutDecimals);\n\nconst sqrtTWAPricex96 = getSqrtRatioAtTick(averageTick);\nconst TWAP = getPriceFromSqrtPriceX96(sqrtTWAPricex96, $('Swap Configs').first().json.tokenInDecimals, $('Swap Configs').first().json.tokenOutDecimals);\nconst TWAL = secondsBetweenX128 / BigInt(diffSecondsPerLIquidityX128);\n\n// The \"price\" reported by a pool is how much of `token0` \nconsole.log(\"TWAP\", 1/TWAP);\nconsole.log(\"Price After: \", 1/priceAfter);\nconsole.log(\"TWAL\", TWAL);\n\n$input.first().json.twap = TWAP; \n$input.first().json.sqrtTWAPriceX96 = sqrtTWAPricex96; \n$input.first().json.twal = TWAL; \n$input.first().json.quotePriceAfter = priceAfter; \n$input.first().json.amountOut = amountOut;\n\nreturn $input.all()\n"
          },
          "typeVersion": 2
        },
        {
          "id": "bd180960-416b-48f8-b524-9841428a34e9",
          "name": "Fetch Pool TWA Observations",
          "type": "n8n-nodes-1shot.oneShot",
          "position": [
            -16,
            160
          ],
          "parameters": {
            "params": "={\n  \"secondsAgos\": [\"0\",\"{{ $json.secondsAgo }}\"]\n} ",
            "operation": "read",
            "contractMethodId": "10cb761e-caae-400e-9c31-bde85f45f4cd"
          },
          "credentials": {
            "oneShotOAuth2Api": {
              "id": "credential-id",
              "name": "oneShotOAuth2Api Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "46184b6b-263e-4e14-9518-2515e2d311a3",
          "name": "Get Swap Qoute",
          "type": "n8n-nodes-1shot.oneShot",
          "position": [
            208,
            160
          ],
          "parameters": {
            "params": "={\n  \"params\": \n    {\n  \"tokenIn\": \"{{ $('Swap Configs').item.json.tokenIn }}\",\n  \"tokenOut\": \"{{ $('Swap Configs').item.json.tokenOut }}\",\n  \"amountIn\": \"{{ $('Swap Configs').item.json.amountDCA }}\",\n  \"fee\": \"{{ $('Swap Configs').item.json.fee }}\",\n  \"sqrtPriceLimitX96\": \"0\"\n    }\n} ",
            "operation": "simulate",
            "contractMethodId": "3bc18080-46f6-4ba0-99f0-c1f6af57e7b3"
          },
          "credentials": {
            "oneShotOAuth2Api": {
              "id": "credential-id",
              "name": "oneShotOAuth2Api Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "6b4d7900-7fae-4c1d-80cf-2900dfb4e299",
          "name": "Swap Tokens",
          "type": "n8n-nodes-1shot.oneShotSynch",
          "onError": "continueRegularOutput",
          "position": [
            880,
            80
          ],
          "parameters": {
            "params": "={\n\"params\": {\n\"tokenIn\": \"{{ $('Swap Configs').item.json.tokenIn }}\",\n\"tokenOut\": \"{{ $('Swap Configs').item.json.tokenOut }}\",\n\"fee\": \"{{ $('Swap Configs').item.json.fee }}\",\n\"recipient\": \"{{ $('Swap Configs').item.json.delegator }}\",\n\"amountIn\": \"{{ $('Swap Configs').item.json.amountDCA }}\",\n\"amountOutMinimum\": \"{{ $('Calculate TWAP').item.json.amountOut }}\",\n\"sqrtPriceLimitX96\": \"0\"\n}\n}",
            "operation": "executeAsDelegator",
            "additionalFields": {
              "memo": "=DCA Swap for {{ $('Swap Configs').item.json.amountDCA }}, TWAP: {{ $('Calculate TWAP').item.json.twap }}"
            },
            "contractMethodId": "971b6978-79bf-42ac-8c99-52289dc94fac",
            "delegatorWalletAddress": "={{ $('Swap Configs').item.json.delegator }}"
          },
          "credentials": {
            "oneShotOAuth2Api": {
              "id": "credential-id",
              "name": "oneShotOAuth2Api Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "a11c7481-97bf-4cee-8a3f-e604cd09236d",
          "name": "Schedule Trigger",
          "type": "n8n-nodes-base.scheduleTrigger",
          "position": [
            -464,
            160
          ],
          "parameters": {
            "rule": {
              "interval": [
                {
                  "field": "minutes",
                  "minutesInterval": 15
                }
              ]
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "8c435f3f-72dc-4102-99bd-13cda1ea27c8",
          "name": "Failure Details",
          "type": "n8n-nodes-base.telegram",
          "position": [
            1104,
            256
          ],
          "webhookId": "4bc3c459-fb40-44e5-a4b6-8565f2e92b62",
          "parameters": {
            "text": "=âŒ Swap Failed",
            "chatId": "123456789",
            "additionalFields": {}
          },
          "credentials": {
            "telegramApi": {
              "id": "credential-id",
              "name": "telegramApi Credential"
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "d1512fe2-112f-48c0-8a98-cbbb08ab8f65",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -944,
            160
          ],
          "parameters": {
            "width": 320,
            "height": 224,
            "content": "## Set Your DCA Schedule\n\nn8n makes it really easy to set a recurring schedule for your DCA purchases. Click on the Schedule Trigger node and set your frequency. "
          },
          "typeVersion": 1
        },
        {
          "id": "4f6661d0-978c-4554-97eb-f91519dd8c85",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -528,
            -160
          ],
          "parameters": {
            "width": 720,
            "height": 304,
            "content": "## DCA configs\n\nSince we are using the Uniswap protocol directly, you'll need to set a few parameters in the Swap Configs node. \n\n1. Decide on the amount you want to spend on each DCA buy. \n2. Put your wallet address as the `delegator` so that the workflow can execute DCA buys on your behalf. \n3. Set the correct address for the Uniswap [SwapRouter](https://docs.uniswap.org/contracts/v3/reference/deployments/) contract\n4. Depending on the pool your are trading against, set the correct addresses for `tokenIn` and `tokenOut`. Also set the number of decimals used by `tokenIn` and `tokenOut`.\n5. Next, set the correct fee for the pool you are trading against (for most pools its just `500`). "
          },
          "typeVersion": 1
        },
        {
          "id": "4b46e786-07d6-4184-8a90-ff264686c075",
          "name": "Sticky Note2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            0,
            608
          ],
          "parameters": {
            "width": 720,
            "height": 384,
            "content": "## Connect to Your 1Shot API Account\n\nCreate an API key and secret in your 1Shot API account and connect your n8n instance by creating a credential. \n\n1. The `Fetch Pool TWA Observactions` should point to the `observe` method on your target trading pool (like this [one](https://app.uniswap.org/explore/pools/base/0xfBB6Eed8e7aa03B138556eeDaF5D271A5E1e43ef)). \n2. The `Get Swap Quote` node should point to the `quoteExactInputSingle` on the QuoterV2 contract.\n3. The `Give Approval to Router` should call `approve` on the token you are DCA'ing out of (like USDC). \n4. The `Swap Tokens` node should point at the `exactInputSingle` function on the Uniswap SwapRouterV2 contract. \n5. In order to get look up your remaining balance of funds that can be used for DCA purchases, point the `Get Remaining DCA Funds` at the `balanceOf` functions of the `token0` contract."
          },
          "typeVersion": 1
        },
        {
          "id": "bb585dd2-901b-4bb3-b822-5ddf3ad80be7",
          "name": "Give Approval to Router",
          "type": "n8n-nodes-1shot.oneShotSynch",
          "onError": "continueRegularOutput",
          "position": [
            656,
            160
          ],
          "parameters": {
            "params": "={\n  \"spender\": \"{{ $('Swap Configs').item.json.router }}\", \n  \"value\": \"{{ $('Swap Configs').item.json.amountDCA }}\"\n} ",
            "operation": "executeAsDelegator",
            "additionalFields": {
              "memo": "=DCA Approve for {{ $('Swap Configs').item.json.amountDCA }}"
            },
            "contractMethodId": "a8abf8ae-f524-444a-a9db-76a8a4711599",
            "delegatorWalletAddress": "={{ $('Swap Configs').item.json.delegator }}"
          },
          "credentials": {
            "oneShotOAuth2Api": {
              "id": "credential-id",
              "name": "oneShotOAuth2Api Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "792928fb-59e5-44ba-a6b9-9f388c74f02a",
          "name": "Sticky Note3",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            1344,
            224
          ],
          "parameters": {
            "width": 544,
            "height": 176,
            "content": "## Telegram Notifications\n\nIf you want to get notified on each DCA purchase, connect a Telegram bot. "
          },
          "typeVersion": 1
        },
        {
          "id": "2edc9432-92f2-4feb-a44a-f6d6f5608db1",
          "name": "Success Details",
          "type": "n8n-nodes-base.telegram",
          "position": [
            1328,
            32
          ],
          "webhookId": "4bc3c459-fb40-44e5-a4b6-8565f2e92b62",
          "parameters": {
            "text": "=âœ… Swapped `{{ $('Swap Configs').item.json.amountDCA }}` `{{ $('Swap Configs').item.json.token0 }}` for {{ $('Get Swap Qoute').item.json.result.decodedData[0] }} {{ $('Swap Configs').item.json.token1 }}. \n\nThe `{{ $('Swap Configs').item.json.secondsAgo }}` second TWAP was `{{ $('Calculate TWAP').item.json.twap }}`. Your tx hash is `{{ $('Swap Tokens').item.json.transactionHash }}`.\n\nYou have {{ $json.response }} of token `{{ $('Swap Configs').item.json.token0 }}` left. ",
            "chatId": "123456789",
            "additionalFields": {}
          },
          "credentials": {
            "telegramApi": {
              "id": "credential-id",
              "name": "telegramApi Credential"
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "3147ded9-fc81-4d00-b230-c313c0c3501a",
          "name": "Get Remaining DCA Funds Balance",
          "type": "n8n-nodes-1shot.oneShot",
          "position": [
            1104,
            32
          ],
          "parameters": {
            "params": "={\n  \"account\": \"{{ $('Swap Configs').item.json.delegator }}\"\n}",
            "operation": "read",
            "contractMethodId": "9ad15620-d9bd-4c45-a0b2-4f9b647e80a7"
          },
          "credentials": {
            "oneShotOAuth2Api": {
              "id": "credential-id",
              "name": "oneShotOAuth2Api Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "4d7da856-78f7-4553-a9f7-2a372688712b",
          "name": "Swap Configs",
          "type": "n8n-nodes-base.code",
          "position": [
            -240,
            160
          ],
          "parameters": {
            "jsCode": "const amountDCA = 250000; // amount to swap each time\nconst delegator = \"0x9fead8b19c044c2f404dac38b925ea16adaa2954\"; // your delegated wallet address.\nconst router = \"0x2626664c2603336E57B271c5C0b26F421741e481\"; // the uniswap SwapRouterV2\nconst tokenIn = \"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913\"; // token0 of your target pool, this one is USDC\nconst tokenOut = \"0xcbB7C0000aB88B473b1f5aFd9ef808440eed33Bf\"; // token1 of your target pool, this one is cbBTC\nconst tokenInDecimals = 6; // USDC has 6 decimals\nconst tokenOutDecimals = 8; // cbBTC has 8 decimals\nconst fee = 500; // the fee of your target pool, most pools have a fee of 500\nconst secondsAgo = 120; // the size of your TWAP window\n\n$input.first().json.amountDCA = amountDCA;\n$input.first().json.delegator = delegator;\n$input.first().json.router = router;\n$input.first().json.tokenIn = tokenIn;\n$input.first().json.tokenInDecimals = tokenInDecimals;\n$input.first().json.tokenOut = tokenOut;\n$input.first().json.tokenOutDecimals = tokenOutDecimals;\n$input.first().json.fee = fee;\n$input.first().json.secondsAgo = secondsAgo;\n\nreturn $input.all();\n"
          },
          "typeVersion": 2
        },
        {
          "id": "326628a6-6b36-4f27-9af1-6fc5bc13d430",
          "name": "Sticky Note4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            64,
            368
          ],
          "parameters": {
            "width": 576,
            "height": 192,
            "content": "## Contracts to Import to Your 1Shot API account:\n\n1. [Uniswap SwapRouterV2](https://app.1shotapi.com/1shot-prompts/ce849711-a23a-4d6b-8a85-f5787011893e)\n2. [Uniswap Quoter02](https://app.1shotapi.com/1shot-prompts/4025d2d0-d7be-4251-b118-3470e9412d77)\n3. [Uniswap USDC/cbBTC Pool V3](https://app.1shotapi.com/1shot-prompts/3d95715b-ac09-4f7f-b2e6-918f6bd11875)\n4. [USDC](https://app.1shotapi.com/1shot-prompts/e087662d-154a-4810-bebf-327a950e2414)"
          },
          "typeVersion": 1
        },
        {
          "id": "be85f1ff-4ebf-4a5d-a3f2-aa62c6dc706e",
          "name": "Sticky Note5",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -944,
            432
          ],
          "parameters": {
            "width": 768,
            "height": 560,
            "content": "## YouTube Tutorial\n\n@[youtube](JiyLR5NtU7I)"
          },
          "typeVersion": 1
        }
      ],
      "active": false,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "1b7fd32c-564f-477e-a38e-cc97299735c0",
      "connections": {
        "Swap Tokens": {
          "main": [
            [
              {
                "node": "Get Remaining DCA Funds Balance",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Failure Details",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Swap Configs": {
          "main": [
            [
              {
                "node": "Fetch Pool TWA Observations",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Calculate TWAP": {
          "main": [
            [
              {
                "node": "Give Approval to Router",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get Swap Qoute": {
          "main": [
            [
              {
                "node": "Calculate TWAP",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Schedule Trigger": {
          "main": [
            [
              {
                "node": "Swap Configs",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Give Approval to Router": {
          "main": [
            [
              {
                "node": "Swap Tokens",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "Failure Details",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Fetch Pool TWA Observations": {
          "main": [
            [
              {
                "node": "Get Swap Qoute",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get Remaining DCA Funds Balance": {
          "main": [
            [
              {
                "node": "Success Details",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 29,
    "workflowInfo": {
      "nodeCount": 16,
      "nodeTypes": {
        "n8n-nodes-base.code": {
          "count": 2
        },
        "n8n-nodes-1shot.oneShot": {
          "count": 3
        },
        "n8n-nodes-base.telegram": {
          "count": 2
        },
        "n8n-nodes-base.stickyNote": {
          "count": 6
        },
        "n8n-nodes-1shot.oneShotSynch": {
          "count": 2
        },
        "n8n-nodes-base.scheduleTrigger": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "1Shot API",
      "username": "oneshotapi",
      "bio": "Power noncustodial stablecoin payments, enterprise workflows, and AI agents via a simple API - Built on MetaMask Smart Wallets and x402",
      "verified": true,
      "links": [
        "https://1shotapi.com"
      ],
      "avatar": "https://gravatar.com/avatar/2f5dd5c202883a323b48cd379db1880533fe083a2d9a3b2b11ebf6f48a984e78?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 49,
        "icon": "file:telegram.svg",
        "name": "n8n-nodes-base.telegram",
        "codex": {
          "data": {
            "alias": [
              "human",
              "form",
              "wait",
              "hitl",
              "approval"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "ðŸ§¬",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                  "icon": "ðŸ¤¬",
                  "label": "Create a toxic language detector for Telegram in 4 step"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "ðŸ§¾",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                  "icon": "ðŸ“œ",
                  "label": "Celebrating World Poetry Day with a daily poem in Telegram"
                },
                {
                  "url": "https://n8n.io/blog/using-automation-to-boost-productivity-in-the-workplace/",
                  "icon": "ðŸ’ª",
                  "label": "Using Automation to Boost Productivity in the Workplace"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "ðŸŽ¡",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                  "icon": "ðŸ¤Ÿ",
                  "label": "Creating scheduled text affirmations with n8n"
                },
                {
                  "url": "https://n8n.io/blog/creating-telegram-bots-with-n8n-a-no-code-platform/",
                  "icon": "ðŸ’¬",
                  "label": "Creating Telegram Bots with n8n, a No-Code Platform"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.telegram/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/telegram/"
                }
              ]
            },
            "categories": [
              "Communication",
              "HITL"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "HITL": [
                "Human in the Loop"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "Telegram"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSIwIDAgNjYgNjYiPjx1c2UgeGxpbms6aHJlZj0iI2EiIHg9Ii41IiB5PSIuNSIvPjxzeW1ib2wgaWQ9ImEiIG92ZXJmbG93PSJ2aXNpYmxlIj48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzM3YWVlMiIgZD0iTTAgMzJjMCAxNy42NzMgMTQuMzI3IDMyIDMyIDMyczMyLTE0LjMyNyAzMi0zMlM0OS42NzMgMCAzMiAwIDAgMTQuMzI3IDAgMzIiLz48cGF0aCBmaWxsPSIjYzhkYWVhIiBkPSJtMjEuNjYxIDM0LjMzOCAzLjc5NyAxMC41MDhzLjQ3NS45ODMuOTgzLjk4MyA4LjA2OC03Ljg2NCA4LjA2OC03Ljg2NGw4LjQwNy0xNi4yMzctMjEuMTE5IDkuODk4eiIvPjxwYXRoIGZpbGw9IiNhOWM2ZDgiIGQ9Im0yNi42OTUgMzcuMDM0LS43MjkgNy43NDZzLS4zMDUgMi4zNzMgMi4wNjggMGw0LjY0NC00LjIwMyIvPjxwYXRoIGQ9Im0yMS43MyAzNC43MTItNy44MDktMi41NDVzLS45MzItLjM3OC0uNjMzLTEuMjM3Yy4wNjItLjE3Ny4xODYtLjMyOC41NTktLjU4OCAxLjczMS0xLjIwNiAzMi4wMjgtMTIuMDk2IDMyLjAyOC0xMi4wOTZzLjg1Ni0uMjg4IDEuMzYxLS4wOTdjLjIzMS4wODguMzc4LjE4Ny41MDMuNTQ4LjA0NS4xMzIuMDcxLjQxMS4wNjguNjg5LS4wMDMuMjAxLS4wMjcuMzg2LS4wNDUuNjc4LS4xODQgMi45NzgtNS43MDYgMjUuMTk4LTUuNzA2IDI1LjE5OHMtLjMzIDEuMy0xLjUxNCAxLjM0NWMtLjQzMi4wMTYtLjk1Ni0uMDcxLTEuNTgyLS42MS0yLjMyMy0xLjk5OC0xMC4zNTItNy4zOTQtMTIuMTI2LTguNThhLjM0LjM0IDAgMCAxLS4xNDYtLjIzOWMtLjAyNS0uMTI1LjEwOC0uMjguMTA4LS4yOHMxMy45OC0xMi40MjcgMTQuMzUyLTEzLjczMWMuMDI5LS4xMDEtLjA3OS0uMTUxLS4yMjYtLjEwNy0uOTI5LjM0Mi0xNy4wMjUgMTAuNTA2LTE4LjgwMSAxMS42MjktLjEwNC4wNjYtLjM5NS4wMjMtLjM5NS4wMjMiLz48L2c+PC9zeW1ib2w+PC9zdmc+"
        },
        "displayName": "Telegram",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 6,
            "name": "Communication"
          },
          {
            "id": 28,
            "name": "HITL"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 834,
        "icon": "file:code.svg",
        "name": "n8n-nodes-base.code",
        "codex": {
          "data": {
            "alias": [
              "cpde",
              "Javascript",
              "JS",
              "Python",
              "Script",
              "Custom Code",
              "Function"
            ],
            "details": "The Code node allows you to execute JavaScript in your workflow.",
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Code"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
        },
        "displayName": "Code",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 839,
        "icon": "fa:clock",
        "name": "n8n-nodes-base.scheduleTrigger",
        "codex": {
          "data": {
            "alias": [
              "Time",
              "Scheduler",
              "Polling",
              "Cron",
              "Interval"
            ],
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\",\"schedule\"]",
        "defaults": {
          "name": "Schedule Trigger",
          "color": "#31C49F"
        },
        "iconData": {
          "icon": "clock",
          "type": "icon"
        },
        "displayName": "Schedule Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 44,
        "name": "Crypto Trading"
      },
      {
        "id": 51,
        "name": "Multimodal AI"
      }
    ],
    "image": [
      {
        "id": 2287,
        "url": "https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/DCA_demo_faeb3ff328.gif"
      }
    ]
  }
}