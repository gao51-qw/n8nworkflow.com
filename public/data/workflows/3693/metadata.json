{
  "id": 3693,
  "slug": "3693",
  "title": "Create & Publish Instagram Carousel Posts with GPT-4.1-mini, Imgur & Graph API",
  "description": "# Create & Publish Instagram Carousel Posts with GPT-4.1-mini, Imgur & Graph API\n\n**Version**: 2.0.0\n**n8n Version**: 1.88.0+\n**Author**: Unknown\n**License**: MIT\n\n### Description\n\nAn intelligent and modular workflow that **automatically generates**, **manages**, and **publishes** Instagram **carousel** posts, using AI for both content and images. It includes semantic memory to ensure uniqueness across posts and a scalable architecture for brand growth.\n\n### Key Features\n\n* ü§ñ **Advanced AI Carousel Content**: Generates unique multi-slide post content‚Äîtitles, captions, hashtags, and strategic CTAs for each card in the carousel.\n* üé® **Automated Image Generation**: Creates high-quality visuals for every slide using OpenAI's DALL¬∑E API.\n* üß† **Semantic Memory Search**: Checks each theme against a local vector database using OpenAI Embeddings to avoid content repetition.\n* üìä **Publication Database**: Logs all generated carousel posts into Google Sheets for tracking, analytics, and audits.\n* üì± **Instagram Direct Publishing**: Publishes carousel media and captions automatically through the Instagram Graph API.\n* üóìÔ∏è **Scheduled & Manual Runs**: Trigger manually or schedule every 12 hours.\n* üîê **Secure Credential Management**: Uses n8n credential fields‚Äîno hardcoded API keys or tokens.\n* üöÄ **Flexible Prompting System**: Dynamically adapts style templates for different brands and industries.\n\n### Use Cases\n\n1. **E‚Äëcommerce Launches**: Showcase product features across multiple slides with tailored benefits and CTAs.\n2. **Fitness & Wellness Tips**: Educate followers with step-by-step workouts or nutrition advice in a carousel format.\n3. **Educational Infographics**: Present multi-part tutorials, stats, or course highlights.\n4. **SaaS Feature Demos**: Demonstrate software workflows or new features slide by slide.\n5. **Event Announcements**: Build excitement for webinars, conferences, or local meetups.\n\n### Customization Examples\n\n* **Retail/E‚Äëcommerce**: Adjust the **Theme Generator Code Node** to include product category, price point, and seasonal focus as vector inputs.\n* **Health & Fitness**: Tweak the **AI Prompt Templates** to match your brand voice‚Äîe.g., friendly coach tone with bullet‚Äëpointed workout steps.\n* **Education/Training**: Modify the **Semantic Memory Embeddings Node** thresholds to deepen topic variety across tutorial series.\n* **Tech/SaaS**: Customize the **Image Hosting HTTP Request Node** to use your company‚Äôs CDN instead of Imgur by swapping the endpoint and credential field.\n\n### Workflow Overview\n\n#### 1. Theme Generation (Generate Theme Code Node)\n\n* Combines random vectors (topic starter + focus + benefit) to create unique carousel themes.\n\n#### 2. Content Creation (AI Agent Code Node)\n\n* Sends themed prompts to OpenAI, generating slide-by-slide titles, captions, and CTAs in structured JSON.\n\n#### 3. Semantic Memory Check (OpenAI Embeddings Node)\n\n* Runs embeddings against past themes stored in a Postgres vector database (pgvector) to ensure novelty.\n* If similarity &gt; threshold, regenerates theme.\n\n#### 4. JSON Validation (Parse & Validate Code Node)\n\n* Parses AI response, validates JSON schema, and handles errors gracefully to prevent workflow failures.\n\n#### 5. Content Storage (Google Sheets Node)\n\n* Writes carousel metadata (titles, captions, hashtags, slide count, scheduled date) to a Google Sheets spreadsheet.\n\n#### 6. Image Generation (DALL¬∑E Image Generation Node)\n\n* Generates one graphic per slide at 1024√ó1024 resolution.\n\n#### 7. Image Hosting (Imgur Upload HTTP Request Node)\n\n* Uses an HTTP Request node with Imgur credential field to upload each image and retrieve public URLs.\n\n#### 8. Instagram Publishing (Instagram Graph API Nodes)\n\n* **Create Media Containers**: Sends batch media creation request.\n* **Publish Carousel**: Publishes the carousel using the list of container IDs and caption.\n\n#### 9. Scheduling & Triggers\n\n* **Manual Trigger**: For testing and one‚Äëoff posts.\n* **Cron Trigger**: Scheduled trigger every 12 hours (configurable).\n\n### Security\n\nAll sensitive values (OpenAI API key, Imgur Client ID/Secret, Instagram Access Token, Google Sheets OAuth2) must be stored in n8n‚Äôs **Credentials** panel. **Do not** hardcode keys or tokens in HTTP Request or Code nodes. Instead, reference credential fields:\n\n* In HTTP Request nodes: select the corresponding credential under **Authentication**.\n* In Code nodes: access `this.getCredentials('openAI')`, `this.getCredentials('imgur')`, etc.\n\n### Instructions\n\n1. **Import the Workflow**: In n8n, go to **Workflows &gt; Import from File** and upload the JSON.\n2. **Configure Credentials**:\n\n   * OpenAI API ‚Äì set up in **Credentials &gt; OpenAI API**.\n   * Google Sheets OAuth2 ‚Äì set up in **Credentials &gt; Google Sheets OAuth2**.\n   * Imgur ‚Äì set up in **Credentials &gt; Imgur**.\n   * Instagram Graph API ‚Äì set up in **Credentials &gt; Instagram Graph API**.\n3. **Set Placeholders**:\n\n   * Google Sheets Document ID\n   * Instagram User ID\n4. **Customize Prompts & Vectors**: Tweak Code node inputs and prompt templates as needed.\n5. **Test & Activate**: Run a manual trigger, verify outputs, then enable the cron schedule.\n\n### Tags\n\n`Social Media` `Instagram Carousel` `AI Content Generation` `OpenAI` `n8n` `Marketing Automation` `Vector Search` `Content Scheduling`\n\n### Technical Notes\n\n* Uses pgvector in Postgres for efficient semantic similarity.\n* Supports extensible platforms‚Äîduplicate the publishing steps to add LinkedIn or Facebook.\n* Error handling ensures invalid JSON never reaches the publishing nodes.\n\n### License\n\nThis workflow is released under the MIT License.\n",
  "featuredImage": "/data/workflows/3693/3693.webp",
  "author": {
    "id": 101,
    "slug": "koresoluciones",
    "name": "Luciano Gutierrez",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1511,
  "downloads": 151,
  "createdAt": "2025-04-24T15:17:24.234Z",
  "updatedAt": "2026-01-16T08:31:06.159Z",
  "publishedAt": "2025-04-24T15:17:24.234Z",
  "nodes": 26,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/3693"
}