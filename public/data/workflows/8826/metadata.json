{
  "id": 8826,
  "slug": "8826",
  "title": "Deploy a Google Gemini AI assistant on WhatsApp with email & calendar tools",
  "description": "# Deploy a Multi-Tool AI Assistant on WhatsApp with Google Gemini\n\nDeploy a true AI assistant on WhatsApp. This n8n workflow uses a sophisticated hierarchical agent structure to not only handle conversations but also manage your emails and calendar directly from your chat, all powered by **Google Gemini**.\n\n---\n\n### Key Features\n- **Powered by Google Gemini:** Utilizes the advanced capabilities of Google's Gemini models for understanding complex commands and generating natural, human-like responses.\n- **Intelligent Task Delegation (Hierarchical Agents):** Features a central **Personal Agent** that understands the user's intent and intelligently delegates tasks to specialized sub-agents for email, calendar, or general chat.\n- **Full Email & Calendar Management:** Connects directly to your Google Workspace to send emails, create drafts, apply labels, create/update/delete calendar events, check your availability, and more.\n- **Context-Aware Conversations:** Employs memory at multiple levels, allowing the assistant to remember the context of your requests for a coherent and intuitive user experience.\n- **Seamless WhatsApp Integration:** Connects directly with the WhatsApp Business API to send and receive messages, engaging users on one of the world's most popular messaging platforms.\n- **Easy to Deploy & Customize:** Get your assistant running with minimal configuration and easily extend its capabilities by adding new tools or modifying the prompts of the existing agents.\n\n---\n\n## How It Works\n\nThe workflow uses an advanced agent-based model to process incoming messages:\n\n1.  The **Whatsapp Trigger** node listens for and receives new messages sent to your WhatsApp Business number.\n2.  The message is passed to the main **Manager Agent**.\n3.  The **Personal Agent** analyzes the message to understand the user's intent (e.g., \"send an email,\" \"check my schedule,\" or just \"hello\").\n4.  Based on the intent, it routes the task to the appropriate sub-agent: the **Email Tool**, the **Calendar Tool**, or the general **Chatbot Model**.\n5.  The selected sub-agent executes the task using its own dedicated tools (e.g., the Email Tool uses Gmail nodes to send a message).\n6.  The result or response from the sub-agent is passed back to the **Send message (WhatsApp)** node, which delivers the reply to the user.\n\n---\n\n## Prerequisites\n- An active n8n instance.\n- A Meta Business Account and a configured Meta App with the \"WhatsApp Business\" product added.\n- A Google Gemini API Key.\n- A Google Account with pre-configured OAuth2 credentials in n8n for **Gmail** and **Google Calendar**.\n\n---\n\n## Step-by-Step Setup Guide\n\n#### 1. Configure WhatsApp Credentials:\n- In your n8n instance, add new **\"WhatsApp Business\"** credentials.\n- You will need a **Permanent Access Token** and a **Phone Number ID** from your Meta App's \"WhatsApp &gt; API Setup\" dashboard.\n\n#### 2. Set Up the WhatsApp Trigger:\n- Open the **Whatsapp Trigger** node. In the \"Webhook URL\" section, copy the **Test URL**.\n- Go to your Meta App's dashboard under \"WhatsApp &gt; Configuration\".\n- Click \"Edit\" in the Webhooks section.\n- Paste the n8n Test URL into the **Callback URL** field.\n- Create and enter a **Verify token** (a simple password of your choice). Enter this same token in the **Whatsapp Trigger** node in n8n.\n- Subscribe to the `messages` webhook event.\n- Once verified, copy the **Production URL** from n8n and paste it into the same Callback URL field in the Meta dashboard.\n\n#### 3. Configure the Google Gemini Nodes:\n- You must add your **Google Gemini API Key** to the credentials for **all** the **Google Gemini Chat Model** nodes. This includes the one in the `Chatbot Model`, `Email Tool`, and `Calendar Tool`.\n\n#### 4. Configure the Google Tools (Email & Calendar):\n- **Email Tool:** Open the group of nodes labeled **Email Tool**. For every Gmail node (`Send Email`, `Create Draft`, `Get Labels`, etc.), select your pre-configured Google OAuth2 credential.\n- **Calendar Tool:** Open the group of nodes labeled **Calendar Tool**. For every Google Calendar node (`Create Event`, `Get all event`, etc.), select your pre-configured Google OAuth2 credential.\n\n#### 5. Activate and Test:\n- Save and activate the workflow.\n- Send a message to your configured WhatsApp Business number.",
  "featuredImage": "/data/workflows/8826/8826.webp",
  "author": {
    "id": 101,
    "slug": "anshulchauhan",
    "name": "Anshul Chauhan",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 435,
  "downloads": 43,
  "createdAt": "2025-09-22T08:13:49.345Z",
  "updatedAt": "2026-01-16T08:57:53.230Z",
  "publishedAt": "2025-09-22T08:13:49.345Z",
  "nodes": 30,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8826"
}