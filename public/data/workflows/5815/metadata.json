{
  "id": 5815,
  "slug": "5815",
  "title": "Automated inventory management with Airtable PO creation & supplier emails",
  "description": "**In-depth description of this automation:**\n\nThis is a fully automated daily supply chain and procurement workflow that keeps product stock levels healthy and suppliers updated, by automatically generating and emailing purchase orders (POs) and syncing PO statuses in Airtable.\n\n---\n\n### **ğŸ“… Daily triggers**\n\n* Two `Schedule Trigger` nodes run:\n\n  * One runs at midnight (00:00) to manage low stock and new purchase order creation.\n  * Another runs at 1:00â€¯AM to process existing pending POs and email suppliers.\n\n---\n\n### **ğŸš¦ Step-by-step breakdown**\n\n#### 1ï¸âƒ£ **Get Products with low stock**\n\n* Searches the â€œProducts Tableâ€ in Airtable for items where `{stock_level} &lt;= {reorder_threshold}`.\n* Detects products that need restocking.\n\n#### 2ï¸âƒ£ **Get supplier details**\n\n* Fetches supplier data for each low-stock product using its `supplier_id`.\n\n#### 3ï¸âƒ£ **Calculate Dynamic Reorder Quantity**\n\n* JS code calculates an optimal reorder quantity:\n\n  * Uses `average_daily_sales Ã— (lead_time Ã— 1.5) Ã— safety_margin (1.2)`\n  * Adds extra buffer so the new order covers both immediate demand and next cycle.\n\n#### 4ï¸âƒ£ **Search existing POs**\n\n* Looks in the â€œPurchase Ordersâ€ table for active POs (status `Pending` or `Sent`) matching each product.\n* Prevents duplicate orders.\n\n#### 5ï¸âƒ£ **Remove duplicate product orders**\n\n* JS node compares current low-stock products with existing POs.\n* Filters out products already covered, so new POs are only created for truly uncovered products.\n\n#### 6ï¸âƒ£ **Create new purchase orders**\n\n* For filtered products, creates new PO records in Airtable with:\n\n  * `product_name`\n  * `product_id`\n  * calculated `reorder_qty`\n  * supplier info and email\n  * initial status `Pending`\n\n---\n\n### **ğŸ“§ Process existing pending purchase orders and email suppliers**\n\n#### 7ï¸âƒ£ **Get Purchase Orders which are pending**\n\n* Searches Airtable for all POs with status `Pending`.\n\n#### 8ï¸âƒ£ **Group products with suppliers**\n\n* JS code groups these POs by `supplier_id`.\n* Builds a summary (total products, total quantity) and an HTML email with a styled table of items.\n\n#### 9ï¸âƒ£ **Send PO emails to suppliers**\n\n* Uses Brevo (SendInBlue) to send emails.\n* Subject and content include supplier-specific order details.\n\n#### ğŸ”„ **Update PO statuses to Sent**\n\n* Extracts Airtable record IDs of the sent POs.\n* Updates those POs in Airtable, changing status from `Pending` â†’ `Sent`.\n\n---\n\n### **ğŸ“Œ Summary**\n\nâœ… Runs every day\nâœ… Dynamically calculates reorder needs\nâœ… Avoids duplicate purchase orders\nâœ… Automatically creates purchase orders in Airtable\nâœ… Groups & emails daily PO summaries to suppliers\nâœ… Updates PO status after sending email\n\n---\n\n### **âš™ Tables involved**\n\n* **Products Table:** stores products, stock levels, reorder thresholds, average daily sales, supplier references.\n* **Suppliers Table:** stores supplier emails and metadata.\n* **Purchase Orders Table:** tracks product orders with supplier IDs, status, quantities, etc.\n\n---\n\nThis workflow makes daily procurement fully automated: detects risk of stockouts, creates POs smartly, keeps suppliers in sync by email, and updates order statuses in one closed loop â€” perfect for any small or mid-sized business using Airtable + N8N.\n",
  "featuredImage": "/data/workflows/5815/5815.webp",
  "author": {
    "id": 101,
    "slug": "iamvaar",
    "name": "iamvaar",
    "avatar": ""
  },
  "categories": [
    "Document Extraction"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 389,
  "downloads": 38,
  "createdAt": "2025-07-09T09:45:50.624Z",
  "updatedAt": "2026-01-16T08:41:33.765Z",
  "publishedAt": "2025-07-09T09:45:50.624Z",
  "nodes": 15,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5815"
}