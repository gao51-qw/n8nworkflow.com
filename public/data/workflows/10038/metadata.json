{
  "id": 10038,
  "slug": "10038",
  "title": "Automate Facebook page token renewal with data tables storage",
  "description": "## **Get Long-Lived Facebook Page Access Token with Data Table**\n&gt; Set up n8n self-hosted via [Tino.vn VPS](https://tino.vn/vps-n8n?affid=388) — use code **VPSN8N** for up to 39% off *(affiliate link)*.\n\n\n### **Good to Know**\n\nThis workflow automatically solves the common issue of **Facebook Page Access Tokens expiring**. It proactively renews your Page Tokens and stores them in an n8n Data Table.\n\nIt runs **every two months**, ensuring your Page Access Tokens remain valid. This guarantees seamless and uninterrupted automation for all your Facebook API integrations.\n\n### **How It Works**\n\nThe workflow performs the following steps to keep your tokens up to date:\n\n1. **Schedule Trigger:** The workflow runs on a set schedule — every two months by default.\n2. **Set Parameters:** It initializes the required credentials: `client_id`, `client_secret`, a short-lived `user_access_token`, and the `app_scoped_user_id` (all obtained from Facebook Developer Tools).\n3. **Get Long-Lived User Token:** It exchanges the short-lived User Access Token for a long-lived one.\n4. **Get Page Tokens:** Using the long-lived User Token, it fetches all pages you manage and their corresponding Page Access Tokens.\n5. **Update Data Table:** For each page, it extracts the `access_token`, `name`, and `id`, then performs an **Upsert** operation to update or insert rows in your n8n Data Table, ensuring the stored tokens are always current.\n\n### **How to Use**\n\n1. **Import:** Import this JSON file into your **[n8n instance](https://tino.vn/vps-n8n?affid=388)**.\n2. **Configure Credentials:** Open the **Set Parameters** node and replace the placeholder values for `client_id`, `client_secret`, `user_access_token`, and `app_scoped_user_id` with your actual credentials from Facebook.\n3. **Configure Data Table:** Open the **Upsert row(s)** node.\n\n   * Select or create an n8n **Data Table** to store your tokens.\n   * Make sure the column mapping (`token`, `name_page`, `id_page`) matches your table schema.\n4. **Activate:** Save and activate the workflow. It will now run automatically based on your configured schedule.\n\n### **Requirements**\n\n* **n8n instance :**\n&gt; Set up n8n self-hosted via [Tino.vn VPS](https://tino.vn/vps-n8n?affid=388) — use code **VPSN8N** for up to 39% off *(affiliate link)*.\n\n* **Facebook App:** A Facebook Developer App to generate the following credentials:\n\n  * `client_id` and `client_secret`\n  * A short-lived `user_access_token`\n  * `app_scoped_user_id`\n* **Data Table:** An n8n Data Table configured with columns to store token information (e.g., `token`, `name_page`, `id_page`).\n\n### **Customizing This Workflow**\n\n* **Change Schedule:** To modify how often tokens are renewed, edit the **Schedule Trigger** node. You can change the interval from **2 months** to **1 month**, or schedule it for a specific day.\n* **Filter Pages:** If you only want to store tokens for specific pages, insert a **Filter** node right after **Split Out**. Use the page name or ID to filter before sending data to **Upsert row(s)**.\n* **Alternative Storage:** Instead of an n8n Data Table, you can replace the **Upsert row(s)** node with another option (e.g., Google Sheets, a database, or a **Set** node) to store tokens elsewhere.\n\n",
  "featuredImage": "/data/workflows/10038/10038.webp",
  "author": {
    "id": 101,
    "slug": "nathando",
    "name": "Đỗ Thành Nguyên",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 169,
  "downloads": 16,
  "createdAt": "2025-10-22T11:31:10.436Z",
  "updatedAt": "2026-01-16T09:03:06.101Z",
  "publishedAt": "2025-10-22T11:31:10.436Z",
  "nodes": 12,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10038"
}