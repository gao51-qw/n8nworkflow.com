{
  "workflow": {
    "id": 4857,
    "name": "Create a Notion AI assistant with Google Gemini for managing tasks & content",
    "views": 1182,
    "recentViews": 0,
    "totalViews": 1182,
    "createdAt": "2025-06-10T17:23:09.147Z",
    "description": "**This n8n workflow template uses community nodes and is only compatible with the self-hosted version of n8n.** \n\n# Build an AI agent for Notion (with Notion official MCP server)\n\n![Screenshot 20250610 at 15.11.56.png](fileId:1475)\n\n## Use case\n\nThis template empowers Notion power-users to build their own AI assistant, deeply integrated with their workspace. It solves the constant problem of copy-pasting and context-switching between a separate AI chat and Notion by creating a direct, conversational bridge. Now you can interact with an intelligent agent that can create, retrieve, and update your Notion databases and pages on your behalf, turning your workspace into a truly dynamic productivity hub.\n\n![Screenshot 20250610 at 13.52.46.png](fileId:1474)\n\n## How it works\n\nWhen you send a message via the chat interface, the workflow passes it to your chosen AI model. The model, connected to the official Notion tool server, analyzes your request to see if it can be fulfilled by one of its available Notion actions. If it matches a tool, the workflow executes the command using the Notion API—like creating a new page or searching a database—and the AI then confirms the action is complete back in the chat.\n\n## Setup\n\n**Prerequisite:** This template is for **self-hosted n8n instances only**, as it requires a community node. \n\n1. Copy this workflow into your self-hosted n8n instance \n2. Install the required community node (n8n-nodes-mcp).\n3. Add your credentials for your chosen AI Model and the Notion MCP Server.\n4. Test the workflow by starting chatting with your new Notion assistant.\n\n## How to adjust it to your needs\n\n- You can use the AI model you want and even easily compare different AI models.\n- You can start from this template and then provide other tools to your AI agent to build more powerful workflows.",
    "workflow": {
      "id": "JVS2oSR8h2s2imQ7",
      "meta": {
        "instanceId": "45ec8c77777a5853bd5f816d90a5686ba4ffda778dd004b1e44156ab933213ec",
        "templateCredsSetupCompleted": true
      },
      "name": "Notion MCP server",
      "tags": [],
      "nodes": [
        {
          "id": "b73a14c4-935a-4c26-a0e9-0180a91d3c96",
          "name": "When chat message received",
          "type": "@n8n/n8n-nodes-langchain.chatTrigger",
          "position": [
            140,
            0
          ],
          "webhookId": "122eb549-8506-4c2f-ac63-94aa081c0956",
          "parameters": {
            "options": {
              "allowFileUploads": false
            }
          },
          "typeVersion": 1.1
        },
        {
          "id": "caa0a241-ef95-4ebb-8923-4fa30506e382",
          "name": "Simple Memory",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            540,
            220
          ],
          "parameters": {},
          "typeVersion": 1.3
        },
        {
          "id": "37b5cd8f-303e-4898-95c6-09331ffe310a",
          "name": "Google Gemini Chat Model",
          "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
          "position": [
            360,
            220
          ],
          "parameters": {
            "options": {},
            "modelName": "models/gemini-2.5-pro-preview-06-05"
          },
          "credentials": {
            "googlePalmApi": {
              "id": "credential-id",
              "name": "googlePalmApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "8941aabf-a565-41db-a898-4f390f93a63c",
          "name": "AI Task Planner",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            480,
            0
          ],
          "parameters": {
            "options": {
              "systemMessage": "=You are a helpful assistant. \n\nYou have access to my Notion workspace. You can retrieve the list of available Notion tools using the node “Notion - list tools”.\n\nHere is the ID of my task database:20d45c70c57381f09418d42c78ad360b. \n\nIf you need to interact with a database, first use your tools to get its structure and properties. Never ask for the properties if you can obtain them by yourself. \n\nAlso avoid to ask the exact names of pages to the user. Use the context you have to determine the pages that should be impacted. "
            }
          },
          "typeVersion": 1.7
        },
        {
          "id": "9150e740-e736-4001-b597-ded0b9046148",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -420,
            0
          ],
          "parameters": {
            "color": 6,
            "width": 420,
            "height": 360,
            "content": "## Create an AI assistant connected to Notion\n\nChat with your AI assistant and let it interact with your Notion workspace: ask information stored in Notion, create task, add content, create databases ...\n\n![Your AI Agent in action](https://lh3.googleusercontent.com/d/18Io1JU1E1_Z0a0jMqwleRqInkYFllZkQ)\n"
          },
          "typeVersion": 1
        },
        {
          "id": "44732fe4-2eaa-46be-b17f-ac72a77faeb9",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -420,
            400
          ],
          "parameters": {
            "color": 3,
            "height": 100,
            "content": "**Disclaimer**\nThis templates is only available in self-hosted as it requires a community node."
          },
          "typeVersion": 1
        },
        {
          "id": "bd201c87-d79d-45f0-a2ca-f4233c2e9390",
          "name": "Notion - execute tool",
          "type": "n8n-nodes-mcp.mcpClientTool",
          "position": [
            900,
            220
          ],
          "parameters": {
            "toolName": "={{ $fromAI(\"tool\", \"the tool selected\")  }}",
            "operation": "executeTool",
            "toolParameters": "={{ $fromAI('tool_parameters', ``, 'json') }}"
          },
          "credentials": {
            "mcpClientApi": {
              "id": "credential-id",
              "name": "mcpClientApi Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "076db3c9-7240-4936-94ef-67b47180d08d",
          "name": "Notion - list tools",
          "type": "n8n-nodes-mcp.mcpClientTool",
          "notes": "Asks Notion what tools are available (e.g. add content to a page, create a database, etc.)\n",
          "position": [
            740,
            220
          ],
          "parameters": {},
          "credentials": {
            "mcpClientApi": {
              "id": "credential-id",
              "name": "mcpClientApi Credential"
            }
          },
          "notesInFlow": false,
          "typeVersion": 1
        },
        {
          "id": "498d567b-abb2-44a6-a17f-709d1374b1da",
          "name": "Sticky Note3",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            320,
            360
          ],
          "parameters": {
            "width": 160,
            "height": 200,
            "content": "**Setup step 1** - Enter your Chat model API key.\n\nGemini is used in this example but you can use the model of your choice."
          },
          "typeVersion": 1
        },
        {
          "id": "0d052137-f2e7-4abf-ba69-dc923a136e12",
          "name": "Sticky Note4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            660,
            360
          ],
          "parameters": {
            "width": 400,
            "height": 80,
            "content": "**Setup step 2** - Install the [n8n-nodes-mcp community node](https://www.npmjs.com/package/n8n-nodes-mcp). [How to install a community node](https://docs.n8n.io/integrations/community-nodes/installation/)."
          },
          "typeVersion": 1
        },
        {
          "id": "9215b268-c0aa-49e1-8818-20760c631d69",
          "name": "Sticky Note5",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            660,
            460
          ],
          "parameters": {
            "width": 400,
            "height": 380,
            "content": "**Setup step 3** - Enter your credentials for the Notion MCP server. \n\nCommand=npx\nArguments=-y @notionhq/notion-mcp-server\nEnvironment=(keep it empty) \n\nThe environment field is not compatible with the Notion MCP server env variables. So you'll need to pass the env variables differently. \n\nFor **Docker**, add the the following command when starting your docker instance: \n -e OPENAPI_MCP_HEADERS={“Authorization”:“Bearer YOUR_TOKEN_HERE”, “Notion-Version”:“2022-06-28”} \n\nWhere ntn_xxx is your notion integration secret. [Check the installation guide to generate it](https://github.com/makenotion/notion-mcp-server)."
          },
          "typeVersion": 1
        },
        {
          "id": "ac03f02c-6646-4a79-9196-5b258526a471",
          "name": "Sticky Note6",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            80,
            160
          ],
          "parameters": {
            "width": 220,
            "height": 180,
            "content": "**Setup step 4** - Click on \"open chat\" below and start interacting with your assistant.\n\nNote: be cautious regarding the pages you give your AI assistant access to. "
          },
          "typeVersion": 1
        },
        {
          "id": "82d94df8-50e3-4228-91a3-af515a39315a",
          "name": "Sticky Note2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            480,
            -140
          ],
          "parameters": {
            "color": 5,
            "width": 260,
            "height": 120,
            "content": "**Tip**\nGive some context to your AI agent by completing the system message in the AI Task Planner node."
          },
          "typeVersion": 1
        }
      ],
      "active": false,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "37656e91-d524-493c-a52d-70a5afb6f671",
      "connections": {
        "Simple Memory": {
          "ai_memory": [
            [
              {
                "node": "AI Task Planner",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Notion - list tools": {
          "ai_tool": [
            [
              {
                "node": "AI Task Planner",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Notion - execute tool": {
          "ai_tool": [
            [
              {
                "node": "AI Task Planner",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Google Gemini Chat Model": {
          "ai_languageModel": [
            [
              {
                "node": "AI Task Planner",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "When chat message received": {
          "main": [
            [
              {
                "node": "AI Task Planner",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 29,
    "workflowInfo": {
      "nodeCount": 13,
      "nodeTypes": {
        "n8n-nodes-base.stickyNote": {
          "count": 7
        },
        "n8n-nodes-mcp.mcpClientTool": {
          "count": 2
        },
        "@n8n/n8n-nodes-langchain.agent": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.chatTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.lmChatGoogleGemini": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Laura Piraux",
      "username": "lauraslap",
      "bio": "",
      "verified": false,
      "links": [
        ""
      ],
      "avatar": "https://gravatar.com/avatar/8288607a80770e7139555637b4182b83677f1c1c41f809491ca344b46deead99?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1119,
        "icon": "fa:robot",
        "name": "@n8n/n8n-nodes-langchain.agent",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "Chat",
              "Conversational",
              "Plan and Execute",
              "ReAct",
              "Tools"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Agents",
                "Root Nodes"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "AI Agent",
          "color": "#404040"
        },
        "iconData": {
          "icon": "robot",
          "type": "icon"
        },
        "displayName": "AI Agent",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1163,
        "icon": "fa:database",
        "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Memory"
              ],
              "Memory": [
                "For beginners"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Simple Memory"
        },
        "iconData": {
          "icon": "database",
          "type": "icon"
        },
        "displayName": "Simple Memory",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1247,
        "icon": "fa:comments",
        "name": "@n8n/n8n-nodes-langchain.chatTrigger",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Langchain"
            ]
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When chat message received"
        },
        "iconData": {
          "icon": "comments",
          "type": "icon"
        },
        "displayName": "Chat Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1262,
        "icon": "file:google.svg",
        "name": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatgooglegemini/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Language Models",
                "Root Nodes"
              ],
              "Language Models": [
                "Chat Models (Recommended)"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Google Gemini Chat Model"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNDggNDgiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNNDQuNSAyMEgyNHY4LjVoMTEuOEMzNC43IDMzLjkgMzAuMSAzNyAyNCAzN2MtNy4yIDAtMTMtNS44LTEzLTEzczUuOC0xMyAxMy0xM2MzLjEgMCA1LjkgMS4xIDguMSAyLjlsNi40LTYuNEMzNC42IDQuMSAyOS42IDIgMjQgMiAxMS44IDIgMiAxMS44IDIgMjRzOS44IDIyIDIyIDIyYzExIDAgMjEtOCAyMS0yMiAwLTEuMy0uMi0yLjctLjUtNCIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9ImIiPjx1c2UgeGxpbms6aHJlZj0iI2EiIG92ZXJmbG93PSJ2aXNpYmxlIi8+PC9jbGlwUGF0aD48cGF0aCBmaWxsPSIjRkJCQzA1IiBkPSJNMCAzN1YxMWwxNyAxM3oiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNFQTQzMzUiIGQ9Im0wIDExIDE3IDEzIDctNi4xTDQ4IDE0VjBIMHoiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiMzNEE4NTMiIGQ9Im0wIDM3IDMwLTIzIDcuOSAxTDQ4IDB2NDhIMHoiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiM0Mjg1RjQiIGQ9Ik00OCA0OCAxNyAyNGwtNC0zIDM1LTEweiIgY2xpcC1wYXRoPSJ1cmwoI2IpIi8+PC9zdmc+"
        },
        "displayName": "Google Gemini Chat Model",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 43,
        "name": "Personal Productivity"
      },
      {
        "id": 47,
        "name": "AI Chatbot"
      }
    ],
    "image": [
      {
        "id": 1474,
        "url": "https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_2025_06_10_at_13_52_46_36dff9a72a.png"
      },
      {
        "id": 1475,
        "url": "https://n8niostorageaccount.blob.core.windows.net/n8nio-strapi-blobs-prod/assets/Screenshot_2025_06_10_at_15_11_56_44128748dc.png"
      }
    ]
  }
}