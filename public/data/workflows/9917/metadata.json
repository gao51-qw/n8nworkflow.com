{
  "id": 9917,
  "slug": "9917",
  "title": "Convert Notion page to WordPress (Gutenberg) HTML",
  "description": "This workflow fetches the complete content of a specific Notion page and converts all its blocks into a single HTML string compatible with the **WordPress Gutenberg block editor**.\n\nIt's designed to be used as a **sub-workflow**. You can call it from a parent workflow (e.g., \"when a Notion page is updated\") by passing it a `notion_url`. It returns a single item containing the complete, ready-to-use HTML for a WordPress post body.\n\n-----\n\n### Key Features\n\n  * **Full Page Conversion:** Fetches all blocks from a page, including nested blocks (like content inside columns or toggles).\n  * **Rich Text Support:** Correctly parses and converts rich text annotations, including **bold**, *italic*, \\&lt;u\\&gt;underline\\&lt;/u\\&gt;, \\&lt;s\\&gt;strikethrough\\&lt;/s\\&gt;, and [links](https://n8n.io).\n  * **Gutenberg-Compatible:** Wraps content in the appropriate Gutenberg HTML comments (e.g., ` ,  `, \\`\\`) so WordPress recognizes them as blocks.\n  * **Handles Complex Layouts:** Includes specific logic to correctly rebuild Notion's **column and column\\_list** blocks into a responsive Gutenberg-friendly format.\n  * **Supports Various Blocks:** Converts paragraphs, all heading types (H1, H2, H3), bulleted and numbered lists, images, videos (YouTube/Vimeo), embeds, code blocks, and dividers.\n\n-----\n\n### How It Works\n\n1.  **Input:** The workflow is triggered by an **Execute Workflow** node, which expects a `notion_url` in the input data. (A manual trigger with a sample URL is included for testing).\n2.  **Fetch Data:** It first gets the Notion page specified by the URL and then uses a second Notion node to fetch all child blocks recursively (`fetchNestedBlocks: true`).\n3.  **Process Rich Text:** A **Code** node (`decode paragraphs`) iterates over text-based blocks (paragraphs, lists) and uses a helper function to convert the Notion `annotations` array into standard HTML tags (e.g., `<strong>`, `<em>`, `<a>`).\n4.  **Convert Blocks:** A second **Code** node (`decode blocks`) uses a large `switch` statement to map each Notion block `type` to its corresponding Gutenberg HTML structure.\n5.  **Rebuild Columns:** A crucial **Code** node (`column&column_list`) runs *once* on all blocks. It finds all `column` blocks, then finds their children, and finally wraps them inside their parent `column_list` block. This is essential for correctly handling nested layouts.\n6.  **Filter & Aggregate:** The workflow filters out all nested blocks, keeping only the **top-level** ones (since the nested content is now *inside* its parent, like the column block). It then aggregates all the generated HTML snippets into a single array.\n7.  **Final Output:** A final **Set** node joins the array of HTML blocks with newline characters, producing a single text string in a field named `wp`. This string can be directly used in the \"Content\" field of a **WordPress** node in your parent workflow.\n\n-----\n\n### Setup\n\n1.  **Notion Credentials:** You must configure your Notion credentials in the two **Notion** nodes:\n      * `Get a database page`\n      * `Get many child blocks`\n2.  **Trigger:** To use this, call it from another workflow using an **Execute Workflow** node. Pass the URL of the Notion page you want to convert in the `notion_url` field.",
  "featuredImage": "/data/workflows/9917/9917.webp",
  "author": {
    "id": 101,
    "slug": "kroziewski",
    "name": "Konrad Roziewski",
    "avatar": ""
  },
  "categories": [
    "Content Creation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 167,
  "downloads": 16,
  "createdAt": "2025-10-19T20:19:54.415Z",
  "updatedAt": "2026-01-16T09:02:34.820Z",
  "publishedAt": "2025-10-19T20:19:54.415Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9917"
}