{
  "id": 4273,
  "slug": "4273",
  "title": "Evaluation metric example: RAG document relevance",
  "description": "## AI evaluation in n8n\n\nThis is a template for n8n's [evaluation feature](https://docs.n8n.io/advanced-ai/evaluations/overview). \n\nEvaluation is a technique for getting confidence that your AI workflow performs reliably, by running a test dataset containing different inputs through the workflow.\n\nBy calculating a metric (score) for each input, you can see where the workflow is performing well and where it isn't.\n\n## How it works\n\nThis template shows how to calculate a workflow evaluation metric: **retrieved document relevance** (i.e. whether the information retrieved from a vector store is relevant to the question).\n\nThe workflow takes a question and checks whether the information retrieved to answer it is relevant.\n\nTo run this workflow, you need to insert documents into a vector data store, so that they can be retrieved by the agent to answer questions. You can do this by running the top part of the workflow once.\n\nThe main workflow works as follows:\n\n- We use an evaluation trigger to read in our dataset \n- It is wired up in parallel with the regular trigger so that the workflow can be started from either one. [More info](https://docs.n8n.io/advanced-ai/evaluations/tips-and-common-issues/#combining-multiple-triggers)\n- We make sure that the agent outputs the list data from the tools that it used\n- If we’re evaluating (i.e. the execution started from the evaluation trigger), we calculate the relevance metric using AI to compare the retrieved documents with the question\n- We pass this information back to n8n as a metric\n- If we’re not evaluating we avoid calculating the metric, to reduce cost",
  "featuredImage": "/data/workflows/4273/4273.webp",
  "author": {
    "id": 101,
    "slug": "davidn8n",
    "name": "David Roberts",
    "avatar": ""
  },
  "categories": [
    "Engineering",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 3481,
  "downloads": 348,
  "createdAt": "2025-05-21T08:19:43.930Z",
  "updatedAt": "2026-01-16T08:33:41.440Z",
  "publishedAt": "2025-05-21T08:19:43.930Z",
  "nodes": 26,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/4273"
}