{
  "id": 8472,
  "slug": "8472",
  "title": "Scrape Google Maps leads and find emails with Apify and Anymailfinder",
  "description": "# Scrape Google Maps leads and find emails with Apify and Anymailfinder\n\n## Short Description\n\nThis workflow automates lead generation by scraping business data from Google Maps using [Apify](https://www.apify.com?fpr=g5q0f), enriching it with verified email addresses via [Anymailfinder](https://anymailfinder.com?via=alexandra), and storing the results in a NocoDB database. It's designed to prevent duplicates by checking against existing records before saving new leads.\n\n***\n\n## Key Features\n\n-   **Automated Scraping**: Kicks off a Google Maps search based on your query, city, and country.\n-   **Email Enrichment**: For businesses with a website, it automatically finds professional email addresses.\n-   **Data Cleaning**: Cleans website URLs to extract the root domain, ignoring social media links.\n-   **Duplicate Prevention**: Checks against existing entries in NocoDB using the Google `placeId` to avoid adding the same lead twice.\n-   **Structured Storage**: Saves enriched lead data into a structured NocoDB database.\n-   **Batch Processing**: Efficiently handles and loops through all scraped results.\n\n***\n\n## Who This Workflow Is For\n\n-   **Sales Teams** looking for a source of local business leads.\n-   **Marketing Agencies** building outreach campaigns for local clients.\n-   **Business Developers** prospecting for new partnerships.\n-   **Freelancers** seeking clients in specific geographical areas.\n\n***\n\n## How It Works\n\n1.  **Trigger**: The workflow starts when you submit the initial form with a business type (e.g., \"plumber\"), a city, a country code, and the number of results you want.\n2.  **Scrape Google Maps**: It sends the query to [Apify](https://www.apify.com?fpr=g5q0f) to scrape Google Maps for matching businesses.\n3.  **Process Leads**: The workflow loops through each result one by one.\n4.  **Clean Data**: It extracts the main website domain from the URL provided by Google Maps.\n5.  **Check for Duplicates**: It queries your NocoDB database to see if the business (`placeId`) has already been saved. If so, it skips to the next lead.\n6.  **Find Emails**: If a valid website domain exists, it uses [Anymailfinder](https://anymailfinder.com?via=alexandra) to find associated email addresses.\n7.  **Store Lead**: The final data, including the business name, address, phone, website, and any found emails, is saved as a new row in your NocoDB table.\n\n***\n\n## Setup Requirements\n\n### Required Credentials\n-   **[Apify](https://www.apify.com?fpr=g5q0f) API Key**: To use the Google Maps scraping actor.\n-   **[Anymailfinder](https://anymailfinder.com?via=alexandra) API Key**: For email lookup.\n-   **NocoDB API Token**: To connect to your database for storing and checking leads.\n\n### Database Structure\nYou need to create a table in your NocoDB instance with the following columns. The names should match exactly.\n\n**Table:** `leads` (or your preferred name)\n-   `title` (SingleLineText)\n-   `website` (Url)\n-   `phone` (PhoneNumber)\n-   `email` (Email)\n-   `email_validation` (SingleLineText)\n-   `address` (LongText)\n-   `neighborhood` (SingleLineText)\n-   `rating` (Number)\n-   `categories` (LongText)\n-   `city` (SingleLineText)\n-   `country` (SingleLineText)\n-   `postal code` (SingleLineText)\n-   `domain` (Url)\n-   `placeId` (SingleLineText) - **Important for duplicate checking**\n-   `date` (Date)\n\n***\n\n## Customization Options\n\n-   **Change Trigger**: Replace the manual Form Trigger with a Schedule Trigger to run searches automatically or an HTTP Request node to start it from another application.\n-   **Modify Scraper Parameters**: In the \"Scrape Google Maps\" node, you can adjust the [Apify](https://www.apify.com?fpr=g5q0f) actor's JSON input to change language, include reviews, or customize other advanced settings.\n-   **Use a Different Database**: Replace the NocoDB nodes with nodes for Google Sheets, Baserow, Airtable, or any SQL database to store your leads.\n\n***\n\n## Installation Instructions\n\n1.  Import the workflow into your n8n instance.\n2.  Create the required table structure in your NocoDB instance as detailed above.\n3.  Configure the credentials for [Apify](https://www.apify.com?fpr=g5q0f), [Anymailfinder](https://anymailfinder.com?via=alexandra), and NocoDB in the respective nodes.\n4.  In the two NocoDB nodes (\"Get all the recorded placeIds\" and \"Create a row\"), select your project and table from the dropdown menus.\n5.  Activate the workflow. You can now run it by filling out the form in the n8n UI.",
  "featuredImage": "/data/workflows/8472/8472.webp",
  "author": {
    "id": 101,
    "slug": "alexaspalato",
    "name": "Alexandra Spalato",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 583,
  "downloads": 58,
  "createdAt": "2025-09-11T09:44:11.331Z",
  "updatedAt": "2026-01-16T08:56:01.782Z",
  "publishedAt": "2025-09-11T09:44:11.331Z",
  "nodes": 20,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8472"
}