{
  "workflow": {
    "id": 5165,
    "name": "Manage Google Calendar events with natural language using Gemini 1.5 Flash",
    "views": 176,
    "recentViews": 0,
    "totalViews": 176,
    "createdAt": "2025-06-23T18:42:59.617Z",
    "description": "This is the AI agent which will set the event in the Google Calendar and get the events from the calendar based on the prompt provided to AI agent based on Gemini.",
    "workflow": {
      "id": "Zmia0j2r2xRgGc2J",
      "meta": {
        "instanceId": "2ed3b4c67898ec0d15be592aec8553e47045965b0e62ca6019ef4c1b0da74bc4",
        "templateCredsSetupCompleted": true
      },
      "name": "My workflow",
      "tags": [],
      "nodes": [
        {
          "id": "ba7b6068-39e1-415b-9fd4-591304c2e37b",
          "name": "Google Calendar1",
          "type": "n8n-nodes-base.googleCalendarTool",
          "position": [
            160,
            20
          ],
          "parameters": {
            "options": {},
            "timeMax": "={{ $fromAI(\"beforeDate\", \"This is the time user wants to search for the event past\") }}",
            "timeMin": "={{ $fromAI(\"afterDate\", \"This is the time user wants to search for the event past\") }}",
            "calendar": {
              "__rl": true,
              "mode": "list",
              "value": "user@example.com",
              "cachedResultName": "testn8n"
            },
            "operation": "getAll"
          },
          "typeVersion": 1.3
        },
        {
          "id": "e7fd1c3d-5f5c-4033-b9a9-5a97fa930a1c",
          "name": "Google Calendar",
          "type": "n8n-nodes-base.googleCalendarTool",
          "position": [
            -60,
            80
          ],
          "parameters": {
            "end": "={{ $fromAI(\"endTime\",\"This is the end time of the event\") }}",
            "start": "={{ $fromAI(\"startTime\",\"This is the start time of the event\") }}",
            "calendar": {
              "__rl": true,
              "mode": "list",
              "value": "user@example.com",
              "cachedResultName": "testn8n"
            },
            "additionalFields": {
              "summary": "={{ $fromAI(\"summary\",\"This is the summary/title of the event\") }}"
            }
          },
          "typeVersion": 1.3
        },
        {
          "id": "78f963b1-2581-4106-96f8-9142319154d4",
          "name": "Simple Memory",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            -320,
            60
          ],
          "parameters": {},
          "typeVersion": 1.3
        },
        {
          "id": "c78dad7d-0997-4ac8-b30d-9d8563665059",
          "name": "Google Gemini Chat Model",
          "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
          "position": [
            -560,
            140
          ],
          "parameters": {
            "options": {},
            "modelName": "models/gemini-1.5-flash"
          },
          "typeVersion": 1
        },
        {
          "id": "2dd0a798-19df-4579-899d-09d92be3a3ce",
          "name": "AI Agent",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            -280,
            -200
          ],
          "parameters": {
            "options": {
              "systemMessage": "=You are a helpful assistant\n\nThe current date is {{ $now }}.\n\nYou are connected to a Google Calendar tool that lets you search for calendar events between two dates using the variables `afterDate` and `beforeDate` in ISO format (e.g., 2025-06-24T00:00:00Z). When the user asks for events, you must extract those fields and return them to the tool to make the query.\n"
            }
          },
          "typeVersion": 2
        },
        {
          "id": "3a00ee73-ae8e-4913-b948-2ff2308b8775",
          "name": "When chat message received",
          "type": "@n8n/n8n-nodes-langchain.chatTrigger",
          "position": [
            -580,
            -220
          ],
          "webhookId": "61386d2a-d33e-49b6-b1ad-5cdc6fe9059f",
          "parameters": {
            "options": {}
          },
          "typeVersion": 1.1
        },
        {
          "id": "d6300f52-3c5f-47e8-9dce-2018f22b081d",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -660,
            -300
          ],
          "parameters": {
            "height": 240,
            "content": "Send the prompt if we want to set the event on the calendar or get events available in the calendar"
          },
          "typeVersion": 1
        },
        {
          "id": "e48711cf-8484-42eb-950e-937baa5cee76",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -300,
            -300
          ],
          "parameters": {
            "width": 360,
            "height": 220,
            "content": "Responsible for injecting the system prompt so things that are related for the project is only carried out. Also connects Gemini, Memory and calendar application together"
          },
          "typeVersion": 1
        },
        {
          "id": "cdb655b0-52e8-4335-9570-0b05b06418b1",
          "name": "Sticky Note2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -620,
            40
          ],
          "parameters": {
            "width": 220,
            "height": 240,
            "content": "Takes in the prompt and gives out the small event name based on the prompt"
          },
          "typeVersion": 1
        },
        {
          "id": "56b1989b-73e4-4548-a8ee-c0da3f1d8d9b",
          "name": "Sticky Note3",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -380,
            60
          ],
          "parameters": {
            "height": 200,
            "content": "\n\n\n\n\n\n\n\n\nInbuilt memory for n8n which will store the value prompt received by AI agent so model can remember the conversation"
          },
          "typeVersion": 1
        },
        {
          "id": "bbfa4e3b-de8a-4453-ae33-7d656a0324a0",
          "name": "Sticky Note4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -120,
            60
          ],
          "parameters": {
            "width": 200,
            "height": 240,
            "content": "\n\n\n\n\n\n\n\n\n\n\n\nCalendar node responsible for adding event in the calendar"
          },
          "typeVersion": 1
        },
        {
          "id": "90780243-d4a9-41f0-8359-4ed773198660",
          "name": "Sticky Note5",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            100,
            -20
          ],
          "parameters": {
            "width": 200,
            "height": 240,
            "content": "\n\n\n\n\n\n\n\n\n\n\n\nCalendar node responsible for getting all the events in asked timeframe"
          },
          "typeVersion": 1
        }
      ],
      "active": false,
      "pinData": {},
      "settings": {
        "executionOrder": "v1"
      },
      "versionId": "d64ed07c-8f62-404c-84b2-80f4bac64809",
      "connections": {
        "Simple Memory": {
          "ai_memory": [
            [
              {
                "node": "AI Agent",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "Google Calendar": {
          "ai_tool": [
            [
              {
                "node": "AI Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Google Calendar1": {
          "ai_tool": [
            [
              {
                "node": "AI Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Google Gemini Chat Model": {
          "ai_languageModel": [
            [
              {
                "node": "AI Agent",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "When chat message received": {
          "main": [
            [
              {
                "node": "AI Agent",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 29,
    "workflowInfo": {
      "nodeCount": 12,
      "nodeTypes": {
        "n8n-nodes-base.stickyNote": {
          "count": 6
        },
        "@n8n/n8n-nodes-langchain.agent": {
          "count": 1
        },
        "n8n-nodes-base.googleCalendarTool": {
          "count": 2
        },
        "@n8n/n8n-nodes-langchain.chatTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.lmChatGoogleGemini": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Sakar Dahal",
      "username": "sakar-dahal",
      "bio": "",
      "verified": false,
      "links": [],
      "avatar": "https://gravatar.com/avatar/d52068b84ba68bf977ed797f115495134e17c145b78932c287103adcd37f92f3?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1119,
        "icon": "fa:robot",
        "name": "@n8n/n8n-nodes-langchain.agent",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "Chat",
              "Conversational",
              "Plan and Execute",
              "ReAct",
              "Tools"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Agents",
                "Root Nodes"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "AI Agent",
          "color": "#404040"
        },
        "iconData": {
          "icon": "robot",
          "type": "icon"
        },
        "displayName": "AI Agent",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1163,
        "icon": "fa:database",
        "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Memory"
              ],
              "Memory": [
                "For beginners"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Simple Memory"
        },
        "iconData": {
          "icon": "database",
          "type": "icon"
        },
        "displayName": "Simple Memory",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1247,
        "icon": "fa:comments",
        "name": "@n8n/n8n-nodes-langchain.chatTrigger",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-langchain.chattrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Langchain"
            ]
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When chat message received"
        },
        "iconData": {
          "icon": "comments",
          "type": "icon"
        },
        "displayName": "Chat Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1262,
        "icon": "file:google.svg",
        "name": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatgooglegemini/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Language Models",
                "Root Nodes"
              ],
              "Language Models": [
                "Chat Models (Recommended)"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Google Gemini Chat Model"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNDggNDgiPjxkZWZzPjxwYXRoIGlkPSJhIiBkPSJNNDQuNSAyMEgyNHY4LjVoMTEuOEMzNC43IDMzLjkgMzAuMSAzNyAyNCAzN2MtNy4yIDAtMTMtNS44LTEzLTEzczUuOC0xMyAxMy0xM2MzLjEgMCA1LjkgMS4xIDguMSAyLjlsNi40LTYuNEMzNC42IDQuMSAyOS42IDIgMjQgMiAxMS44IDIgMiAxMS44IDIgMjRzOS44IDIyIDIyIDIyYzExIDAgMjEtOCAyMS0yMiAwLTEuMy0uMi0yLjctLjUtNCIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9ImIiPjx1c2UgeGxpbms6aHJlZj0iI2EiIG92ZXJmbG93PSJ2aXNpYmxlIi8+PC9jbGlwUGF0aD48cGF0aCBmaWxsPSIjRkJCQzA1IiBkPSJNMCAzN1YxMWwxNyAxM3oiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNFQTQzMzUiIGQ9Im0wIDExIDE3IDEzIDctNi4xTDQ4IDE0VjBIMHoiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiMzNEE4NTMiIGQ9Im0wIDM3IDMwLTIzIDcuOSAxTDQ4IDB2NDhIMHoiIGNsaXAtcGF0aD0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiM0Mjg1RjQiIGQ9Ik00OCA0OCAxNyAyNGwtNC0zIDM1LTEweiIgY2xpcC1wYXRoPSJ1cmwoI2IpIi8+PC9zdmc+"
        },
        "displayName": "Google Gemini Chat Model",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 43,
        "name": "Personal Productivity"
      },
      {
        "id": 47,
        "name": "AI Chatbot"
      }
    ],
    "image": []
  }
}