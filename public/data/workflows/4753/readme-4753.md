# â™»ï¸ AI multi-stop planner for circular logistics with GPT-4o & Open Route API

> ***Tags**: AI Agent, Supply Chain, Logistics, Circular Economy, Route Planning, Transportation, GPS API*

### Context

Hi! Iâ€™m [Samir](https://samirsaci.com) â€” a Supply Chain Engineer and Data Scientist based in Paris, and founder of [LogiGreen Consulting](https://logi-green.com).

I help logistics teams reduce operational workload and errors by combining **AI automation**, **route optimisation APIs**, and **workflow automation**.

This workflow is part of a **circular economy project**, where stores return **reusable packaging** (bins, crates, containers) to a central warehouse.

&gt; Let's create circular economies with AI-powered automation using n8n!

ğŸ“¬ For business inquiries, you can find me on [LinkedIn](https://www.linkedin.com/in/samir-saci)

### Who is this template for?

This workflow is designed for logistics teams participating in **circular economy loops**.

Let us imagine your transportation company receives this **pickup request**:

[![Example of Results](https://www.samirsaci.com/content/images/2025/06/image-15.png)](https://bit.ly/playlist-n8n-supplyscience)

The two **AI Agent nodes** connected to **Openroute Service API** will process the information and reply with the **detailed route plan**.

[![Workflow](https://www.samirsaci.com/content/images/2025/06/image-16.png)](https://bit.ly/playlist-n8n-supplyscience)

The results include **driving time** and the **optimal sequence** of stops generated by the multi-stop optimization endpoint of the API.

### How does it work?

This workflow automates the end-to-end processing of **multi-stop pickup requests for reusable packaging**:

- ğŸ“¨ Gmail Trigger listens for collection request emails  
- ğŸ§  AI Agent parses the email into structured data (store ID, address, date)  
- ğŸ“ Each stop is geocoded into GPS coordinates  
- ğŸ—ºï¸ OpenRouteService **optimizes the stop sequence** using truck-specific routing  
- ğŸ“„ A second AI Agent formats a **confirmation email in HTML** with the ordered pickup plan  
- ğŸ“§ The reply is sent back with all details including duration and route

### Steps:

1. ğŸ’Œ Trigger on a new Gmail message  
2. ğŸ§  Extract data using AI Agent (e.g., stores, addresses, times)  
3. ğŸ“‘ Store raw and processed data in Google Sheets  
4. ğŸ“ Enrich with GPS coordinates  
5. ğŸšš Optimize route using OpenRouteService (truck profile)  
6. ğŸ“„ Format the confirmation using an AI Agent  
7. ğŸ“¬ Send reply to requester with route and timing

[![workflow](https://www.samirsaci.com/content/images/size/w1000/2025/06/image-14.png)](https://bit.ly/playlist-n8n-supplyscience)

### What do I need to get started?

Youâ€™ll need:

- A **Gmail account** to receive collection requests  
- A **Google Sheet** to store and review data  
- A free [OpenRouteService API key](https://openrouteservice.org/dev/#/signup)  
- Access to OpenAI for using AI Agent nodes  
- Sample pickup request emails to test

### Next Steps

ğŸ—’ï¸ Use the sticky notes inside the n8n canvas to:

- Plug in your Gmail and OpenRouteService credentials  
- Try with a sample store collection email  
- Validate the confirmation format and route accuracy

### ğŸ“º Learn More with n8n Tutorials 

Get hands-on experience with automation through my comprehensive **n8n tutorial playlist**, featuring 18+ complete, step-by-step videos and ready-to-use templates.

[![n8n Playlist](https://www.samirsaci.com/content/images/size/w1600/2025/11/image-9.png)](https://bit.ly/playlist-n8n-supplyscience)


*This template was built using n8n v1.93.0*  
*Submitted: June 7, 2025*

## ğŸ“Š Basic Information

- **Workflow ID:** 4753
- **Complexity:** advanced
- **Node Count:** 29
- **Views:** 1378
- **Downloads:** 137
- **Created:** 2025/6/7
- **Last Updated:** 2026/1/16
- **Source:** [View on n8n.io](https://n8n.io/workflows/4753)

## ğŸ‘¤ Author

- **Name:** Samir Saci
- **Username:** @samirsaci

## ğŸ·ï¸ Categories

- Miscellaneous
- AI Summarization

## ğŸ”— Nodes Used

- **gmailTrigger** 
- **@n8n/n8n-nodes-langchain.outputParserStructured** 
- **@n8n/n8n-nodes-langchain.agent** (Ã—2)
- **googleSheets** (Ã—5)
- **wait** 
- **httpRequest** (Ã—2)
- **set** (Ã—3)
- **@n8n/n8n-nodes-langchain.lmChatOpenAi** (Ã—2)
- **gmail** 
- **stickyNote** (Ã—4)
- **splitInBatches** 
- **splitOut** (Ã—2)
- **code** (Ã—3)
- **merge** 

## ğŸš€ How to Use

1. Download the workflow JSON file
2. Import it into your n8n instance
3. Configure the credentials for the nodes
4. Activate and test the workflow

## ğŸ”€ Workflow Structure

This workflow contains 29 nodes with 23 node connections.

---

*This workflow was sourced from [n8n.io](https://n8n.io) community templates.*
