{
  "id": 12586,
  "slug": "12586",
  "title": "Sync your HRIS employee directory with Microsoft Teams, Coda, and Slack",
  "description": "# Employee Directory Sync – Microsoft Teams & Coda\n\n**⚠️ COMMUNITY TEMPLATE DISCLAIMER: This is a community-contributed template that uses ScrapeGraphAI (a community node). Please ensure you have the ScrapeGraphAI community node installed in your n8n instance before using this template.**\n\nThis workflow keeps your employee directory perfectly synchronized across your HRIS (or any REST-compatible HR database), Microsoft Teams, Coda docs, and Slack channels. It automatically polls the HR system on a schedule, detects additions or updates, and propagates those changes to downstream tools so everyone always has the latest employee information.\n\n## Pre-conditions/Requirements\n\n### Prerequisites\n- An active n8n instance (self-hosted or n8n cloud)\n- ScrapeGraphAI community node installed\n- A reachable HRIS API (BambooHR, Workday, Personio, or any custom REST endpoint)\n- Existing Microsoft Teams workspace and a team/channel for announcements\n- A Coda account with an employee directory table\n- A Slack workspace and channel where directory updates will be posted\n\n### Required Credentials\n- **Microsoft Teams OAuth2** – To post adaptive cards or messages\n- **Coda API Token** – To insert/update rows in your Coda doc\n- **Slack OAuth2** – To push notifications into a Slack channel\n- **HTTP Basic / Bearer Token** – For your HRIS REST endpoint\n- **ScrapeGraphAI API Key** – (Only required if you scrape public profile data)\n\n### HRIS Field Mapping\n| HRIS Field | Coda Column | Teams/Slack Field |\n|------------|-------------|-------------------|\n| `firstName`| `First Name`| First Name        |\n| `lastName` | `Last Name` | Last Name         |\n| `email`    | `Email`     | Email             |\n| `title`    | `Job Title` | Job Title         |\n| `department`| `Department`| Department        |\n\n*(Adjust the mapping in the Set and Code nodes as needed.)*\n\n## How it works\n\nThis workflow keeps your employee directory perfectly synchronized across your HRIS (or any REST-compatible HR database), Microsoft Teams, Coda docs, and Slack channels. It automatically polls the HR system on a schedule, detects additions or updates, and propagates those changes to downstream tools so everyone always has the latest employee information.\n\n## Key Steps:\n- **Schedule Trigger**: Fires daily (or at your chosen interval) to start the sync routine.\n- **HTTP Request**: Fetches the full list of employees from your HRIS API.\n- **Code (Delta Detector)**: Compares fetched data with a cached snapshot to identify new hires, departures, or updates.\n- **IF Node**: Branches based on whether changes were detected.\n- **Split In Batches**: Processes employees in manageable sets to respect API rate limits.\n- **Set Node**: Maps HRIS fields to Coda columns and Teams/Slack message fields.\n- **Coda Node**: Upserts rows in the employee directory table.\n- **Microsoft Teams Node**: Posts an adaptive card summarizing changes to a selected channel.\n- **Slack Node**: Sends a formatted message with the same update.\n- **Sticky Note**: Provides inline documentation within the workflow for maintainers.\n\n## Set up steps\n\n**Setup Time: 10-15 minutes**\n\n1. **Import the workflow** into your n8n instance.\n2. **Open Credentials** tab and create:\n   - Microsoft Teams OAuth2 credential.\n   - Coda API credential.\n   - Slack OAuth2 credential.\n   - HRIS HTTP credential (Basic or Bearer).\n3. **Configure the HRIS HTTP Request node**  \n   - Replace the placeholder URL with your HRIS endpoint (e.g., `https://api.yourhr.com/v1/employees`).\n   - Add query parameters or headers as required by your HRIS.\n4. **Map Coda Doc & Table IDs** in the Coda node.\n5. **Select Teams & Slack channels** in their respective nodes.\n6. **Adjust the Schedule Trigger** to your desired frequency.\n7. **Optional**: Edit the Code node to tweak field mapping or add custom delta-comparison logic.\n8. **Execute the workflow manually once** to verify proper end-to-end operation.\n9. **Activate** the workflow.\n\n## Node Descriptions\n\n### Core Workflow Nodes:\n- **Schedule Trigger** – Initiates the sync routine at set intervals.\n- **HTTP Request (Get Employees)** – Pulls the latest employee list from the HRIS.\n- **Code (Delta Detector)** – Stores the previous run’s data in workflow static data and identifies changes.\n- **IF (Has Changes?)** – Skips downstream steps when no changes were detected, saving resources.\n- **Split In Batches** – Iterates through employees in chunks (default 50) to avoid API throttling.\n- **Set (Field Mapper)** – Renames and restructures data for Coda, Teams, and Slack.\n- **Coda (Upsert Rows)** – Inserts new rows or updates existing ones based on email match.\n- **Microsoft Teams (Post Message)** – Sends a rich adaptive card with the update summary.\n- **Slack (Post Message)** – Delivers a concise change log to a Slack channel.\n- **Sticky Note** – Embedded documentation for quick reference.\n\n### Data Flow:\n1. **Schedule Trigger** → **HTTP Request** → **Code (Delta Detector)**  \n2. **Code** → **IF (Has Changes?)**  \n   - If **No** → **End**  \n   - If **Yes** → **Split In Batches** → **Set** → **Coda** → **Teams** → **Slack**\n\n## Customization Examples\n\n### Change Sync Frequency\n```javascript\n// Inside Schedule Trigger\n{\n  \"mode\": \"everyDay\",\n  \"hour\": 6,\n  \"minute\": 0\n}\n```\n\n### Extend Field Mapping\n```javascript\n// Inside Set node\nitems[0].json.phone = item.phoneNumber ?? '';\nitems[0].json.location = item.officeLocation ?? '';\nreturn items;\n```\n\n## Data Output Format\n\nThe workflow outputs structured JSON data:\n\n```json\n{\n  \"employee\": {\n    \"id\": \"123\",\n    \"firstName\": \"Jane\",\n    \"lastName\": \"Doe\",\n    \"email\": \"jane.doe@example.com\",\n    \"title\": \"Senior Engineer\",\n    \"department\": \"R&D\",\n    \"status\": \"New Hire\",\n    \"syncedAt\": \"2024-05-08T10:15:23.000Z\"\n  },\n  \"destination\": {\n    \"codaRowId\": \"row_abc123\",\n    \"teamsMessageId\": \"msg_987654\",\n    \"slackTs\": \"1715158523.000200\"\n  }\n}\n```\n\n## Troubleshooting\n\n### Common Issues\n1. **HTTP 401 from HRIS API** – Verify token validity and that the credential is attached to the HTTP Request node.\n2. **Coda duplicates rows** – Ensure the key column in Coda is set to “Email” and the Upsert option is enabled.\n\n### Performance Tips\n- Cache HRIS responses in static data to minimize API calls.\n- Increase the Split In Batches size only if your API rate limits allow.\n\n**Pro Tips:**\n- Use n8n’s built-in Version Control to track mapping changes over time.\n- Add a second IF node to differentiate between “new hires” and “updates” for tailored announcements.\n- Enable Slack’s “threaded replies” to keep your #hr-updates channel tidy.",
  "featuredImage": "/data/workflows/12586/12586.webp",
  "author": {
    "id": 101,
    "slug": "vinci-king-01",
    "name": "vinci-king-01",
    "avatar": ""
  },
  "categories": [
    "HR"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 19,
  "downloads": 1,
  "createdAt": "2026-01-08T14:19:44.569Z",
  "updatedAt": "2026-01-16T09:12:43.680Z",
  "publishedAt": "2026-01-08T14:19:44.569Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/12586"
}