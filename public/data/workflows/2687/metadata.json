{
  "id": 2687,
  "slug": "2687",
  "title": "TW-Request-Agri data open platform-daily market sheep pricing",
  "description": "This workflow automates the process of fetching agricultural transaction data from the **Taiwan Agricultural Products Open Data Platform** and storing it in a **Google Sheets document** for further analysis.\n\n## Key Features\n1. **Manual Trigger**: Allows manual execution of the workflow to control when data is fetched.\n2. **HTTP Request**: Sends a request to the Open Data Platform's API to retrieve detailed transaction data, including:\n   - Pricing (Upper, Middle, Lower, Average)\n   - Transaction quantities\n   - Crop and market details\n3. **Split Out Node**: Processes each record individually, ensuring accurate handling of every data entry.\n4. **Google Sheets Integration**: Appends the data into a structured Google Sheets document for easy access and analysis.\n\n\n---\n\n## Node Configurations\n\n### 1. **Manual Trigger**\n- **Purpose**: Start the workflow manually.\n- **Configuration**: No setup needed.\n\n### 2. **HTTP Request**\n- **Purpose**: Fetch agricultural data.\n- **Configuration**:\n  - **URL**: `https://data.moa.gov.tw/api/v1/SheepQuotation`\n  - **Query Parameters**:\n    - `Start_time`: `2024/12/01`\n    - `End_time`: `2024/12/31`\n    - `MarketName`: `台北二`\n    - `api_key`: `&lt;your_api_key&gt;`\n  - **Headers**:\n    - `accept`: `application/json`\n\n### 3. **Split Out**\n- **Purpose**: Split the API response data array into individual items.\n- **Configuration**:\n  - **Field to Split Out**: `Data`\n\n### 4. **Google Sheets**\n- **Purpose**: Append the data to Google Sheets.\n- **Configuration**:\n  - **Operation**: `Append`\n  - **Document ID**: `&lt;your_document_id&gt;`\n  - **Sheet Name**: `Sheet1`\n  - **Mapped Fields**:\n    - `TransDate`, `TcType`, `CropCode`, `CropName`, `MarketCode`, `MarketName`\n    - `Upper_Price`, `Middle_Price`, `Lower_Price`, `Avg_Price`, `Trans_Quantity`\n\n\n---\n\n此 **Workflow** 從 **台灣農業產品開放資料平臺** 獲取農產品交易數據，並將其儲存到 **Google Sheets 文件** 中進行進一步分析。\n\n## 主要功能\n1. **Manual Trigger**：允許手動執行工作流程，以控制數據獲取的時間。\n2. **HTTP Request**：向開放資料平臺的 API 發送請求，獲取詳細的交易數據，包括：\n   - 價格 (Upper, Middle, Lower, Average)\n   - 交易數量\n   - 作物和市場詳細資料\n3. **Split Out Node**：逐筆處理每一筆記錄，確保數據準確無誤。\n4. **Google Sheets Integration**：將數據追加到結構化的 Google Sheets 文件中，方便存取和分析。\n\n---\n\n## 節點設定\n\n### 1. **Manual Trigger**\n- **用途**：手動啟動工作流程。\n- **設定**：無需額外設定。\n\n### 2. **HTTP Request**\n- **用途**：抓取農產品數據。\n- **設定**：\n  - **URL**: `https://data.moa.gov.tw/api/v1/SheepQuotation`\n  - **查詢參數 (Query Parameters)**：\n    - `Start_time`: `2024/12/01`\n    - `End_time`: `2024/12/31`\n    - `MarketName`: `台北二`\n    - `api_key`: `&lt;your_api_key&gt;`\n  - **標頭 (Headers)**：\n    - `accept`: `application/json`\n\n### 3. **Split Out**\n- **用途**：將 API 回應的數據陣列分解為個別項目。\n- **設定**：\n  - **Field to Split Out**: `Data`\n\n### 4. **Google Sheets**\n- **用途**：將數據追加至 Google Sheets。\n- **設定**：\n  - **Operation**：`Append`\n  - **Document ID**：`&lt;your_document_id&gt;`\n  - **Sheet Name**：`Sheet1`\n  - **映射欄位 (Mapped Fields)**：\n    - `TransDate`, `TcType`, `CropCode`, `CropName`, `MarketCode`, `MarketName`\n    - `Upper_Price`, `Middle_Price`, `Lower_Price`, `Avg_Price`, `Trans_Quantity`\n\n請多利用 Curl Import 功能\n例如\n```language\ncurl -X GET \"https://data.moa.gov.tw/api/v1/AgriProductsTransType/?Start_time=114.01.01&End_time=114.01.01&MarketName=%E5%8F%B0%E5%8C%97%E4%BA%8C\" -H \"accept: application/json\"\n```\n\n[農業資料開放平台 文件](https://data.moa.gov.tw/api.aspx)\n",
  "featuredImage": "/data/workflows/2687/2687.webp",
  "author": {
    "id": 101,
    "slug": "darrelltw",
    "name": "darrell_tw",
    "avatar": ""
  },
  "categories": [
    "Market Research"
  ],
  "complexityLevel": "beginner",
  "price": 0,
  "visitors": 585,
  "downloads": 58,
  "createdAt": "2025-01-01T19:24:45.689Z",
  "updatedAt": "2026-01-16T08:26:00.384Z",
  "publishedAt": "2025-01-01T19:24:45.689Z",
  "nodes": 4,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/2687"
}