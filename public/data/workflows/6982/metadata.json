{
  "id": 6982,
  "slug": "6982",
  "title": "Send automated discount vouchers to high-value Magento 2 customers with Gmail",
  "description": "### This workflow analyses completed orders from the past 3 months to identify high-value customers, generates unique voucher codes for each, and sends them a professionally designed promotional email.\n\n![Automated Workflow for Customer Rewards.png](fileId:1939)\n\nThis n8n template helps Magento 2 merchants automatically send customised, beautifully branded coupon emails to high-value customers. \n\nThe workflow connects to Magento 2â€™s REST API to retrieve your store logo and secure base URL. It either generates a coupon code and then crafts a visually appealing HTML email with dynamic customer details and branding.\n\nYou can integrate this flow as part of loyalty campaigns or customer milestone automations. All styling is mobile-responsive and minimal to reduce the chance of spam filtering while still delivering a modern user experience.\n\n#### ğŸ” What It Does:\n1. Authenticates and connects to your Magento 2 store.\n2. Fetches store logo and base media URL using API calls.\n3. Processes High valued customers.\n4. Generates coupons for each customers\n3. Dynamically injects customer name and unique coupon code.\n4. Sends a fully branded and styled HTML email.\n\nâš™ï¸ Technical Highlights:\n1. Uses rest/all/V1/store/storeConfigs to retrieve logo and configuration data.\n2. HTML email styled with CSS media queries for prefers-color-scheme.\n3. Gradient background with fallbacks and proper semantic structure.\n4. Works with Gmail, Apple Mail, Outlook (Mac), and others.\n5. Uses n8n expressions to handle personalization logic without external scripts.\n\n#### âœ… Ideal For:\n- Magento 2 store owners.\n- Digital marketers targeting loyal or VIP customers.\n- CRM/email marketing automation professionals.\n- Agencies building Magento-based growth funnels.\n\n#### ğŸ“ˆ Why This Matters in the Current Market:\n- Modern customers expect personalized, premium communication â€” and inbox competition is tougher than ever. \n- This workflow enables eCommerce merchants to deliver clean, brand-consistent emails using automation â€” all without plugins or frontend code changes. \n\n####  ğŸ”§ Modules Used:\n- HTTP Request â€“ Fetch Magento logo and config via REST API.\n- Set â€“ Store customer name and coupon values.\n- Email or SMTP â€“ Sends the composed HTML email.\n- DateTime â€“ To handle expiration display (optional).\n- HTML Template â€“ Responsive MJML-like styling with fallback-safe design.\n\n####  ğŸ’¼ Use Cases:\n- Loyalty program campaigns\n- Seasonal or holiday discount blasts\n- Surprise reward drops for top spenders\n- Post-purchase thank-you automation\n- Reactivation flows for high-valuee users\n\n#### ğŸ”’ Credentials Required:\n- Magento 2 Admin API Token\n- (Optional) SMTP credentials or Email node configuration\n\n#### ğŸ“‚ Category\nE-commerce â†’ Magento 2 (Adobe Commerce)\n\nğŸ’¬ Need Help?\nğŸ’¡ Having trouble setting it up or want to customize this workflow further?\nFeel free to reach out â€” Iâ€™m happy to help with setup, customization, or Magento 2 API integration issues.\n\nContact: Author\n\n#### ğŸ‘¤ Author\nKanaka Kishore Kandregula\nCertified Magento 2 Developer\nhttps://gravatar.com/kmyprojects\nhttps://www.linkedin.com/in/kanakakishore",
  "featuredImage": "/data/workflows/6982/6982.webp",
  "author": {
    "id": 101,
    "slug": "kmyprojects",
    "name": "Kanaka Kishore Kandregula",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 59,
  "downloads": 5,
  "createdAt": "2025-08-04T20:38:37.181Z",
  "updatedAt": "2026-01-16T08:47:57.318Z",
  "publishedAt": "2025-08-04T20:38:37.181Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6982"
}