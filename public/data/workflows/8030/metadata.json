{
  "id": 8030,
  "slug": "8030",
  "title": "Auto-send PDF invoices with Stripe payment triggers and Gmail",
  "description": "# üí∞ Auto-Send PDF Invoice When Stripe Payment is Received\n\nThis workflow automatically generates a **PDF invoice** every time a successful payment is received in **Stripe**, then emails the invoice to the customer via **Gmail**. Perfect for freelancers, SaaS businesses, and service providers who want to automate billing without manual effort.\n\n---\n\n## ‚öôÔ∏è How It Works\n\n1. **Stripe Payment Webhook**  \n   - Listens for successful payment events (`payment_intent.succeeded`).  \n   - Triggers the workflow whenever a new payment is made.\n\n2. **Normalize Payment Data**  \n   - A **Code node** extracts and formats details like:  \n     - Payment ID  \n     - Amount & currency  \n     - Customer name & email  \n     - Payment date  \n     - Description  \n   - Generates a unique invoice number.\n\n3. **Generate Invoice HTML**  \n   - A **Code node** builds a professional **invoice template** in HTML.  \n   - Data is dynamically inserted (amount, customer info, invoice number).  \n   - Output prepared for PDF generation.\n\n4. **Send Invoice Email**  \n   - The **Gmail node** sends an email to the customer.  \n   - Invoice is attached as a PDF file.  \n   - Includes a confirmation message with payment details.\n\n---\n\n## üõ†Ô∏è Setup Steps\n\n### 1. Stripe Webhook\n- In your [Stripe Dashboard](https://dashboard.stripe.com):  \n  - Navigate to **Developers ‚Üí Webhooks**  \n  - Add a new endpoint with your **Webhook URL** from the n8n Webhook node.  \n  - Select event:  \n    - `payment_intent.succeeded`  \n\n### 2. Gmail Setup\n- In n8n, connect your **Gmail OAuth2 credentials**.  \n- Emails will be sent directly from your Gmail account.  \n\n### 3. Customize Invoice\n- Open the **Generate Invoice HTML** node.  \n- Replace `\"Your Company Name\"` with your actual business name.  \n- Adjust invoice branding, colors, and layout as needed.  \n\n---\n\n## üìß Example Email Sent\n\n**Subject:** Invoice INV-123456789 - Payment Confirmation  \n\n**Body:**  \nDear John Doe,\nThank you for your payment! Please find your invoice attached.\nPayment Details:\nAmount: USD 99.00\nPayment ID: pi_3JXXXXXXXX\nDate: 2025-08-29\nBest regards,\nYour Company Name\n\n\n(Attached: `invoice_INV-123456789.pdf`)\n\n---\n\n‚ö° With this workflow, every Stripe payment automatically creates and delivers a polished PDF invoice ‚Äî no manual work required.\n",
  "featuredImage": "/data/workflows/8030/8030.webp",
  "author": {
    "id": 101,
    "slug": "dae221",
    "name": "David Olusola",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing",
    "Multimodal AI"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 340,
  "downloads": 34,
  "createdAt": "2025-08-29T14:00:08.120Z",
  "updatedAt": "2026-01-16T08:53:41.965Z",
  "publishedAt": "2025-08-29T14:00:08.120Z",
  "nodes": 5,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8030"
}