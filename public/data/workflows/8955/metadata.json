{
  "id": 8955,
  "slug": "8955",
  "title": "Automate payment receipts: Email, archive, and track with Stripe and Google Workspace",
  "description": "## Description\nThis workflow automates the process of retrieving Stripe invoices, validating API responses, generating payment receipts, sending them via email, storing PDFs in Google Drive, and appending details to a Google Sheet ledger. It also includes an error logging system to capture and record workflow issues, ensuring financial operations are both automated and reliable.\n\n## What This Template Does (Step-by-Step)\n- ğŸ“‹ Manual Trigger â€“ Start the workflow manually by clicking Execute workflow.\n-  ğŸ”— Fetch Invoices â€“ Authenticates with Stripe and retrieves the 5 most recent invoices (includes customer info, amounts, statuses, and invoice URLs).\n-  âœ… Check API Response â€“ Ensures the Stripe API response contains a valid data[] array. If not, errors are logged.\n-  ğŸ“‚ Expand List â€“ Splits Stripeâ€™s bundled invoice list into individual invoice records for independent processing.\n-  ğŸ’³ IF (Paid?) â€“ Routes invoices based on payment status; only paid invoices move forward.\n-  ğŸ“§ IF (Already Receipted?) â€“ Skips invoices where a receipt has already been generated (receipt_sent = true).\n-  ğŸ“‘ Download File â€“ Downloads the hosted invoice PDF from Stripe for use in emails and archiving.\n-  âœ‰ï¸ Send Receipt Email â€“ Emails the customer a payment receipt with the PDF attached, using invoice details (number, amount, customer name).\n-  â˜ï¸ Upload Invoice PDF â€“ Uploads the invoice PDF to a specific Google Drive folder, named by invoice number.\n-  ğŸ“Š Append to Ledger â€“ Updates a Google Sheet with invoice metadata (date, invoice number, Drive file ID, link, size).\n-  âš ï¸ Error Logging â€“ Logs workflow issues (failed API calls, missing data, etc.) into a dedicated error tracking sheet.\n\n## Prerequisites\n- Stripe API key (with invoice read permissions)\n- Google Drive (destination folder for invoices)\n- Google Sheets with:\n- Receipts Ledger Sheet\n- Error Logging Sheet\n- Gmail OAuth2 account for sending receipts\n\n## Key Benefits\n âœ… Automates customer receipt delivery with attached PDFs\n âœ… Builds a permanent ledger in Google Sheets for finance\n âœ… Archives invoices in Google Drive for easy retrieval\n âœ… Prevents duplicates by checking receipt_sent metadata\n âœ… Includes error logging for smooth monitoring and debugging\n\n## Perfect For\n- Finance/accounting teams needing automated receipt handling\n- SaaS businesses managing recurring Stripe invoices\n- Operations teams requiring error-proof automation\n- Any business needing audit-ready receipts + logs\n",
  "featuredImage": "/data/workflows/8955/8955.webp",
  "author": {
    "id": 101,
    "slug": "rahul08",
    "name": "Rahul Joshi",
    "avatar": ""
  },
  "categories": [
    "Invoice Processing"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 182,
  "downloads": 18,
  "createdAt": "2025-09-26T11:41:44.805Z",
  "updatedAt": "2026-01-16T08:58:32.263Z",
  "publishedAt": "2025-09-26T11:41:44.805Z",
  "nodes": 21,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8955"
}