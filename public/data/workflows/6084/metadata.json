{
  "id": 6084,
  "slug": "6084",
  "title": "Viral video generator: HeyGen to TikTok & Instagram auto-post + any content",
  "description": "# HeyGen AI Video Generation with Social Media Publishing\n\n## Description\n\nThis workflow automates the entire process of creating AI-generated videos from trending news content and publishing them to social media platforms (Instagram and TikTok). It runs daily at 6 AM, finds viral-worthy news, generates scripts, creates AI avatar videos using HeyGen, and automatically publishes to multiple social platforms.\n\n## How it works\n\n### Content Discovery & Script Generation\n1. **Schedule Trigger**: Runs daily at 6 AM or any time you choose. \n2. **Perplexity Search**: Finds trending news articles that would make good viral content\n3. **Write Video Script**: Uses GPT-4.1 to create a 30-second video script with hook, main content, and CTA\n4. **Extract URL**: Parses the article URL and script data for further processing\n\n### Video Creation Pipeline\n5. **Get Screenshot**: Uses ScreenshotOne API to create an animated scrolling video of the news article\n6. **Upload to Cloudinary**: Temporarily stores the background video\n7. **Write Video Caption**: Generates an engaging social media caption (150-200 characters)\n8. **Prepare Avatar Data**: Combines all data needed for HeyGen video generation\n9. **Create Avatar Video**: Sends request to HeyGen API to generate AI avatar video with:\n   - Talking photo avatar\n   - Text-to-speech voice\n   - Background video from the news article\n   - 720x1280 dimensions (vertical format)\n\n### Data Management\n10. **Prepare Sheets Data**: Formats video metadata\n11. **Store to Google Sheets**: Saves video_id, caption, timestamp, and status for tracking\n\n### Webhook Processing (Asynchronous)\n12. **HeyGen Webhook**: Receives callback when video generation is complete\n13. **Process HeyGen Callback**: Extracts video URLs and status from webhook\n14. **Get Caption from Sheets**: Retrieves the associated caption using video_id\n15. **Combine Data**: Merges video data with caption\n\n### Social Media Publishing\n16. **Upload to Blotato**: Uploads the completed video to Blotato media service\n17. **Extract Blotato URL**: Gets the media URL for social posting\n18. **Assign Social Media IDs**: Sets the account IDs for each platform\n19. **INSTAGRAM**: Posts video to Instagram with caption\n20. **TIKTOK**: Posts video to TikTok with caption and appropriate settings\n\n## Setup\n\n### Prerequisites\n1. **API Keys Required**:\n   - Perplexity API (for news search)\n   - OpenAI API (for script and caption generation)\n   - ScreenshotOne API (for article screenshots)\n   - HeyGen API (for AI video generation)\n   - Cloudinary account (for temporary video storage)\n   - Blotato API (for social media posting)\n   - Google Sheets API (for data tracking)\n\n2. **HeyGen Setup**:\n   - Create a talking photo avatar and get the `talking_photo_id`\n   - Select a voice and get the `voice_id`\n   - Set up a webhook endpoint in n8n for callbacks\n\n3. **Google Sheets Setup**:\n   - Create a new Google Sheet\n   - Add headers: `video_id`, `caption`, `timestamp`, `status`\n   - Get the sheet ID from the URL\n\n4. **Social Media Setup**:\n   - Connect Instagram and TikTok accounts to Blotato\n   - Get the account IDs for each platform\n\n### Configuration Steps\n\n1. **Replace all placeholder values**:\n   - `YOUR_TALKING_PHOTO_ID` - HeyGen avatar ID\n   - `YOUR_VOICE_ID` - HeyGen voice ID\n   - `YOUR_WEBHOOK_URL` - Your n8n webhook URL\n   - `YOUR_GOOGLE_SHEET_ID` - Google Sheets document ID\n   - `YOUR_INSTAGRAM_ACCOUNT_ID` - Blotato Instagram account ID\n   - `YOUR_TIKTOK_ACCOUNT_ID` - Blotato TikTok account ID\n   - `YOUR_CLOUD_NAME` - Cloudinary cloud name\n   - `YOUR_UPLOAD_PRESET` - Cloudinary upload preset\n\n2. **Add credentials in n8n**:\n   - Perplexity API credentials\n   - OpenAI API credentials\n   - HeyGen API credentials (create custom API credentials with X-Api-Key)\n   - Blotato API credentials\n   - Google Sheets OAuth2\n   - ScreenshotOne API credentials\n\n3. **Configure the webhook**:\n   - Copy the webhook URL from the \"HeyGen Webhook\" node\n   - Use this URL in the \"Create Avatar Video\" node's callback_url\n\n## Notes\n\n- The workflow uses a two-part asynchronous process: initial video creation and webhook-based completion\n- Videos are optimized for vertical format (720x1280) for mobile social media\n- The Google Sheet acts as a database to link video IDs with captions\n- All sensitive content (URLs, API keys) should be replaced with your own values\n- Consider content moderation and copyright when selecting news sources\n- Monitor API usage and costs, especially for HeyGen video generation\n\n## Customization Options\n\n- **Content Sources**: Modify the Perplexity search query to target specific news sources or topics\n- **Video Style**: Adjust avatar position, scale, and background video settings\n- **Voice Settings**: Change voice_id, speed, and pitch for different narration styles\n- **Publishing Schedule**: Modify the Schedule Trigger for different times or frequencies\n- **Social Platforms**: Add more platforms by duplicating the Blotato posting nodes",
  "featuredImage": "/data/workflows/6084/6084.webp",
  "author": {
    "id": 101,
    "slug": "harryhaz",
    "name": "Reddit Dev ",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 938,
  "downloads": 93,
  "createdAt": "2025-07-17T09:28:15.763Z",
  "updatedAt": "2026-01-16T08:43:03.305Z",
  "publishedAt": "2025-07-17T09:28:15.763Z",
  "nodes": 21,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/6084"
}