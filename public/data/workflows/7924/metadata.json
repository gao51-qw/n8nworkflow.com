{
  "id": 7924,
  "slug": "7924",
  "title": "Automate code reviews for GitLab MRs with Gemini AI and JIRA context",
  "description": "### What it does\n\nAutomates code review by listening for a comment trigger on GitLab merge requests, summarising the diff, and using an LLM to post constructive, line‑specific feedback. If a JIRA ticket ID is found in the MR description, the ticket’s summary is used to inform the AI review.\n\n### Use cases\n\n- Quickly obtain high‑quality feedback on MRs without waiting for peers.\n- Highlight logic, security or performance issues that might slip through cursory reviews.\n- Incorporate project context by pulling in related JIRA ticket summaries.\n\n### Good to know\n\n- Triggered by commenting `ai-review` on a merge request.\n- The LLM returns only high‑value findings; if nothing critical is detected, the workflow posts an “all clear” message.\n- You can swap out the LLM (Gemini, OpenAI, etc.) or adjust the prompt to fit your team’s guidelines.\n- AI usage may incur costs or be geo‑restricted depending on your provider n8n.io.\n\n### How it works\n- **Webhook listener:** A Webhook node captures GitLab note events and filters for the trigger phrase.\n\n- **Fetch & parse:** The workflow retrieves MR details and diffs, splitting each change into “original” and “new” code blocks.\n\n- **Optional JIRA context:** If your MR description includes a JIRA key (e.g., PROJ-123), the workflow fetches the ticket (and parent ticket for subtasks) and composes a brief context summary.\n\n- **LLM review:** The parsed diff and optional context are sent to an LLM with instructions to identify logic, security or performance issues and suggest improvements.\n\n- **Post results:** Inline comments are posted back to the MR at the appropriate file/line positions; if no issues are found, a single “all clear” note is posted.\n\n### How to use\n\n- Import the template JSON and open the Webhook node. Replace the `REPLACE_WITH_UNIQUE_PATH` placeholder with your desired path and configure a GitLab project webhook to send MR comments to that URL.\n- Select your LLM credentials in the Gemini (or other LLM) node, and optionally add JIRA credentials in the JIRA nodes.\n- Activate the workflow and comment `ai-review` on any merge request to test it.\n- For each review, the workflow posts status updates (“AI review initiated…”) and final comments.\n\n### Requirements\n\n- A GitLab project with a generate Personal Access Token (PAT) stored as an environment variable (`GITLAB_TOKEN`).\n- LLM credentials (e.g., Google Gemini) and optional JIRA credentials.\n\n### Customising this workflow\n\n- Change the trigger phrase in the Trigger Phrase Filter node.\n- Modify the LLM prompt to focus on different aspects (e.g., style, documentation).\n- Filter out certain file types or directories before sending diffs to the LLM.\n- Integrate other services (Slack, email) to notify teams when reviews are complete.",
  "featuredImage": "/data/workflows/7924/7924.webp",
  "author": {
    "id": 101,
    "slug": "jenyok",
    "name": "Evgeny Agronsky",
    "avatar": ""
  },
  "categories": [
    "AI Summarization",
    "Multimodal AI"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 899,
  "downloads": 89,
  "createdAt": "2025-08-26T22:07:57.203Z",
  "updatedAt": "2026-01-16T08:53:04.509Z",
  "publishedAt": "2025-08-26T22:07:57.203Z",
  "nodes": 41,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7924"
}