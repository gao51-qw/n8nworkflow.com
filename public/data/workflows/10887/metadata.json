{
  "id": 10887,
  "slug": "10887",
  "title": "Reduce LLM Costs with Semantic Caching using Redis Vector Store and HuggingFace",
  "description": "# Stop Paying for the Same Answer Twice \n\nYour LLM is answering the same questions over and over. \"What's the weather?\" \"How's the weather today?\" \"Tell me about the weather.\" Same answer, three API calls, triple the cost. This workflow fixes that.\n\n## What Does It Do?\n\nSemantic caching with superpowers. When someone asks a question, it checks if you've answered something *similar* before. Not exact matchesâ€”*semantic* similarity. If it finds a match, boom, instant cached response. No LLM call, no cost, no waiting.\n\n**First time:** \"What's your refund policy?\" â†’ Calls LLM, caches answer  \n**Next time:** \"How do refunds work?\" â†’ Instant cached response (it knows these are the same!)  \n**Result:** Faster responses + way lower API bills\n\n## The Flow\n\n1. **Question comes in** through the chat interface\n2. **Vector search** checks Redis for semantically similar past questions\n3. **Smart decision**: Cache hit? Return instantly. Cache miss? Ask the LLM.\n4. **New answers get cached** automatically for next time\n5. **Conversation memory** keeps context across the whole chat\n\nIt's like having a really smart memo pad that understands meaning, not just exact words.\n\n## Quick Start\n\n**You'll need:**\n- OpenAI API key (for the chat model)\n- huggingface API key (for embeddings)\n- Redis 8.x (for vector magic)\n\n**Get it running:**\n1. Drop in your credentials\n2. Hit the chat interface\n3. Watch your API costs drop as the cache fills up\n\nThat's it. No complex setup, no configuration hell.\n\n## Tune It Your Way\n\nThe `distanceThreshold` in the \"Analyze results from store\" node is your control knob:\n\n- **Lower (0.2)**: Strict matching, fewer false positives, more LLM calls\n- **Higher (0.5)**: Loose matching, more cache hits, occasional weird matches\n- **Default (0.3)**: Sweet spot for most use cases\n\nPlay with it. Find what works for your questions.\n\n## Hack It Up\n\nSome ideas to get you started:\n\n- **Add TTL**: Make cached answers expire after a day/week/month\n- **Category filters**: Different caches for different topics\n- **Confidence scores**: Show users when they got a cached vs fresh answer\n- **Analytics dashboard**: Track cache hit rates and cost savings\n- **Multi-language**: Cache works across languages (embeddings are multilingual!)\n- **Custom embeddings**: Swap OpenAI for local models or other providers\n\n## Real Talk ðŸ’¡\n\n**When it shines:**\n- Customer support (same questions, different words)\n- Documentation chatbots (limited knowledge base)\n- FAQ systems (obvious use case)\n- Internal tools (repetitive queries)\n\n**When to skip it:**\n- Real-time data queries (stock prices, weather, etc.)\n- Highly personalized responses\n- Questions that need fresh context every time\n\n**Pro tip:** Start with a higher threshold (0.4-0.5) and tighten it as you see what gets cached. Better to cache too much at first than miss obvious matches.\n\nBuilt with n8n, Redis, Huggingface and OpenAI. Open source, self-hosted, completely under your control.\n\n",
  "featuredImage": "/data/workflows/10887/10887.webp",
  "author": {
    "id": 101,
    "slug": "tishun",
    "name": "Tihomir Mateev",
    "avatar": ""
  },
  "categories": [
    "Engineering",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1229,
  "downloads": 122,
  "createdAt": "2025-11-16T15:28:26.249Z",
  "updatedAt": "2026-01-16T09:06:41.245Z",
  "publishedAt": "2025-11-16T15:28:26.249Z",
  "nodes": 17,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10887"
}