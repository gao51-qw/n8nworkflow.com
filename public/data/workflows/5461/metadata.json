{
  "id": 5461,
  "slug": "5461",
  "title": "iMessage food photo nutritional analysis with GPT-4 Vision & Memory Storage",
  "description": "# iMessage AI-Powered Smart Calorie Tracker\n\n\n&gt; üìå **What it looks like in use:**  \n ![Sticky Note](https://i.imgur.com/bOPrv4H.png)  \n&gt; This image shows a visual of the workflow in action. Use it for reference when replicating or customizing the template.\n\nThis n8n template transforms a user-submitted food photo into a detailed, friendly, AI-generated nutritional report ‚Äî sent back seamlessly as a chat message. It combines OpenAI's visual reasoning, Postgres-based memory, and real-time messaging with Blooio to create a hands-free calorie and nutrition tracker.\n\n---\n\n## üß† Use Cases\n\n- Auto-analyze meals based on user-uploaded images.\n- Daily/weekly/monthly diet summaries with no manual input.\n- Virtual food journaling integrated into messaging apps.\n- Nutrition companion for healthcare, fitness, and wellness apps.\n\n---\n\n## üìå Good to Know\n\n- ‚ö†Ô∏è This uses GPT-4 with image capabilities, which may incur higher usage costs depending on your OpenAI pricing tier. Review [OpenAI‚Äôs pricing](https://openai.com/pricing).\n- The model uses visual reasoning and estimation to determine nutritional info ‚Äî results are estimates and should not replace medical advice.\n- [Blooio](https://blooio.com) is used for sending/receiving messages. You will need a valid API key and project set up with webhook delivery.\n- A Postgres database is required for long-term memory (optional but recommended). You can use any memory node with it.\n\n---\n\n## ‚öôÔ∏è How It Works\n\n1. **Webhook Trigger**  \n   The workflow begins when a message is received via Blooio. This webhook listens for user-submitted content, including any image attachments.\n\n2. **Image Validation and Extraction**  \n   A conditional check verifies the presence of attachments. If images are found, their URLs are extracted using a Code node and prepared for processing.\n\n3. **Image Analysis via AI Agent**  \n   Images are passed to an OpenAI-based agent using a custom system prompt that:\n   - Identifies the meal,\n   - Estimates portion sizes,\n   - Calculates calories, macros, fiber, sugar, and sodium,\n   - Scores the meal with a health and confidence rating,\n   - Responds in a chatty, human-like summary format.\n\n4. **Memory Integration**  \n   A Postgres memory node stores user interactions for recall and contextual continuity, allowing day/week/month reports to be generated based on cumulative messages.\n\n5. **Response Aggregation & Summary**  \n   Messages are aggregated and summarized by a second AI agent into a single concise message to be sent back to the user via Blooio.\n\n6. **Message Dispatch**  \n   The final message is posted back to the originating conversation using the Blooio Send Message API.\n\n---\n\n## üöÄ How to Use\n\n- The included webhook can be triggered manually or programmatically by linking Blooio to a frontend chat UI.\n- You can test the flow using a manual POST request containing mock Blooio payloads.\n- Want to use a different messages app? Replace the Blooio nodes with your preferred messaging API (e.g., Twilio, Slack, Telegram).\n\n---\n\n## ‚úÖ Requirements\n\n- OpenAI API access with GPT-4 Vision or equivalent multimodal support.\n- Blooio account with access to incoming and outgoing message APIs.\n- Optional: Postgres DB (e.g., via [Neon](https://neon.com)) for tracking message context over time.\n\n---\n\n## üõ†Ô∏è Customising This Workflow\n\n- **Prompt Tuning**  \n  Tailor the system prompt in the AI Agent node to fit specific diets (e.g., keto, diabetic), age groups, or regionally-specific foods.\n\n- **Analytics Dashboards**  \n  Hook up your Postgres memory to a data visualization tool for nutritional trends over time.\n\n- **Multilingual Support**  \n  Adjust the response prompt to translate messages into other languages or regional dialects.\n\n- **Image Preprocessing**  \n  Insert a preprocessing node before sending images to the model to resize, crop, or enhance clarity for better results.\n",
  "featuredImage": "/data/workflows/5461/5461.webp",
  "author": {
    "id": 101,
    "slug": "xtgy",
    "name": "David Harvey",
    "avatar": ""
  },
  "categories": [
    "Personal Productivity",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 1715,
  "downloads": 171,
  "createdAt": "2025-06-30T00:28:05.321Z",
  "updatedAt": "2026-01-16T08:39:49.235Z",
  "publishedAt": "2025-06-30T00:28:05.321Z",
  "nodes": 19,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/5461"
}