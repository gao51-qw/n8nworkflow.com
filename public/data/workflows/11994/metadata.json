{
  "id": 11994,
  "slug": "11994",
  "title": "Optimize Instagram hashtags with GPT-4o & real engagement data via Graph API",
  "description": "# Instagram Hashtag Generator Workflow\n\nThis workflow automatically generates optimal hashtags for your Instagram posts by analyzing captions and fetching real-time engagement data.\n\n## Key Features\n*   **100% Official API & Free**: Uses ONLY the official Instagram Graph API. No expensive third-party tools or risky scraping methods are required.\n*   **Safe & Reliable**: Relying on the official API ensures compliance and long-term stability.\n*   **Smart Caching**: Includes a Google Sheets caching mechanism to maximize the value of the official API's rate limits (30 searches/7 days).\n\n## Workflow Overview \n\n1.  **Caption Input**: Set your caption manually or via a workflow trigger.\n2.  **AI Suggestions**: GPT-4o-mini analyzes the caption and suggests 10 relevant hashtags, balancing popular (big words) and niche keywords.\n3.  **Official API Search (Instagram Graph API)**:\n    -   Fetches Hashtag IDs using the `ig_hashtag_search` endpoint.\n    -   Retrieves engagement metrics (Average Likes, Average Comments) using the ID.\n4.  **Selection & Sorting**:\n    -   Sorts candidates by engagement metrics.\n    -   Selects the top 5 most effective hashtags that balance relevance and engagement.\n5.  **Output**: Returns the final list of hashtags as text.\n\n## Setup Steps\n\n1.  **Import to n8n**:\n    -   Copy the content of `workflow_hashtag_generator.json` and paste it into your n8n canvas, or import the file directly.\n\n2.  **Credentials**:\n    -   **OpenAI account**: Connect your OpenAI credentials.\n    -   **Facebook Graph account**: Connect your Facebook Graph API credentials.\n\n3.  **Configuration**:\n    -   **Instagram Business ID**: Update the `YOUR_INSTAGRAM_BUSINESS_ACCOUNT_ID` placeholder in the **Get Hashtag Info** and **Get Hashtag Metrics** nodes with your actual Business Account ID.\n    -   **Google Spreadsheet ID**: Update the `YOUR_SPREADSHEET_ID` placeholder in the **Fetch Cached Hashtags** and **Save to Cache** nodes.\n\n4.  **Adjustments**:\n    -   **Filter Logic**: You can adjust the sorting or filtering logic in the `Aggregate & Rank Candidates` node's JavaScript code (e.g., exclude tags with fewer than 1000 posts) if needed.\n\n## Important Notes on API Limits\nThe official **Instagram Hashtag Search API** (`ig_hashtag_search`) allows for **30 unique hashtag queries per rolling 7-day period**.\n*   **Why this is fine**: This workflow caches results in Google Sheets. Once a tag is fetched, it doesn't need to be queried again for a while, allowing you to build up a large database of tags over time without hitting the limit.\n*   **Recommendation**: Use mock data during initial testing to save your API quota.\n",
  "featuredImage": "/data/workflows/11994/11994.webp",
  "author": {
    "id": 101,
    "slug": "nakayama",
    "name": "Shun Nakayama",
    "avatar": ""
  },
  "categories": [
    "Content Creation",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 120,
  "downloads": 12,
  "createdAt": "2025-12-21T06:35:43.523Z",
  "updatedAt": "2026-01-16T09:10:55.487Z",
  "publishedAt": "2025-12-21T06:35:43.523Z",
  "nodes": 29,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/11994"
}