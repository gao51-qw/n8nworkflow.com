{
  "id": 7134,
  "slug": "7134",
  "title": "Automate email marketing campaigns with NocoDB & Brevo",
  "description": "## **DescriptionğŸ”**\nThis n8n workflow is a **complete marketing automation system** that connects to your CDP (Customer Data Platform), selects which flows to send, and delivers personalized emails using Brevo. It's modular and extensible â€” you can also add SMS, push notifications, Telegram messages, or other channels.\n\nTo build a full marketing automation system, you need **four key components**:\n\n1. **Workflow Automation** â€“ using n8n (this workflow)\n2. **CDP** â€“ store and manage user data (e.g., NocoDB, Metabase, Power BI, etc.)\n3. **Database** â€“ track transactions, templates, and send statuses (e.g., NocoDB)\n4. **BI / Analytics** â€“ monitor performance by flows, journeys, and sent events\n\nThis workflow represents the **Workflow Automation** layer. You can connect it to your own data stack or use the included example databases (`cdp-ecrm`, `n8n-templates-ecrm`, and `n8n-transaction-ecrm`) to get started quickly.\n\n###  ğŸ‘¤ Whoâ€™s it for?\n\n- Growth & CRM teams managing user engagement flows\n- Ecommerce marketers running time-sensitive email journeys\n- Marketing automation pros using low-code CRM stacks\n- Data teams building custom campaign triggers from CDPs\n\n### âœ… Features\n\n- ğŸ” Two modular flows: \"Insert user_id\" and \"Sending Email\"\n- ğŸ§  Select flow using `flow_id` from templates in NocoDB\n- âœï¸ Insert user data into `n8n-transaction-ecrm` with processing status\n- ğŸ” Filter duplicate users by `user_id` to avoid over-sending\n- ğŸ“§ Validate email fields and flag disposables\n- ğŸ“¨ Send personalized emails using Brevo template parameters\n- ğŸ“Š Track delivery with `sent_result`, `sent_at`, and status updates\n- ğŸ•’ Runs every 30 minutes via schedule trigger\n\n### ğŸ›  How to Use\n\n1. **Set your flow**  \n    In the `Setup Flow` node, change the `flow_id` to match a row in your `n8n-templates-ecrm` table.\n    \n2. **Prepare your tables in NocoDB**\n    \n    - `cdp-ecrm`: contains users (`user_id`, `email`, `first_name`, `phone_number`)\n    - `n8n-templates-ecrm`: contains flows with metadata\n    - `n8n-transaction-ecrm`: stores and updates user send status\n    \n3. **Configure credentials**\n    \n    - NocoDB API Token\n    - Brevo (Sendinblue) API Key\n    \n4. **Trigger the flows**\n\n    - Run â€œInsert user_idâ€ manually or on a schedule to prepare users\n    - â€œSending Emailâ€ runs automatically every 30 minutes\n\n### ğŸ“Œ Notes\n\n- Disposable email domains are filtered using regex\n- Status:\n    - `0-processing` â†’ just inserted\n    - `1-sending` â†’ ready to send\n    - `2-sent` â†’ email sent successfully\n    - `3-no-email` â†’ missing email address\n    - `4-disposal-email` â†’ disposable or banned email   \n- Easily duplicate the \"Insert user_id\" flow to add more campaigns",
  "featuredImage": "/data/workflows/7134/7134.webp",
  "author": {
    "id": 101,
    "slug": "salimi",
    "name": "Nima Salimi",
    "avatar": ""
  },
  "categories": [
    "Social Media"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 987,
  "downloads": 98,
  "createdAt": "2025-08-07T13:18:17.041Z",
  "updatedAt": "2026-01-16T08:48:39.843Z",
  "publishedAt": "2025-08-07T13:18:17.041Z",
  "nodes": 30,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/7134"
}