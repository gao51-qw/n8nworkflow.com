{
  "id": 9616,
  "slug": "9616",
  "title": "Classify YouTube videos & generate email summaries with GPT-4 and Gmail",
  "description": "# Classify YouTube Trends and Generate Email Summaries with GPT-4 and Gmail\n\n![YouTube Trend Detector](https://img.shields.io/badge/Template-YouTube_Trend_Detector-blue?logo=n8n)\n![YouTube](https://img.shields.io/badge/YouTube-FF0000?logo=youtube&logoColor=white)\n![OpenAI](https://img.shields.io/badge/OpenAI-GPT--4-black?logo=openai)\n![n8n](https://img.shields.io/badge/Workflow-n8n-12BEB4?logo=n8n&logoColor=white)\n![Gmail](https://img.shields.io/badge/Email-Gmail_OAuth2-D14836?logo=gmail&logoColor=white)\n![SMTP](https://img.shields.io/badge/Email-SMTP-6E6E6E)\n\nMonitor YouTube channels, fetch stats, classify videos as viral (â‰¥ 1000 likes) or normal, and autoâ€‘generate LinkedIn/email summaries with GPTâ€‘4. Deliver via Gmail or SMTP. Clear node names, examples, and auditable fields.\n\n---\n\n## ğŸ¯ Overview\nThis template monitors YouTube channels via **RSS** or the **YouTube Data API**, retrieves video stats, classifies each video as **viral** (â‰¥ 1000 likes) or **normal**, and produces concise LinkedIn/email summaries with **OpenAI (GPTâ€‘4 family)**. It can send a compact weekly briefing via **Gmail (OAuth2)** or **SMTP**. Built for creators, marketing teams, and agencies who want automated trend alerts and readyâ€‘toâ€‘use content.\n\n<a href=\"https://postimg.cc/cKsrVC7x\" target=\"_blank\"><img src=\"https://i.postimg.cc/cKsrVC7x/Screenshot-2025-10-16-085219.png\" alt=\"Screenshot-2025-10-16-085219\" /></a>\n\nThis screenshot shows the Gmail-ready weekly briefing generated by the **Generate Weekly Briefing (HTML)** node in my YouTube Trend Detector workflow, confirming the end-to-end pipeline: RSS/API â†’ stats â†’ like-based classification (â‰¥ 1000 = viral) â†’ LLM summaries â†’ HTML email.\n\n\n\n---\n\n## ğŸ§­ How It Works (Node Map)\n1. **Manual Run** â€“ adâ€‘hoc execution  \n2. **Set Channel IDs** â€“ provide one or more YouTube `channelId` values  \n3. **Split Channels** â€“ process channels one by one  \n4. **Fetch Latest Videos (RSS)** â€“ pull recent uploads via channel RSS  \n5. **Filter: Published in Last 72h** â€“ only recent items are kept  \n6. **Get Video Stats (YouTube API)** â€“ request `snippet,statistics` for likes and details  \n7. **Classify by Likes (Code)** â€“ sets `classification` to `viral` or `normal`  \n8. **Branch: Normal / Branch: Viral** â€“ separate LLM prompts per relevance  \n9. **Write Post (Normal / Viral)** â€“ generate LinkedInâ€‘style notes via OpenAI  \n10. **Aggregate Posts for Briefing** â€“ merge all texts into one block  \n11. **Generate Weekly Briefing (HTML)** â€“ produce a Gmailâ€‘robust HTML email via GPT  \n12. **Send Weekly Briefing (Gmail/SMTP)** â€“ deliver briefing (you set recipients)\n\n---\n\n## âš™ï¸ Quick Start (â‰ˆ 3 minutes)\n1. **Import** the sanitized JSON into n8n (Menu â†’ Import).  \n2. **Create credentials** (use exact names):  \n   - `YouTube_API_Key` â€” Generic credential (field: `apiKey`)  \n   - `OpenAi account` â€” OpenAI API Key  \n   - `Gmail account` (OAuth2) **or** `SMTP_Default` (SMTP)  \n3. **Configure channels:** In **Set Channel IDs**, list your YouTube `channelId` values (e.g., `UCâ€¦`).  \n4. **Set recipients:** In **Send Weekly Briefing**, add your target email(s).  \n5. **Test:** Run **Execute Workflow** and review outputs from the LLM and send nodes.\n\n---\n\n## ğŸ”‘ Required Credentials\n- **YouTube_API_Key** â€” YouTube Data API v3 key (field `apiKey`)  \n- **OpenAi account** â€” OpenAI API key for LLM nodes  \n- **Gmail account** (OAuth2, recommended) **or** **SMTP_Default** (server/port/TLS + app password if 2FA)\n\n---\n\n## ğŸ§© Key Parameters & Adjustments\n- **Viral threshold:** In `Classify by Likes (Code)` â†’ `const THRESHOLD = 1000;`  \n- **YouTube API parts:** Use `part=snippet,statistics` to obtain `likeCount`  \n- **Time window:** The filter keeps videos from the **last 72 hours**\n\n---\n\n## ğŸ§ª Troubleshooting\n- **Missing `likeCount` / `classification = \"unknown\"`** â†’ ensure `part=statistics` and a valid API key credential.  \n- **Gmail OAuth `redirect_mismatch` / `access_denied`** â†’ redirect must be `https://&lt;your-n8n-host&gt;/rest/oauth2-credential/callback` and test users added if restricted.  \n- **SMTP auth issues** â†’ set correct server/port/TLS and use an app password when 2FA is enabled.  \n- **Empty LLM output** â†’ verify OpenAI key/quota and inspect node logs.\n\n---\n\n## ğŸ§¾ Example Outputs\n\n**1) Classification (single video)**\n```json\n{\n  \"videoId\": \"abc123XYZ\",\n  \"title\": \"How to Ship an n8n Workflow with OpenAI\",\n  \"likeCount\": 1587,\n  \"classification\": \"viral\",\n  \"needsStatsFetch\": false\n}\n```\n\n**2) LinkedIn draft (viral)**\n```\nDid you know how much faster prompt workflows get with structured inputs?\nâ€¢ Setup: n8n + YouTube API + OpenAI for auto-briefs\nâ€¢ Tip: include `part=statistics` for reliable like counts\nUseful for teams tracking trending how-to content.\nWhatâ€™s your best â€œviralâ€ signal besides likes?\n#n8n #YouTubeAPI #OpenAI #Automation #Growth\n```\n\n**3) Plainâ€‘text email preview**\n```\nSubject: Weekly AI Briefing â€” YouTube Trend Highlights\n\nHi team,\nHighlights from our tracked channels:\nâ€¢ Viral: â€œHow to Ship an n8n Workflow with OpenAIâ€ (1.6k likes)\nâ€¢ Normal: â€œRSS vs API: Whatâ€™s Best for Monitoring?â€\nGenerated via n8n + GPTâ€‘4.\n```\n\n---\n\n## âœ… Submission Checklist (meets the guidelines)\n- **Title clarity:** Mentions **GPTâ€‘4** and **Gmail**  \n- **Language:** Entire document in **English**  \n- **Node naming:** Descriptive, nonâ€‘generic labels  \n- **HTML â†’ Markdown:** No HTML in this description; badges are **Markdown images**  \n- **Examples:** Included (JSON, LinkedIn draft, email)  \n- **Security:** No secrets in JSON; uses credentials by name\n\n---\n\n## ğŸ“¸ Suggested Screenshots (optional)\n1. Full canvas overview (entire workflow)  \n2. LLM output (expanded) showing generated summary  \n3. Sendâ€‘node result with messageId/status  \n4. Optional: aggregated briefing preview\n\n---\n\n## ğŸ“œ License & Support\n**License:** MIT  \n**Support/Contact:** kaihoelters@yahoo.de\n",
  "featuredImage": "/data/workflows/9616/9616.webp",
  "author": {
    "id": 101,
    "slug": "ezn8n",
    "name": "Kai HÃ¶lters ",
    "avatar": ""
  },
  "categories": [
    "Market Research",
    "AI Summarization"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 61,
  "downloads": 6,
  "createdAt": "2025-10-14T11:18:44.202Z",
  "updatedAt": "2026-01-16T09:01:15.347Z",
  "publishedAt": "2025-10-14T11:18:44.202Z",
  "nodes": 22,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9616"
}