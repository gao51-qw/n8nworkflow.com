{
  "id": 10773,
  "slug": "10773",
  "title": "Generate PII-safe Helpdocs from Crisp Support chats with GPT-4.1-mini",
  "description": "# Turn Crisp chats into Helpdocs\n\nAutomatically create help articles from resolved Crisp chats. This n8n workflow listens for chat events, formats Q&A pairs, and uses an LLM to generate a PII‚Äësafe helpdoc saved to a Data Table.\n\n---\n\n## Highlights\n\n* üß© **Trigger:** Crisp Webhook when a chat is marked resolved.\n* üóÇÔ∏è **Store:** Each message saved in a Data Table (`crisp`).\n* üß† **Generate:** LLM turns Q&A into draft helpdoc.\n* üíæ **Save:** Draft stored in another Data Table (`crisphelp`) for review.\n\n---\n\n## How it works\n\n1. **Webhook** receives `message:send`, `message:received`, and `state:resolved` events from Crisp.\n2. **Data Table** stores messages by `session_id`.\n3. On `state:resolved`, workflow fetches the full chat thread.\n4. **Code** node formats messages into `Q:` and `A:` pairs.\n5. **LLM** (OpenAI `gpt-4.1-mini`) creates a redacted helpdoc.\n6. **Data Table** `crisphelp` saves the generated doc with `publish = false`.\n\n---\n![G5engABXQAAx96x.jpeg](fileId:3291)\n---\n\n## Requirements\n\n* Crisp workspace with webhook access (Settings ‚Üí Advanced ‚Üí Webhooks)\n* n8n instance with Data Tables and OpenAI credentials\n\n---\n\n## Customize\n\n* Swap the model in the LLM node.\n* Add a Slack or Email node after `store-doc` to alert reviewers.\n* Extend prompt rules to strengthen PII redaction.\n\n---\n\n## Tips\n\n* Ensure Crisp webhook URL is public.\n* Check IF condition: `{{$json.body.data.content.namespace}} == \"state:resolved\"`.\n* Use the `publish` flag to control auto‚Äëpublishing.\n\n---\n\n**Category:** AI ‚Ä¢ Automation ‚Ä¢ Customer Support\n",
  "featuredImage": "/data/workflows/10773/10773.webp",
  "author": {
    "id": 101,
    "slug": "cooper",
    "name": "Cooper",
    "avatar": ""
  },
  "categories": [
    "Internal Wiki",
    "AI Summarization"
  ],
  "complexityLevel": "intermediate",
  "price": 0,
  "visitors": 81,
  "downloads": 8,
  "createdAt": "2025-11-12T19:36:01.787Z",
  "updatedAt": "2026-01-16T09:06:15.004Z",
  "publishedAt": "2025-11-12T19:36:01.787Z",
  "nodes": 14,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/10773"
}