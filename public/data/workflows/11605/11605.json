{
  "workflow": {
    "id": 11605,
    "name": "Handle clinic WhatsApp support with GPT-4o-mini, Pinecone RAG and Gmail alerts",
    "views": 31,
    "recentViews": 8,
    "totalViews": 31,
    "createdAt": "2025-12-08T12:30:15.044Z",
    "description": "# üè• Clinic WhatsApp Customer Service Bot\n\nThis workflow automates patient communication for medical clinics using the WhatsApp Business API. It supports appointment booking, rescheduling, service inquiries, follow-ups, and document submissions. The workflow includes AI capabilities, appointment management, human escalation logic, memory storage, and CRM synchronization.\n\n## Good to know\n\n- Supports text, voice notes, images, and document uploads.\n- Uses an AI agent powered by GPT-4o-mini with retrieval-augmented generation for accurate answers.\n- Includes sentiment and frustration detection to trigger human takeover.\n- Conversation history and lead details are stored for context and follow-up.\n- Appointment booking includes slot validation to reduce errors and conflicts.\n\n## How it works\n\n- The workflow receives WhatsApp messages through a webhook connection.\n- The AI agent processes the message and identifies the intent:\n  - üìÖ Appointment booking or rescheduling\n  - ‚ùì Service or doctor inquiry\n  - üìé Document submission (e.g., lab results, insurance)\n  - ü§ù Human support request\n- If the request is informational, the AI responds using GPT-4o-mini with RAG from Pinecone to ensure clinic-specific accuracy.\n- If the request relates to booking, the workflow:\n  - Checks availability in Data Tables\n  - Validates slot selection\n  - Confirms, updates, or cancels the appointment\n- If the user is confused, frustrated, or explicitly asks for a human, automation is paused and a staff member is notified.\n- Voice messages are transcribed using Whisper API and images are processed using Vision API.\n- All interactions are logged and synced to Google Sheets for CRM tracking.\n\n## Requirements\n\n- WhatsApp Business API access with active credentials\n- OpenAI API key for GPT-4o-mini, Whisper, and Vision models\n- Pinecone account for vector storage\n- Google Sheets and Gmail for logging and notifications\n- n8n instance (Cloud or self-hosted)\n- Data Tables enabled for memory, appointments, and lead management\n\n",
    "workflow": {
      "meta": {
        "instanceId": "473168f370e695cf2681bfe0d87794a129a4b6b91ce9730668db1c27be277998"
      },
      "nodes": [
        {
          "id": "a1bb9718-a390-4b5f-8534-b8a973ce8695",
          "name": "Schedule Trigger",
          "type": "n8n-nodes-base.scheduleTrigger",
          "position": [
            -3104,
            1984
          ],
          "parameters": {
            "rule": {
              "interval": [
                {
                  "field": "minutes",
                  "minutesInterval": 1
                }
              ]
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "33e9808c-510f-4b1c-883e-f0a569248ab7",
          "name": "Append or update slot",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            -2496,
            1696
          ],
          "parameters": {
            "columns": {
              "value": {
                "day": "={{ $json.days }}",
                "time": "={{ $json.time }}",
                "service": "={{ $json.service }}"
              },
              "schema": [
                {
                  "id": "service",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "service",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "time",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "day",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "day",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "service"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "appendOrUpdate",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": "gid=0",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit#gid=0",
              "cachedResultName": "slots"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit?usp=drivesdk",
              "cachedResultName": "CRM"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "Google Sheets account"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "fdd67b6a-4301-4fff-bf04-5fd448f768db",
          "name": "Get lead",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -2704,
            1888
          ],
          "parameters": {
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "16bAoJicIDEPak46",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/16bAoJicIDEPak46",
              "cachedResultName": "leads"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "a96ea4f0-f1c0-42c3-813b-7fc6ac28ac0d",
          "name": "Append or update lead",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            -2496,
            1888
          ],
          "parameters": {
            "columns": {
              "value": {
                "name": "={{ $json.name }}",
                "phone": "={{ $json.phone }}",
                "short sum": "={{ $json.short_sum }}",
                "lead category": "={{ $json.lead_category }}"
              },
              "schema": [
                {
                  "id": "name",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "lead category",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "lead category",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "phone",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "short sum",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "short sum",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "phone"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "appendOrUpdate",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 1596543480,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit#gid=1596543480",
              "cachedResultName": "leads"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit?usp=drivesdk",
              "cachedResultName": "CRM"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "Google Sheets account"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "8bf64824-9d63-4c35-a9ff-0a23fd927bb7",
          "name": "Get human call",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -2704,
            2064
          ],
          "parameters": {
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "ygicufEiNou6tVCb",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/ygicufEiNou6tVCb",
              "cachedResultName": "human"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "aa6042af-187c-4326-bfe5-d46e783acdfa",
          "name": "Append or update human call",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            -2496,
            2064
          ],
          "parameters": {
            "columns": {
              "value": {
                "name": "={{ $json.name }}",
                "phone": "={{ $json.phone }}",
                "description": "={{ $json.descreption }}"
              },
              "schema": [
                {
                  "id": "name",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "phone",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "description",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "description",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "phone"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "appendOrUpdate",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 292004918,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit#gid=292004918",
              "cachedResultName": "human call"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit?usp=drivesdk",
              "cachedResultName": "CRM"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "Google Sheets account"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "9f4c7fec-7444-4b95-aa2c-0cfc70903c1c",
          "name": "Get human appointment",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -2688,
            2240
          ],
          "parameters": {
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "XICUlFpXl76eV2Dm",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/XICUlFpXl76eV2Dm",
              "cachedResultName": "appointments"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "9ae86536-5815-4b76-bc4d-e1371866bcda",
          "name": "Append or update appointment",
          "type": "n8n-nodes-base.googleSheets",
          "position": [
            -2496,
            2240
          ],
          "parameters": {
            "columns": {
              "value": {
                "day": "={{ $json.day }}",
                "date": "={{ $json.date }}",
                "name": "={{ $json.name }}",
                "time": "={{ $json.times }}",
                "phone": "={{ $json.phone }}",
                "service": "={{ $json.service }}"
              },
              "schema": [
                {
                  "id": "name",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "name",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "phone",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "date",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "date",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "time",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "time",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "day",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "day",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                },
                {
                  "id": "service",
                  "type": "string",
                  "display": true,
                  "required": false,
                  "displayName": "service",
                  "defaultMatch": false,
                  "canBeUsedToMatch": true
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [
                "phone"
              ],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "operation": "appendOrUpdate",
            "sheetName": {
              "__rl": true,
              "mode": "list",
              "value": 1977548840,
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit#gid=1977548840",
              "cachedResultName": "appointments"
            },
            "documentId": {
              "__rl": true,
              "mode": "list",
              "value": "1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q",
              "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit?usp=drivesdk",
              "cachedResultName": "CRM"
            }
          },
          "credentials": {
            "googleSheetsOAuth2Api": {
              "id": "credential-id",
              "name": "Google Sheets account"
            }
          },
          "typeVersion": 4.7
        },
        {
          "id": "7685907b-6ffe-43f2-8963-eac68e4ff6f4",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "disabled": true,
          "position": [
            -3248,
            1456
          ],
          "parameters": {
            "color": 7,
            "width": 1296,
            "height": 1168,
            "content": "## SENDING new rows to google sheet"
          },
          "typeVersion": 1
        },
        {
          "id": "5577ae1c-5d66-4905-8fa3-71d4d7d2e283",
          "name": "Booked Appointment",
          "type": "n8n-nodes-base.dataTableTool",
          "position": [
            -864,
            880
          ],
          "parameters": {
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "XICUlFpXl76eV2Dm",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/XICUlFpXl76eV2Dm",
              "cachedResultName": "appointments"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "1e612891-e43a-4153-8098-22f0326a3883",
          "name": "AI Summarizer1",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            128,
            1264
          ],
          "parameters": {
            "text": "={{ $('Format Context').item.json.formatted_output }}",
            "options": {
              "systemMessage": "=# Customer Message Analyzer\n\nAnalyze customer messages and return only JSON:\n```json\n{\"summary\": \"brief description\", \"category\": \"category_name\"}\n```\n\n## Categories\n- **appointment**: booking request\n- **pricing**: price inquiry\n- **discount**: discount request\n- **teeth_whitening**: whitening inquiry\n- **skincare**: skincare inquiry\n- **staff_request**: staff contact request\n- **out_of_scope**: unrelated topic\n\n## Instructions\n- Summary: one clear sentence describing the customer's request\n- Output: JSON only, no additional text\n- answer with the user's language "
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 2.2
        },
        {
          "id": "c0e92bbc-42cb-4a40-b403-27150e290bb2",
          "name": "Check Appointment1",
          "type": "n8n-nodes-base.if",
          "position": [
            304,
            352
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "1",
                  "operator": {
                    "type": "boolean",
                    "operation": "true",
                    "singleValue": true
                  },
                  "leftValue": "={{ $json.has_appointment }}",
                  "rightValue": "YES"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "98e8a42a-9e2c-4468-87f4-8f7b441a94d3",
          "name": "AI Data Extractor",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            -208,
            352
          ],
          "parameters": {
            "text": "={{ $json.output }}",
            "options": {
              "systemMessage": "=// System Prompt for AI Data Extractor Node\n-- today is {{ $now }}\nYou are a precise data extractor. Extract information in JSON format ONLY.\n-- **if there was no date**  return the correct date of the nearest day that was chosen. \n‚ö†Ô∏è Return ONLY valid JSON, no markdown or extra text.\n\nüìã Required Format:\n{\n  \"has_appointment\": true or false,\n  \"is_reschedule\": true or false,\n  \"needs_human\": true or false,\n  \"appointment_date\": \"YYYY-MM-DD\" or null,\n  \"appointment_day\": \"ÿßŸÑÿ£ÿ≠ÿØ/ÿßŸÑÿßÿ´ŸÜŸäŸÜ/etc\" or null,\n  \"appointment_time\": \"HH:MM\" or null,\n  \"service\": \"service name in Arabic\" or null,\n  \"lead_category\": \"only one of those booking/reschedule/pricing/discount/teeth_whitening/skin_care/ask_agent/out_of_scope/other\",\n  \"description\": \"brief description in Arabic\",\n  \"notes\": \"additional notes\" or null\n}\n\nüìù Rules:\n**has_appointment:**\n- true if booking confirmed: \"ÿ™ŸÖ ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØŸÉ\" OR \"ÿ™ŸÖ ÿ™ÿπÿØŸäŸÑ ŸÖŸàÿπÿØŸÉ\"\n- false otherwise\n\n**is_reschedule:**\n- true if customer changed existing appointment\n- false for new bookings\n\n**needs_human:**\n‚ö†Ô∏è BE VERY STRICT - only true if:\n- EXPLICIT request: \"ÿ®ÿØŸä ŸÖŸàÿ∏ŸÅ\" / \"ŸàÿØŸäŸÜŸä ÿπŸÑŸâ ÿ≠ÿØÿß\" / \"ÿ®ÿØŸä ÿ£ÿ≠ŸÉŸä ŸÖÿπ ÿ¥ÿÆÿµ\" / \"ÿßÿ™ÿµŸÑ ŸÅŸäŸÜŸä\"\n- Clear anger/frustration: cursing, multiple complaints, \"ŸÖÿ¥ ÿ±ÿßÿ∂Ÿä\" / \"ÿ≤ŸáŸÇÿ™\"\n- Medical emergency: \"Ÿàÿ¨ÿπ ÿ¥ÿØŸäÿØ\" / \"ÿ≠ÿßŸÑÿ© ÿ∑ÿßÿ±ÿ¶ÿ©\" / \"ŸÖÿ±Ÿäÿ∂ ŸÉÿ´Ÿäÿ±\"\n- Bot explicitly failed multiple times\n\n‚õî DO NOT set true for:\n- Simple questions about services\n- Asking about prices or discounts\n- General inquiries (\"ÿ¥Ÿà ÿπŸÜÿØŸÉŸÖÿü\" / \"ŸÉŸäŸÅÿü\")\n- Booking/rescheduling requests\n- Normal conversation\n\n**appointment_date/day/time/service:**\n- Extract as before\n- null if not mentioned\n\n**lead_category:**\n- \"reschedule\": if modifying existing appointment\n- \"booking\": new appointment booking\n- \"pricing\": price inquiry\n- \"discount\": discount request\n- \"teeth_whitening\": teeth whitening inquiry\n- \"skin_care\": skin care inquiry\n- \"ask_agent\": wants to speak with staff (ONLY if explicit request)\n- \"out_of_scope\": outside clinic specialty\n- \"other\": anything else\n\n**description:**\n- One sentence in Arabic\n- Examples:\n  - \"ÿßŸÑÿπŸÖŸäŸÑ ŸÇÿßŸÖ ÿ®ÿ™ÿπÿØŸäŸÑ ŸÖŸàÿπÿØŸá ŸÑÿ™ÿ®ŸäŸäÿ∂ ÿßŸÑÿ£ÿ≥ŸÜÿßŸÜ\"\n  - \"ÿ∑ŸÑÿ® ÿ™ÿ∫ŸäŸäÿ± ÿßŸÑŸÖŸàÿπÿØ ŸÖŸÜ ÿßŸÑÿ£ÿ≠ÿØ ÿ•ŸÑŸâ ÿßŸÑÿ´ŸÑÿßÿ´ÿßÿ°\"\n  - \"ÿ∑ŸÑÿ® ÿßŸÑÿ™ÿ≠ÿØÿ´ ŸÖÿπ ŸÖŸàÿ∏ŸÅ ÿ®ÿ¥ŸÉŸÑ ÿµÿ±Ÿäÿ≠\"\n\nüéØ Example - Normal Question (needs_human = FALSE):\nUser: \"ÿ¥Ÿà ÿπŸÜÿØŸÉŸÖ ÿÆÿØŸÖÿßÿ™ÿü\"\n{\n  \"has_appointment\": false,\n  \"is_reschedule\": false,\n  \"needs_human\": false,\n  \"appointment_date\": null,\n  \"appointment_day\": null,\n  \"appointment_time\": null,\n  \"service\": null,\n  \"lead_category\": \"other\",\n  \"description\": \"ÿßÿ≥ÿ™ŸÅÿ≥ÿßÿ± ÿπÿßŸÖ ÿπŸÜ ÿßŸÑÿÆÿØŸÖÿßÿ™\",\n  \"notes\": null\n}\n\nüéØ Example - Explicit Human Request (needs_human = TRUE):\nUser: \"ÿ®ÿØŸä ÿ£ÿ≠ŸÉŸä ŸÖÿπ ŸÖŸàÿ∏ŸÅ ŸÖÿ¥ ŸÖÿπŸÉ\"\n{\n  \"has_appointment\": false,\n  \"is_reschedule\": false,\n  \"needs_human\": true,\n  \"appointment_date\": null,\n  \"appointment_day\": null,\n  \"appointment_time\": null,\n  \"service\": null,\n  \"lead_category\": \"ask_agent\",\n  \"description\": \"ÿ∑ŸÑÿ® ÿµÿ±Ÿäÿ≠ ŸÑŸÑÿ™ÿ≠ÿØÿ´ ŸÖÿπ ŸÖŸàÿ∏ŸÅ\",\n  \"notes\": \"Ÿäÿ≠ÿ™ÿßÿ¨ ÿ™ÿØÿÆŸÑ ÿ®ÿ¥ÿ±Ÿä ŸÅŸàÿ±Ÿä\"\n}\n\nüéØ Example - Frustration (needs_human = TRUE):\nUser: \"Ÿäÿß ÿ≤ŸÑŸÖÿ© ŸÖÿ¥ ŸÅÿßŸáŸÖ ÿπŸÑŸäŸÉÿå ŸàÿØŸäŸÜŸä ÿπŸÑŸâ ÿ≠ÿØÿß ÿ®ŸÅŸáŸÖ\"\n{\n  \"has_appointment\": false,\n  \"is_reschedule\": false,\n  \"needs_human\": true,\n  \"appointment_date\": null,\n  \"appointment_day\": null,\n  \"appointment_time\": null,\n  \"service\": null,\n  \"lead_category\": \"ask_agent\",\n  \"description\": \"ÿ•ÿ≠ÿ®ÿßÿ∑ Ÿàÿ∑ŸÑÿ® ÿßŸÑÿ™ÿ≠ÿØÿ´ ŸÖÿπ ÿ¥ÿÆÿµ\",\n  \"notes\": \"ÿπÿØŸÖ ÿ±ÿ∂ÿß Ÿàÿßÿ∂ÿ≠\"\n}"
            },
            "promptType": "define",
            "hasOutputParser": true
          },
          "typeVersion": 2.2
        },
        {
          "id": "56670131-4402-4ae7-ad14-22f67064e4b6",
          "name": "Send via WhatsApp",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -80,
            48
          ],
          "parameters": {
            "url": "=https://graph.facebook.com/v22.0/{{ $('Format Context').item.json.wa_id }}/messages",
            "method": "POST",
            "options": {},
            "jsonBody": "={\n  \"messaging_product\": \"whatsapp\",\n  \"to\": \"{{ $('Format Context').item.json.sender }}\",\n  \"type\": \"text\",\n  \"text\":{  \"body\":{{ JSON.stringify($json.output) }}}\n}",
            "sendBody": true,
            "specifyBody": "json",
            "authentication": "genericCredentialType",
            "genericAuthType": "httpBearerAuth"
          },
          "credentials": {
            "httpBearerAuth": {
              "id": "credential-id",
              "name": "whatsapp"
            }
          },
          "typeVersion": 4
        },
        {
          "id": "44b6b15f-d026-4710-8e2a-0878df5a6aa6",
          "name": "Pinecone Vector Store",
          "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
          "position": [
            -1328,
            2016
          ],
          "parameters": {
            "mode": "insert",
            "options": {
              "pineconeNamespace": "1"
            },
            "pineconeIndex": {
              "__rl": true,
              "mode": "list",
              "value": "n8n",
              "cachedResultName": "n8n"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "4bdb5738-0c36-40cb-ae81-315d54320894",
          "name": "Default Data Loader",
          "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
          "position": [
            -1168,
            2240
          ],
          "parameters": {
            "options": {}
          },
          "typeVersion": 1
        },
        {
          "id": "d31374e1-7546-4dbb-8df8-50e88ae64338",
          "name": "Recursive Character Text Splitter",
          "type": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
          "position": [
            -1184,
            2448
          ],
          "parameters": {
            "options": {},
            "chunkOverlap": 100
          },
          "typeVersion": 1
        },
        {
          "id": "1d149211-15e0-4925-aeb7-5a946fbe24ce",
          "name": "Get a document",
          "type": "n8n-nodes-base.googleDocs",
          "position": [
            -1552,
            2016
          ],
          "parameters": {
            "operation": "get",
            "documentURL": "=https://docs.google.com/document/d/1M2VXsD_gLRDbRv8VU2S2IfnCkPl5NaPqX_QulHV-050/edit?tab=t.0"
          },
          "typeVersion": 2
        },
        {
          "id": "07700abc-c2bd-44a1-8188-3d51a4022d9e",
          "name": "When clicking ‚ÄòExecute workflow‚Äô",
          "type": "n8n-nodes-base.manualTrigger",
          "position": [
            -1744,
            2016
          ],
          "parameters": {},
          "typeVersion": 1
        },
        {
          "id": "80e81e5e-e2f0-4bbc-80dc-02dbf0b2bca4",
          "name": "Embeddings OpenAI",
          "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
          "position": [
            -1504,
            2256
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openAiApi": {
              "id": "credential-id",
              "name": "OpenAi account"
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "ffa2a0af-0af3-4466-a009-2ab4522bb72e",
          "name": "Vector Store Tool",
          "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
          "position": [
            -1248,
            976
          ],
          "parameters": {
            "name": "company_documents_tool",
            "description": "Retrieve information from any company documents"
          },
          "typeVersion": 1
        },
        {
          "id": "80bd0f37-5df9-4430-adb8-253585287dbb",
          "name": "Pinecone Vector Store (Retrieval)",
          "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
          "position": [
            -1344,
            1152
          ],
          "parameters": {
            "options": {},
            "pineconeIndex": {
              "__rl": true,
              "mode": "list",
              "value": "clinic",
              "cachedResultName": "clinic"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "e60712a2-3949-4719-8ac1-a4b218f1f192",
          "name": "Embeddings OpenAI1",
          "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
          "position": [
            -1280,
            1376
          ],
          "parameters": {
            "options": {}
          },
          "credentials": {
            "openAiApi": {
              "id": "credential-id",
              "name": "OpenAi account"
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "6b947bca-a0ec-486e-b483-f9e239987032",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -1888,
            1952
          ],
          "parameters": {
            "color": 7,
            "width": 1024,
            "height": 656,
            "content": "## RAG System\n"
          },
          "typeVersion": 1
        },
        {
          "id": "e78bf1f5-33f0-409a-901d-d7f8257e32ae",
          "name": "Verify ‚Ä¢ WA (hub.challenge)",
          "type": "n8n-nodes-base.respondToWebhook",
          "position": [
            -3824,
            272
          ],
          "parameters": {
            "options": {
              "responseCode": 200,
              "responseHeaders": {
                "entries": [
                  {
                    "name": "Content-Type",
                    "value": "text/plain"
                  }
                ]
              }
            },
            "respondWith": "text",
            "responseBody": "={{ $json.query['hub.challenge'] || 'OK' }}"
          },
          "typeVersion": 1.4
        },
        {
          "id": "e13b4e56-2078-4a94-8b6a-c3e4cd1080f5",
          "name": "filter text messages",
          "type": "n8n-nodes-base.if",
          "position": [
            -3136,
            256
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "1",
                  "operator": {
                    "type": "string",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.body.entry[0].changes[0].value.messages[0].type }}",
                  "rightValue": "text"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "f43e83f8-161b-4231-9dbc-79962676b2d5",
          "name": "If Audio",
          "type": "n8n-nodes-base.if",
          "position": [
            -3552,
            464
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "1",
                  "operator": {
                    "type": "string",
                    "operation": "equals"
                  },
                  "leftValue": "={{ $json.body.entry[0].changes[0].value.messages[0].type }}",
                  "rightValue": "audio"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "13e1d14a-d5ed-4d42-b437-ff3de78ed653",
          "name": "Get Audio",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -3328,
            448
          ],
          "parameters": {
            "url": "=https://graph.facebook.com/v22.0/{{ $('WhatsApp Webhook').item.json.body.entry[0].changes[0].value.messages[0].audio.id }}",
            "options": {},
            "authentication": "genericCredentialType",
            "genericAuthType": "httpBearerAuth"
          },
          "credentials": {
            "httpBearerAuth": {
              "id": "credential-id",
              "name": "whatsapp"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "8e96d4bb-2210-44c6-a28d-6bcb780bf1f9",
          "name": "Download Audio",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -3136,
            448
          ],
          "parameters": {
            "url": "={{$json.url}}",
            "options": {},
            "authentication": "genericCredentialType",
            "genericAuthType": "httpBearerAuth"
          },
          "credentials": {
            "httpBearerAuth": {
              "id": "credential-id",
              "name": "whatsapp"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "1da24395-e5e2-4b21-8629-11a63baab66f",
          "name": "Transcribe Audio",
          "type": "@n8n/n8n-nodes-langchain.openAi",
          "position": [
            -2928,
            448
          ],
          "parameters": {
            "options": {
              "language": "ar",
              "temperature": 0.6
            },
            "resource": "audio",
            "operation": "transcribe"
          },
          "credentials": {
            "openAiApi": {
              "id": "credential-id",
              "name": "OpenAi account"
            }
          },
          "typeVersion": 1.8
        },
        {
          "id": "1ebf7b18-abb1-44cf-8638-36dca9cf28c5",
          "name": "If Image",
          "type": "n8n-nodes-base.if",
          "position": [
            -3536,
            704
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "1",
                  "operator": {
                    "type": "string",
                    "operation": "contains"
                  },
                  "leftValue": "={{ $json.body.entry[0].changes[0].value.messages[0].image.mime_type }}",
                  "rightValue": "image"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "2105b13a-d511-4626-bc32-019d94e63749",
          "name": "If Video/PDF",
          "type": "n8n-nodes-base.if",
          "position": [
            -3520,
            880
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "or",
              "conditions": [
                {
                  "id": "1",
                  "operator": {
                    "type": "string",
                    "operation": "contains"
                  },
                  "leftValue": "={{ $json.body.entry[0].changes[0].value.messages[0].document.mime_type }}",
                  "rightValue": "application"
                },
                {
                  "id": "a584f702-7224-400b-85ff-eeff8eca35b3",
                  "operator": {
                    "type": "string",
                    "operation": "contains"
                  },
                  "leftValue": "={{ $json.body.entry[0].changes[0].value.messages[0].document.mime_type }}",
                  "rightValue": "video"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "0d717c38-68da-47a7-a79f-7caac828e8aa",
          "name": "Get Image",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -3296,
            688
          ],
          "parameters": {
            "url": "=https://graph.facebook.com/v22.0/{{ $('WhatsApp Webhook').item.json.body.entry[0].changes[0].value.messages[0].image.id }}",
            "options": {},
            "authentication": "genericCredentialType",
            "genericAuthType": "httpBearerAuth"
          },
          "credentials": {
            "httpBearerAuth": {
              "id": "credential-id",
              "name": "whatsapp"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "1f019d11-f137-4fce-983e-8940de919d2b",
          "name": "Download Image",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -3072,
            688
          ],
          "parameters": {
            "url": "={{$json.url}}",
            "options": {},
            "authentication": "genericCredentialType",
            "genericAuthType": "httpBearerAuth"
          },
          "credentials": {
            "httpBearerAuth": {
              "id": "credential-id",
              "name": "whatsapp"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "4c2cf8bd-065a-4320-8e79-770d7cc9e4c2",
          "name": "Get file",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -3296,
            864
          ],
          "parameters": {
            "url": "=https://graph.facebook.com/v22.0/{{ $('WhatsApp Webhook').item.json.body.entry[0].changes[0].value.messages[0].document.id }}",
            "options": {},
            "authentication": "genericCredentialType",
            "genericAuthType": "httpBearerAuth"
          },
          "credentials": {
            "httpBearerAuth": {
              "id": "credential-id",
              "name": "whatsapp"
            }
          },
          "typeVersion": 4.2
        },
        {
          "id": "b6ebf3af-7914-4962-84d5-a883507b3111",
          "name": "Download file",
          "type": "n8n-nodes-base.httpRequest",
          "position": [
            -3088,
            864
          ],
          "parameters": {
            "url": "={{$json.url}}",
            "options": {},
            "authentication": "genericCredentialType",
            "genericAuthType": "=httpBearerAuth"
          },
          "typeVersion": 4.2
        },
        {
          "id": "2d8c8b15-7149-4904-8368-b2c04423001b",
          "name": "Prepare Email With Attachment",
          "type": "n8n-nodes-base.code",
          "position": [
            -2864,
            864
          ],
          "parameters": {
            "jsCode": "// ÿßŸÇÿ±ÿ£ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸàŸêÿ®ŸáŸàŸÉ ŸàÿßŸÑŸÄ input\nconst webhookData = $('WhatsApp Webhook').first().json;\nconst firstItem = $input.first();\n\nconst name = webhookData.body?.entry?.[0]?.changes?.[0]?.value?.contacts?.[0]?.profile?.name || \"\";\nconst phone = webhookData.body?.entry?.[0]?.changes?.[0]?.value?.contacts?.[0]?.wa_id || firstItem.json.phone || \"\";\n\n// ŸÑŸà ŸÅŸäŸá binary ÿ¨ÿßŸáÿ≤ ŸÖŸÜ ÿπŸÇÿØÿ© ÿ≥ÿßÿ®ŸÇÿ©ÿå ÿÆÿ∞Ÿá\nconst bin = firstItem.binary || {};\nconst binaryKey = Object.keys(bin)[0] || \"\"; // ŸÖÿ´ÿßŸÑ: \"file\" ÿ£Ÿà \"data\"\nif (!name || !phone || !binaryKey) {\n  throw new Error(\"ŸÖÿ∑ŸÑŸàÿ® name Ÿà phone Ÿà ŸÖŸÑŸÅ binary ŸÖŸÜ ÿßŸÑÿπŸÇÿØÿ© ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©.\");\n}\n\nconst subject = \"ÿ•ÿ¥ÿπÿßÿ± ÿ™ŸàÿßÿµŸÑ ÿ¨ÿØŸäÿØ\";\nconst html = `\n<!doctype html>\n<html lang=\"ar\" dir=\"rtl\">\n<head>\n  <meta charset=\"utf-8\"><title>${subject}</title>\n  <style>\n    body { background:#e8f3ff; direction:rtl; text-align:right; font-family:'Segoe UI',Roboto,Helvetica,Arial,sans-serif; margin:0; padding:0; }\n    .container { max-width:600px; margin:24px auto; background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 4px 16px rgba(13,71,161,0.15); }\n    .header { background:linear-gradient(135deg,#0D47A1,#00B894); padding:20px; color:#fff; }\n    .content { padding:24px; }\n    .row { margin:0 0 12px 0; }\n    .label { color:#0D47A1; font-weight:600; }\n    .footer { background:#f7fafc; padding:16px; font-size:12px; color:#555; border-top:1px solid #e9eef8; }\n    .brand { color:#0D47A1; font-weight:600; }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"header\">\n      <h2 style=\"margin:0;\">${subject}</h2>\n      <p style=\"margin:6px 0 0 0;\">ŸÑŸÇÿØ ÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ ŸÖŸÜ ŸÖŸàŸÇÿπŸÉ</p>\n    </div>\n    <div class=\"content\">\n      <p class=\"row\"><span class=\"label\">ÿßŸÑÿßÿ≥ŸÖ:</span> ${name}</p>\n      <p class=\"row\"><span class=\"label\">ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ:</span> ${phone}</p>\n      <p class=\"row\">ÿßŸÑŸÖÿ±ŸÅŸÇ ÿ™ŸÖ ÿ•ÿ±ŸÅÿßŸÇŸá ŸÖÿπ Ÿáÿ∞ÿß ÿßŸÑÿ®ÿ±ŸäÿØ.</p>\n    </div>\n    <div class=\"footer\">\n      ÿ™ŸÖ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿ®Ÿàÿßÿ≥ÿ∑ÿ© <span class=\"brand\">ÿ™ŸàÿßÿµŸÑ ÿßŸÑÿπŸäÿßÿØÿßÿ™</span>\n    </div>\n  </div>\n</body>\n</html>\n`;\n\n// ÿ±ÿ¨Ÿëÿπ ŸÜŸÅÿ≥ ÿßŸÑŸÄ binary ÿ≠ÿ™Ÿâ ŸäŸÑÿ™ŸÇÿ∑Ÿá Email node ŸÉŸÖÿ±ŸÅŸÇ\nreturn [\n  {\n    json: { subject, html },\n    binary: { [binaryKey]: bin[binaryKey] },\n  },\n];\n"
          },
          "typeVersion": 2
        },
        {
          "id": "f197f696-3c15-4bdf-aa64-15a87523b055",
          "name": "Send Email with attachment",
          "type": "n8n-nodes-base.gmail",
          "position": [
            -2640,
            864
          ],
          "webhookId": "35edc50d-638d-421b-8883-aad79dd8d8a1",
          "parameters": {
            "sendTo": "user@example.com",
            "message": "={{ $json.html }}",
            "options": {
              "attachmentsUi": {
                "attachmentsBinary": [
                  {}
                ]
              }
            },
            "subject": "ŸáŸÜÿßŸÉ ÿπŸÖŸäŸÑ ÿ£ÿ±ÿ≥ŸÑ ŸÖŸÑŸÅ "
          },
          "credentials": {
            "gmailOAuth2": {
              "id": "credential-id",
              "name": "Gmail account"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "49ed334f-d0dd-43ac-90aa-0ad08d9f6ead",
          "name": "Edit Fields",
          "type": "n8n-nodes-base.set",
          "position": [
            -2640,
            688
          ],
          "parameters": {
            "options": {},
            "assignments": {
              "assignments": [
                {
                  "id": "05294dc6-587a-4631-b03a-395ffad76a89",
                  "name": "text",
                  "type": "string",
                  "value": "=image description:  {{ $json.content }}\nuser's message: {{ $('WhatsApp Webhook').item.json.body.entry[0].changes[0].value.messages[0].image.caption }}"
                }
              ]
            }
          },
          "typeVersion": 3.4
        },
        {
          "id": "4055776e-6283-472a-bfbc-374ad20cc555",
          "name": "Analyze image",
          "type": "@n8n/n8n-nodes-langchain.openAi",
          "position": [
            -2848,
            688
          ],
          "parameters": {
            "text": "Here is an image sent by the user. Describe the image and transcribe any text visible in the image.",
            "modelId": {
              "__rl": true,
              "mode": "list",
              "value": "gpt-4o-mini",
              "cachedResultName": "GPT-4O-MINI"
            },
            "options": {
              "maxTokens": 50
            },
            "resource": "image",
            "inputType": "=base64",
            "operation": "analyze"
          },
          "credentials": {
            "openAiApi": {
              "id": "credential-id",
              "name": "OpenAi account"
            }
          },
          "typeVersion": 1.8
        },
        {
          "id": "98fa0d1d-cea9-4f2f-a8dc-4cd997ebb1ce",
          "name": "Prepare Text Data",
          "type": "n8n-nodes-base.code",
          "position": [
            -2112,
            576
          ],
          "parameters": {
            "jsCode": "const items = $input.all();\n\n// Get phone number from webhook\nconst phoneNumber = $('WhatsApp Webhook').first().json.body.entry[0].changes[0].value.messages[0].from || '';\n\n// Try to get text from different sources\nlet textFromWhisper;\nlet textFromWebhook;\nlet textFromImage;\n\n// 1. Try to get transcribed voice from Whisper\ntry {\n  textFromWhisper = $('Transcribe Audio').first().json.text;\n  console.log('Voice text found:', textFromWhisper);\n} catch (e) {\n  textFromWhisper = undefined;\n}\n\n// 2. Try to get regular text message from webhook\ntry {\n  textFromWebhook = $('WhatsApp Webhook').first().json.body.entry[0].changes[0].value.messages[0].text.body;\n  console.log('Text message found:', textFromWebhook);\n} catch (e) {\n  textFromWebhook = undefined;\n}\n\n// 3. Try to get image analysis from Edit Fields node\ntry {\n  textFromImage = $('Edit Fields').first().json.text;\n  console.log('Image analysis found:', textFromImage);\n} catch (e) {\n  textFromImage = undefined;\n}\n\n// Combine all available text sources\n// Priority: voice > image > text message\nlet finalText = textFromWhisper || textFromImage || textFromWebhook || '';\n\n// Add source indicator for debugging\nlet source = '';\nif (textFromWhisper) {\n  source = 'voice';\n} else if (textFromImage) {\n  source = 'image';\n} else if (textFromWebhook) {\n  source = 'text';\n}\n\nconsole.log('Final text source:', source);\nconsole.log('Final text:', finalText);\n\nreturn items.map(item => {\n  return {\n    json: {\n      phone: phoneNumber,\n      text: finalText,\n      source: source, // ŸÑŸÑŸÖÿπÿ±ŸÅÿ© ŸÖŸÜ ŸàŸäŸÜ ÿ¨ÿßŸä ÿßŸÑŸÜÿµ\n      timestamp: new Date().toISOString()\n    }\n  };\n});"
          },
          "typeVersion": 2
        },
        {
          "id": "4f37fbd4-21f2-4f31-ae58-8774cf8c21bc",
          "name": "Insert Row Memory",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -1920,
            576
          ],
          "parameters": {
            "columns": {
              "value": {
                "phone": "={{ $('WhatsApp Webhook').item.json.body.entry[0].changes[0].value.contacts[0].wa_id }}",
                "sender": "={{ $json.text }}"
              },
              "schema": [
                {
                  "id": "sender",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "sender",
                  "defaultMatch": false
                },
                {
                  "id": "reciever",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "readOnly": false,
                  "required": false,
                  "displayName": "reciever",
                  "defaultMatch": false
                },
                {
                  "id": "phone",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "l6biIqkSE1qLJvaZ",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/l6biIqkSE1qLJvaZ",
              "cachedResultName": "test table"
            }
          },
          "executeOnce": true,
          "typeVersion": 1,
          "alwaysOutputData": true
        },
        {
          "id": "3ed7200b-b2d4-490c-b26d-92fbebc6c607",
          "name": "Get History",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -1728,
            576
          ],
          "parameters": {
            "filters": {
              "conditions": [
                {
                  "keyName": "phone",
                  "keyValue": "={{ $('Prepare Text Data').item.json.phone }}"
                }
              ]
            },
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "l6biIqkSE1qLJvaZ",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/l6biIqkSE1qLJvaZ",
              "cachedResultName": "test table"
            }
          },
          "executeOnce": true,
          "typeVersion": 1,
          "alwaysOutputData": true
        },
        {
          "id": "5f0569e7-dde9-41ed-9b16-544a7b7013b8",
          "name": "Format Context",
          "type": "n8n-nodes-base.code",
          "position": [
            -1360,
            576
          ],
          "parameters": {
            "jsCode": "// ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©\nconst jsText = $('Prepare Text Data').first().json.text || '';\nconst phoneNumber = $('Prepare Text Data').first().json.phone || '';\nconst wa_id = $('WhatsApp Webhook').item.json.body.entry[0].changes[0].value.metadata.phone_number_id;\nconst name = $('WhatsApp Webhook').first().json.body.entry[0].changes[0].value.contacts[0].profile.name;\n\n// Get available slots\nlet availableSlots = [];\ntry {\n  const slotsData = $('Get Slots1').all();\n  console.log('Get Slots1 data:', JSON.stringify(slotsData.map(s => s.json)));\n  \n  availableSlots = slotsData.map(slot => {\n    console.log('Slot structure:', Object.keys(slot.json));\n    \n    const date = slot.json['ÿßŸÑÿ™ÿßÿ±ŸäÿÆ (A)'] || slot.json.date || slot.json.ÿßŸÑÿ™ÿßÿ±ŸäÿÆ || '';\n    const time = slot.json['ÿßŸÑŸàŸÇÿ™ (B)'] || slot.json.time || slot.json.ÿßŸÑŸàŸÇÿ™ || '';\n    const service = slot.json['ÿßŸÑÿÆÿØŸÖÿ© (C)'] || slot.json.service || slot.json.ÿßŸÑÿÆÿØŸÖÿ© || '';\n    \n    return `${date} - ${time} (${service})`;\n  });\n  \n  console.log('Available slots formatted:', availableSlots);\n} catch (e) {\n  console.error('Error fetching slots:', e.message);\n  availableSlots = [];\n}\n\n// Get existing appointments for this customer\nlet existingAppointments = [];\ntry {\n  const appointmentsData = $('Get appointment1').all();\n  console.log('Get History1 appointments:', appointmentsData.length);\n  \n  existingAppointments = appointmentsData.map(apt => {\n    console.log('Appointment structure:', Object.keys(apt.json));\n    \n    const date = apt.json.date || '';\n    const time = apt.json.times || apt.json.time || '';\n    const service = apt.json.service || '';\n    const name = apt.json.name || '';\n    \n    return `${date} at ${time} - ${service} (${name})`;\n  });\n  \n  console.log('Existing appointments formatted:', existingAppointments);\n} catch (e) {\n  console.error('Error fetching existing appointments:', e.message);\n  existingAppointments = [];\n}\n\n// Format conversation history from Get History1\nlet formattedHistory = '';\nlet historyCount = 0;\ntry {\n  const historyData = $('Get History').all().slice(0, 10);\n  historyCount = historyData.length;\n  console.log('Get History1 data:', historyCount);\n  \n  formattedHistory = historyData.map(entry => {\n    const createdAt = entry.json.createdAt || '';\n    const aiResponse = entry.json.reciever || entry.json.ai || '';\n    const userMessage = entry.json.sender || entry.json.user || '';\n    \n    // Format timestamp as yyyy-mm-dd:HH:MM\n    let formattedTime = '';\n    if (createdAt) {\n      const date = new Date(createdAt);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n      formattedTime = `${year}-${month}-${day}:${hours}:${minutes}`;\n    }\n    \n    return `( ${formattedTime}, ai: ${aiResponse}, user: ${userMessage})`;\n  }).join('\\n');\n  \n  console.log('Formatted history:', formattedHistory);\n} catch (e) {\n  console.error('Error formatting history:', e.message);\n  formattedHistory = '';\n  historyCount = 0;\n}\n\n// ‚ö†Ô∏è FIX: Get ALL user appointments and format them\nlet userAppointments = '';\nlet userAppointmentsCount = 0;\ntry {\n  const userAppts = $input.all(); // Get ALL appointments\n  userAppointmentsCount = userAppts.length;\n  \n  if (userAppointmentsCount > 0) {\n    userAppointments = userAppts.map((apt, index) => {\n      const aptName = apt.json.name || '';\n      const aptService = apt.json.service || '';\n      const aptDate = apt.json.date ? apt.json.date.split('T')[0] : '';\n      const aptDay = apt.json.day || '';\n      const aptTime = apt.json.times || '';\n      \n      return `\nŸÖŸàÿπÿØ ${index + 1}:\nÿßŸÑÿßÿ≥ŸÖ: ${aptName}\nÿßŸÑÿÆÿØŸÖÿ©: ${aptService}\nüìÖ ÿßŸÑÿ™ÿßÿ±ŸäÿÆ: ${aptDate} | ${aptDay}\nüïê ÿßŸÑŸàŸÇÿ™: ${aptTime}`;\n    }).join('\\n---\\n');\n  } else {\n    userAppointments = 'ŸÑÿß ŸäŸàÿ¨ÿØ ŸÖŸàÿßÿπŸäÿØ ŸÖÿ≠ÿ¨Ÿàÿ≤ÿ© ÿ≠ÿßŸÑŸäÿßŸã';\n  }\n  \n  console.log('User appointments formatted:', userAppointments);\n} catch (e) {\n  console.error('Error fetching user appointments:', e.message);\n  userAppointments = 'ŸÑÿß ŸäŸàÿ¨ÿØ ŸÖŸàÿßÿπŸäÿØ ŸÖÿ≠ÿ¨Ÿàÿ≤ÿ© ÿ≠ÿßŸÑŸäÿßŸã';\n  userAppointmentsCount = 0;\n}\nlet type = $('Prepare Text Data').first().json.source;\nlet users_id = $('Insert Row Memory').first().json.id;\n\nconst result = {\n  sender: phoneNumber,\n  text: jsText,\n  available_slots: availableSlots.join('\\n'), \n  available_slots_count: availableSlots.length,\n  existing_appointments: existingAppointments.join('\\n'),\n  existing_appointments_count: existingAppointments.length,\n  formatted_output: formattedHistory,\n  history_count: historyCount,\n  name,\n  wa_id,\n  users_appointments: userAppointments, // ‚úÖ All appointments formatted\n  users_appointments_count: userAppointmentsCount, // ‚úÖ Count of appointments\n  users_id,\n  type\n};\n\nconsole.log('Final output:', JSON.stringify(result, null, 2));\n\nreturn [\n  {\n    json: result\n  }\n];\n"
          },
          "executeOnce": true,
          "typeVersion": 2,
          "alwaysOutputData": true
        },
        {
          "id": "ac272c74-a855-4a88-ae47-71b12ef39ab2",
          "name": "Main AI Agent",
          "type": "@n8n/n8n-nodes-langchain.agent",
          "position": [
            -1120,
            576
          ],
          "parameters": {
            "text": "={{ $json.text }}",
            "options": {
              "systemMessage": "=## Medical Clinic Bot\nToday: {{ $now }}\nUser: {{ $json.name }} ({{ $json.sender }})\n\n## Knowledge source:\n\n- Use the **Pinecone vector store** to answer anything about the clinic (services, policies, offers, location, doctors, instructions, etc.).\n-Always use this Memory/last conversations:\n{{ $json.formatted_output }}\n----\nSlots:\n{{ $json.available_slots }}\n-----\nAppointments:\n{{ $json.users_appointments }}\n-----\n\nRules: Arabic only, no markdown, verify data, 2-digit time (12=twelve), different services for multiple bookings\nImportant Rule:\n--- you do not invent dates, think twice before makeing up a date make sure it is correct \n\n-ÿ™ŸÇÿØŸÖ ÿ´ŸÑÿßÿ´ ÿÆÿØŸÖÿßÿ™, feller, ÿπŸÜÿßŸäÿ© ÿ®ÿßŸÑÿ®ÿ¥ÿ±ÿ©, ÿ™ÿ®ŸäŸäÿ∂ ÿ£ÿ≥ŸÜÿßŸÜ\n\nBooking: ÿ™ŸÖ ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØŸÉ! ‚úÖ üìÖ [date]|[day] üïê [time] üíâ [service]\nReschedule: ÿ™ŸÖ ÿ™ÿπÿØŸäŸÑ ŸÖŸàÿπÿØŸÉ üìÖ [date]|[day] üïê [time] üíâ [service]\n\n## IMPORTANT: if image is equal to  {{ $json.type }} then answer with a short answer of the image and user message if existed"
            },
            "promptType": "=define",
            "hasOutputParser": true
          },
          "executeOnce": true,
          "typeVersion": 2.2
        },
        {
          "id": "7ff93428-5292-47ec-8084-c56bd2ccd6ec",
          "name": "Simple Memory",
          "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
          "position": [
            -1264,
            784
          ],
          "parameters": {
            "sessionKey": "={{ $json.sender }}",
            "sessionIdType": "customKey",
            "contextWindowLength": 1
          },
          "typeVersion": 1.3
        },
        {
          "id": "bc33c7ae-22a5-417f-bc02-e4e59cc96eb6",
          "name": "save appointment - different service",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            1024,
            320
          ],
          "parameters": {
            "columns": {
              "value": {
                "day": "={{ $json.appointment_day }}",
                "date": "={{ $json.appointment_date }}",
                "name": "={{ $('Output Format Text').item.json.customer_name }}",
                "phone": "={{ $json.phone }}",
                "times": "={{ $json.appointment_time }}",
                "service": "={{ $json.service }}"
              },
              "schema": [
                {
                  "id": "name",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "name",
                  "defaultMatch": false
                },
                {
                  "id": "phone",
                  "type": "number",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false
                },
                {
                  "id": "date",
                  "type": "dateTime",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "date",
                  "defaultMatch": false
                },
                {
                  "id": "day",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "day",
                  "defaultMatch": false
                },
                {
                  "id": "service",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "service",
                  "defaultMatch": false
                },
                {
                  "id": "times",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "times",
                  "defaultMatch": false
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "XICUlFpXl76eV2Dm",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/XICUlFpXl76eV2Dm",
              "cachedResultName": "appointments"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "96690897-ea79-4060-b288-f532b516a0af",
          "name": "Sticky Note4",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -4688,
            96
          ],
          "parameters": {
            "width": 480,
            "height": 704,
            "content": "## üè•ü§ñ Medical Clinic WhatsApp Agent + CRM Sync\n\nThis workflow receives WhatsApp Cloud API messages via a Webhook and processes them based on message type (üìù Text / üéôÔ∏è Audio / üñºÔ∏è Image / üìé Document).  \nFor audio messages üéôÔ∏è, it downloads the media and transcribes it into Arabic text (Whisper).  \nFor images üñºÔ∏è, it downloads the image and analyzes it to describe the content and extract any visible text (Vision).  \nFor documents/PDFs üìé, it downloads the file and sends a Gmail notification ‚úâÔ∏è to staff with the attachment.\n\nAfter normalizing the final customer text (üéôÔ∏è voice > üñºÔ∏è image > üìù text), the workflow builds a structured context üß† that includes customer data üë§, recent conversation history üí¨ (memory), the customer‚Äôs upcoming appointments üìÖ, and available booking slots üïê. The message is then sent to the Main AI Agent ü§ñ (Arabic only üá∏üá¶/üáØüá¥), with RAG enabled üìö using Pinecone üå≤ to answer clinic-related questions from uploaded clinic documents (Google Docs).\n\nThe AI response is sent back to the customer via WhatsApp ‚úÖ. In parallel, a strict JSON extractor üßæ parses key fields (booking/reschedule details, service üíâ, date/time ‚è∞, lead category üß≤, and human escalation üßë‚Äç‚öïÔ∏è). If `needs_human` is true üö®, the workflow emails staff ‚úâÔ∏è and stores the case in a ‚Äúhuman‚Äù queue table üì•.  \nA scheduled sync ‚è≤Ô∏è (every 1 minute) updates a Google Sheets CRM üìä from n8n Data Tables (slots/leads/human/appointments).\n\n**Requirements:** WhatsApp Cloud API token üîë + phone_number_id üì±, Gmail ‚úâÔ∏è + Google Sheets üìä credentials, Pinecone üå≤ index/namespace, and the referenced n8n Data Tables üóÇÔ∏è.\n"
          },
          "typeVersion": 1
        },
        {
          "id": "e5d403fa-47d3-4d8f-a4f5-96c7feb21782",
          "name": "Sticky Note6",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -4016,
            48
          ],
          "parameters": {
            "color": 7,
            "width": 400,
            "height": 208,
            "content": "## Section 1 ‚Äî Webhook & Verification\nReceives WhatsApp webhooks, responds to `hub.challenge` verification, and routes incoming messages by type.\n"
          },
          "typeVersion": 1
        },
        {
          "id": "ad430754-6c6a-4838-ad0e-52b3d367977d",
          "name": "Sticky Note7",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -368,
            -256
          ],
          "parameters": {
            "color": 7,
            "width": 1552,
            "height": 752,
            "content": "## Section 5 ‚Äî Extraction + Appointment Save\n\n- **AI Data Extractor**: reads the agent output and extracts strict JSON fields (date/day/time/service, booking vs reschedule, needs_human, lead_category).\n- **Code in JavaScript1**: parses the JSON safely, enriches it with customer metadata (phone/name/timestamps), and normalizes YES/NO flags.\n- **Check Appointment1**: routes only when `has_appointment = true`.\n- **save appointment - same service (upsert)**: updates/creates an appointment row matched by `(phone + service)` so each service has its own record.\n- **If Appointment is ready**: compares the new service vs previous/checked service; if different, allows creating another booking record.\n- **save appointment - different service (insert)**: inserts a new appointment row for an additional service (separate from existing one).\n\n"
          },
          "typeVersion": 1
        },
        {
          "id": "82315f3e-7edb-4ece-a709-2dc2b12782ac",
          "name": "Sticky Note10",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -384,
            736
          ],
          "parameters": {
            "color": 7,
            "width": 1568,
            "height": 736,
            "content": "## Section 6 ‚Äî Leads + Human Escalation + Logging\n\n- **Get leads**: fetches existing lead rows for this phone to prevent duplicates.\n- **Check if Lead**: decides if a new lead should be created (based on existence/conditions).\n- **AI Summarizer1**: produces compact JSON `{summary, category}` for the customer message.\n- **Format output**: parses/cleans the summarizer JSON and outputs `summary` + `category`.\n- **Insert Lead**: stores the lead with `short_sum`, `lead_category`, and customer identity.\n- **Check Human is called**: routes only when `needs_human = true`.\n- **Send Email Notification If Human is called**: emails staff with the customer details (HTML template).\n- **Add row for Human Call (upsert)**: upserts the request into the ‚Äúhuman‚Äù queue table keyed by phone.\n- **Update Row**: writes the final AI reply back into the conversation/memory table row (stores receiver text).\n- **Send via WhatsApp**: sends the final reply to the customer through WhatsApp Cloud A"
          },
          "typeVersion": 1
        },
        {
          "id": "378909c2-d5e4-42eb-9272-07885946c4c3",
          "name": "Sticky Note2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -2336,
            320
          ],
          "parameters": {
            "color": 7,
            "width": 1152,
            "height": 400,
            "content": "## Section 3 ‚Äî Memory & Context Builder\n\n- **Prepare Text Data (Code):** merges message sources into `finalText` (voice ‚Üí image ‚Üí text) + adds `phone`, `source`, `timestamp`.\n- **Insert Row Memory (Data Table):** saves the incoming message (`phone`, `sender = finalText`) to the memory table.\n- **Get History (Data Table):** pulls recent messages for the same `phone` for short-term context.\n- **Get only users appointment (Data Table):** fetches upcoming appointments for that `phone` (`date >= now`).\n- **Format Context (Code):** builds one AI-ready JSON (last 10 messages + upcoming appointments + `name`, `wa_id`, `users_id`, `type`).\n"
          },
          "typeVersion": 1
        },
        {
          "id": "323bf31d-8d4d-486a-b5b9-0e2934be1f2c",
          "name": "Sticky Note3",
          "type": "n8n-nodes-base.stickyNote",
          "disabled": true,
          "position": [
            -3888,
            1456
          ],
          "parameters": {
            "color": 7,
            "width": 624,
            "height": 240,
            "content": "## Section 7 ‚Äî CRM Sync to Google Sheets\nScheduled job that syncs n8n Data Tables (slots/leads/human/appointments) into a Google Sheets CRM every minute.\n\nFollow this like for the google sheets sheet: https://docs.google.com/spreadsheets/d/1HCl3CvMnzILIrcjnFK-AwLqWuKfMwezM1yXWkJ4KG9Q/edit?usp=sharing\n\n\n"
          },
          "typeVersion": 1
        },
        {
          "id": "bd14901c-b388-48b7-9d23-229494a98d78",
          "name": "Sticky Note8",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -3584,
            -96
          ],
          "parameters": {
            "color": 6,
            "width": 1088,
            "height": 1152,
            "content": "## Section 2 ‚Äî Media Handling (Audio / Image / File)\nFetches media metadata from Graph API, downloads files, transcribes audio, analyzes images, and emails staff when a document/PDF is received.\n\n- Detects message type and routes:\n  - üìù Text ‚Üí Normalize text\n  - üéôÔ∏è Audio ‚Üí Download + Transcribe\n  - üñºÔ∏è Image ‚Üí Download + Analyze\n  - üìé Document/PDF ‚Üí Download + Email staff\n\n**Nodes:** `filter text messages`, `If Audio`, `If Image`, `If Video/PDF`\n"
          },
          "typeVersion": 1
        },
        {
          "id": "fe6c6619-55d4-4ad5-8eb1-2f6bfb1816da",
          "name": "Sticky Note11",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -848,
            1952
          ],
          "parameters": {
            "color": 7,
            "width": 400,
            "height": 192,
            "content": "## Section 8 ‚Äî RAG Knowledge Base (Manual Run)\nLoads a Google Doc, splits it into chunks, generates embeddings, and inserts them into Pinecone for retrieval (RAG).\n"
          },
          "typeVersion": 1
        },
        {
          "id": "d4396a87-8377-4f3f-9628-791ed648e6f4",
          "name": "Sticky Note12",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -1952,
            800
          ],
          "parameters": {
            "color": 6,
            "width": 624,
            "height": 416,
            "content": "## Section 4 ‚Äî AI Agent + Tools (RAG + Appointments + Memory)\n\n- **OpenAI Chat Model**: the LLM that powers the agent responses.\n- **Main AI Agent**: orchestrates the conversation, enforces rules, and decides when to call tools.\n- **Simple Memory**: keeps a tiny per-user context window (`sender` as session key).\n- **Tools**\n  - **Vector Store Tool**: retrieves answers from stored documents (RAG).\n  - **Booked Appointment**: reads appointments from the Data Table for booking/reschedule checks.\n- **Embeddings OpenAI**: embeddings configuration used by the vector retrieval layer (when enabled).\n"
          },
          "typeVersion": 1
        },
        {
          "id": "da9b02bf-731c-40aa-a518-d3cef220f116",
          "name": "WhatsApp Webhook",
          "type": "n8n-nodes-base.webhook",
          "position": [
            -4096,
            528
          ],
          "webhookId": "clinic-bot-webhook",
          "parameters": {
            "path": "whatsapp",
            "options": {},
            "responseMode": "responseNode",
            "multipleMethods": true
          },
          "typeVersion": 2.1
        },
        {
          "id": "c2e8fd84-9286-4f9e-8387-910e400f96d7",
          "name": "Get only users appointment",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -1520,
            576
          ],
          "parameters": {
            "filters": {
              "conditions": [
                {
                  "keyName": "date",
                  "keyValue": "={{ $now.toISO() }}",
                  "condition": "gte"
                },
                {
                  "keyName": "phone",
                  "keyValue": "={{ $json.phone }}"
                }
              ]
            },
            "matchType": "allConditions",
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "XICUlFpXl76eV2Dm",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/XICUlFpXl76eV2Dm",
              "cachedResultName": "appointments"
            }
          },
          "executeOnce": true,
          "typeVersion": 1,
          "alwaysOutputData": true
        },
        {
          "id": "a436cab9-3496-4c75-8943-2b48df24c9a9",
          "name": "Get leads",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -320,
            1280
          ],
          "parameters": {
            "filters": {
              "conditions": [
                {
                  "keyName": "phone",
                  "keyValue": "={{ $('Format Context').item.json.sender }}"
                }
              ]
            },
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "16bAoJicIDEPak46",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/16bAoJicIDEPak46",
              "cachedResultName": "leads"
            }
          },
          "typeVersion": 1,
          "alwaysOutputData": true
        },
        {
          "id": "75465bfb-f042-4d82-bf84-a4b316188926",
          "name": "Send Email Notification If Human is called",
          "type": "n8n-nodes-base.gmail",
          "position": [
            176,
            1072
          ],
          "webhookId": "35edc50d-638d-421b-8883-aad79dd8d8a1",
          "parameters": {
            "sendTo": "user@example.com",
            "message": "=<!doctype html>\n<html lang=\"ar\" dir=\"rtl\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"x-apple-disable-message-reformatting\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <title>ÿ•ÿ¥ÿπÿßÿ± ÿ¨ÿØŸäÿØ</title>\n  <style>\n    body, table, td, p { margin:0; padding:0; }\n    img { border:0; line-height:100%; outline:none; text-decoration:none; }\n    table { border-collapse:collapse; }\n    body { background:#e8f3ff; direction:rtl; text-align:right; font-family:'Segoe UI',Roboto,Helvetica,Arial,sans-serif; }\n    .wrap { width:100%; background:#e8f3ff; }\n    .container { width:100%; max-width:600px; background:#ffffff; border-radius:16px; overflow:hidden; box-shadow:0 6px 24px rgba(13,71,161,0.15); text-align:right; }\n    .p-32 { padding:32px 12px; }\n    .p-card { padding:28px; }\n    .header { background:linear-gradient(135deg,#0D47A1 0%,#00B894 100%); padding:24px; text-align:right; }\n    .h1 { margin:0; font-size:22px; line-height:1.3; color:#ffffff; text-align:right; }\n    .muted { margin:6px 0 0 0; font-size:13px; color:#e3f7ff; opacity:0.9; text-align:right; }\n    .text { font-size:15px; line-height:1.6; color:#0f172a; text-align:right; }\n    .small { font-size:12px; color:#64748b; text-align:right; }\n    .info { width:100%; border-collapse:separate; border-spacing:0 10px; }\n    .key { width:160px; padding:12px 14px; font-size:13px; font-weight:600; border-radius:0 12px 12px 0; border:1px solid; border-left:0; vertical-align:top; background:#f1f8ff; text-align:right; }\n    .val { padding:12px 14px; font-size:14px; color:#0f172a; background:#fff; border-radius:12px 0 0 12px; border:1px solid; border-right:0; vertical-align:top; text-align:right; }\n    .key-blue { background:#f1f8ff; color:#0D47A1; border-color:#d7e7ff; }\n    .val-blue { border-color:#d7e7ff; }\n    .key-green { background:#eefcf6; color:#007f67; border-color:#ccefe2; }\n    .val-green { border-color:#ccefe2; }\n    .desc { padding:14px; line-height:1.7; text-align:right; }\n    .hr { border:none; border-top:1px solid #e6eefc; margin:26px 0; }\n    .btn { display:inline-block; padding:12px 18px; font-size:14px; color:#ffffff; text-decoration:none; background:#00B894; border-radius:10px; text-align:center; }\n    .foot { background:#f7fafc; border-top:1px solid #e9eef8; padding:16px 24px; text-align:right; }\n    .brand { color:#0D47A1; font-weight:600; }\n    @media (prefers-color-scheme: dark) {\n      body { background:#0b1220; }\n      .wrap { background:#0b1220; }\n      .container { background:#0f172a; color:#e5e7eb; }\n      .text { color:#e5e7eb; }\n      .small { color:#94a3b8; }\n    }\n  </style>\n</head>\n<body>\n  <div style=\"display:none;max-height:0;overflow:hidden;opacity:0;color:transparent;\">\n    ÿ•ÿ¥ÿπÿßÿ± ÿ¨ÿØŸäÿØ ŸÖŸÜ ŸÜŸÖŸàÿ∞ÿ¨ ŸÖŸàŸÇÿπŸÉÿå Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿßŸÑÿßÿ≥ŸÖÿå ÿßŸÑŸáÿßÿ™ŸÅÿå ŸàÿßŸÑŸàÿµŸÅ.\n  </div>\n\n  <table role=\"presentation\" class=\"wrap\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n    <tr>\n      <td align=\"center\" class=\"p-32\">\n        <table role=\"presentation\" class=\"container\" width=\"600\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n          <tr>\n            <td class=\"header\">\n              <h1 class=\"h1\">ÿ•ÿ¥ÿπÿßÿ± ÿ™ŸàÿßÿµŸÑ ÿ¨ÿØŸäÿØ</h1>\n              <p class=\"muted\">ŸÑŸÇÿØ ÿßÿ≥ÿ™ŸÇÿ®ŸÑÿ™ ÿ±ÿ≥ÿßŸÑÿ© ÿ¨ÿØŸäÿØÿ© ŸÖŸÜ ŸÜŸÖŸàÿ∞ÿ¨ ŸÖŸàŸÇÿπŸÉ</p>\n            </td>\n          </tr>\n\n          <tr>\n            <td class=\"p-card\">\n              <p class=\"text\">ŸÖÿ±ÿ≠ÿ®ÿßŸãÿå ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØÿå ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ ÿ£ÿØŸÜÿßŸá:</p>\n\n              <table role=\"presentation\" class=\"info\">\n                <tr>\n\n                  <td class=\"val val-blue\">{{ $json.customer_name }}</td>\n                  <td class=\"key key-blue\">ÿßŸÑÿßÿ≥ŸÖ</td>\n                </tr>\n                <tr>\n                  \n                  <td class=\"val val-green\">\n                    <a style=\"color:#0D47A1; text-decoration:none; border-bottom:1px dotted #0D47A1;\">\n                      {{ $json.phone }}\n                    </a>\n                  </td>\n<td class=\"key key-green\">ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ</td>\n                </tr>\n                <tr>\n\n                  <td class=\"val val-blue desc\">{{ $json.description }}</td>\n                  <td class=\"key key-blue\">ÿßŸÑŸàÿµŸÅ</td>\n\n                </tr>\n\n              </table>\n\n              <hr class=\"hr\">\n\n              <a class=\"btn\" href=\"{{VIEW_LINK}}\">ÿπÿ±ÿ∂ ŸÅŸä ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ</a>\n\n              <p class=\"small\" style=\"margin-top:18px;\">ÿ•ÿ∞ÿß ŸÑŸÖ ÿ™ŸÉŸÜ ÿ™ÿ™ŸàŸÇÿπ Ÿáÿ∞Ÿá ÿßŸÑÿ±ÿ≥ÿßŸÑÿ©ÿå ŸäŸÖŸÉŸÜŸÉ ÿ™ÿ¨ÿßŸáŸÑŸáÿß ÿ®ÿ£ŸÖÿßŸÜ.</p>\n            </td>\n          </tr>\n\n          <tr>\n            <td class=\"foot\">\n              <table role=\"presentation\" width=\"100%\">\n                <tr>\n                  <td class=\"small\">ÿ™ŸÖ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿ®Ÿàÿßÿ≥ÿ∑ÿ© <span class=\"brand\">ÿ™ŸàÿßÿµŸÑ ÿßŸÑÿπŸäÿßÿØÿßÿ™</span></td>\n                  <td align=\"left\">\n                    <a href=\"{{UNSUBSCRIBE_LINK}}\" class=\"small\" style=\"color:#00B894; text-decoration:none;\">ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉ</a>\n                  </td>\n                </tr>\n              </table>\n            </td>\n          </tr>\n\n        </table>\n      </td>\n    </tr>\n  </table>\n</body>\n</html>\n",
            "options": {},
            "subject": "ŸáŸÜÿßŸÉ ÿπŸÖŸäŸÑ Ÿäÿ≠ÿ™ÿßÿßÿ¨ ÿ™ŸàÿßÿµŸÑ ÿ®ÿ¥ÿ±Ÿä "
          },
          "credentials": {
            "gmailOAuth2": {
              "id": "credential-id",
              "name": "Gmail account"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "fd2b5e7e-fed0-4157-94c4-f2c92fe324f5",
          "name": "Add row for Human Call",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            384,
            1072
          ],
          "parameters": {
            "columns": {
              "value": {
                "name": "={{ $('Output Format Text').item.json.customer_name }}",
                "phone": "={{ $('Output Format Text').item.json.phone }}"
              },
              "schema": [
                {
                  "id": "name",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "name",
                  "defaultMatch": false
                },
                {
                  "id": "phone",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false
                },
                {
                  "id": "descreption",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "readOnly": false,
                  "required": false,
                  "displayName": "descreption",
                  "defaultMatch": false
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "filters": {
              "conditions": [
                {
                  "keyName": "phone",
                  "keyValue": "={{ $('Output Format Text').item.json.phone }}"
                }
              ]
            },
            "options": {},
            "operation": "upsert",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "ygicufEiNou6tVCb",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/ygicufEiNou6tVCb",
              "cachedResultName": "human"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "f7b05031-28df-4e57-8974-a79adbe55168",
          "name": "If Appointment is ready",
          "type": "n8n-nodes-base.if",
          "position": [
            752,
            336
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "2266b20d-675a-4443-87d0-04e550575d2f",
                  "operator": {
                    "type": "string",
                    "operation": "notEquals"
                  },
                  "leftValue": "={{ $('Output Format Text').item.json.service }}",
                  "rightValue": "={{ $('Check Appointment1').item.json.service }}"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "a7599be1-1a29-4fe8-b051-adb3b4792450",
          "name": "save appointment - same service",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            592,
            336
          ],
          "parameters": {
            "columns": {
              "value": {
                "day": "={{ $json.appointment_day }}",
                "date": "={{ $json.appointment_date }}",
                "name": "={{ $('Output Format Text').item.json.customer_name }}",
                "phone": "={{ $json.phone }}",
                "times": "={{ $json.appointment_time }}",
                "service": "={{ $json.service }}"
              },
              "schema": [
                {
                  "id": "name",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "name",
                  "defaultMatch": false
                },
                {
                  "id": "phone",
                  "type": "number",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false
                },
                {
                  "id": "date",
                  "type": "dateTime",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "date",
                  "defaultMatch": false
                },
                {
                  "id": "day",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "day",
                  "defaultMatch": false
                },
                {
                  "id": "service",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "service",
                  "defaultMatch": false
                },
                {
                  "id": "times",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "times",
                  "defaultMatch": false
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "filters": {
              "conditions": [
                {
                  "keyName": "phone",
                  "keyValue": "={{ $json.phone }}"
                },
                {
                  "keyName": "service",
                  "keyValue": "={{ $json.service }}"
                }
              ]
            },
            "options": {},
            "matchType": "allConditions",
            "operation": "upsert",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "XICUlFpXl76eV2Dm",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/XICUlFpXl76eV2Dm",
              "cachedResultName": "appointments"
            }
          },
          "typeVersion": 1,
          "alwaysOutputData": true
        },
        {
          "id": "3de13584-3543-4ffc-9d3d-8a07bb9c0180",
          "name": "Check Human is called",
          "type": "n8n-nodes-base.if",
          "position": [
            -48,
            1088
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "7119e222-a2a0-4fdb-930f-eb16877c448e",
                  "operator": {
                    "type": "boolean",
                    "operation": "true",
                    "singleValue": true
                  },
                  "leftValue": "={{ $json.needs_human }}",
                  "rightValue": "YES"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "a903f878-9619-4f5e-8b6a-cd2d5cd6dd81",
          "name": "Check if Lead",
          "type": "n8n-nodes-base.if",
          "position": [
            -112,
            1280
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "ebc66b41-b8e2-4dc8-83e9-12f3e7593c6d",
                  "operator": {
                    "type": "string",
                    "operation": "notExists",
                    "singleValue": true
                  },
                  "leftValue": "={{ $json.name }}",
                  "rightValue": "={{ $('Format Context').item.json.sender.toNumber() }}"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "8b4f5ac0-4358-47df-a009-7f7c14c219a0",
          "name": "Insert Lead",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            624,
            1264
          ],
          "parameters": {
            "columns": {
              "value": {
                "name": "={{ $('Format Context').item.json.name }}",
                "phone": "={{ $('Format Context').item.json.sender }}",
                "short_sum": "={{ $json.summary }}",
                "lead_category": "={{ $json.category }}"
              },
              "schema": [
                {
                  "id": "name",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "name",
                  "defaultMatch": false
                },
                {
                  "id": "phone",
                  "type": "number",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false
                },
                {
                  "id": "lead_category",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "lead_category",
                  "defaultMatch": false
                },
                {
                  "id": "short_sum",
                  "type": "string",
                  "display": true,
                  "removed": false,
                  "readOnly": false,
                  "required": false,
                  "displayName": "short_sum",
                  "defaultMatch": false
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "options": {},
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "16bAoJicIDEPak46",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/16bAoJicIDEPak46",
              "cachedResultName": "leads"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "314743b6-dd00-46e6-b7bc-25f5f994312b",
          "name": "Update Row",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -80,
            192
          ],
          "parameters": {
            "columns": {
              "value": {},
              "schema": [
                {
                  "id": "sender",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "readOnly": false,
                  "required": false,
                  "displayName": "sender",
                  "defaultMatch": false
                },
                {
                  "id": "reciever",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "readOnly": false,
                  "required": false,
                  "displayName": "reciever",
                  "defaultMatch": false
                },
                {
                  "id": "phone",
                  "type": "string",
                  "display": true,
                  "removed": true,
                  "readOnly": false,
                  "required": false,
                  "displayName": "phone",
                  "defaultMatch": false
                }
              ],
              "mappingMode": "defineBelow",
              "matchingColumns": [],
              "attemptToConvertTypes": false,
              "convertFieldsToString": false
            },
            "filters": {
              "conditions": [
                {
                  "keyValue": "={{ $('Format Context').item.json.users_id }}"
                }
              ]
            },
            "options": {},
            "operation": "upsert",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "l6biIqkSE1qLJvaZ",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/l6biIqkSE1qLJvaZ",
              "cachedResultName": "test table"
            }
          },
          "typeVersion": 1,
          "alwaysOutputData": true
        },
        {
          "id": "d514e95e-b150-4291-8a6c-f93abfcb871a",
          "name": "OpenAI Chat Model",
          "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
          "position": [
            -704,
            1232
          ],
          "parameters": {
            "model": {
              "__rl": true,
              "mode": "list",
              "value": "gpt-4o-mini",
              "cachedResultName": "gpt-4o-mini"
            },
            "options": {}
          },
          "credentials": {
            "openAiApi": {
              "id": "credential-id",
              "name": "OpenAi account"
            }
          },
          "typeVersion": 1.2
        },
        {
          "id": "2c70c555-a008-4e5b-a955-5ddd78ffd054",
          "name": "Output Format Text",
          "type": "n8n-nodes-base.code",
          "position": [
            80,
            352
          ],
          "parameters": {
            "jsCode": "// Parse JSON from AI Data Extractor and add metadata\nconst raw = $input.first().json.output || '{}';\nconst phone = $('Format Context').first().json.sender || '';\nconst name = $('Format Context').first().json.name || '';\n\nlet data;\n\ntry {\n  // Try parsing as-is first\n  data = typeof raw === 'object' ? raw : JSON.parse(raw);\n} catch (e) {\n  // Clean and retry if initial parse fails\n  try {\n    let cleaned = raw\n      .replace(/```json\\n?/g, '')\n      .replace(/```\\n?/g, '')\n      .trim();\n    \n    // Extract JSON object\n    const jsonMatch = cleaned.match(/\\{[\\s\\S]*\\}/);\n    cleaned = jsonMatch ? jsonMatch[0] : cleaned;\n    \n    data = JSON.parse(cleaned);\n  } catch (e2) {\n    // Fallback to default structure\n    console.error('JSON parse failed:', e2.message);\n    console.error('Raw input:', raw);\n    \n    data = {\n      has_appointment: false,\n      is_reschedule: false,\n      needs_human: false,\n      appointment_date: null,\n      appointment_day: null,\n      appointment_time: null,\n      service: null,\n      lead_category: 'other',\n      description: 'ŸÅÿ¥ŸÑ ŸÅŸä ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™',\n      notes: 'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ±ÿØ'\n    };\n  }\n}\n\n// Enrich with metadata\nconst enrichedData = {\n  ...data,\n  phone,\n  customer_name: name,\n  created_at: new Date().toISOString(),\n  has_appointment_text: data.has_appointment ? 'YES' : 'NO',\n  is_reschedule_text: data.is_reschedule ? 'YES' : 'NO',\n  needs_human_text: data.needs_human ? 'YES' : 'NO'\n};\n\n// Replace null/undefined with empty strings\nObject.keys(enrichedData).forEach(key => {\n  if (enrichedData[key] === null || enrichedData[key] === undefined) {\n    enrichedData[key] = '';\n  }\n});\n\nconsole.log('Enriched data:', JSON.stringify(enrichedData, null, 2));\n\nreturn [{ json: enrichedData }];"
          },
          "typeVersion": 2
        },
        {
          "id": "06ff90e2-b5bd-46aa-9d31-78bed0257dba",
          "name": "Format output",
          "type": "n8n-nodes-base.code",
          "position": [
            432,
            1264
          ],
          "parameters": {
            "jsCode": "// Split into two separate message outputs\nconst input = $input.first().json;\nlet response = input.output || input.text || input.response || input;\n\nconsole.log('Raw input:', JSON.stringify(input, null, 2));\n\ntry {\n  if (typeof response === 'object' && response !== null && (response.summary || response.category)) {\n    // Return as single output with both fields\n    return {\n      json: {\n        summary: response.summary || \"\",\n        category: response.category || \"\"\n      }\n    };\n  }\n  \n  if (typeof response === 'string') {\n    response = response.replace(/```json\\n?/g, '').replace(/```\\n?/g, '').trim();\n    const data = JSON.parse(response);\n    \n    return {\n      json: {\n        summary: data.summary || \"\",\n        category: data.category || \"\"\n      }\n    };\n  }\n  \n  throw new Error('Unexpected response format');\n  \n} catch (error) {\n  console.error('Parse error:', error.message);\n  return {\n    json: {\n      summary: \"Error parsing response\",\n      category: \"error\"\n    }\n  };\n}"
          },
          "typeVersion": 2
        },
        {
          "id": "505865d1-a9bd-40a9-90bb-246de0e44704",
          "name": "Get slots",
          "type": "n8n-nodes-base.dataTable",
          "position": [
            -2704,
            1696
          ],
          "parameters": {
            "operation": "get",
            "dataTableId": {
              "__rl": true,
              "mode": "list",
              "value": "DySLjqEPX2i5RBdj",
              "cachedResultUrl": "/projects/0WLzulivX2ChGmk8/datatables/DySLjqEPX2i5RBdj",
              "cachedResultName": "slots"
            }
          },
          "typeVersion": 1
        }
      ],
      "pinData": {},
      "connections": {
        "Get file": {
          "main": [
            [
              {
                "node": "Download file",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get lead": {
          "main": [
            [
              {
                "node": "Append or update lead",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "If Audio": {
          "main": [
            [
              {
                "node": "Get Audio",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "If Image": {
          "main": [
            [
              {
                "node": "Get Image",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get Audio": {
          "main": [
            [
              {
                "node": "Download Audio",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get Image": {
          "main": [
            [
              {
                "node": "Download Image",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get leads": {
          "main": [
            [
              {
                "node": "Check if Lead",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get slots": {
          "main": [
            [
              {
                "node": "Append or update slot",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Edit Fields": {
          "main": [
            [
              {
                "node": "Prepare Text Data",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get History": {
          "main": [
            [
              {
                "node": "Get only users appointment",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "If Video/PDF": {
          "main": [
            [
              {
                "node": "Get file",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Analyze image": {
          "main": [
            [
              {
                "node": "Edit Fields",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check if Lead": {
          "main": [
            [
              {
                "node": "AI Summarizer1",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Download file": {
          "main": [
            [
              {
                "node": "Prepare Email With Attachment",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Format output": {
          "main": [
            [
              {
                "node": "Insert Lead",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Main AI Agent": {
          "main": [
            [
              {
                "node": "Send via WhatsApp",
                "type": "main",
                "index": 0
              },
              {
                "node": "Update Row",
                "type": "main",
                "index": 0
              },
              {
                "node": "AI Data Extractor",
                "type": "main",
                "index": 0
              },
              {
                "node": "Get leads",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Simple Memory": {
          "ai_memory": [
            [
              {
                "node": "Main AI Agent",
                "type": "ai_memory",
                "index": 0
              }
            ]
          ]
        },
        "AI Summarizer1": {
          "main": [
            [
              {
                "node": "Format output",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Download Audio": {
          "main": [
            [
              {
                "node": "Transcribe Audio",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Download Image": {
          "main": [
            [
              {
                "node": "Analyze image",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Format Context": {
          "main": [
            [
              {
                "node": "Main AI Agent",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get a document": {
          "main": [
            [
              {
                "node": "Pinecone Vector Store",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get human call": {
          "main": [
            [
              {
                "node": "Append or update human call",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Schedule Trigger": {
          "main": [
            [
              {
                "node": "Get slots",
                "type": "main",
                "index": 0
              },
              {
                "node": "Get lead",
                "type": "main",
                "index": 0
              },
              {
                "node": "Get human call",
                "type": "main",
                "index": 0
              },
              {
                "node": "Get human appointment",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Transcribe Audio": {
          "main": [
            [
              {
                "node": "Prepare Text Data",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "WhatsApp Webhook": {
          "main": [
            [
              {
                "node": "Verify ‚Ä¢ WA (hub.challenge)",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "If Audio",
                "type": "main",
                "index": 0
              },
              {
                "node": "filter text messages",
                "type": "main",
                "index": 0
              },
              {
                "node": "If Image",
                "type": "main",
                "index": 0
              },
              {
                "node": "If Video/PDF",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "AI Data Extractor": {
          "main": [
            [
              {
                "node": "Output Format Text",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Embeddings OpenAI": {
          "ai_embedding": [
            [
              {
                "node": "Pinecone Vector Store",
                "type": "ai_embedding",
                "index": 0
              }
            ]
          ]
        },
        "Insert Row Memory": {
          "main": [
            [
              {
                "node": "Get History",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "OpenAI Chat Model": {
          "ai_languageModel": [
            [
              {
                "node": "AI Summarizer1",
                "type": "ai_languageModel",
                "index": 0
              },
              {
                "node": "AI Data Extractor",
                "type": "ai_languageModel",
                "index": 0
              },
              {
                "node": "Main AI Agent",
                "type": "ai_languageModel",
                "index": 0
              },
              {
                "node": "Vector Store Tool",
                "type": "ai_languageModel",
                "index": 0
              }
            ]
          ]
        },
        "Prepare Text Data": {
          "main": [
            [
              {
                "node": "Insert Row Memory",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Vector Store Tool": {
          "ai_tool": [
            [
              {
                "node": "Main AI Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Booked Appointment": {
          "ai_tool": [
            [
              {
                "node": "Main AI Agent",
                "type": "ai_tool",
                "index": 0
              }
            ]
          ]
        },
        "Check Appointment1": {
          "main": [
            [
              {
                "node": "save appointment - same service",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Embeddings OpenAI1": {
          "ai_embedding": [
            [
              {
                "node": "Pinecone Vector Store (Retrieval)",
                "type": "ai_embedding",
                "index": 0
              }
            ]
          ]
        },
        "Output Format Text": {
          "main": [
            [
              {
                "node": "Check Appointment1",
                "type": "main",
                "index": 0
              },
              {
                "node": "Check Human is called",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Default Data Loader": {
          "ai_document": [
            [
              {
                "node": "Pinecone Vector Store",
                "type": "ai_document",
                "index": 0
              }
            ]
          ]
        },
        "filter text messages": {
          "main": [
            [
              {
                "node": "Prepare Text Data",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Check Human is called": {
          "main": [
            [
              {
                "node": "Send Email Notification If Human is called",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get human appointment": {
          "main": [
            [
              {
                "node": "Append or update appointment",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "If Appointment is ready": {
          "main": [
            [
              {
                "node": "save appointment - different service",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Get only users appointment": {
          "main": [
            [
              {
                "node": "Format Context",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Prepare Email With Attachment": {
          "main": [
            [
              {
                "node": "Send Email with attachment",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "save appointment - same service": {
          "main": [
            [
              {
                "node": "If Appointment is ready",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Pinecone Vector Store (Retrieval)": {
          "ai_vectorStore": [
            [
              {
                "node": "Vector Store Tool",
                "type": "ai_vectorStore",
                "index": 0
              }
            ]
          ]
        },
        "Recursive Character Text Splitter": {
          "ai_textSplitter": [
            [
              {
                "node": "Default Data Loader",
                "type": "ai_textSplitter",
                "index": 0
              }
            ]
          ]
        },
        "When clicking ‚ÄòExecute workflow‚Äô": {
          "main": [
            [
              {
                "node": "Get a document",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Send Email Notification If Human is called": {
          "main": [
            [
              {
                "node": "Add row for Human Call",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 1,
    "workflowInfo": {
      "nodeCount": 71,
      "nodeTypes": {
        "n8n-nodes-base.if": {
          "count": 8
        },
        "n8n-nodes-base.set": {
          "count": 1
        },
        "n8n-nodes-base.code": {
          "count": 5
        },
        "n8n-nodes-base.gmail": {
          "count": 2
        },
        "n8n-nodes-base.webhook": {
          "count": 1
        },
        "n8n-nodes-base.dataTable": {
          "count": 13
        },
        "n8n-nodes-base.googleDocs": {
          "count": 1
        },
        "n8n-nodes-base.stickyNote": {
          "count": 11
        },
        "n8n-nodes-base.httpRequest": {
          "count": 7
        },
        "n8n-nodes-base.googleSheets": {
          "count": 4
        },
        "n8n-nodes-base.dataTableTool": {
          "count": 1
        },
        "n8n-nodes-base.manualTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.agent": {
          "count": 3
        },
        "n8n-nodes-base.scheduleTrigger": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.openAi": {
          "count": 2
        },
        "n8n-nodes-base.respondToWebhook": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.lmChatOpenAi": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.toolVectorStore": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.embeddingsOpenAi": {
          "count": 2
        },
        "@n8n/n8n-nodes-langchain.memoryBufferWindow": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.vectorStorePinecone": {
          "count": 2
        },
        "@n8n/n8n-nodes-langchain.documentDefaultDataLoader": {
          "count": 1
        },
        "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter": {
          "count": 1
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Mira Melhem",
      "username": "melhem",
      "bio": "",
      "verified": false,
      "links": [
        "https://jobotai.site/"
      ],
      "avatar": "https://gravatar.com/avatar/314fc0a056c4374a2b7e71f0ecd16feedea47f6cb173dbf75f18b549316e091c?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 18,
        "icon": "file:googleSheets.svg",
        "name": "n8n-nodes-base.googleSheets",
        "codex": {
          "data": {
            "alias": [
              "CSV",
              "Sheet",
              "Spreadsheet",
              "GS"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/love-at-first-sight-ricardos-n8n-journey/",
                  "icon": "‚ù§Ô∏è",
                  "label": "Love at first sight: Ricardo‚Äôs n8n journey"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "üß¨",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "üßæ",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                  "icon": "üé´",
                  "label": "Supercharging your conference registration process with n8n"
                },
                {
                  "url": "https://n8n.io/blog/creating-triggers-for-n8n-workflows-using-polling/",
                  "icon": "‚è≤",
                  "label": "Creating triggers for n8n workflows using polling"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/migrating-community-metrics-to-orbit-using-n8n/",
                  "icon": "üìà",
                  "label": "Migrating Community Metrics to Orbit using n8n"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                  "icon": " üñ•Ô∏è",
                  "label": "Hey founders! Your business doesn't need you to operate"
                },
                {
                  "url": "https://n8n.io/blog/how-honest-burgers-use-automation-to-save-100k-per-year/",
                  "icon": "üçî",
                  "label": "How Honest Burgers Use Automation to Save $100k per year"
                },
                {
                  "url": "https://n8n.io/blog/how-a-digital-strategist-uses-n8n-for-online-marketing/",
                  "icon": "üíª",
                  "label": "How a digital strategist uses n8n for online marketing"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "üôå",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "üìà",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googlesheets/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
                }
              ]
            },
            "categories": [
              "Data & Storage",
              "Productivity"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"input\",\"output\"]",
        "defaults": {
          "name": "Google Sheets"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNS42OSAxIDUyIDE3LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0OC4yOTMgNjBIMTIuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDkgNTYuMzEyVjQuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTIuNzA3IDF6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM1LjY5IDEgNTIgMTcuMjI1SDM5LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzkuMjExIDE3LjIyNSA1MiAyMi40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTIwLjEyIDMxLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMS42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzEuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjxwYXRoIGZpbGw9IiMyOEI0NDYiIGQ9Ik0zNC42OSAwIDUxIDE2LjIyNXYzOS4wODdhMy42NyAzLjY3IDAgMCAxLTEuMDg0IDIuNjFBMy43IDMuNyAwIDAgMSA0Ny4yOTMgNTlIMTEuNzA3YTMuNyAzLjcgMCAwIDEtMi42MjMtMS4wNzhBMy42NyAzLjY3IDAgMCAxIDggNTUuMzEyVjMuNjg4YTMuNjcgMy42NyAwIDAgMSAxLjA4NC0yLjYxQTMuNyAzLjcgMCAwIDEgMTEuNzA3IDB6Ii8+PHBhdGggZmlsbD0iIzZBQ0U3QyIgZD0iTTM0LjY5IDAgNTEgMTYuMjI1SDM4LjM5N2MtMi4wNTQgMC0zLjcwNy0xLjgyOS0zLjcwNy0zLjg3MnoiLz48cGF0aCBmaWxsPSIjMjE5QjM4IiBkPSJNMzguMjExIDE2LjIyNSA1MSAyMS40OHYtNS4yNTV6Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTE5LjEyIDMwLjk3NWMwLS44MTcuNjYyLTEuNDc1IDEuNDgzLTEuNDc1aDE3Ljc5NGMuODIxIDAgMS40ODIuNjU4IDEuNDgyIDEuNDc1djE1LjQ4N2MwIC44MTgtLjY2MSAxLjQ3NS0xLjQ4MiAxLjQ3NUgyMC42MDNhMS40NzYgMS40NzYgMCAwIDEtMS40ODItMS40NzRWMzAuOTc0em0yLjIyNSAxLjQ3NWg2LjY3MnYyLjIxMmgtNi42NzJ6bTAgNS4xNjJoNi42NzJ2Mi4yMTNoLTYuNjcyem0wIDUuMTYzaDYuNjcydjIuMjEyaC02LjY3MnptOS42MzgtMTAuMzI1aDYuNjcydjIuMjEyaC02LjY3MnptMCA1LjE2Mmg2LjY3MnYyLjIxM2gtNi42NzJ6bTAgNS4xNjNoNi42NzJ2Mi4yMTJoLTYuNjcyeiIvPjwvZz48L3N2Zz4="
        },
        "displayName": "Google Sheets",
        "typeVersion": 5,
        "nodeCategories": [
          {
            "id": 3,
            "name": "Data & Storage"
          },
          {
            "id": 4,
            "name": "Productivity"
          }
        ]
      },
      {
        "id": 19,
        "icon": "file:httprequest.svg",
        "name": "n8n-nodes-base.httpRequest",
        "codex": {
          "data": {
            "alias": [
              "API",
              "Request",
              "URL",
              "Build",
              "cURL"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "‚òÄÔ∏è",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "üß¨",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "üìà",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                  "icon": "‚úçÔ∏è",
                  "label": "Learn how to automatically cross-post your content with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "üßæ",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                  "icon": "üõ≥",
                  "label": "Running n8n on ships: An interview with Maranics"
                },
                {
                  "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                  "icon": " ü™¢",
                  "label": "What are APIs and how to use them with no code"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "‚ö°Ô∏è",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/world-poetry-day-workflow/",
                  "icon": "üìú",
                  "label": "Celebrating World Poetry Day with a daily poem in Telegram"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automate-designs-with-bannerbear-and-n8n/",
                  "icon": "üé®",
                  "label": "Automate Designs with Bannerbear and n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "üì±",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ü§ñ",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-to-use-the-http-request-node-the-swiss-army-knife-for-workflow-automation/",
                  "icon": "üß∞",
                  "label": "How to use the HTTP Request Node - The Swiss Army Knife for Workflow Automation"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                  "icon": "ü¶Ñ",
                  "label": "Learn how to use webhooks with Mattermost slash commands"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "üìà",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "üìà",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "üé°",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/automations-for-activists/",
                  "icon": "‚ú®",
                  "label": "How Common Knowledge use workflow automation for activism"
                },
                {
                  "url": "https://n8n.io/blog/creating-scheduled-text-affirmations-with-n8n/",
                  "icon": "ü§ü",
                  "label": "Creating scheduled text affirmations with n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "üõµ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.httprequest/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "HTTP Request",
          "color": "#0004F5"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MCAyMEM0MCA4Ljk1MzE0IDMxLjA0NjkgMCAyMCAwQzguOTUzMTQgMCAwIDguOTUzMTQgMCAyMEMwIDMxLjA0NjkgOC45NTMxNCA0MCAyMCA0MEMzMS4wNDY5IDQwIDQwIDMxLjA0NjkgNDAgMjBaTTIwIDM2Ljk0NThDMTguODg1MiAzNi45NDU4IDE3LjEzNzggMzUuOTY3IDE1LjQ5OTggMzIuNjk4NUMxNC43OTY0IDMxLjI5MTggMTQuMTk2MSAyOS41NDMxIDEzLjc1MjYgMjcuNjg0N0gyNi4xODk4QzI1LjgwNDUgMjkuNTQwMyAyNS4yMDQ0IDMxLjI5MDEgMjQuNTAwMiAzMi42OTg1QzIyLjg2MjIgMzUuOTY3IDIxLjExNDggMzYuOTQ1OCAyMCAzNi45NDU4Wk0xMi45MDY0IDIwQzEyLjkwNjQgMjEuNjA5NyAxMy4wMDg3IDIzLjE2NCAxMy4yMDAzIDI0LjYzMDVIMjYuNzk5N0MyNi45OTEzIDIzLjE2NCAyNy4wOTM2IDIxLjYwOTcgMjcuMDkzNiAyMEMyNy4wOTM2IDE4LjM5MDMgMjYuOTkxMyAxNi44MzYgMjYuNzk5NyAxNS4zNjk1SDEzLjIwMDNDMTMuMDA4NyAxNi44MzYgMTIuOTA2NCAxOC4zOTAzIDEyLjkwNjQgMjBaTTIwIDMuMDU0MTlDMjEuMTE0OSAzLjA1NDE5IDIyLjg2MjIgNC4wMzA3OCAyNC41MDAxIDcuMzAwMzlDMjUuMjA2NiA4LjcxNDA4IDI1LjgwNzIgMTAuNDA2NyAyNi4xOTIgMTIuMzE1M0gxMy43NTAxQzE0LjE5MzMgMTAuNDA0NyAxNC43OTQyIDguNzEyNTQgMTUuNDk5OCA3LjMwMDY0QzE3LjEzNzcgNC4wMzA4MyAxOC44ODUxIDMuMDU0MTkgMjAgMy4wNTQxOVpNMzAuMTQ3OCAyMEMzMC4xNDc4IDE4LjQwOTkgMzAuMDU0MyAxNi44NjE3IDI5LjgyMjcgMTUuMzY5NUgzNi4zMDQyQzM2LjcyNTIgMTYuODQyIDM2Ljk0NTggMTguMzk2NCAzNi45NDU4IDIwQzM2Ljk0NTggMjEuNjAzNiAzNi43MjUyIDIzLjE1OCAzNi4zMDQyIDI0LjYzMDVIMjkuODIyN0MzMC4wNTQzIDIzLjEzODMgMzAuMTQ3OCAyMS41OTAxIDMwLjE0NzggMjBaTTI2LjI3NjcgNC4yNTUxMkMyNy42MzY1IDYuMzYwMTkgMjguNzExIDkuMTMyIDI5LjM3NzQgMTIuMzE1M0gzNS4xMDQ2QzMzLjI1MTEgOC42NjggMzAuMTA3IDUuNzgzNDYgMjYuMjc2NyA0LjI1NTEyWk0xMC42MjI2IDEyLjMxNTNINC44OTI5M0M2Ljc1MTQ3IDguNjY3ODQgOS44OTM1MSA1Ljc4MzQxIDEzLjcyMzIgNC4yNTUxM0MxMi4zNjM1IDYuMzYwMjEgMTEuMjg5IDkuMTMyMDEgMTAuNjIyNiAxMi4zMTUzWk0zLjA1NDE5IDIwQzMuMDU0MTkgMjEuNjAzIDMuMjc3NDMgMjMuMTU3NSAzLjY5NDg0IDI0LjYzMDVIMTAuMTIxN0M5Ljk0NjE5IDIzLjE0MiA5Ljg1MjIyIDIxLjU5NDMgOS44NTIyMiAyMEM5Ljg1MjIyIDE4LjQwNTcgOS45NDYxOSAxNi44NTggMTAuMTIxNyAxNS4zNjk1SDMuNjk0ODRDMy4yNzc0MyAxNi44NDI1IDMuMDU0MTkgMTguMzk3IDMuMDU0MTkgMjBaTTI2LjI3NjYgMzUuNzQyN0MyNy42MzY1IDMzLjYzOTMgMjguNzExIDMwLjg2OCAyOS4zNzc0IDI3LjY4NDdIMzUuMTA0NkMzMy4yNTEgMzEuMzMyMiAzMC4xMDY4IDM0LjIxNzkgMjYuMjc2NiAzNS43NDI3Wk0xMy43MjM0IDM1Ljc0MjdDOS44OTM2OSAzNC4yMTc5IDYuNzUxNTUgMzEuMzMyNCA0Ljg5MjkzIDI3LjY4NDdIMTAuNjIyNkMxMS4yODkgMzAuODY4IDEyLjM2MzUgMzMuNjM5MyAxMy43MjM0IDM1Ljc0MjdaIiBmaWxsPSIjM0E0MkU5Ii8+Cjwvc3ZnPgo="
        },
        "displayName": "HTTP Request",
        "typeVersion": 4,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 20,
        "icon": "fa:map-signs",
        "name": "n8n-nodes-base.if",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "üè≠",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "‚òÄÔ∏è",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "üß¨",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                  "icon": "ü§¨",
                  "label": "Create a toxic language detector for Telegram in 4 step"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "üîó",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "‚öôÔ∏è",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "üë•",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "‚ö°Ô∏è",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                  "icon": "üè∑Ô∏è",
                  "label": "How to automatically manage contributions to open-source projects"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ü§ñ",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "üôå",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "üé°",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "üéñ",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "If",
          "color": "#408000"
        },
        "iconData": {
          "icon": "map-signs",
          "type": "icon"
        },
        "displayName": "If",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 38,
        "icon": "fa:pen",
        "name": "n8n-nodes-base.set",
        "codex": {
          "data": {
            "alias": [
              "Set",
              "JS",
              "JSON",
              "Filter",
              "Transform",
              "Map"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "üè≠",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "‚òÄÔ∏è",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-pulling-and-visualizing-data-with-n8n/",
                  "icon": "üìà",
                  "label": "Automatically pulling and visualizing data with n8n"
                },
                {
                  "url": "https://n8n.io/blog/database-monitoring-and-alerting-with-n8n/",
                  "icon": "üì°",
                  "label": "Database Monitoring and Alerting with n8n"
                },
                {
                  "url": "https://n8n.io/blog/automatically-adding-expense-receipts-to-google-sheets-with-telegram-mindee-twilio-and-n8n/",
                  "icon": "üßæ",
                  "label": "Automatically Adding Expense Receipts to Google Sheets with Telegram, Mindee, Twilio, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "üîó",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "‚öôÔ∏è",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "üë•",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "‚ö°Ô∏è",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/building-an-expense-tracking-app-in-10-minutes/",
                  "icon": "üì±",
                  "label": "Building an expense tracking app in 10 minutes"
                },
                {
                  "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                  "icon": "üìπ",
                  "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ü§ñ",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                  "icon": "üß∞",
                  "label": "Learn to Build Powerful API Endpoints Using Webhooks"
                },
                {
                  "url": "https://n8n.io/blog/how-a-membership-development-manager-automates-his-work-and-investments/",
                  "icon": "üìà",
                  "label": "How a Membership Development Manager automates his work and investments"
                },
                {
                  "url": "https://n8n.io/blog/a-low-code-bitcoin-ticker-built-with-questdb-and-n8n-io/",
                  "icon": "üìà",
                  "label": "A low-code bitcoin ticker built with QuestDB and n8n.io"
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "üé°",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "üéñ",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "üõµ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.set/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Edit Fields"
        },
        "iconData": {
          "icon": "pen",
          "type": "icon"
        },
        "displayName": "Edit Fields (Set)",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 47,
        "icon": "file:webhook.svg",
        "name": "n8n-nodes-base.webhook",
        "codex": {
          "data": {
            "alias": [
              "HTTP",
              "API",
              "Build",
              "WH"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-how-to-automatically-cross-post-your-content-with-n8n/",
                  "icon": "‚úçÔ∏è",
                  "label": "Learn how to automatically cross-post your content with n8n"
                },
                {
                  "url": "https://n8n.io/blog/running-n8n-on-ships-an-interview-with-maranics/",
                  "icon": "üõ≥",
                  "label": "Running n8n on ships: An interview with Maranics"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "üîó",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/what-are-apis-how-to-use-them-with-no-code/",
                  "icon": " ü™¢",
                  "label": "What are APIs and how to use them with no code"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "‚ö°Ô∏è",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/how-a-digital-strategist-uses-n8n-for-online-marketing/",
                  "icon": "üíª",
                  "label": "How a digital strategist uses n8n for online marketing"
                },
                {
                  "url": "https://n8n.io/blog/the-ultimate-guide-to-automate-your-video-collaboration-with-whereby-mattermost-and-n8n/",
                  "icon": "üìπ",
                  "label": "The ultimate guide to automate your video collaboration with Whereby, Mattermost, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/how-to-automatically-give-kudos-to-contributors-with-github-slack-and-n8n/",
                  "icon": "üëè",
                  "label": "How to automatically give kudos to contributors with GitHub, Slack, and n8n"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ü§ñ",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/creating-custom-incident-response-workflows-with-n8n/",
                  "label": "How to automate every step of an incident response workflow"
                },
                {
                  "url": "https://n8n.io/blog/learn-to-build-powerful-api-endpoints-using-webhooks/",
                  "icon": "üß∞",
                  "label": "Learn to Build Powerful API Endpoints Using Webhooks"
                },
                {
                  "url": "https://n8n.io/blog/learn-how-to-use-webhooks-with-mattermost-slash-commands/",
                  "icon": "ü¶Ñ",
                  "label": "Learn how to use webhooks with Mattermost slash commands"
                },
                {
                  "url": "https://n8n.io/blog/how-goomer-automated-their-operations-with-over-200-n8n-workflows/",
                  "icon": "üõµ",
                  "label": "How Goomer automated their operations with over 200 n8n workflows"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.webhook/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "Webhook"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PHBhdGggZmlsbD0iIzM3NDc0ZiIgZD0iTTM1IDM3Yy0yLjIgMC00LTEuOC00LTRzMS44LTQgNC00IDQgMS44IDQgNC0xLjggNC00IDQiLz48cGF0aCBmaWxsPSIjMzc0NzRmIiBkPSJNMzUgNDNjLTMgMC01LjktMS40LTcuOC0zLjdsMy4xLTIuNWMxLjEgMS40IDIuOSAyLjMgNC43IDIuMyAzLjMgMCA2LTIuNyA2LTZzLTIuNy02LTYtNmMtMSAwLTIgLjMtMi45LjdsLTEuNyAxTDIzLjMgMTZsMy41LTEuOSA1LjMgOS40YzEtLjMgMi0uNSAzLS41IDUuNSAwIDEwIDQuNSAxMCAxMFM0MC41IDQzIDM1IDQzIi8+PHBhdGggZmlsbD0iIzM3NDc0ZiIgZD0iTTE0IDQzQzguNSA0MyA0IDM4LjUgNCAzM2MwLTQuNiAzLjEtOC41IDcuNS05LjdsMSAzLjlDOS45IDI3LjkgOCAzMC4zIDggMzNjMCAzLjMgMi43IDYgNiA2czYtMi43IDYtNnYtMmgxNXY0SDIzLjhjLS45IDQuNi01IDgtOS44IDgiLz48cGF0aCBmaWxsPSIjZTkxZTYzIiBkPSJNMTQgMzdjLTIuMiAwLTQtMS44LTQtNHMxLjgtNCA0LTQgNCAxLjggNCA0LTEuOCA0LTQgNCIvPjxwYXRoIGZpbGw9IiMzNzQ3NGYiIGQ9Ik0yNSAxOWMtMi4yIDAtNC0xLjgtNC00czEuOC00IDQtNCA0IDEuOCA0IDQtMS44IDQtNCA0Ii8+PHBhdGggZmlsbD0iI2U5MWU2MyIgZD0ibTE1LjcgMzQtMy40LTIgNS45LTkuN2MtMi0xLjktMy4yLTQuNS0zLjItNy4zIDAtNS41IDQuNS0xMCAxMC0xMHMxMCA0LjUgMTAgMTBjMCAuOS0uMSAxLjctLjMgMi41bC0zLjktMWMuMS0uNS4yLTEgLjItMS41IDAtMy4zLTIuNy02LTYtNnMtNiAyLjctNiA2YzAgMi4xIDEuMSA0IDIuOSA1LjFsMS43IDF6Ii8+PC9zdmc+"
        },
        "displayName": "Webhook",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 356,
        "icon": "file:gmail.svg",
        "name": "n8n-nodes-base.gmail",
        "codex": {
          "data": {
            "alias": [
              "email",
              "human",
              "form",
              "wait",
              "hitl",
              "approval"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "üß¨",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/",
                  "icon": "üé´",
                  "label": "Supercharging your conference registration process with n8n"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "üë•",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/your-business-doesnt-need-you-to-operate/",
                  "icon": " üñ•Ô∏è",
                  "label": "Hey founders! Your business doesn't need you to operate"
                },
                {
                  "url": "https://n8n.io/blog/using-automation-to-boost-productivity-in-the-workplace/",
                  "icon": "üí™",
                  "label": "Using Automation to Boost Productivity in the Workplace"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.gmail/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
                }
              ]
            },
            "categories": [
              "Communication",
              "HITL"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "HITL": [
                "Human in the Loop"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Gmail"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTYiIGhlaWdodD0iMTkzIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+PHBhdGggZmlsbD0iIzQyODVGNCIgZD0iTTU4LjE4MiAxOTIuMDVWOTMuMTRMMjcuNTA3IDY1LjA3NyAwIDQ5LjUwNHYxMjUuMDkxYzAgOS42NTggNy44MjUgMTcuNDU1IDE3LjQ1NSAxNy40NTV6Ii8+PHBhdGggZmlsbD0iIzM0QTg1MyIgZD0iTTE5Ny44MTggMTkyLjA1aDQwLjcyN2M5LjY1OSAwIDE3LjQ1NS03LjgyNiAxNy40NTUtMTcuNDU1VjQ5LjUwNWwtMzEuMTU2IDE3LjgzNy0yNy4wMjYgMjUuNzk4eiIvPjxwYXRoIGZpbGw9IiNFQTQzMzUiIGQ9Im01OC4xODIgOTMuMTQtNC4xNzQtMzguNjQ3IDQuMTc0LTM2Ljk4OUwxMjggNjkuODY4bDY5LjgxOC01Mi4zNjQgNC42NyAzNC45OTItNC42NyA0MC42NDRMMTI4IDE0NS41MDR6Ii8+PHBhdGggZmlsbD0iI0ZCQkMwNCIgZD0iTTE5Ny44MTggMTcuNTA0VjkzLjE0TDI1NiA0OS41MDRWMjYuMjMxYzAtMjEuNTg1LTI0LjY0LTMzLjg5LTQxLjg5LTIwLjk0NXoiLz48cGF0aCBmaWxsPSIjQzUyMjFGIiBkPSJtMCA0OS41MDQgMjYuNzU5IDIwLjA3TDU4LjE4MiA5My4xNFYxNy41MDRMNDEuODkgNS4yODZDMjQuNjEtNy42NiAwIDQuNjQ2IDAgMjYuMjN6Ii8+PC9zdmc+"
        },
        "displayName": "Gmail",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 6,
            "name": "Communication"
          },
          {
            "id": 28,
            "name": "HITL"
          }
        ]
      },
      {
        "id": 495,
        "icon": "file:googleDocs.svg",
        "name": "n8n-nodes-base.googleDocs",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.googledocs/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/google/oauth-single-service/"
                }
              ]
            },
            "categories": [
              "Miscellaneous"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Google Docs"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiB2aWV3Qm94PSItMTggMCA5MCA4MCI+PHVzZSB4bGluazpocmVmPSIjYSIgeD0iLjUiIHk9Ii41Ii8+PHN5bWJvbCBpZD0iYSIgb3ZlcmZsb3c9InZpc2libGUiPjxnIHN0cm9rZT0ibm9uZSI+PHBhdGggZmlsbD0iIzU0OGRmNiIgZD0ibTM2IDAgMjIgMjJ2NTNhNC45OSA0Ljk5IDAgMCAxLTUgNUg1YTQuOTkgNC45OSAwIDAgMS01LTVWNWE0Ljk5IDQuOTkgMCAwIDEgNS01eiIvPjxwYXRoIGQ9Ik0xNCA0MGgzMHYzSDE0em0wIDdoMzB2M0gxNHptMCA4aDMwdjNIMTR6bTAgN2gyMXYzSDE0eiIvPjxwYXRoIGZpbGw9IiNhYmQwZmIiIGQ9Im0zNiAwIDIyIDIySDQxYy0yLjc3IDAtNS0yLjQ4LTUtNS4yNXoiLz48cGF0aCBmaWxsPSIjM2U1YmI5IiBkPSJNNDAuNzUgMjIgNTggMjkuMTI1VjIyeiIvPjwvZz48L3N5bWJvbD48L3N2Zz4="
        },
        "displayName": "Google Docs",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 11,
            "name": "Miscellaneous"
          }
        ]
      },
      {
        "id": 535,
        "icon": "file:webhook.svg",
        "name": "n8n-nodes-base.respondToWebhook",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.respondtowebhook/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Utility"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Respond to Webhook"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PHBhdGggZmlsbD0iIzM3NDc0ZiIgZD0iTTM1IDM3Yy0yLjIgMC00LTEuOC00LTRzMS44LTQgNC00IDQgMS44IDQgNC0xLjggNC00IDQiLz48cGF0aCBmaWxsPSIjMzc0NzRmIiBkPSJNMzUgNDNjLTMgMC01LjktMS40LTcuOC0zLjdsMy4xLTIuNWMxLjEgMS40IDIuOSAyLjMgNC43IDIuMyAzLjMgMCA2LTIuNyA2LTZzLTIuNy02LTYtNmMtMSAwLTIgLjMtMi45LjdsLTEuNyAxTDIzLjMgMTZsMy41LTEuOSA1LjMgOS40YzEtLjMgMi0uNSAzLS41IDUuNSAwIDEwIDQuNSAxMCAxMFM0MC41IDQzIDM1IDQzIi8+PHBhdGggZmlsbD0iIzM3NDc0ZiIgZD0iTTE0IDQzQzguNSA0MyA0IDM4LjUgNCAzM2MwLTQuNiAzLjEtOC41IDcuNS05LjdsMSAzLjlDOS45IDI3LjkgOCAzMC4zIDggMzNjMCAzLjMgMi43IDYgNiA2czYtMi43IDYtNnYtMmgxNXY0SDIzLjhjLS45IDQuNi01IDgtOS44IDgiLz48cGF0aCBmaWxsPSIjZTkxZTYzIiBkPSJNMTQgMzdjLTIuMiAwLTQtMS44LTQtNHMxLjgtNCA0LTQgNCAxLjggNCA0LTEuOCA0LTQgNCIvPjxwYXRoIGZpbGw9IiMzNzQ3NGYiIGQ9Ik0yNSAxOWMtMi4yIDAtNC0xLjgtNC00czEuOC00IDQtNCA0IDEuOCA0IDQtMS44IDQtNCA0Ii8+PHBhdGggZmlsbD0iI2U5MWU2MyIgZD0ibTE1LjcgMzQtMy40LTIgNS45LTkuN2MtMi0xLjktMy4yLTQuNS0zLjItNy4zIDAtNS41IDQuNS0xMCAxMC0xMHMxMCA0LjUgMTAgMTBjMCAuOS0uMSAxLjctLjMgMi41bC0zLjktMWMuMS0uNS4yLTEgLjItMS41IDAtMy4zLTIuNy02LTYtNnMtNiAyLjctNiA2YzAgMi4xIDEuMSA0IDIuOSA1LjFsMS43IDF6Ii8+PC9zdmc+"
        },
        "displayName": "Respond to Webhook",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 7,
            "name": "Utility"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 834,
        "icon": "file:code.svg",
        "name": "n8n-nodes-base.code",
        "codex": {
          "data": {
            "alias": [
              "cpde",
              "Javascript",
              "JS",
              "Python",
              "Script",
              "Custom Code",
              "Function"
            ],
            "details": "The Code node allows you to execute JavaScript in your workflow.",
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Code"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
        },
        "displayName": "Code",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 838,
        "icon": "fa:mouse-pointer",
        "name": "n8n-nodes-base.manualTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When clicking ‚ÄòExecute workflow‚Äô",
          "color": "#909298"
        },
        "iconData": {
          "icon": "mouse-pointer",
          "type": "icon"
        },
        "displayName": "Manual Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 839,
        "icon": "fa:clock",
        "name": "n8n-nodes-base.scheduleTrigger",
        "codex": {
          "data": {
            "alias": [
              "Time",
              "Scheduler",
              "Polling",
              "Cron",
              "Interval"
            ],
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\",\"schedule\"]",
        "defaults": {
          "name": "Schedule Trigger",
          "color": "#31C49F"
        },
        "iconData": {
          "icon": "clock",
          "type": "icon"
        },
        "displayName": "Schedule Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1119,
        "icon": "fa:robot",
        "name": "@n8n/n8n-nodes-langchain.agent",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "Chat",
              "Conversational",
              "Plan and Execute",
              "ReAct",
              "Tools"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.agent/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Agents",
                "Root Nodes"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "AI Agent",
          "color": "#404040"
        },
        "iconData": {
          "icon": "robot",
          "type": "icon"
        },
        "displayName": "AI Agent",
        "typeVersion": 3,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1141,
        "icon": "file:openAiLight.svg",
        "name": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.embeddingsopenai/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Embeddings"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Embeddings OpenAI"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg0IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NyAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MiA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSIjN0Q3RDg3Ii8+Cjwvc3ZnPgo="
        },
        "displayName": "Embeddings OpenAI",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1153,
        "icon": "file:openAiLight.svg",
        "name": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.lmchatopenai/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Language Models",
                "Root Nodes"
              ],
              "Language Models": [
                "Chat Models (Recommended)"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "OpenAI Chat Model"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg0IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NyAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MiA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSIjN0Q3RDg3Ii8+Cjwvc3ZnPgo="
        },
        "displayName": "OpenAI Chat Model",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1163,
        "icon": "fa:database",
        "name": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.memorybufferwindow/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Memory"
              ],
              "Memory": [
                "For beginners"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Simple Memory"
        },
        "iconData": {
          "icon": "database",
          "type": "icon"
        },
        "displayName": "Simple Memory",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1191,
        "icon": "fa:grip-lines-vertical",
        "name": "@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.textsplitterrecursivecharactertextsplitter/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Text Splitters"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Recursive Character Text Splitter"
        },
        "iconData": {
          "icon": "grip-lines-vertical",
          "type": "icon"
        },
        "displayName": "Recursive Character Text Splitter",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1230,
        "icon": "file:pinecone.svg",
        "name": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/root-nodes/n8n-nodes-langchain.vectorstorepinecone/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Vector Stores",
                "Tools",
                "Root Nodes"
              ],
              "Tools": [
                "Other Tools"
              ],
              "Vector Stores": [
                "Other Vector Stores"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Pinecone Vector Store"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCAzMiAzNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEzLjg1NTUgMzQuMjk2MkMxNC45MzI1IDM0LjI5NjIgMTUuODA1NSAzMy40NDUxIDE1LjgwNTUgMzIuMzk1NEMxNS44MDU1IDMxLjM0NTYgMTQuOTMyNSAzMC40OTQ2IDEzLjg1NTUgMzAuNDk0NkMxMi43Nzg2IDMwLjQ5NDYgMTEuOTA1NSAzMS4zNDU2IDExLjkwNTUgMzIuMzk1NEMxMS45MDU1IDMzLjQ0NTEgMTIuNzc4NiAzNC4yOTYyIDEzLjg1NTUgMzQuMjk2MloiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xOC40MTM4IDcuMTk2NzVMMTkuMjUxMiAyLjY2MDA1IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMTE3ODYiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTIyLjI2NTYgNS41ODU1TDE5LjM0NjYgMi4xMTA5OUwxNS4zNzQ4IDQuMzcyOTIiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4xMTc4NiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTQuOTIwMiAyNi41NTI4TDE1LjczMzcgMjIuMDE2OSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyLjExNzg2IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+CjxwYXRoIGQ9Ik0xOC43NzI5IDI0LjkzMDRMMTUuODMgMjEuNDY3MUwxMS44NzAxIDIzLjc0MSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyLjExNzg2IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNi42MDc3IDE3LjE5OTZMMTcuNDIxMiAxMi42NjMzIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMTE3ODYiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTIwLjQ1ODcgMTUuNThMMTcuNTI3NyAxMi4xMjhMMTMuNTY3OSAxNC4zOTA0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMTE3ODYiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTguMzI4NzEgMjYuMTU1NEw0Ljc1MTcxIDI4LjU4MTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4wMTAxNyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8cGF0aCBkPSJNOC41NDM4MyAzMC4wODY1TDQuMzIwOCAyOC44NzM4TDQuNjMxODUgMjQuNTk0NCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyLjAxMDE3IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yMS4zMjEzIDI4LjQyOTlMMjMuODA5NiAzMS45MjgyIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMDEwMTciIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTE5LjcxOCAzMi4wNDVMMjQuMTA4NSAzMi4zMzY1TDI1LjM1MjcgMjguMjQzOCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyLjAxMDE3IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yNS4zOTk5IDIxLjMyOTFMMjkuNzc4NCAyMi4wOTk2IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMDU4MDQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTI2LjkwNzIgMjUuMDcyTDMwLjMwNDggMjIuMTkxOUwyOC4xNjM0IDE4LjM1NTciIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4wNTgwNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjQuMTE5NiAxMi44NjE1TDI4LjAxOTcgMTAuNzYzIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMDU4MDQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiLz4KPHBhdGggZD0iTTI0LjMzNTcgOC44Mzk2NUwyOC40ODY5IDEwLjUxODhMMjcuNzA5MyAxNC44MjE2IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMDU4MDQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTYuOTE2MzkgMTguMTU3MkwyLjUyNTg4IDE3LjQxMDEiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4wNTgwNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8cGF0aCBkPSJNNC4xNzczMSAyMS4xNjQ1TDIgMTcuMzI4TDUuMzYxNjcgMTQuNDM2IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMDU4MDQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTExLjA3OTkgMTAuNjEyOUw4LjE0ODkzIDcuMzQ3NjkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4wNTgwNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8cGF0aCBkPSJNMTIuMjg5NyA2Ljc3NDk2TDcuODAzNDkgNi45NjE1Nkw3LjAxMzkyIDExLjI2NDkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4wNTgwNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K"
        },
        "displayName": "Pinecone Vector Store",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1243,
        "icon": "file:binary.svg",
        "name": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.documentdefaultdataloader/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Document Loaders"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Default Data Loader"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NjgiIGhlaWdodD0iMTAyNCI+PHBhdGggZmlsbD0iIzdEN0Q4NyIgZD0iTTAgOTYwVjY0aDU3NmwxOTIgMTkydjcwNHptNzA0LTY0MEw1MTIgMTI4SDY0djc2OGg2NDB6TTMyMCA1MTJIMTI4VjI1NmgxOTJ6bS02NC0xOTJoLTY0djEyOGg2NHptMCA0NDhoNjR2NjRIMTI4di02NGg2NFY2NDBoLTY0di02NGgxMjh6bTI1Ni0zMjBoNjR2NjRIMzg0di02NGg2NFYzMjBoLTY0di02NGgxMjh6bTY0IDM4NEgzODRWNTc2aDE5MnptLTY0LTE5MmgtNjR2MTI4aDY0eiIvPjwvc3ZnPg=="
        },
        "displayName": "Default Data Loader",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1250,
        "icon": "file:openAi.svg",
        "name": "@n8n/n8n-nodes-langchain.openAi",
        "codex": {
          "data": {
            "alias": [
              "LangChain",
              "ChatGPT",
              "Sora",
              "DallE",
              "whisper",
              "audio",
              "transcribe",
              "tts",
              "assistant"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-langchain.openai/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Agents",
                "Miscellaneous",
                "Root Nodes"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "OpenAI"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTM2Ljg2NzEgMTYuMzcxOEMzNy43NzQ2IDEzLjY0OCAzNy40NjIxIDEwLjY2NDIgMzYuMDEwOCA4LjE4NjYxQzMzLjgyODIgNC4zODY1MyAyOS40NDA3IDIuNDMxNDkgMjUuMTU1NiAzLjM1MTUxQzIzLjI0OTMgMS4yMDM5NiAyMC41MTA1IC0wLjAxNzMxNDggMTcuNjM5MiAwLjAwMDE4NTUzM0MxMy4yNTkxIC0wLjAwOTgxNDY4IDkuMzcyNzMgMi44MTAyNSA4LjAyNTIgNi45Nzc4M0M1LjIxMTM5IDcuNTU0MSAyLjc4MjU4IDkuMzE1MzggMS4zNjEzIDExLjgxMTdDLTAuODM3NDkzIDE1LjYwMTggLTAuMzM2MjMyIDIwLjM3OTQgMi42MDEzMyAyMy42Mjk0QzEuNjkzODEgMjYuMzUzMiAyLjAwNjMyIDI5LjMzNzEgMy40NTc2IDMxLjgxNDZDNS42NDAxNSAzNS42MTQ3IDEwLjAyNzcgMzcuNTY5NyAxNC4zMTI4IDM2LjY0OTdDMTYuMjE3OSAzOC43OTczIDE4Ljk1NzkgNDAuMDE4NSAyMS44MjkyIDM5Ljk5OThDMjYuMjExOCA0MC4wMTEgMzAuMDk5NCAzNy4xODg1IDMxLjQ0NjkgMzMuMDE3MUMzNC4yNjA4IDMyLjQ0MDkgMzYuNjg5NiAzMC42Nzk2IDM4LjExMDggMjguMTgzM0M0MC4zMDcxIDI0LjM5MzIgMzkuODA0NiAxOS42MTk0IDM2Ljg2ODMgMTYuMzY5M0wzNi44NjcxIDE2LjM3MThaTTIxLjgzMTcgMzcuMzg2QzIwLjA3OCAzNy4zODg1IDE4LjM3OTIgMzYuNzc0NyAxNy4wMzI5IDM1LjY1MDlDMTcuMDk0MSAzNS42MTg1IDE3LjIwMDQgMzUuNTU5NyAxNy4yNjkxIDM1LjUxNzJMMjUuMjM0MyAzMC45MTcxQzI1LjY0MTggMzAuNjg1OCAyNS44OTE4IDMwLjI1MjEgMjUuODg5MyAyOS43ODMzVjE4LjU1NDNMMjkuMjU1NiAyMC40OTgxQzI5LjI5MTkgMjAuNTE1NiAyOS4zMTU3IDIwLjU1MDYgMjkuMzIwNyAyMC41OTA2VjI5Ljg4OTZDMjkuMzE1NyAzNC4wMjQ3IDI1Ljk2NjggMzcuMzc3MiAyMS44MzE3IDM3LjM4NlpNNS43MjY0IDMwLjUwNzFDNC44NDc2MyAyOC45ODk2IDQuNTMxMzcgMjcuMjEwOCA0LjgzMjYzIDI1LjQ4NDVDNC44OTEzOCAyNS41MTk1IDQuOTk1MTMgMjUuNTgzMiA1LjA2ODg4IDI1LjYyNTdMMTMuMDM0MSAzMC4yMjU4QzEzLjQzNzggMzAuNDYyMSAxMy45Mzc4IDMwLjQ2MjEgMTQuMzQyOCAzMC4yMjU4TDI0LjA2NjggMjQuNjEwN1YyOC40OTgzQzI0LjA2OTMgMjguNTM4MyAyNC4wNTA1IDI4LjU3NyAyNC4wMTkzIDI4LjYwMkwxNS45Njc5IDMzLjI1MDlDMTIuMzgxNSAzNS4zMTU5IDcuODAxNDQgMzQuMDg4NCA1LjcyNzY1IDMwLjUwNzFINS43MjY0Wk0zLjYzMDEgMTMuMTIwNUM0LjUwNTEyIDExLjYwMDQgNS44ODY0IDEwLjQzNzkgNy41MzE0NCA5LjgzNDE1QzcuNTMxNDQgOS45MDI5IDcuNTI3NjkgMTAuMDI0MSA3LjUyNzY5IDEwLjEwOTJWMTkuMzEwNkM3LjUyNTE5IDE5Ljc3ODEgNy43NzUxOSAyMC4yMTE5IDguMTgxNDUgMjAuNDQzMUwxNy45MDU0IDI2LjA1N0wxNC41MzkxIDI4LjAwMDhDMTQuNTA1MyAyOC4wMjMzIDE0LjQ2MjggMjguMDI3IDE0LjQyNTMgMjguMDEwOEw2LjM3MjY2IDIzLjM1ODJDMi43OTM4MyAyMS4yODU2IDEuNTY2MzEgMTYuNzA2OCAzLjYyODg1IDEzLjEyMTdMMy42MzAxIDEzLjEyMDVaTTMxLjI4ODIgMTkuNTU2OUwyMS41NjQyIDEzLjk0MTdMMjQuOTMwNiAxMS45OTkyQzI0Ljk2NDMgMTEuOTc2NyAyNS4wMDY4IDExLjk3MjkgMjUuMDQ0MyAxMS45ODkyTDMzLjA5NyAxNi42MzhDMzYuNjgyMSAxOC43MDkzIDM3LjkxMDggMjMuMjk1NyAzNS44Mzk1IDI2Ljg4MDhDMzQuOTYzMyAyOC4zOTgzIDMzLjU4MzIgMjkuNTYwOCAzMS45Mzk1IDMwLjE2NThWMjAuNjg5NEMzMS45NDMyIDIwLjIyMTkgMzEuNjk0NSAxOS43ODk0IDMxLjI4OTQgMTkuNTU2OUgzMS4yODgyWk0zNC42MzgzIDE0LjUxNDJDMzQuNTc5NSAxNC40NzggMzQuNDc1OCAxNC40MTU1IDM0LjQwMiAxNC4zNzNMMjYuNDM2OCA5Ljc3Mjg5QzI2LjAzMzEgOS41MzY2NCAyNS41MzMxIDkuNTM2NjQgMjUuMTI4MSA5Ljc3Mjg5TDE1LjQwNDEgMTUuMzg4VjExLjUwMDRDMTUuNDAxNiAxMS40NjA0IDE1LjQyMDQgMTEuNDIxNyAxNS40NTE2IDExLjM5NjdMMjMuNTAzIDYuNzUxNThDMjcuMDg5NCA0LjY4Mjc5IDMxLjY3NDUgNS45MTQwNiAzMy43NDIgOS41MDE2NEMzNC42MTU4IDExLjAxNjcgMzQuOTMyIDEyLjc5MDUgMzQuNjM1OCAxNC41MTQySDM0LjYzODNaTTEzLjU3NDEgMjEuNDQzMUwxMC4yMDY1IDE5LjQ5OTRDMTAuMTcwMiAxOS40ODE5IDEwLjE0NjUgMTkuNDQ2OCAxMC4xNDE1IDE5LjQwNjhWMTAuMTA3OUMxMC4xNDQgNS45Njc4MSAxMy41MDI4IDIuNjEyNzQgMTcuNjQyOSAyLjYxNTI0QzE5LjM5NDIgMi42MTUyNCAyMS4wODkyIDMuMjMwMjUgMjIuNDM1NSA0LjM1MDI4QzIyLjM3NDMgNC4zODI3OCAyMi4yNjkzIDQuNDQxNTMgMjIuMTk5MiA0LjQ4NDAzTDE0LjIzNDEgOS4wODQxM0MxMy44MjY2IDkuMzE1MzggMTMuNTc2NiA5Ljc0Nzg5IDEzLjU3OTEgMTAuMjE2N0wxMy41NzQxIDIxLjQ0MDZWMjEuNDQzMVpNMTUuNDAyOSAxNy41MDA2TDE5LjczNDIgMTQuOTk5M0wyNC4wNjU1IDE3LjQ5OTNWMjIuNTAwN0wxOS43MzQyIDI1LjAwMDdMMTUuNDAyOSAyMi41MDA3VjE3LjUwMDZaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K"
        },
        "displayName": "OpenAI",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1269,
        "icon": "fa:database",
        "name": "@n8n/n8n-nodes-langchain.toolVectorStore",
        "codex": {
          "data": {
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/cluster-nodes/sub-nodes/n8n-nodes-langchain.toolvectorstore/"
                }
              ]
            },
            "categories": [
              "AI",
              "Langchain"
            ],
            "subcategories": {
              "AI": [
                "Tools"
              ],
              "Tools": [
                "Other Tools"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Answer questions with a vector store"
        },
        "iconData": {
          "icon": "database",
          "type": "icon"
        },
        "displayName": "Vector Store Question Answer Tool",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 25,
            "name": "AI"
          },
          {
            "id": 26,
            "name": "Langchain"
          }
        ]
      },
      {
        "id": 1315,
        "icon": "fa:table",
        "name": "n8n-nodes-base.dataTable",
        "codex": {
          "data": {
            "alias": [
              "data",
              "table",
              "knowledge",
              "data table",
              "table",
              "sheet",
              "database",
              "data base",
              "mysql",
              "postgres",
              "postgresql",
              "airtable",
              "supabase",
              "noco",
              "notion"
            ],
            "details": "Data table",
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.datatable/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Development"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\",\"transform\"]",
        "defaults": {
          "name": "Data table"
        },
        "iconData": {
          "icon": "table",
          "type": "icon"
        },
        "displayName": "Data table",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 40,
        "name": "Support Chatbot"
      },
      {
        "id": 47,
        "name": "AI Chatbot"
      }
    ],
    "image": []
  }
}