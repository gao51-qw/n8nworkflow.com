{
  "id": 8071,
  "slug": "8071",
  "title": "Process contact form submissions with validation and MongoDB storage",
  "description": "This n8n workflow securely processes contact form submissions by validating user input, formatting the data, and storing it in a MongoDB database. The flow ensures data consistency, prevents unsafe entries, and provides a confirmation response back to the user.\n\n\n**Workflow**\n\n**1. Form Submission Node**\n\n*Purpose*: Serves as the workflow‚Äôs entry point.\n\n*Functionality*: Captures user input from the contact form, which typically includes:\n\n```\nname\n```\n```\nlast name\n```\n```\nemail\n```\n```\nphone number\n```\n\n\n**2. Code Node (Validation Layer)**\n\n*Purpose*: Ensures that collected data is valid and secure.\n\n*Validations performed*: \n\n- Removes suspicious characters to mitigate risks like SQL injection or script injection.\n\n- Validates the phone_number field format (numeric, correct length, etc.).\n\n- If any field fails validation, the entry is marked as ‚Äúis_not_valid‚Äù to block it from database insertion.\n\n**3. Edit Fields Node (Data Formatting)**\n\n*Purpose*: Normalizes data before database insertion.\n\n*Transformations applied:*\n\n- Converts field names to snake_case (*first_name, last_name, phone_number*).\n\n- Standardizes field naming convention for consistency in MongoDB storage.\n\n**4. MongoDB Node (Insert Documents)**\n\n*Purpose*: Persists validated data in MongoDB Atlas.\n\n*Process*:\n\n- Inserts documents into the target collection with the cleaned and formatted fields.\n\n- Connection is established securely using a MongoDB Atlas connection string (URI).\n\n\nüîß How to Set Up MongoDB Atlas Connection URL\n\n\n\na. Create a Cluster\n\nb. Log in to [MongoDB Atlas](https://www.google.com/aclk?sa=L&ai=DChsSEwiD276cwbOPAxVpKkQIHTFOCpMYACICCAEQAxoCZHo&co=1&ase=2&gclid=Cj0KCQjwwsrFBhD6ARIsAPnUFD3UpSa_1KFmRsdiOYmSRl0oXmh3kC8g8ZhGf8TOhiUsLGbHnwf046AaAgufEALw_wcB&cce=2&category=acrcp_v1_32&sig=AOD64_36CMbBMVgqf0cvThw5lpmpl-cMcQ&q&nis=4&adurl&ved=2ahUKEwiVzbScwbOPAxUzuJUCHQCKMnUQqyQoAXoECBcQDw) and create a new cluster.\n\nc. Configure Database Access: Add a database user with a secure username and password, Assign appropriate roles (e.g., Atlas Admin for full access or Read/Write for limited).\n\nd. Obtain Connection String (URI)\n\nFrom Atlas, go to Clusters ‚Üí Connect ‚Üí Drivers.\n\nCopy the provided connection string, which looks like:\n\n```\nmongodb+srv://&lt;username&gt;:&lt;password&gt;@cluster0.abcd123.mongodb.net/myDatabase?retryWrites=true&w=majority\n```\n\n- Configure in n8n In the MongoDB node, paste the URI.\n\nReplace &lt;username&gt;, &lt;password&gt;, and myDatabase with your actual credentials and database name.\n\n- Test the connection to ensure it is successful.\n\n**5. Form Ending Node**\n\n*Purpose*: Provides closure to the workflow.\n\n*Functionality*: Sends a confirmation response back to the user, indicating that their contact details were successfully submitted and stored.\n\n‚úÖ **Result**: With this workflow, all contact form submissions are safely validated, normalized, and stored in MongoDB Atlas, ensuring both data integrity and security basic.",
  "featuredImage": "/data/workflows/8071/8071.webp",
  "author": {
    "id": 101,
    "slug": "sheredia",
    "name": "Samuel Heredia",
    "avatar": ""
  },
  "categories": [
    "Document Extraction",
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 326,
  "downloads": 32,
  "createdAt": "2025-08-30T21:56:28.462Z",
  "updatedAt": "2026-01-16T08:53:59.392Z",
  "publishedAt": "2025-08-30T21:56:28.462Z",
  "nodes": 16,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8071"
}