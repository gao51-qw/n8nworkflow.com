{
  "id": 8251,
  "slug": "8251",
  "title": "WhatsApp AI agent that understand text, image , audio ",
  "description": "Overview ğŸ“Œ\n\nThis template is a multimodal WhatsApp assistant that understands text, images, and audio, aggregates media inputs, and returns intelligent replies using Google Gemini. It can fetch knowledge from Google Docs, log conversations into Google Sheets, and respond via WhatsApp â€” all orchestrated inside n8n.\n\nFeatures âœ¨\n\nMultimodal input handling: Receives images and audio from WhatsApp, analyzes them, and sends contextual responses. ğŸ–¼ï¸ğŸ§\n\nAudio transcription: Converts voice messages to text for analysis. ğŸ”Šâ¡ï¸ğŸ“\n\nImage analysis: Extracts objects/labels/text from images to inform responses. ğŸ–¼ï¸ğŸ”\n\nKnowledge fetch: Pulls relevant documents from Google Docs for richer answers. ğŸ“„ğŸ“š\n\nConversation logging: Appends each interaction to Google Sheets for auditing or analytics. ğŸ“ˆ\n\nModular design: Clear subflows for media reception, transcription, image analysis, aggregation, and the AI Agent. âš™ï¸\n\nReady for customization: Swap models, change providers, or extend with a vector store. ğŸ”\n\nRequirements âœ…\n\nn8n instance (self-hosted or n8n.cloud) with public webhook access\n\nGoogle Cloud project with these APIs enabled: Vertex AI (Gemini), Cloud Vision API, Cloud Speech-to-Text, Drive & Docs & Sheets ğŸ§ \n\nGoogle Service Account JSON key (with permissions for above services) ğŸ”\n\nWhatsApp Business API provider credentials (Twilio, 360dialog, or similar) ğŸ“\n\n(Optional) Pinecone or another vector store if you want embeddings / retrieval augmentation ğŸ—‚ï¸\n\nSetup Instructions ğŸ”§\n\nImport the workflow\n\nDownload the .json from your package and in n8n Editor â†’ Import â†’ From File â†’ select JSON. Save.\n\nCreate credentials\n\nGoogle Service Account: Create service account in GCP, grant Vertex AI, Vision, Speech, Drive, Docs, Sheets roles, download JSON â†’ create n8n Google Service Account credential and upload JSON.\n\nWhatsApp: Add your WhatsApp API credentials (API key/token, phone ID, webhook secret).\n\n(Optional) Vector store: Add Pinecone credentials if using embeddings.\n\nConfigure media receiver nodes\n\nWhatsApp Trigger: Ensure webhook URL is set on your WhatsApp provider to forward incoming messages/media to n8n. ğŸŒ\n\nAudio Receiver nodes: point to incoming audio payload path or download URL. ğŸ§\n\nImage Receiver nodes: point to image URL or attachment field. ğŸ–¼ï¸\n\nTranscription & Image Analysis\n\nTranscribe Audio: Select Google Speech-to-Text via your Google Service Account credential. Confirm language and sampling settings. ğŸ—£ï¸â¡ï¸ğŸ“\n\nAnalyze Image: Point to Vision API via same Google credential. Choose required outputs (labels, landmarks, OCR). ğŸ”\n\nAggregate media\n\nConfirm the Aggregate node collects text + transcribed audio + image analysis results into a single payload for the AI Agent. ğŸ§©\n\nAI Agent (Gemini)\n\nOpen AI Agent node â†’ choose your Google Gemini/Vertex AI credentials.\n\nEdit System Prompt to include: how to prioritize image/audio text, where to look up knowledge (Docs), and style/tone. Replace placeholders (business name, policies). âœï¸\n\nKnowledge Fetch (Google Docs)\n\nConfigure Get a document in Google Docs node to point to your knowledge docs folder or specific document IDs. ğŸ“‚\n\nConversation Logging\n\nConfigure Google Sheets node to append rows to your chosen spreadsheet (structure below). ğŸ§¾\n\nWhatsApp Reply\n\nMap AI Agent output to the WhatsApp Send message node and choose template messaging if needed. ğŸ’¬\n\nTest end-to-end\n\nActivate the workflow, send a text message, an image, and an audio message to your WhatsApp test number. Verify the AI reply and that logs appear in Google Sheets. ğŸ§ª\n\nGoogle Sheet: Conversation Log (suggested columns) ğŸ—’ï¸\nColumn\tType\tDescription\nTimestamp\tDate/Time\tWhen the message arrived\nUserID\tText\tWhatsApp user identifier (phone)\nMessageType\tText\ttext / image / audio / mixed\nMessageText\tText\tOriginal text or transcribed text\nImageAnalysis\tText\tVision API summary / labels / OCR text\nAttachmentURL\tText\tLink to image/audio file\nAIResponse\tText\tFinal text reply sent to user\nNotes\tText\tAny extra flags (e.g., escalation)\nCustomization ğŸ”\n\nSwap Gemini with another model provider by changing the AI node credentials and prompt structure. ğŸ”„\n\nAdd a vector store (Pinecone) to enable retrieval-augmented generation from indexed docs. ğŸ§ \n\nExtend image analysis to OCR for receipts/invoices or barcode detection. ğŸ“‘\n\nAdd an escalation path (send to human) by adding an â€œIf â†’ Escalateâ€ node when confidence is low. ğŸš¨\n\nSuggested Node Renaming (for clarity) ğŸ·ï¸\n\nRename generic nodes to explicit names so reviewers and users instantly understand flow:\n\nWhatsApp Trigger â†’ WhatsApp Trigger (Inbound)\n\nSwitch â†’ Message Type Router\n\naudio receiver1/2 â†’ Audio Receiver (Download) / Audio Receiver (Fallback) ğŸ§\n\nTranscribe a recording â†’ Transcribe Audio (Speech-to-Text) ğŸ“\n\nimage receiver1/2 â†’ Image Receiver (Download) / Image Receiver (Fallback) ğŸ–¼ï¸\n\nAnalyze image â†’ Image Analysis (Vision API) ğŸ”\n\nAggregate â†’ Aggregate Media Inputs ğŸ§©\n\nAI Agent â†’ Multimodal AI Agent (Gemini) ğŸ¤–\n\nGet a document in Google Docs â†’ Fetch Knowledge Doc ğŸ“‚\n\nCode â†’ Format AI Response ğŸ§¾\n\nSend message â†’ WhatsApp â€“ Send Reply ğŸ’¬\n\nTesting & Going Live ğŸš€\n\nEnsure n8n webhook is publicly reachable (use an SSL domain/tunnel). ğŸ”’\n\nTest in a sandbox WhatsApp number first. ğŸ§ª\n\nMonitor n8n Executions and enable an Error Workflow for graceful failure handling. âš ï¸\n\nIf you expect high media volume, consider storage/retention policy for attachments. ğŸ—„ï¸\n\nSupport & Notes ğŸ¤\n\nI offer setup assistance and will help troubleshoot credential issues or prompt tuning until your workflow is working perfectly. Include contact info and a short support pledge in your template description to build trust.\nFeel free to ping me anytimeâ€”even after launch!ğŸ‘‰ Contact: tharwat.elsayed2000@gmail.com | +20â€¯106â€¯180â€¯3236",
  "featuredImage": "/data/workflows/8251/8251.webp",
  "author": {
    "id": 101,
    "slug": "tharwatelsayed",
    "name": "Tharwat Mohamed",
    "avatar": ""
  },
  "categories": [
    "Support Chatbot",
    "AI Chatbot"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 127,
  "downloads": 12,
  "createdAt": "2025-09-04T11:12:35.060Z",
  "updatedAt": "2026-01-16T08:54:55.689Z",
  "publishedAt": "2025-09-04T11:12:35.060Z",
  "nodes": 18,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/8251"
}