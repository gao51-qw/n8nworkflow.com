{
  "id": 9743,
  "slug": "9743",
  "title": "Sync leads from Google Sheets to instantly email campaigns with data tables",
  "description": "# ğŸš€ Automated Lead Management: Google Sheets â†’ Instantly + n8n Data Tables\n\n## ğŸ“‹ Overview\n\nThis workflow automates lead management by syncing data from Google Sheets to Instantly email campaigns while maintaining tracking through n8n Data Tables. It processes leads in batches to avoid rate limits and ensures no duplicates are sent.\n\n---\n\n## âš™ï¸ Complete Setup Guide\n\n### 1ï¸âƒ£ **Create Your Google Sheet**\n\n**Option A: Use Our Template (Recommended)**\n1. Copy this template with test data: [Google Sheets Template](https://docs.google.com/spreadsheets/d/1eFXld6aiZvnQXg1lgt1COFyUh-zcy9VGx2GmFXwmYzM/edit?usp=sharing)\n2. Click **File â†’ Make a copy** to create your own version\n3. Populate with your lead data\n\n**Option B: Create Your Own**\nCreate a Google Sheet with these **required columns**:\n- `Firstname` - Contact's first name\n- `Email` - Contact's email address\n- `Website` - Company website URL\n- `Company` - Company name\n- `Title` - Job title/position\n\n**ğŸ’¡ Pro Tip:** Add as many leads as you want - the workflow handles batching automatically!\n\n---\n\n### 2ï¸âƒ£ **Set Up n8n Data Table**\n\nThe workflow uses **one Data Table** to track leads and their sync status.\n\n#### **Create the \"Leads\" Data Table:**\n\n1. In your n8n workflow editor, add a **Data Table node**\n2. Click **\"Create New Data Table\"**\n3. Name it: **`Leads`**\n4. Add the following columns:\n\n| Column Name | Type | Purpose |\n|------------|------|---------|\n| `Firstname` | string | Contact's first name |\n| `Lastname` | string | Contact's last name |\n| `email` | string | Contact's email (unique identifier) |\n| `website` | string | Company website |\n| `company` | string | Company name |\n| `title` | string | Job title |\n| `campaign` | string | Sync status (e.g., \"start\", \"added to instantly\") |\n| `focusarea` | string | Enriched data from Title field |\n\n5. Click **Save**\n\n**ğŸ“Œ Important:** The `campaign` field is crucial - it tracks which leads have been synced to prevent duplicates!\n\n---\n\n### 3ï¸âƒ£ **Connect Your Google Sheets Account**\n\n1. In the **\"Get row(s) in sheet\"** node, click **\"Create New Credential\"**\n2. Select **Google Sheets OAuth2 API**\n3. Follow the OAuth flow:\n   - Sign in with your Google account\n   - Grant n8n permission to access your sheets\n4. Select your spreadsheet from the dropdown\n5. Choose the correct sheet name (e.g., \"instantly leads\")\n6. Test the connection to verify it works\n\n---\n\n### 4ï¸âƒ£ **Connect Your Instantly Account**\n\n1. Go to [Instantly.ai](https://app.instantly.ai) and log in\n2. Navigate to **Settings â†’ API**\n3. Copy your **API Key**\n4. Back in n8n, open the **\"Create a lead\"** node\n5. Click **\"Create New Credential\"**\n6. Select **Instantly API**\n7. Paste your API key\n8. **Important:** Update the campaign ID:\n   - Current ID: `100fa5a2-3ed0-4f12-967c-b2cc4a07c3e8` (example)\n   - Replace with your actual campaign ID from Instantly\n   - Find this in Instantly under **Campaigns â†’ Your Campaign â†’ Settings**\n\n---\n\n### 5ï¸âƒ£ **Configure the Data Table Nodes**\n\nYou'll need to update **three Data Table nodes** to point to your newly created \"Leads\" table:\n\n#### **Node 1: \"Get row(s)\"**\n- Operation: `Get`\n- Data Table: Select **`Leads`**\n- Filter: `campaign = \"start\"`\n- This fetches only new, unsynced leads\n\n#### **Node 2: \"Update row(s)1\"** (Top Flow)\n- Operation: `Update`\n- Data Table: Select **`Leads`**\n- Filter: Match by `email` field\n- Update: Set `focusarea` to Title value\n- This enriches lead data\n\n#### **Node 3: \"Update row(s)\"** (Bottom Flow)\n- Operation: `Update`\n- Data Table: Select **`Leads`**\n- Filter: Match by `Email` field\n- Update: Set `campaign = \"added to instantly\"`\n- This prevents duplicate sends\n\n---\n\n### 6ï¸âƒ£ **Configure the Schedule (Optional)**\n\nThe workflow includes a **Schedule Trigger** for automation:\n\n**Default:** Runs every hour\n\n**To customize:**\n1. Click the **\"Schedule Trigger\"** node\n2. Choose your interval:\n   - Every 30 minutes\n   - Every 2 hours\n   - Daily at specific time\n   - Custom cron expression\n\n**ğŸ’¡ For testing:** Use the **\"When clicking 'Execute workflow'\"** manual trigger instead!\n\n---\n\n## ğŸ”„ How It Works\n\n### **Flow 1: Data Transfer (Top Path)**\n\nThis flow moves leads from Google Sheets â†’ n8n Data Table\n\n```\nManual Trigger â†’ Get Google Sheets â†’ Batch Split (30) â†’ Update Data Table â†’ Loop\n```\n\n**Step-by-step:**\n\n1. **Manual Trigger** - Click to start the workflow manually\n2. **Get row(s) in sheet** - Fetches ALL leads from your Google Sheet\n3. **Loop Over Items** - Splits into batches of 30 leads\n4. **Update row(s)1** - For each lead:\n   - Searches Data Table by `email`\n   - Updates or creates the lead record\n   - Stores `Title` â†’ `focusarea` for enrichment\n5. **Loop continues** - Processes next batch until all leads transferred\n\n**âš™ï¸ Why 30 at a time?**\n- Prevents API timeouts\n- Respects rate limits\n- Allows monitoring of progress\n- Can be adjusted in the node settings\n\n---\n\n### **Flow 2: Instantly Sync (Bottom Path)**\n\nThis flow syncs qualified leads from Data Table â†’ Instantly\n\n```\nSchedule Trigger â†’ Get Data Table (filtered) â†’ Individual Loop â†’ Create in Instantly â†’ Update Status\n```\n\n**Step-by-step:**\n\n1. **Schedule Trigger** - Runs automatically (every hour by default)\n2. **Get row(s)** - Queries Data Table for leads where `campaign = \"start\"`\n   - Only fetches NEW, unsynced leads\n   - Ignores leads already processed\n3. **Loop Over Items1** - Processes ONE lead at a time\n4. **Create a lead** - Sends lead to Instantly:\n   - Campaign: \"Launchday 1\"\n   - Maps: Email, Firstname, Company, Website\n   - Adds to email sequence\n5. **Update row(s)** - Updates Data Table:\n   - Sets `campaign = \"added to instantly\"`\n   - Prevents duplicate sends on next run\n6. **Loop continues** - Next lead until all processed\n\n**ğŸ” Why one at a time?**\n- Instantly API works best with individual requests\n- Ensures accurate status tracking\n- Prevents partial failures\n- Better error handling per lead\n\n---\n\n\n\n## âœ… Key Features Explained\n\n### **Batch Processing**\n- Processes 30 Google Sheet leads at once\n- Configurable in **Loop Over Items** node\n- Prevents timeouts on large datasets\n\n### **Duplicate Prevention**\n- Uses `campaign` field as status tracker\n- Only syncs leads where `campaign = \"start\"`\n- Updates to `\"added to instantly\"` after sync\n- Re-running workflow won't create duplicates\n\n### **Data Enrichment**\n- Stores job title in `focusarea` field\n- Can be used for personalization later\n- Extensible for additional enrichment\n\n### **Two-Trigger System**\n- **Manual Trigger**: For testing and one-time runs\n- **Schedule Trigger**: For automated hourly syncs\n- Both triggers use the same logic\n\n### **Error Tolerance**\n- Individual lead processing prevents cascade failures\n- One failed lead won't stop the entire batch\n- Easy to identify and fix problematic records\n\n---\n\n## ğŸ§ª Testing Your Workflow\n\n### **Step 1: Test Data Transfer (Flow 1)**\n1. Add 5 test leads to your Google Sheet\n2. Click the **Manual Trigger** node\n3. Click **\"Execute Node\"**\n4. Check your **Leads Data Table** - should see 5 new rows\n5. Verify `focusarea` field has data from `Title` column\n\n### **Step 2: Test Instantly Sync (Flow 2)**\n1. In Data Table, ensure at least one lead has `campaign = \"start\"`\n2. Click the **Schedule Trigger** node\n3. Click **\"Execute Node\"** (bypasses schedule for testing)\n4. Check Instantly dashboard - should see new lead(s)\n5. Check Data Table - `campaign` should update to `\"added to instantly\"`\n\n### **Step 3: Test Duplicate Prevention**\n1. Re-run the Schedule Trigger\n2. No new leads should be created in Instantly\n3. Data Table shows no changes (already marked as synced)\n\n---\n\n## ğŸš¨ Troubleshooting\n\n### **Issue: Google Sheets not fetching data**\n- âœ… Check OAuth credentials are valid\n- âœ… Verify spreadsheet ID in node settings\n- âœ… Ensure sheet name matches exactly\n- âœ… Check Google Sheet has data\n\n### **Issue: Data Table not updating**\n- âœ… Verify Data Table exists and is named \"Leads\"\n- âœ… Check column names match exactly (case-sensitive)\n- âœ… Ensure email field is populated (used for matching)\n\n### **Issue: Instantly not receiving leads**\n- âœ… Verify Instantly API key is correct\n- âœ… Update campaign ID to your actual campaign\n- âœ… Check `campaign = \"start\"` in Data Table\n- âœ… Verify email format is valid\n\n### **Issue: Workflow runs but nothing happens**\n- âœ… Check if Data Table has leads with `campaign = \"start\"`\n- âœ… Verify loop nodes aren't stuck (check execution logs)\n- âœ… Ensure batch size isn't set to 0\n\n---\n\n## ğŸ’¡ Pro Tips & Best Practices\n\n### **For Beginners:**\n1. **Start small** - Test with 5-10 leads first\n2. **Use manual trigger** - Don't enable schedule until tested\n3. **Check each node** - Execute nodes individually to debug\n4. **Monitor Data Table** - Use it as your source of truth\n5. **Keep backups** - Export Data Table regularly\n\n### **For Optimization:**\n1. **Adjust batch size** - Increase to 50-100 for large datasets\n2. **Add delays** - Insert \"Wait\" nodes if hitting rate limits\n3. **Filter in Google Sheets** - Only fetch new rows (use formulas)\n4. **Archive old leads** - Move synced leads to separate table\n5. **Add error notifications** - Connect Slack/email for failures\n\n### **For Scaling:**\n1. **Use multiple campaigns** - Add campaign selection logic\n2. **Implement retry logic** - Add \"IF\" nodes to retry failed syncs\n3. **Add data validation** - Check email format before syncing\n4. **Log everything** - Add \"Set\" nodes to track execution details\n5. **Monitor API usage** - Track Instantly API quota\n\n---\n\n## ğŸ“Š Expected Results\n\n### **After Setup:**\n- âœ… Google Sheets connected and fetching data\n- âœ… Data Table populated with lead information\n- âœ… Instantly receiving leads automatically\n- âœ… No duplicate sends occurring\n- âœ… Campaign status updating correctly\n\n### **Performance Metrics:**\n- **100 leads** - Processes in ~5-10 seconds\n- **1000 leads** - Processes in ~15-20 seconds\n- **Instantly API** - 1 lead per second typical speed\n- **Schedule runs** - Every hour by default\n\n---\n\n## ğŸ“¬ Need Help?\n\n### **Customization Services:**\n- Advanced filtering and segmentation\n- Multi-campaign management\n- Custom field mapping and enrichment\n- Webhook integrations for real-time sync\n- Error handling and monitoring setup\n- Scale to 10K+ leads per day\n\n### **Contact:**\n- ğŸ“§ **david@daexai.com**\n- ğŸ¥ **[Watch Full Tutorial](https://www.youtube.com/watch?v=c8iv1u_jxDY)**\n\n---\n\n## ğŸ“ What You'll Learn\n\nBy setting up this workflow, you'll master:\n\nâœ… **n8n Data Tables** - Creating, querying, and updating data  \nâœ… **Batch Processing** - Handling large datasets efficiently  \nâœ… **API Integrations** - Connecting Google Sheets and Instantly  \nâœ… **Workflow Logic** - Building complex multi-path automations  \nâœ… **Error Prevention** - Implementing duplicate checking  \nâœ… **Scheduling** - Automating workflows with triggers  \n\n---\n\n*Happy Flogramming! ğŸ‰*",
  "featuredImage": "/data/workflows/9743/9743.webp",
  "author": {
    "id": 101,
    "slug": "dae221",
    "name": "David Olusola",
    "avatar": ""
  },
  "categories": [
    "Lead Generation"
  ],
  "complexityLevel": "advanced",
  "price": 0,
  "visitors": 385,
  "downloads": 38,
  "createdAt": "2025-10-16T02:47:11.857Z",
  "updatedAt": "2026-01-16T09:01:42.352Z",
  "publishedAt": "2025-10-16T02:47:11.857Z",
  "nodes": 18,
  "version": "1.0.0",
  "sourceUrl": "https://n8n.io/workflows/9743"
}