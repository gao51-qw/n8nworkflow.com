{
  "workflow": {
    "id": 9156,
    "name": "Restore workflows and credentials from remote FTP backup storage",
    "views": 241,
    "recentViews": 0,
    "totalViews": 241,
    "createdAt": "2025-10-01T14:14:59.660Z",
    "description": "# Restore workflows & credentials from FTP - Remote Backup Solution\n\n### This n8n template provides a safe and intelligent restore solution for self-hosted n8n instances, allowing you to restore workflows and credentials from FTP remote backups.\n\nPerfect for disaster recovery or migrating between environments, this workflow automatically identifies your most recent FTP backup and provides a manual restore capability that intelligently excludes the current workflow to prevent conflicts. Works seamlessly with date-organized backup folders stored on any FTP/SFTP server.\n\n**Good to know**\n- This workflow uses n8n's native import commands (`n8n import:workflow` and `n8n import:credentials`)\n- Works with date-formatted backup folders (YYYY-MM-DD) stored on FTP servers\n- The restore process intelligently excludes the current workflow to prevent overwriting itself\n- Requires FTP/SFTP server access and proper Docker volume configuration\n- All downloaded files are temporarily stored server-side before import\n- Compatible with backups created by n8n's export commands and uploaded to FTP\n- Supports selective restoration: restore only credentials, only workflows, or both\n\n### How it works\n\n**Restore Process (Manual)**\n1. Manual trigger with configurable pinned data options (credentials: true/false, worflows: true/false)\n2. The Init node sets up all necessary paths, timestamps, and configuration variables using your environment settings\n3. The workflow connects to your FTP server and scans for available backup dates\n4. Automatically identifies the most recent backup folder (latest YYYY-MM-DD date)\n5. Creates temporary restore folders on your local server for downloaded files\n6. If restoring credentials:\n   - Lists all credential files from FTP backup folder\n   - Downloads credential files to temporary local folder\n   - Writes files to disk using \"Read/Write Files from Disk\" node\n   - Direct import using n8n's import command\n   - Credentials are imported with their encrypted format intact\n7. If restoring workflows:\n   - Lists all workflow JSON files from FTP backup folder\n   - Downloads workflow files to temporary local folder\n   - Filters out the credentials subfolder to prevent importing it as a workflow\n   - Writes workflow files to disk\n   - Intelligently excludes the current restore workflow to prevent conflicts\n   - Imports all other workflows using n8n's import command\n8. Optional email notifications provide detailed restore summaries with command outputs\n9. Temporary files remain on server for verification (manual cleanup recommended)\n\n### How to use\n\n**Prerequisites**\n- Existing n8n backups on FTP server in date-organized folder structure (format: `/ftp-backup-folder/YYYY-MM-DD/`)\n- Workflow backups as JSON files in the date folder\n- Credentials backups in subfolder: `/ftp-backup-folder/YYYY-MM-DD/n8n-credentials/`\n- FTP/SFTP access credentials configured in n8n\n- For new environments: `N8N_ENCRYPTION_KEY` from source environment (see dedicated section below)\n\n**Initial Setup**\n1. Configure your environment variables:\n   - `N8N_ADMIN_EMAIL`: Your email for notifications (optional)\n   - `FTP_BACKUP_FOLDER`: FTP path where backups are stored (e.g., `/n8n-backups`)\n   - `N8N_PROJECTS_DIR`: Projects root directory (e.g., `/files/n8n-projects-data`)\n   - `GENERIC_TIMEZONE`: Your local timezone (e.g., `Europe/Paris`)\n   - `N8N_ENCRYPTION_KEY`: Required if restoring credentials to a new environment (see dedicated section below)\n\n2. Create your FTP credential in n8n:\n   - Add a new FTP/SFTP credential\n   - Configure host, port, username, and password/key\n   - Test the connection\n\n3. Update the Init node:\n   - (Optional) Configure your email here: `const N8N_ADMIN_EMAIL = $env.N8N_ADMIN_EMAIL || 'youremail@world.com';`\n   - Set `PROJECT_FOLDER_NAME` to `\"Workflow-backups\"` (or your preferred name)\n   - Set `FTP_BACKUP_FOLDER` to match your FTP backup path (default: `/n8n-backups`)\n   - Set `credentials` to `\"n8n-credentials\"` (or your backup credentials folder name)\n   - Set `FTPName` to a descriptive name for your FTP server (used in notifications)\n\n4. Configure FTP credentials in nodes:\n   - Update the FTP credential in \"List Credentials Folders\" node\n   - Verify all FTP nodes use the same credential\n   - Test connection by executing \"List Credentials Folders\" node\n\n5. Optional: Configure SMTP for email notifications:\n   - Add SMTP credential in n8n\n   - Activate \"SUCCESS email Credentials\" and \"SUCCESS email Workflows\" nodes\n   - Or remove email nodes if not needed\n\n**Performing a Restore**\n1. Open the workflow and locate the \"Start Restore\" manual trigger node\n2. Edit the pinned data to choose what to restore:\n   ```json\n   {\n     \"credentials\": true,\n     \"worflows\": true\n   }\n   ```\n   - `credentials: true` - Restore credentials from FTP\n   - `worflows: true` - Restore workflows from FTP (note: typo preserved from original)\n   - Set both to `true` to restore everything\n3. Update the node's notes to reflect your choice (for documentation)\n4. Click \"Execute workflow\" on the \"Start Restore\" node\n5. The workflow will:\n   - Connect to FTP and find the most recent backup\n   - Download selected files to temporary local folders\n   - Import credentials and/or workflows\n   - Send success email with detailed operation logs\n6. Check the console logs or email for detailed restore summary\n\n**Important Notes**\n- The workflow automatically excludes itself during restore to prevent conflicts\n- Credentials are restored with their encryption intact. If restoring to a new environment, you must configure the `N8N_ENCRYPTION_KEY` from the source environment (see dedicated section below)\n- Existing workflows/credentials with the same names will be overwritten\n- Temporary folders are created with date prefix (e.g., `2025-01-15-restore-credentials`)\n- Test in a non-production environment first if unsure\n\n### Critical: N8N_ENCRYPTION_KEY Configuration\n\n**Why this is critical**: n8n generates an encryption key automatically on first launch and saves it in the `~/.n8n/config` file. However, if this file is lost (for example, due to missing Docker volume persistence), n8n will generate a NEW key, making all previously encrypted credentials inaccessible.\n\n**When you need to configure N8N_ENCRYPTION_KEY**:\n- Restoring to a new n8n instance\n- When your data directory is not persisted between container recreations\n- Migrating from one server to another\n- As a best practice to ensure key persistence across updates\n\n**How credentials encryption works**:\n- Credentials are encrypted with a specific key unique to each n8n instance\n- This key is auto-generated on first launch and stored in `/home/node/.n8n/config`\n- When you backup credentials, they remain encrypted but the key is NOT included\n- If the key file is lost or a new key is generated, restored credentials cannot be decrypted\n- Setting `N8N_ENCRYPTION_KEY` explicitly ensures the key remains consistent\n\n**Solution: Retrieve and configure the encryption key**\n\n**Step 1: Get the key from your source environment**\n\n```bash\n# Check if the key is defined in environment variables\ndocker-compose exec n8n printenv N8N_ENCRYPTION_KEY\n```\n\nIf this command returns nothing, the key is auto-generated and stored in n8n's data volume:\n\n```bash\n# Enter the container\ndocker-compose exec n8n sh\n\n# Check configuration file\ncat /home/node/.n8n/config\n\n# Exit container\nexit\n```\n\n**Step 2: Configure the key in your target environment**\n\n**Option A: Using .env file (recommended for security)**\n\n```bash\n# Add to your .env file\nN8N_ENCRYPTION_KEY=your_retrieved_key_here\n```\n\nThen reference it in `docker-compose.yml`:\n\n```yaml\nservices:\n  n8n:\n    environment:\n      - N8N_ENCRYPTION_KEY=${N8N_ENCRYPTION_KEY}\n```\n\n**Option B: Directly in docker-compose.yml (less secure)**\n\n```yaml\nservices:\n  n8n:\n    environment:\n      - N8N_ENCRYPTION_KEY=your_retrieved_key_here\n```\n\n**Step 3: Restart n8n**\n\n```bash\ndocker-compose restart n8n\n```\n\n**Step 4: Now restore your credentials**\n\nOnly after configuring the encryption key, run the restore workflow with `credentials: true`.\n\n**Best practice for future backups**:\n- Always save your `N8N_ENCRYPTION_KEY` in a secure location alongside your backups\n- Consider storing it in a password manager or secure vault\n- Document it in your disaster recovery procedures\n\n### Requirements\n\n**FTP Server**\n- FTP or SFTP server with existing n8n backups\n- Read access to backup folder structure\n- Network connectivity from n8n instance to FTP server\n\n**Existing Backups on FTP**\n- Date-organized backup folders (YYYY-MM-DD format)\n- Backup files created by n8n's export commands or compatible format\n- Credentials in subfolder structure: `YYYY-MM-DD/n8n-credentials/`\n\n**Environment**\n- Self-hosted n8n instance (Docker recommended)\n- Docker volumes mounted with write access to project folder\n- Access to n8n CLI commands (`n8n import:credentials` and `n8n import:workflow`)\n- Proper file system permissions for temporary folder creation\n\n**Credentials**\n- FTP/SFTP credential configured in n8n\n- Optional: SMTP credentials for email notifications\n\n### Technical Notes\n\n**FTP Connection and Download Process**\n- Uses n8n's built-in FTP node for all remote operations\n- Supports both FTP and SFTP protocols\n- Downloads files as binary data before writing to disk\n- Temporary local storage required for import process\n\n**Smart Workflow Exclusion**\n- During workflow restore, the current workflow's name is cleaned and matched against backup files\n- This prevents the restore workflow from overwriting itself\n- The exclusion logic handles special characters and spaces in workflow names\n- A bash command removes the current workflow from the temporary restore folder before import\n\n**Credentials Subfolder Filtering**\n- The \"Filter out Credentials sub-folder\" node checks for binary data presence\n- Only items with binary data (actual files) proceed to disk write\n- Prevents the credentials subfolder from being imported as a workflow\n\n**Timezone Handling**\n- All timestamps use UTC for technical operations\n- Display times use local timezone for user-friendly readability\n- FTP backup folder scanning works with YYYY-MM-DD format regardless of timezone\n\n**Security**\n- FTP connections should use SFTP or FTPS for encrypted transmission\n- Credentials are imported in n8n's encrypted format (encryption preserved)\n- Temporary files stored in project-specific folders\n- Consider access controls for who can trigger restore operations\n- No sensitive credential data is logged in console output\n\n### Troubleshooting\n\n**Common Issues**\n1. **FTP connection fails**: Verify FTP credentials are correctly configured and server is accessible\n2. **No backups found**: Ensure the `FTP_BACKUP_FOLDER` path is correct and contains date-formatted folders (YYYY-MM-DD)\n3. **Permission errors**: Ensure Docker user has write access to `N8N_PROJECTS_DIR` for temporary folders\n4. **Path not found**: Verify all volume mounts in `docker-compose.yml` match your project folder location\n5. **Import fails**: Check that backup files are in valid n8n export format\n6. **Download errors**: Verify FTP path structure matches expected format (date folder / credentials subfolder / files)\n7. **Workflow conflicts**: The workflow automatically excludes itself, but ensure backup files are properly named\n8. **Credentials not restored**: Verify the FTP backup contains a `n8n-credentials` subfolder with credential files\n9. **Credentials decrypt error**: Ensure `N8N_ENCRYPTION_KEY` matches the source environment\n\n**Error Handling**\n- \"Find Last Backup\" node has error output configured to catch FTP listing issues\n- \"Download Workflow Files\" node continues on error to handle presence of credentials subfolder\n- All critical nodes log detailed error information to console\n- Email notifications include stdout and stderr from import commands\n\n### Version Compatibility\n\n- Tested with n8n version 1.113.3\n- Compatible with Docker-based n8n installations\n- Requires n8n CLI access (available in official Docker images)\n- Works with any FTP/SFTP server (Synology NAS, dedicated FTP servers, cloud FTP services)\n\n---\n\n*This workflow is designed for FTP/SFTP remote backup restoration. For local disk backups, see the companion workflow \"n8n Restore from Disk\".*\n\n*Works best with backups from: \"Automated n8n Workflows & Credentials Backup to Local/Server Disk & FTP\"*",
    "workflow": {
      "meta": {
        "instanceId": ""
      },
      "nodes": [
        {
          "id": "",
          "name": "Sticky Note",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -48,
            112
          ],
          "parameters": {
            "color": 5,
            "width": 1776,
            "height": 336,
            "content": "## 2. Restore Workflows from FTP"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "SUCCESS email Credentials",
          "type": "n8n-nodes-base.emailSend",
          "disabled": true,
          "position": [
            1056,
            -160
          ],
          "webhookId": "",
          "parameters": {
            "text": "=Credential restore from FTP \"{{ $('Init').first().json.customConfig.FTPName }}\" has been successfully executed ü•≥\n\nexitCode: {{ $json.exitCode }}\nstderr: {{ $json.stderr || \"no error\"}}\n\nSteps:\n\n1. Find FTP Last Backup: {{ $('Find Last Backup').item.json.ftpCredentialsPath }}\n\n2. Restore credentials:\n{{ $json.stdout }}",
            "options": {
              "appendAttribution": false
            },
            "subject": "=n8n SUCCESS: {{ $workflow.name }}",
            "toEmail": "={{ $env.N8N_ADMIN_EMAIL }}",
            "fromEmail": "admin <admin@example.com>",
            "emailFormat": "text"
          },
          "credentials": {
            "smtp": {
              "id": "credential-id",
              "name": "smtp Credential"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "",
          "name": "List Credentials Folders",
          "type": "n8n-nodes-base.ftp",
          "position": [
            -672,
            48
          ],
          "parameters": {
            "path": "={{ $('Init').item.json.customConfig.FTP_BACKUP_FOLDER }}",
            "operation": "list"
          },
          "credentials": {
            "ftp": {
              "id": "credential-id",
              "name": "ftp Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Start Restore",
          "type": "n8n-nodes-base.manualTrigger",
          "notes": "CRED 1 WF‚ÄØ0",
          "position": [
            -1104,
            48
          ],
          "parameters": {},
          "notesInFlow": true,
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "List Most Recent Workflows Folder",
          "type": "n8n-nodes-base.ftp",
          "position": [
            224,
            224
          ],
          "parameters": {
            "path": "={{ $('Find Last Backup').item.json.ftpWorkflowsPath }}",
            "operation": "list"
          },
          "credentials": {
            "ftp": {
              "id": "credential-id",
              "name": "ftp Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Write Workflow Files To Disk",
          "type": "n8n-nodes-base.readWriteFile",
          "position": [
            848,
            224
          ],
          "parameters": {
            "options": {},
            "fileName": "={{ $('Init').first().json.workflowConfig.PROJECT_ROOT_PATH }}/{{ $('Find Last Backup').item.json.latestBackupDate }}{{ $('Init').first().json.customConfig.workflows_temp_folder}}/{{ $json.name }}",
            "operation": "write"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Write Credential Files To Disk",
          "type": "n8n-nodes-base.readWriteFile",
          "position": [
            640,
            -160
          ],
          "parameters": {
            "options": {},
            "fileName": "={{ $('Init').first().json.workflowConfig.PROJECT_ROOT_PATH }}/{{ $('Find Last Backup').item.json.latestBackupDate }}{{ $('Init').first().json.customConfig.credentials_temp_folder}}/{{ $json.name }}",
            "operation": "write"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "SUCCESS email Workflows",
          "type": "n8n-nodes-base.emailSend",
          "disabled": true,
          "position": [
            1472,
            224
          ],
          "webhookId": "",
          "parameters": {
            "text": "=Workflows‚Äô restore from FTP \"{{ $('Init').first().json.customConfig.FTPName }}\" has been successfully executed ü•≥\n\nexitCode: {{ $json.exitCode }}\nstderr: {{ $json.stderr || \"no error\"}}\n\nSteps:\n\n1. Find Last Backup: {{ $('Find Last Backup').item.json.ftpWorkflowsPath }}\n\n2. Exclude current workflow:\n{{ $('Exclude Current Workflow From Selection').item.json.stdout }}\n\n3. Restore workflows:\n{{ $('Restore Workflows').item.json.stdout }}",
            "options": {
              "appendAttribution": false
            },
            "subject": "=n8n SUCCESS: {{ $workflow.name }}",
            "toEmail": "={{ $env.N8N_ADMIN_EMAIL }}",
            "fromEmail": "admin <admin@example.com>",
            "emailFormat": "text"
          },
          "credentials": {
            "smtp": {
              "id": "credential-id",
              "name": "smtp Credential"
            }
          },
          "typeVersion": 2.1
        },
        {
          "id": "",
          "name": "ERROR:‚ÄØFind Most Recent Credentials Folder",
          "type": "n8n-nodes-base.stopAndError",
          "position": [
            -256,
            240
          ],
          "parameters": {
            "errorMessage": "={{ $json.error }}"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Download Workflow Files",
          "type": "n8n-nodes-base.ftp",
          "notes": "Ignore Credentials sub-workflow error",
          "onError": "continueRegularOutput",
          "position": [
            432,
            224
          ],
          "parameters": {
            "path": "={{ $json.path }}",
            "options": {}
          },
          "credentials": {
            "ftp": {
              "id": "credential-id",
              "name": "ftp Credential"
            }
          },
          "notesInFlow": true,
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Download Credential Files",
          "type": "n8n-nodes-base.ftp",
          "position": [
            432,
            -160
          ],
          "parameters": {
            "path": "={{ $json.path }}",
            "options": {}
          },
          "credentials": {
            "ftp": {
              "id": "credential-id",
              "name": "ftp Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Filter out Credentials sub-folder",
          "type": "n8n-nodes-base.filter",
          "position": [
            640,
            224
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "",
                  "operator": {
                    "type": "object",
                    "operation": "exists",
                    "singleValue": true
                  },
                  "leftValue": "={{ $binary.data }}",
                  "rightValue": ""
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "",
          "name": "Exclude Current Workflow From Selection",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            1056,
            224
          ],
          "parameters": {
            "command": "=# Remove the current workflow file from restore folder to prevent self-restoration\n# Execute this AFTER writing files to disk but BEFORE import command\n\n# Get current workflow name and clean it\nWORKFLOW_NAME=\"{{ $workflow.name }}\"\nRESTORE_FOLDER=\"{{ $('Init').first().json.workflowConfig.PROJECT_ROOT_PATH }}/{{ $('Find Last Backup').item.json.latestBackupDate }}{{ $('Init').first().json.customConfig.workflows_temp_folder}}\"\n\n# Clean the workflow name (same logic as Clean Filename node)\nCLEANED_NAME=$(echo \"$WORKFLOW_NAME\" | sed 's/[<>:\"/\\\\|?*[:cntrl:]]/_/g' | sed 's/[[:space:].]\\+/_/g' | sed 's/_\\+/_/g' | sed 's/^_\\+//;s/_\\+$//')\n\necho \"üîç Current workflow: $WORKFLOW_NAME\"\necho \"üßπ Cleaned name: $CLEANED_NAME\"\necho \"üìÇ Restore folder: $RESTORE_FOLDER\"\n\n# Find and remove file matching the current workflow name\nif [ -f \"$RESTORE_FOLDER/${CLEANED_NAME}.json\" ]; then\n  rm \"$RESTORE_FOLDER/${CLEANED_NAME}.json\"\n  echo \"‚úÖ Removed current workflow file: ${CLEANED_NAME}.json\"\n  echo \"‚ö†Ô∏è This workflow will NOT be restored to prevent overwrite\"\nelse\n  echo \"‚ÑπÔ∏è Current workflow file not found in restore folder (already safe)\"\nfi\n\n# Count remaining files\nFILE_COUNT=$(ls -1 \"$RESTORE_FOLDER\"/*.json 2>/dev/null | wc -l)\necho \"üìä Remaining workflows to restore: $FILE_COUNT\""
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Restore Workflows",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            1264,
            224
          ],
          "parameters": {
            "command": "=n8n import:workflow --separate --input={{ $('Init').first().json.workflowConfig.PROJECT_ROOT_PATH }}/{{ $('Find Last Backup').item.json.latestBackupDate }}{{ $('Init').first().json.customConfig.workflows_temp_folder }}"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Restore Credentials",
          "type": "n8n-nodes-base.executeCommand",
          "position": [
            848,
            -160
          ],
          "parameters": {
            "command": "=n8n import:credentials --separate --input={{ $('Init').first().json.workflowConfig.PROJECT_ROOT_PATH }}/{{ $('Find Last Backup').item.json.latestBackupDate }}{{ $('Init').first().json.customConfig.credentials_temp_folder}}"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Sticky Note1",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -1168,
            -768
          ],
          "parameters": {
            "color": 4,
            "width": 1088,
            "height": 1216,
            "content": "## Start here\n### ‚ö† Warnings ‚ö†\n‚Ä¢ In case of full restore, restore Credentials first!\n‚Ä¢ Any already existing credential or workflow will be overwritten‚Ä¶\n\n### Instructions\n‚Ä¢ Re-create your FTP credential (and optionnaly your SMTP one).\n‚Ä¢ Manually copy this workflow to your new n8n instance.\n‚Ä¢ Launch it and restore everything!\n\nCan be used to move your workflows to another instance üëçüèª\n\n### Configure the \"Start Restore\" JSON according to your need\n```\n[\n  {\n    \"credentials\": true,\n    \"worflows\": false\n  }\n]\n```\n(and modify the \"notes\" too!).\n\n### Configure the \"Init\" node\n```\nconst FTP_BACKUP_FOLDER = $env.FTP_BACKUP_FOLDER || '/n8n-backups';\nconst credentials_temp_folder = '-restore-credentials';\nconst workflows_temp_folder = '-restore-workflows';\nconst FTPName = 'Your FTP Server Name';\nconst credentials = \"n8n-credentials\";\n```"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Sticky Note2",
          "type": "n8n-nodes-base.stickyNote",
          "position": [
            -48,
            -272
          ],
          "parameters": {
            "color": 3,
            "width": 1776,
            "height": 352,
            "content": "## 1. Restore Credentials from FTP"
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Restore Credentials?",
          "type": "n8n-nodes-base.if",
          "position": [
            16,
            -160
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "",
                  "operator": {
                    "type": "boolean",
                    "operation": "true",
                    "singleValue": true
                  },
                  "leftValue": "={{ $('Start Restore').first().json.credentials }}",
                  "rightValue": "true"
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "",
          "name": "Restore Workflows?",
          "type": "n8n-nodes-base.if",
          "position": [
            16,
            224
          ],
          "parameters": {
            "options": {},
            "conditions": {
              "options": {
                "version": 2,
                "leftValue": "",
                "caseSensitive": true,
                "typeValidation": "strict"
              },
              "combinator": "and",
              "conditions": [
                {
                  "id": "",
                  "operator": {
                    "type": "boolean",
                    "operation": "true",
                    "singleValue": true
                  },
                  "leftValue": "={{ $('Start Restore').first().json.worflows }}",
                  "rightValue": ""
                }
              ]
            }
          },
          "typeVersion": 2.2
        },
        {
          "id": "",
          "name": "Init",
          "type": "n8n-nodes-base.code",
          "position": [
            -880,
            48
          ],
          "parameters": {
            "jsCode": "// YOUR_AWS_SECRET_KEY_HERE==\n// üìÖ LOCAL DATE/TIME INITIALIZATION\n// YOUR_AWS_SECRET_KEY_HERE==\n\nconst now = new Date();\n\n// YOUR_AWS_SECRET_KEY_HERE==\n// üåç USER-DEFINED TIMEZONE CONFIGURATION\n// YOUR_AWS_SECRET_KEY_HERE==\n// ‚ö†Ô∏è  IMPORTANT: This code runs on the n8n SERVER, not in your browser!\n// ‚ö†Ô∏è  Configure the timezone where you want executions to be scheduled,\n//      regardless of where your n8n server is physically located.\n//\n// üìç Common timezone examples:\n// - 'Europe/Paris'       ‚Üí Central European Time (CET/CEST)\n// - 'America/New_York'   ‚Üí Eastern Time (EST/EDT)\n// - 'America/Chicago'    ‚Üí Central Time (CST/CDT)\n// - 'America/Los_Angeles'‚Üí Pacific Time (PST/PDT)\n// - 'Asia/Tokyo'         ‚Üí Japan Standard Time (JST)\n// - 'Asia/Shanghai'      ‚Üí China Standard Time (CST)\n// - 'Australia/Sydney'   ‚Üí Australian Eastern Time (AET)\n// - 'UTC'                ‚Üí Coordinated Universal Time\n//\n// üîß TO CONFIGURE FOR YOUR USE CASE:\n// 1. Uncomment and edit the lines below with your desired timezone\n// 2. Comment out the automatic detection line\n//\n// To use user-defined timezone instead, UNCOMMENT these lines:\n// const USER_TIMEZONE = 'Europe/Paris';  // üëà EDIT THIS for your location\n// const LOCAL_TIMEZONE = USER_TIMEZONE;  // üëà EDIT THIS for your location\n//\n// üïò Automatic detection (uses server timezone or environment variable):\nconst LOCAL_TIMEZONE = $env.GENERIC_TIMEZONE || 'Europe/Paris';  // üü¢ Default fallback\n// To use user-defined timezone instead, comment out the above line\n\n// Local datetime in YYYY-MM-DD_HH-MM-SS format\nconst localDateTime = now.toLocaleString('sv-SE', { \n  timeZone: LOCAL_TIMEZONE,\n  year: 'numeric',\n  month: '2-digit',\n  day: '2-digit',\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit'\n}).replace(' ', '_').replace(/:/g, '-');\n\n// Local formatted time for display\nconst localDateTimeFormatted = now.toLocaleString('sv-SE', { \n  timeZone: LOCAL_TIMEZONE,\n  year: 'numeric',\n  month: '2-digit',\n  day: '2-digit',\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit'\n});\n\n// Local time HH:MM:SS format\nconst localTimeFormatted = now.toLocaleString('sv-SE', { \n  timeZone: LOCAL_TIMEZONE,\n  hour: '2-digit',\n  minute: '2-digit',\n  second: '2-digit'\n});\n\n// Local date in YYYY-MM-DD format\nconst localDate = now.toLocaleDateString('sv-SE', { timeZone: LOCAL_TIMEZONE });\n\n// Local time in French format\nconst localTimeFR = now.toLocaleString('sv-SE', { \n  timeZone: LOCAL_TIMEZONE,\n  hour: '2-digit',\n  minute: '2-digit'\n}).replace(/:/g, 'h').replace(/^0(\\d)h/, '$1h');\n\nconsole.log('üöÄ USER-DEFINE TIMEZONE VARIABLES INITIALISED (Local timezone):');\nconsole.log(`   üåç Timezone: ${LOCAL_TIMEZONE}`);\nconsole.log(`   ‚ú® Now (UTC): ${now}`);\nconsole.log(`   üìÖ Local date/time: ${localDateTime}`);\nconsole.log(`   üïê Local time: ${localDateTimeFormatted}`);\nconsole.log(`   üïê Local time: ${localTimeFormatted}`);\nconsole.log(`   üìÖ Local date: ${localDate}`);\nconsole.log(`   üìÖ Local time (FR): ${localTimeFR}`);\n\n// Create structure for time data output\nconst timeData = {\n  localTimeZone:LOCAL_TIMEZONE,\n  nowDateUTC: now,\n  nowUTCstring: now.toISOString(),        // UTC for calculations\n  localDateTime: localDateTime,     // YYY-MM-DD_HH-MM-SS format\n  localDateTimeFormatted: localDateTimeFormatted, // Human readable\n  localTimeFormatted: localTimeFormatted, // Human readable\n  localDate: localDate,             // YYYY-MM-DD format\n  localTime: localTimeFR            // HHhMM format (FR)\n}\n\n// YOUR_AWS_SECRET_KEY_HERE==\n// üìù WORKFLOW STANDARD CONFIGURATION\n// YOUR_AWS_SECRET_KEY_HERE==\n\nconst N8N_ADMIN_EMAIL = $env.N8N_ADMIN_EMAIL || 'user@example.com';\nconst WORKFLOW_NAME = $workflow.name;\nconst N8N_PROJECTS_DIR = $env.N8N_PROJECTS_DIR || '/files/n8n-projects-data'; // ‚ö†Ô∏è Your projects‚Äô ROOT folder here\n// projects-root-folder/\n//   ‚îî‚îÄ‚îÄ Your-project-folder-name/\n//       ‚îú‚îÄ‚îÄ logs/\n//       ‚îú‚îÄ‚îÄ reports/\n//       ‚îú‚îÄ‚îÄ ...\n//       ‚îî‚îÄ‚îÄ [other project files]\nconst PROJECT_FOLDER_NAME = \"Workflow-backups\"; // ‚ö†Ô∏è Your project folder\nconst PROJECT_ROOT_PATH = `${N8N_PROJECTS_DIR}/${PROJECT_FOLDER_NAME}`;\n// const N8N_MEDIA_ROOT_PATH = $env.N8N_MEDIA_SHARED || '/files/n8n-media-shared'; // ‚ö†Ô∏è Your public folder, accessible from inet\n// const mediaOutputFolder = \"/output\";\n// const mediaTempFolder = \"/temp\";\n// const N8N_FILE_SERVER_PURL = $env.N8N_FILE_SERVER_PURL || 'https://files.srv815447.hstgr.cloud'; // File serve public url\n\nconst LOGS_PATH = `${PROJECT_ROOT_PATH}/logs`;\n// const logFileName = `${localDateTime2}-${WORKFLOW_NAME.replace(/[^a-zA-Z0-9]/g, '_')}_logs.json`;  // ‚ö†Ô∏è Your log file name\nconst logFileName = `${localDateTime}-backup_logs.json`;  // ‚ö†Ô∏è Your log file name\nconst logPathFileName = `${LOGS_PATH}/${logFileName}`;\n\n// Configuration for report generation\nconst REPORTS_PATH = `${PROJECT_ROOT_PATH}/reports`;\nconst reportFileName = `${localDateTime}-report.txt`;\nconst reportPathFileName = `${REPORTS_PATH}/${reportFileName}`;\n\n// Console output\nconsole.log('üßæ STANDARD WORKFLOW VARIABLES INITIALISED:');\nconsole.log(`   üìÅ Admin email: ${N8N_ADMIN_EMAIL}`);\nconsole.log(`   üìÅ Workflow name: ${WORKFLOW_NAME}`);\nconsole.log(`   üìÅ Projects folder: ${N8N_PROJECTS_DIR}`);\nconsole.log(`   üìÅ Project folder name: ${PROJECT_FOLDER_NAME}`);\nconsole.log(`   üìÅ Project root path: ${PROJECT_ROOT_PATH}`);\n// console.log(`   üìÅ Media root path: ${N8N_MEDIA_ROOT_PATH}`);\n// console.log(`   üìÅ File server public URL: ${N8N_FILE_SERVER_PURL}`);\nconsole.log(`   üìÅ Log path: ${LOGS_PATH}`);\nconsole.log(`   üìÅ Log file name: ${logFileName}`);\nconsole.log(`   üìÅ Log file path: ${logPathFileName}`);\nconsole.log(`   üìÅ Reports path: ${REPORTS_PATH}`);\nconsole.log(`   üìÅ Report file name: ${reportFileName}`);\nconsole.log(`   üìÅ Report file path: ${reportPathFileName}`);\n\n// Create structure for workflow configuration output\nconst workflowConfig = {\n  workflowStep: 'init',\n  N8N_ADMIN_EMAIL,\n  WORKFLOW_NAME,\n  N8N_PROJECTS_DIR,\n  PROJECT_FOLDER_NAME,\n  PROJECT_ROOT_PATH,\n  // N8N_MEDIA_ROOT_PATH,\n  // mediaOutputFolder,\n  // mediaTempFolder,\n  // N8N_FILE_SERVER_PURL,\n  LOGS_PATH,\n  logFileName,\n  logPathFileName,\n  REPORTS_PATH,\n  reportFileName,\n  reportPathFileName\n}\n\n// YOUR_AWS_SECRET_KEY_HERE==\n// üìù WORKFLOW CUSTOM CONFIGURATION\n// YOUR_AWS_SECRET_KEY_HERE==\n// ‚ö†Ô∏è  INSERT HERE: your workflow custom configuration variables\n\n// Base backup path using your FTP volume configuration (folder must exist)\nconst BACKUP_FOLDER = $env.N8N_BACKUP_FOLDER || '/files/n8n-backups'; // ‚ö†Ô∏è Change the default value for your n8n backup folder\nconst credentials_temp_folder = '-restore-credentials';\nconst workflows_temp_folder = '-restore-workflows';\nconst FTP_BACKUP_FOLDER = $env.FTP_BACKUP_FOLDER || '/n8n-backups';\nconst FTPName = 'Your FTP Server Name';\n\nconst credentials = \"n8n-credentials\";\n\n// Console output\nconsole.log('üßæ CUSTOM WORKFLOW VARIABLES INITIALISED:');\nconsole.log(`   üíæ Backup folder: ${BACKUP_FOLDER}`);\nconsole.log('      File prefix:', localDate);\nconsole.log('      Timestamp (UTC):', now);\n\nconst customConfig = {\n  backupFolder: BACKUP_FOLDER,\n  credentials_temp_folder,\n  workflows_temp_folder,\n  FTP_BACKUP_FOLDER,\n  FTPName,\n  credentials\n}\n\n// YOUR_AWS_SECRET_KEY_HERE==\n// üìä OUTPUT DATA\n// YOUR_AWS_SECRET_KEY_HERE==\n\nconst initData = {\n  timeData,\n  workflowConfig,\n  customConfig\n};\n\nreturn [{ json: initData }];"
          },
          "typeVersion": 2
        },
        {
          "id": "",
          "name": "Create Temp Folder",
          "type": "n8n-nodes-base.executeCommand",
          "notes": "For credential files on server",
          "position": [
            -256,
            48
          ],
          "parameters": {
            "command": "=#!/bin/bash\n\n# Create temporary restore folders based on trigger parameters\n# This script creates folders only for selected restore options\n\n# Get configuration from Init node\nPROJECT_ROOT_PATH=\"{{ $('Init').first().json.workflowConfig.PROJECT_ROOT_PATH }}\"\nLOCAL_DATE=\"{{ $json.latestBackupDate }}\"\nCREDENTIALS_TEMP_FOLDER=\"{{ $('Init').first().json.customConfig.credentials_temp_folder }}\"\nWORKFLOWS_TEMP_FOLDER=\"{{ $('Init').first().json.customConfig.workflows_temp_folder }}\"\n\n# Get trigger parameters\nRESTORE_CREDENTIALS=\"{{ $('Start Restore').first().json.credentials }}\"\nRESTORE_WORKFLOWS=\"{{ $('Start Restore').first().json.worflows }}\"\n\necho \"üìã Restore parameters:\"\necho \"   üîë Credentials: $RESTORE_CREDENTIALS\"\necho \"   üîÑ Workflows: $RESTORE_WORKFLOWS\"\necho \"\"\n\nFOLDERS_CREATED=0\n\n# Create credentials temp folder if needed\nif [ \"$RESTORE_CREDENTIALS\" = \"true\" ]; then\n  CRED_PATH=\"${PROJECT_ROOT_PATH}/${LOCAL_DATE}${CREDENTIALS_TEMP_FOLDER}\"\n  mkdir -p \"$CRED_PATH\"\n  echo \"‚úÖ Created credentials temp folder: $CRED_PATH\"\n  FOLDERS_CREATED=$((FOLDERS_CREATED + 1))\nfi\n\n# Create workflows temp folder if needed\nif [ \"$RESTORE_WORKFLOWS\" = \"true\" ]; then\n  WORK_PATH=\"${PROJECT_ROOT_PATH}/${LOCAL_DATE}${WORKFLOWS_TEMP_FOLDER}\"\n  mkdir -p \"$WORK_PATH\"\n  echo \"‚úÖ Created workflows temp folder: $WORK_PATH\"\n  FOLDERS_CREATED=$((FOLDERS_CREATED + 1))\nfi\n\necho \"\"\necho \"üìä SUMMARY: $FOLDERS_CREATED folder(s) created\"\n\nif [ \"$FOLDERS_CREATED\" -eq 0 ]; then\n  echo \"‚ö†Ô∏è  No folders created (no restore option selected)\"\n  exit 1\nfi"
          },
          "notesInFlow": true,
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "List Credentials Files",
          "type": "n8n-nodes-base.ftp",
          "position": [
            224,
            -160
          ],
          "parameters": {
            "path": "={{ $('Find Last Backup').item.json.ftpCredentialsPath }}",
            "operation": "list"
          },
          "credentials": {
            "ftp": {
              "id": "credential-id",
              "name": "ftp Credential"
            }
          },
          "typeVersion": 1
        },
        {
          "id": "",
          "name": "Find Last Backup",
          "type": "n8n-nodes-base.code",
          "onError": "continueErrorOutput",
          "position": [
            -464,
            48
          ],
          "parameters": {
            "jsCode": "// YOUR_AWS_SECRET_KEY_HERE==\n// üîç FIND LATEST BACKUP FOLDER FROM FTP\n// YOUR_AWS_SECRET_KEY_HERE==\n// ‚ö†Ô∏è CONFIGURE THIS NODE WITH:\n// SETTINGS > ON ERROR > CONTINUE (USING ERROR OUTPUT)\n\n// Extract init data from Init node\nconst initData = $('Init').first().json;\nconst { customConfig } = initData;\n\nconst FTP_BACKUP_FOLDER = customConfig.FTP_BACKUP_FOLDER;\nconst credentials = customConfig.credentials;\n\nconsole.log(`üîç Searching for latest backup in FTP: ${FTP_BACKUP_FOLDER}`);\nconsole.log(`üìÅ Target credentials folder: ${credentials}`);\n\ntry {\n  // Get FTP listing from previous node (List FTP)\n  const ftpListing = $input.all();\n  \n  if (!ftpListing || ftpListing.length === 0) {\n    throw new Error('No FTP listing found. Please check FTP connection.');\n  }\n  \n  console.log(`üìÇ FTP returned ${ftpListing.length} item(s)`);\n  \n  // Filter for directories only (type 'd') with date format YYYY-MM-DD\n  const datePattern = /^\\d{4}-\\d{2}-\\d{2}$/;\n  const dateDirectories = ftpListing\n    .filter(item => {\n      const itemData = item.json;\n      // FTP node returns items with 'name' and 'type' properties\n      // type 'd' = directory, type '-' = file\n      const isDirectory = itemData.type === 'd' || itemData.type === 1; // type can be string or number\n      const matchesDateFormat = datePattern.test(itemData.name);\n      \n      if (isDirectory && matchesDateFormat) {\n        console.log(`‚úì Found date directory: ${itemData.name}`);\n      }\n      \n      return isDirectory && matchesDateFormat;\n    })\n    .map(item => item.json.name);\n  \n  console.log(`üìÖ Found ${dateDirectories.length} date-formatted directories`);\n  \n  if (dateDirectories.length === 0) {\n    throw new Error('No date-formatted directories (YYYY-MM-DD) found in FTP backup folder');\n  }\n  \n  // Sort directories by date (newest first)\n  const sortedDirectories = dateDirectories.sort((a, b) => {\n    const dateA = new Date(a);\n    const dateB = new Date(b);\n    return dateB - dateA; // Descending order (newest first)\n  });\n  \n  console.log(`üìÖ Sorted directories (newest first): ${sortedDirectories.join(', ')}`);\n  \n  // Get the most recent directory\n  const latestBackupDate = sortedDirectories[0];\n  const ftpCredentialsPath = `${FTP_BACKUP_FOLDER}/${latestBackupDate}/${credentials}`;\n  const ftpWorkflowsPath = `${FTP_BACKUP_FOLDER}/${latestBackupDate}/`;\n  \n  console.log(`‚úÖ Latest backup date: ${latestBackupDate}`);\n  console.log(`‚úÖ FTP credentials path: ${ftpCredentialsPath}`);\n  \n  // Return result for next node\n  const result = {\n    latestBackupDate,\n    ftpCredentialsPath,\n    ftpWorkflowsPath,\n    FTP_BACKUP_FOLDER,\n    credentialsFolder: credentials\n  };\n  \n  return [{ json: result }];\n  \n} catch (error) {\n  console.error(`‚ùå Error finding latest backup: ${error.message}`);\n  throw new Error(`Failed to find latest backup: ${error.message}`);\n}"
          },
          "typeVersion": 2
        }
      ],
      "pinData": {
        "Start Restore": [
          {
            "worflows": false,
            "credentials": true
          }
        ]
      },
      "connections": {
        "Init": {
          "main": [
            [
              {
                "node": "List Credentials Folders",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Start Restore": {
          "main": [
            [
              {
                "node": "Init",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Find Last Backup": {
          "main": [
            [
              {
                "node": "Create Temp Folder",
                "type": "main",
                "index": 0
              }
            ],
            [
              {
                "node": "ERROR:‚ÄØFind Most Recent Credentials Folder",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Restore Workflows": {
          "main": [
            [
              {
                "node": "SUCCESS email Workflows",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Create Temp Folder": {
          "main": [
            [
              {
                "node": "Restore Credentials?",
                "type": "main",
                "index": 0
              },
              {
                "node": "Restore Workflows?",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Restore Workflows?": {
          "main": [
            [
              {
                "node": "List Most Recent Workflows Folder",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Restore Credentials": {
          "main": [
            [
              {
                "node": "SUCCESS email Credentials",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Restore Credentials?": {
          "main": [
            [
              {
                "node": "List Credentials Files",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "List Credentials Files": {
          "main": [
            [
              {
                "node": "Download Credential Files",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Download Workflow Files": {
          "main": [
            [
              {
                "node": "Filter out Credentials sub-folder",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "List Credentials Folders": {
          "main": [
            [
              {
                "node": "Find Last Backup",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Download Credential Files": {
          "main": [
            [
              {
                "node": "Write Credential Files To Disk",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Write Workflow Files To Disk": {
          "main": [
            [
              {
                "node": "Exclude Current Workflow From Selection",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Write Credential Files To Disk": {
          "main": [
            [
              {
                "node": "Restore Credentials",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Filter out Credentials sub-folder": {
          "main": [
            [
              {
                "node": "Write Workflow Files To Disk",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "List Most Recent Workflows Folder": {
          "main": [
            [
              {
                "node": "Download Workflow Files",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Exclude Current Workflow From Selection": {
          "main": [
            [
              {
                "node": "Restore Workflows",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      }
    },
    "lastUpdatedBy": 1,
    "workflowInfo": {
      "nodeCount": 23,
      "nodeTypes": {
        "n8n-nodes-base.if": {
          "count": 2
        },
        "n8n-nodes-base.ftp": {
          "count": 5
        },
        "n8n-nodes-base.code": {
          "count": 2
        },
        "n8n-nodes-base.filter": {
          "count": 1
        },
        "n8n-nodes-base.emailSend": {
          "count": 2
        },
        "n8n-nodes-base.stickyNote": {
          "count": 3
        },
        "n8n-nodes-base.stopAndError": {
          "count": 1
        },
        "n8n-nodes-base.manualTrigger": {
          "count": 1
        },
        "n8n-nodes-base.readWriteFile": {
          "count": 2
        },
        "n8n-nodes-base.executeCommand": {
          "count": 4
        }
      }
    },
    "status": "published",
    "user": {
      "name": "Florent",
      "username": "florent",
      "bio": "IT Business Analyst for 8+ years, I am finding joy in developping again, with the help of n8n and AIs ü§ó",
      "verified": true,
      "links": [
        ""
      ],
      "avatar": "https://gravatar.com/avatar/0ee3705eecc1ae4bcf7711dffac52a361d8a770574abbacab758008a85f440b6?r=pg&d=retro&size=200"
    },
    "nodes": [
      {
        "id": 11,
        "icon": "fa:envelope",
        "name": "n8n-nodes-base.emailSend",
        "codex": {
          "data": {
            "alias": [
              "SMTP",
              "email",
              "human",
              "form",
              "wait",
              "hitl",
              "approval"
            ],
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "‚òÄÔ∏è",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/",
                  "icon": "üë¶",
                  "label": "Build your own virtual assistant with n8n: A step by step guide"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.sendemail/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/sendemail/"
                }
              ]
            },
            "categories": [
              "Communication",
              "HITL",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "HITL": [
                "Human in the Loop"
              ]
            }
          }
        },
        "group": "[\"output\"]",
        "defaults": {
          "name": "Send Email",
          "color": "#00bb88"
        },
        "iconData": {
          "icon": "envelope",
          "type": "icon"
        },
        "displayName": "Send Email",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 6,
            "name": "Communication"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          },
          {
            "id": 28,
            "name": "HITL"
          }
        ]
      },
      {
        "id": 13,
        "icon": "fa:terminal",
        "name": "n8n-nodes-base.executeCommand",
        "codex": {
          "data": {
            "alias": [
              "Shell",
              "Command",
              "OS",
              "Bash"
            ],
            "details": "Execute command allows you to run terminal commands on the computer/server hosting your n8n instance. Useful for executing a shell script or interacting with your n8n instance programmatically via the CLI.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.executecommand/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Execute Command",
          "color": "#886644"
        },
        "iconData": {
          "icon": "terminal",
          "type": "icon"
        },
        "displayName": "Execute Command",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 20,
        "icon": "fa:map-signs",
        "name": "n8n-nodes-base.if",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The IF node can be used to implement binary conditional logic in your workflow. You can set up one-to-many conditions to evaluate each item of data being inputted into the node. That data will either evaluate to TRUE or FALSE and route out of the node accordingly.\n\nThis node has multiple types of conditions: Bool, String, Number, and Date & Time.",
            "resources": {
              "generic": [
                {
                  "url": "https://n8n.io/blog/learn-to-automate-your-factorys-incident-reporting-a-step-by-step-guide/",
                  "icon": "üè≠",
                  "label": "Learn to Automate Your Factory's Incident Reporting: A Step by Step Guide"
                },
                {
                  "url": "https://n8n.io/blog/2021-the-year-to-automate-the-new-you-with-n8n/",
                  "icon": "‚òÄÔ∏è",
                  "label": "2021: The Year to Automate the New You with n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-business-process-automation-with-n8n-can-change-your-daily-life/",
                  "icon": "üß¨",
                  "label": "Why business process automation with n8n can change your daily life"
                },
                {
                  "url": "https://n8n.io/blog/create-a-toxic-language-detector-for-telegram/",
                  "icon": "ü§¨",
                  "label": "Create a toxic language detector for Telegram in 4 step"
                },
                {
                  "url": "https://n8n.io/blog/no-code-ecommerce-workflow-automations/",
                  "icon": "store",
                  "label": "6 e-commerce workflows to power up your Shopify s"
                },
                {
                  "url": "https://n8n.io/blog/how-to-build-a-low-code-self-hosted-url-shortener/",
                  "icon": "üîó",
                  "label": "How to build a low-code, self-hosted URL shortener in 3 steps"
                },
                {
                  "url": "https://n8n.io/blog/automate-your-data-processing-pipeline-in-9-steps-with-n8n/",
                  "icon": "‚öôÔ∏è",
                  "label": "Automate your data processing pipeline in 9 steps"
                },
                {
                  "url": "https://n8n.io/blog/how-to-get-started-with-crm-automation-and-no-code-workflow-ideas/",
                  "icon": "üë•",
                  "label": "How to get started with CRM automation (with 3 no-code workflow ideas"
                },
                {
                  "url": "https://n8n.io/blog/5-tasks-you-can-automate-with-notion-api/",
                  "icon": "‚ö°Ô∏è",
                  "label": "5 tasks you can automate with the new Notion API "
                },
                {
                  "url": "https://n8n.io/blog/automate-google-apps-for-productivity/",
                  "icon": "üí°",
                  "label": "15 Google apps you can combine and automate to increase productivity"
                },
                {
                  "url": "https://n8n.io/blog/automation-for-maintainers-of-open-source-projects/",
                  "icon": "üè∑Ô∏è",
                  "label": "How to automatically manage contributions to open-source projects"
                },
                {
                  "url": "https://n8n.io/blog/how-uproc-scraped-a-multi-page-website-with-a-low-code-workflow/",
                  "icon": " üï∏Ô∏è",
                  "label": "How uProc scraped a multi-page website with a low-code workflow"
                },
                {
                  "url": "https://n8n.io/blog/5-workflow-automations-for-mattermost-that-we-love-at-n8n/",
                  "icon": "ü§ñ",
                  "label": "5 workflow automations for Mattermost that we love at n8n"
                },
                {
                  "url": "https://n8n.io/blog/why-this-product-manager-loves-workflow-automation-with-n8n/",
                  "icon": "üß†",
                  "label": "Why this Product Manager loves workflow automation with n8n"
                },
                {
                  "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/",
                  "icon": "üôå",
                  "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n "
                },
                {
                  "url": "https://n8n.io/blog/how-to-set-up-a-ci-cd-pipeline-with-no-code/",
                  "icon": "üé°",
                  "label": "How to set up a no-code CI/CD pipeline with GitHub and TravisCI"
                },
                {
                  "url": "https://n8n.io/blog/benefits-of-automation-and-n8n-an-interview-with-hubspots-hugh-durkin/",
                  "icon": "üéñ",
                  "label": "Benefits of automation and n8n: An interview with HubSpot's Hugh Durkin"
                },
                {
                  "url": "https://n8n.io/blog/aws-workflow-automation/",
                  "label": "7 no-code workflow automations for Amazon Web Services"
                }
              ],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.if/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "If",
          "color": "#408000"
        },
        "iconData": {
          "icon": "map-signs",
          "type": "icon"
        },
        "displayName": "If",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 350,
        "icon": "fa:server",
        "name": "n8n-nodes-base.ftp",
        "codex": {
          "data": {
            "alias": [
              "SFTP",
              "FTP",
              "Binary",
              "File",
              "Transfer"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.ftp/"
                }
              ],
              "credentialDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/credentials/ftp/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Data & Storage",
              "Development",
              "Utility"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Files",
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "FTP",
          "color": "#303050"
        },
        "iconData": {
          "icon": "server",
          "type": "icon"
        },
        "displayName": "FTP",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 3,
            "name": "Data & Storage"
          },
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 7,
            "name": "Utility"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 528,
        "icon": "fa:exclamation-triangle",
        "name": "n8n-nodes-base.stopAndError",
        "codex": {
          "data": {
            "alias": [
              "Throw error",
              "Error",
              "Exception"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.stopanderror/"
                }
              ]
            },
            "categories": [
              "Core Nodes",
              "Utility"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Stop and Error",
          "color": "#ff0000"
        },
        "iconData": {
          "icon": "exclamation-triangle",
          "type": "icon"
        },
        "displayName": "Stop and Error",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 7,
            "name": "Utility"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 565,
        "icon": "fa:sticky-note",
        "name": "n8n-nodes-base.stickyNote",
        "codex": {
          "data": {
            "alias": [
              "Comments",
              "Notes",
              "Sticky"
            ],
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Sticky Note",
          "color": "#FFD233"
        },
        "iconData": {
          "icon": "sticky-note",
          "type": "icon"
        },
        "displayName": "Sticky Note",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 834,
        "icon": "file:code.svg",
        "name": "n8n-nodes-base.code",
        "codex": {
          "data": {
            "alias": [
              "cpde",
              "Javascript",
              "JS",
              "Python",
              "Script",
              "Custom Code",
              "Function"
            ],
            "details": "The Code node allows you to execute JavaScript in your workflow.",
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.code/"
                }
              ]
            },
            "categories": [
              "Development",
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Helpers",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Code"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTcxXzQ0MSkiPgo8cGF0aCBkPSJNMTcwLjI4MyA0OEgxOTYuNUMyMDMuMTI3IDQ4IDIwOC41IDQyLjYyNzQgMjA4LjUgMzZWMTJDMjA4LjUgNS4zNzI1OCAyMDMuMTI3IDAgMTk2LjUgMEgxNzAuMjgzQzEyNi4xIDAgOTAuMjgzIDM1LjgxNzIgOTAuMjgzIDgwVjE3NkM5MC4yODMgMjA2LjkyOCA2NS4yMTA5IDIzMiAzNC4yODMgMjMySDIzQzE2LjM3MjYgMjMyIDExIDIzNy4zNzIgMTEgMjQ0VjI2OEMxMSAyNzQuNjI3IDE2LjM3MjQgMjgwIDIyLjk5OTYgMjgwTDM0LjI4MyAyODBDNjUuMjEwOSAyODAgOTAuMjgzIDMwNS4wNzIgOTAuMjgzIDMzNlY0NDBDOTAuMjgzIDQ3OS43NjQgMTIyLjUxOCA1MTIgMTYyLjI4MyA1MTJIMTk2LjVDMjAzLjEyNyA1MTIgMjA4LjUgNTA2LjYyNyAyMDguNSA1MDBWNDc2QzIwOC41IDQ2OS4zNzMgMjAzLjEyNyA0NjQgMTk2LjUgNDY0SDE2Mi4yODNDMTQ5LjAyOCA0NjQgMTM4LjI4MyA0NTMuMjU1IDEzOC4yODMgNDQwVjMzNkMxMzguMjgzIDMwOS4wMjIgMTI4LjAxMSAyODQuNDQzIDExMS4xNjQgMjY1Ljk2MUMxMDYuMTA5IDI2MC40MTYgMTA2LjEwOSAyNTEuNTg0IDExMS4xNjQgMjQ2LjAzOUMxMjguMDExIDIyNy41NTcgMTM4LjI4MyAyMDIuOTc4IDEzOC4yODMgMTc2VjgwQzEzOC4yODMgNjIuMzI2OSAxNTIuNjEgNDggMTcwLjI4MyA0OFoiIGZpbGw9IiNGRjk5MjIiLz4KPHBhdGggZD0iTTMwNSAzNkMzMDUgNDIuNjI3NCAzMTAuMzczIDQ4IDMxNyA0OEgzNDIuOTc5QzM2MC42NTIgNDggMzc0Ljk3OCA2Mi4zMjY5IDM3NC45NzggODBWMTc2QzM3NC45NzggMjAyLjk3OCAzODUuMjUxIDIyNy41NTcgNDAyLjA5OCAyNDYuMDM5QzQwNy4xNTMgMjUxLjU4NCA0MDcuMTUzIDI2MC40MTYgNDAyLjA5OCAyNjUuOTYxQzM4NS4yNTEgMjg0LjQ0MyAzNzQuOTc4IDMwOS4wMjIgMzc0Ljk3OCAzMzZWNDMyQzM3NC45NzggNDQ5LjY3MyAzNjAuNjUyIDQ2NCAzNDIuOTc5IDQ2NEgzMTdDMzEwLjM3MyA0NjQgMzA1IDQ2OS4zNzMgMzA1IDQ3NlY1MDBDMzA1IDUwNi42MjcgMzEwLjM3MyA1MTIgMzE3IDUxMkgzNDIuOTc5QzM4Ny4xNjEgNTEyIDQyMi45NzggNDc2LjE4MyA0MjIuOTc4IDQzMlYzMzZDNDIyLjk3OCAzMDUuMDcyIDQ0OC4wNTEgMjgwIDQ3OC45NzkgMjgwSDQ5MEM0OTYuNjI3IDI4MCA1MDIgMjc0LjYyOCA1MDIgMjY4VjI0NEM1MDIgMjM3LjM3MyA0OTYuNjI4IDIzMiA0OTAgMjMyTDQ3OC45NzkgMjMyQzQ0OC4wNTEgMjMyIDQyMi45NzggMjA2LjkyOCA0MjIuOTc4IDE3NlY4MEM0MjIuOTc4IDM1LjgxNzIgMzg3LjE2MSAwIDM0Mi45NzkgMEgzMTdDMzEwLjM3MyAwIDMwNSA1LjM3MjU4IDMwNSAxMlYzNloiIGZpbGw9IiNGRjk5MjIiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTcxXzQ0MSI+CjxyZWN0IHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="
        },
        "displayName": "Code",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 5,
            "name": "Development"
          },
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 838,
        "icon": "fa:mouse-pointer",
        "name": "n8n-nodes-base.manualTrigger",
        "codex": {
          "data": {
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.manualworkflowtrigger/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0"
          }
        },
        "group": "[\"trigger\"]",
        "defaults": {
          "name": "When clicking ‚ÄòExecute workflow‚Äô",
          "color": "#909298"
        },
        "iconData": {
          "icon": "mouse-pointer",
          "type": "icon"
        },
        "displayName": "Manual Trigger",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 844,
        "icon": "fa:filter",
        "name": "n8n-nodes-base.filter",
        "codex": {
          "data": {
            "alias": [
              "Router",
              "Filter",
              "Condition",
              "Logic",
              "Boolean",
              "Branch"
            ],
            "details": "The Filter node can be used to filter items based on a condition. If the condition is met, the item will be passed on to the next node. If the condition is not met, the item will be omitted. Conditions can be combined together by AND(meet all conditions), or OR(meet at least one condition).",
            "resources": {
              "generic": [],
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.filter/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Flow",
                "Data Transformation"
              ]
            }
          }
        },
        "group": "[\"transform\"]",
        "defaults": {
          "name": "Filter",
          "color": "#229eff"
        },
        "iconData": {
          "icon": "filter",
          "type": "icon"
        },
        "displayName": "Filter",
        "typeVersion": 2,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      },
      {
        "id": 1233,
        "icon": "file:readWriteFile.svg",
        "name": "n8n-nodes-base.readWriteFile",
        "codex": {
          "data": {
            "alias": [
              "Binary",
              "File",
              "Text",
              "Open",
              "Import",
              "Save",
              "Export",
              "Disk",
              "Transfer"
            ],
            "resources": {
              "primaryDocumentation": [
                {
                  "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.readwritefile/"
                }
              ]
            },
            "categories": [
              "Core Nodes"
            ],
            "nodeVersion": "1.0",
            "codexVersion": "1.0",
            "subcategories": {
              "Core Nodes": [
                "Files"
              ]
            }
          }
        },
        "group": "[\"input\"]",
        "defaults": {
          "name": "Read/Write Files from Disk"
        },
        "iconData": {
          "type": "file",
          "fileBuffer": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xMTQxXzE1NDcpIj4KPHBhdGggZD0iTTAgMTJDMCA1LjM3MjU4IDUuMzcyNTggMCAxMiAwSDE1OVYxNTRDMTU5IDE2MC42MjcgMTY0LjM3MyAxNjYgMTcxIDE2NkgzMjVWMjQySDIyOC41NjJDMjEwLjg5NSAyNDIgMTk0LjY1NiAyNTEuNzA1IDE4Ni4yODggMjY3LjI2NEwxMjkuMjAzIDM3My40MDdDMTI1LjEzMSAzODAuOTc4IDEyMyAzODkuNDQgMTIzIDM5OC4wMzdWNDM0SDEyQzUuMzcyNTcgNDM0IDAgNDI4LjYyNyAwIDQyMlYxMloiIGZpbGw9IiM0NEFBNDQiLz4KPHBhdGggZD0iTTMyNSAxMzRWMTI3LjQwMUMzMjUgMTI0LjIyMyAzMjMuNzQgMTIxLjE3NSAzMjEuNDk1IDExOC45MjVMMjA2LjM2OSAzLjUyNDgxQzIwNC4xMTggMS4yNjgyIDIwMS4wNjEgMCAxOTcuODczIDBIMTkxVjEzNEgzMjVaIiBmaWxsPSIjNDRBQTQ0Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjI4LjU2MyAyNzRDMjIyLjY3NCAyNzQgMjE3LjI2MSAyNzcuMjM1IDIxNC40NzIgMjgyLjQyMUwxNzIuMjExIDM2MUg0OTIuNjRMNDQ0LjY3IDI4MS43MTdDNDQxLjc3MiAyNzYuOTI3IDQzNi41OCAyNzQgNDMwLjk4MSAyNzRIMjI4LjU2M1oiIGZpbGw9IiM0NEFBNDQiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNTUgNDA5QzE1NSA0MDAuMTYzIDE2Mi4xNjMgMzkzIDE3MSAzOTNINDk2QzUwNC44MzcgMzkzIDUxMiA0MDAuMTYzIDUxMiA0MDlWNDk2QzUxMiA1MDQuODM3IDUwNC44MzcgNTEyIDQ5NiA1MTJIMTcxQzE2Mi4xNjMgNTEyIDE1NSA1MDQuODM3IDE1NSA0OTZWNDA5Wk0zOTcgNDUzQzM5NyA0NjYuMjU1IDM4Ni4yNTUgNDc3IDM3MyA0NzdDMzU5Ljc0NSA0NzcgMzQ5IDQ2Ni4yNTUgMzQ5IDQ1M0MzNDkgNDM5Ljc0NSAzNTkuNzQ1IDQyOSAzNzMgNDI5QzM4Ni4yNTUgNDI5IDM5NyA0MzkuNzQ1IDM5NyA0NTNaTTQ0NSA0NzdDNDU4LjI1NSA0NzcgNDY5IDQ2Ni4yNTUgNDY5IDQ1M0M0NjkgNDM5Ljc0NSA0NTguMjU1IDQyOSA0NDUgNDI5QzQzMS43NDUgNDI5IDQyMSA0MzkuNzQ1IDQyMSA0NTNDNDIxIDQ2Ni4yNTUgNDMxLjc0NSA0NzcgNDQ1IDQ3N1oiIGZpbGw9IiM0NEFBNDQiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMTQxXzE1NDciPgo8cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K"
        },
        "displayName": "Read/Write Files from Disk",
        "typeVersion": 1,
        "nodeCategories": [
          {
            "id": 9,
            "name": "Core Nodes"
          }
        ]
      }
    ],
    "categories": [
      {
        "id": 16,
        "name": "DevOps"
      }
    ],
    "image": []
  }
}